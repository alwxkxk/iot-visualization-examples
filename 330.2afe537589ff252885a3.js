/*! For license information please see 330.2afe537589ff252885a3.js.LICENSE.txt */
(self.webpackChunkiot_visualization_examples=self.webpackChunkiot_visualization_examples||[]).push([[330],{3185:(t,e,n)=>{"use strict";n.d(e,{S1:()=>Se});var i=n(6879),r=n(2343),o="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,a=n(655),s=n(2844),l=n(7321),c=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],u=function(){function t(e){void 0===e&&(e={}),this._options=e,this.name=t.id}return t.prototype.setupOnce=function(e,n){e((function(e){var i=n();if(i){var u=i.getIntegration(t);if(u){var h=i.getClient(),d=h?h.getOptions():{},f=function(t,e){return void 0===t&&(t={}),void 0===e&&(e={}),{allowUrls:(0,a.fl)(t.whitelistUrls||[],t.allowUrls||[],e.whitelistUrls||[],e.allowUrls||[]),denyUrls:(0,a.fl)(t.blacklistUrls||[],t.denyUrls||[],e.blacklistUrls||[],e.denyUrls||[]),ignoreErrors:(0,a.fl)(t.ignoreErrors||[],e.ignoreErrors||[],c),ignoreInternal:void 0===t.ignoreInternal||t.ignoreInternal}}(u._options,d);return function(t,e){return e.ignoreInternal&&function(t){try{return"SentryError"===t.exception.values[0].type}catch(t){}return!1}(t)?(o&&r.kg.warn("Event dropped due to being internal Sentry Error.\nEvent: "+(0,s.jH)(t)),!0):function(t,e){return!(!e||!e.length)&&function(t){if(t.message)return[t.message];if(t.exception)try{var e=t.exception.values&&t.exception.values[0]||{},n=e.type,i=void 0===n?"":n,a=e.value,l=void 0===a?"":a;return[""+l,i+": "+l]}catch(e){return o&&r.kg.error("Cannot extract message for event "+(0,s.jH)(t)),[]}return[]}(t).some((function(t){return e.some((function(e){return(0,l.zC)(t,e)}))}))}(t,e.ignoreErrors)?(o&&r.kg.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+(0,s.jH)(t)),!0):function(t,e){if(!e||!e.length)return!1;var n=p(t);return!!n&&e.some((function(t){return(0,l.zC)(n,t)}))}(t,e.denyUrls)?(o&&r.kg.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+(0,s.jH)(t)+".\nUrl: "+p(t)),!0):!function(t,e){if(!e||!e.length)return!0;var n=p(t);return!n||e.some((function(t){return(0,l.zC)(n,t)}))}(t,e.allowUrls)&&(o&&r.kg.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+(0,s.jH)(t)+".\nUrl: "+p(t)),!0)}(e,f)?null:e}}return e}))},t.id="InboundFilters",t}();function h(t){void 0===t&&(t=[]);for(var e=t.length-1;e>=0;e--){var n=t[e];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}function p(t){try{if(t.stacktrace)return h(t.stacktrace.frames);var e;try{e=t.exception.values[0].stacktrace.frames}catch(t){}return e?h(e):null}catch(e){return o&&r.kg.error("Cannot extract url for event "+(0,s.jH)(t)),null}}var d,f=n(535),m=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){d=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=(0,f.HK)(this)||this;return d.apply(n,t)}},t.id="FunctionToString",t}(),g=n(2991),v=n(9732),y="6.19.7",_=n(6769),x=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){return t.__proto__=e,t}:function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n]);return t}),b=function(t){function e(e){var n=this.constructor,i=t.call(this,e)||this;return i.message=e,i.name=n.prototype.constructor.name,x(i,n.prototype),i}return(0,a.ZT)(e,t),e}(Error),w=n(8795),S=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function M(t,e){void 0===e&&(e=!1);var n=t.host,i=t.path,r=t.pass,o=t.port,a=t.projectId;return t.protocol+"://"+t.publicKey+(e&&r?":"+r:"")+"@"+n+(o?":"+o:"")+"/"+(i?i+"/":i)+a}function T(t){return"user"in t&&!("publicKey"in t)&&(t.publicKey=t.user),{user:t.publicKey||"",protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function E(t){var e="string"==typeof t?function(t){var e=S.exec(t);if(!e)throw new b("Invalid Sentry Dsn: "+t);var n=(0,a.CR)(e.slice(1),6),i=n[0],r=n[1],o=n[2],s=void 0===o?"":o,l=n[3],c=n[4],u=void 0===c?"":c,h="",p=n[5],d=p.split("/");if(d.length>1&&(h=d.slice(0,-1).join("/"),p=d.pop()),p){var f=p.match(/^\d+/);f&&(p=f[0])}return T({host:l,pass:s,path:h,projectId:p,port:u,protocol:i,publicKey:r})}(t):T(t);return function(t){if(w.h){var e=t.port,n=t.projectId,i=t.protocol;if(["protocol","publicKey","host","projectId"].forEach((function(e){if(!t[e])throw new b("Invalid Sentry Dsn: "+e+" missing")})),!n.match(/^\d+$/))throw new b("Invalid Sentry Dsn: Invalid projectId "+n);if(!function(t){return"http"===t||"https"===t}(i))throw new b("Invalid Sentry Dsn: Invalid protocol "+i);if(e&&isNaN(parseInt(e,10)))throw new b("Invalid Sentry Dsn: Invalid port "+e)}}(e),e}var A=n(7597),C=n(6893),L=n(1170),I=n(360);function D(t,e,n){void 0===e&&(e=1/0),void 0===n&&(n=1/0);try{return R("",t,e,n)}catch(t){return{ERROR:"**non-serializable** ("+t+")"}}}function P(t,e,n){void 0===e&&(e=3),void 0===n&&(n=102400);var i,r=D(t,e);return i=r,function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(i))>n?P(t,e-1,n):r}function R(t,e,i,r,o){var s,l;void 0===i&&(i=1/0),void 0===r&&(r=1/0),void 0===o&&(s="function"==typeof WeakSet,l=s?new WeakSet:[],o=[function(t){if(s)return!!l.has(t)||(l.add(t),!1);for(var e=0;e<l.length;e++)if(l[e]===t)return!0;return l.push(t),!1},function(t){if(s)l.delete(t);else for(var e=0;e<l.length;e++)if(l[e]===t){l.splice(e,1);break}}]);var c=(0,a.CR)(o,2),u=c[0],h=c[1],p=e;if(p&&"function"==typeof p.toJSON)try{return p.toJSON()}catch(t){}if(null===e||["number","boolean","string"].includes(typeof e)&&!(0,A.i2)(e))return e;var d=function(t,e){try{return"domain"===t&&e&&"object"==typeof e&&e._events?"[Domain]":"domainEmitter"===t?"[DomainEmitter]":void 0!==n.g&&e===n.g?"[Global]":"undefined"!=typeof window&&e===window?"[Window]":"undefined"!=typeof document&&e===document?"[Document]":(0,A.Cy)(e)?"[SyntheticEvent]":"number"==typeof e&&e!=e?"[NaN]":void 0===e?"[undefined]":"function"==typeof e?"[Function: "+(0,I.$P)(e)+"]":"symbol"==typeof e?"["+String(e)+"]":"bigint"==typeof e?"[BigInt: "+String(e)+"]":"[object "+Object.getPrototypeOf(e).constructor.name+"]"}catch(t){return"**non-serializable** ("+t+")"}}(t,e);if(!d.startsWith("[object "))return d;if(0===i)return d.replace("object ","");if(u(e))return"[Circular ~]";var m=Array.isArray(e)?[]:{},g=0,v=(0,A.VZ)(e)||(0,A.cO)(e)?(0,f.Sh)(e):e;for(var y in v)if(Object.prototype.hasOwnProperty.call(v,y)){if(g>=r){m[y]="[MaxProperties ~]";break}var _=v[y];m[y]=R(y,_,i-1,r,o),g+=1}return h(e),m}var O=[];function k(t){return t.reduce((function(t,e){return t.every((function(t){return e.name!==t.name}))&&t.push(e),t}),[])}var N="Not capturing exception because it's already been captured.",z=function(){function t(t,e){this._integrations={},this._numProcessing=0,this._backend=new t(e),this._options=e,e.dsn&&(this._dsn=E(e.dsn))}return t.prototype.captureException=function(t,e,n){var i=this;if(!(0,s.YO)(t)){var a=e&&e.event_id;return this._process(this._getBackend().eventFromException(t,e).then((function(t){return i._captureEvent(t,e,n)})).then((function(t){a=t}))),a}o&&r.kg.log(N)},t.prototype.captureMessage=function(t,e,n,i){var r=this,o=n&&n.event_id,a=(0,A.pt)(t)?this._getBackend().eventFromMessage(String(t),e,n):this._getBackend().eventFromException(t,n);return this._process(a.then((function(t){return r._captureEvent(t,n,i)})).then((function(t){o=t}))),o},t.prototype.captureEvent=function(t,e,n){if(!(e&&e.originalException&&(0,s.YO)(e.originalException))){var i=e&&e.event_id;return this._process(this._captureEvent(t,e,n).then((function(t){i=t}))),i}o&&r.kg.log(N)},t.prototype.captureSession=function(t){this._isEnabled()?"string"!=typeof t.release?o&&r.kg.warn("Discarded session because of missing or non-string release"):(this._sendSession(t),t.update({init:!1})):o&&r.kg.warn("SDK not enabled, will not capture session.")},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.getTransport=function(){return this._getBackend().getTransport()},t.prototype.flush=function(t){var e=this;return this._isClientDoneProcessing(t).then((function(n){return e.getTransport().close(t).then((function(t){return n&&t}))}))},t.prototype.close=function(t){var e=this;return this.flush(t).then((function(t){return e.getOptions().enabled=!1,t}))},t.prototype.setupIntegrations=function(){var t,e;this._isEnabled()&&!this._integrations.initialized&&(this._integrations=(t=this._options,e={},function(t){var e=t.defaultIntegrations&&(0,a.fl)(t.defaultIntegrations)||[],n=t.integrations,i=(0,a.fl)(k(e));Array.isArray(n)?i=(0,a.fl)(i.filter((function(t){return n.every((function(e){return e.name!==t.name}))})),k(n)):"function"==typeof n&&(i=n(i),i=Array.isArray(i)?i:[i]);var r=i.map((function(t){return t.name})),o="Debug";return-1!==r.indexOf(o)&&i.push.apply(i,(0,a.fl)(i.splice(r.indexOf(o),1))),i}(t).forEach((function(t){e[t.name]=t,function(t){-1===O.indexOf(t.name)&&(t.setupOnce(_.c,i.Gd),O.push(t.name),o&&r.kg.log("Integration installed: "+t.name))}(t)})),(0,f.xp)(e,"initialized",!0),e))},t.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(e){return o&&r.kg.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},t.prototype._updateSessionFromEvent=function(t,e){var n,i,r=!1,o=!1,s=e.exception&&e.exception.values;if(s){o=!0;try{for(var l=(0,a.XA)(s),c=l.next();!c.done;c=l.next()){var u=c.value.mechanism;if(u&&!1===u.handled){r=!0;break}}}catch(t){n={error:t}}finally{try{c&&!c.done&&(i=l.return)&&i.call(l)}finally{if(n)throw n.error}}}var h="ok"===t.status;(h&&0===t.errors||h&&r)&&(t.update((0,a.pi)((0,a.pi)({},r&&{status:"crashed"}),{errors:t.errors||Number(o||r)})),this.captureSession(t))},t.prototype._sendSession=function(t){this._getBackend().sendSession(t)},t.prototype._isClientDoneProcessing=function(t){var e=this;return new C.cW((function(n){var i=0,r=setInterval((function(){0==e._numProcessing?(clearInterval(r),n(!0)):(i+=1,t&&i>=t&&(clearInterval(r),n(!1)))}),1)}))},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},t.prototype._prepareEvent=function(t,e,n){var i=this,r=this.getOptions(),o=r.normalizeDepth,l=void 0===o?3:o,c=r.normalizeMaxBreadth,u=void 0===c?1e3:c,h=(0,a.pi)((0,a.pi)({},t),{event_id:t.event_id||(n&&n.event_id?n.event_id:(0,s.DM)()),timestamp:t.timestamp||(0,L.yW)()});this._applyClientOptions(h),this._applyIntegrationsMetadata(h);var p=e;n&&n.captureContext&&(p=_.s.clone(p).update(n.captureContext));var d=(0,C.WD)(h);return p&&(d=p.applyToEvent(h,n)),d.then((function(t){return t&&(t.sdkProcessingMetadata=(0,a.pi)((0,a.pi)({},t.sdkProcessingMetadata),{normalizeDepth:D(l)+" ("+typeof l+")"})),"number"==typeof l&&l>0?i._normalizeEvent(t,l,u):t}))},t.prototype._normalizeEvent=function(t,e,n){if(!t)return null;var i=(0,a.pi)((0,a.pi)((0,a.pi)((0,a.pi)((0,a.pi)({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((function(t){return(0,a.pi)((0,a.pi)({},t),t.data&&{data:D(t.data,e,n)})}))}),t.user&&{user:D(t.user,e,n)}),t.contexts&&{contexts:D(t.contexts,e,n)}),t.extra&&{extra:D(t.extra,e,n)});return t.contexts&&t.contexts.trace&&(i.contexts.trace=t.contexts.trace),i.sdkProcessingMetadata=(0,a.pi)((0,a.pi)({},i.sdkProcessingMetadata),{baseClientNormalized:!0}),i},t.prototype._applyClientOptions=function(t){var e=this.getOptions(),n=e.environment,i=e.release,r=e.dist,o=e.maxValueLength,a=void 0===o?250:o;"environment"in t||(t.environment="environment"in e?n:"production"),void 0===t.release&&void 0!==i&&(t.release=i),void 0===t.dist&&void 0!==r&&(t.dist=r),t.message&&(t.message=(0,l.$G)(t.message,a));var s=t.exception&&t.exception.values&&t.exception.values[0];s&&s.value&&(s.value=(0,l.$G)(s.value,a));var c=t.request;c&&c.url&&(c.url=(0,l.$G)(c.url,a))},t.prototype._applyIntegrationsMetadata=function(t){var e=Object.keys(this._integrations);e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=(0,a.fl)(t.sdk.integrations||[],e))},t.prototype._sendEvent=function(t){this._getBackend().sendEvent(t)},t.prototype._captureEvent=function(t,e,n){return this._processEvent(t,e,n).then((function(t){return t.event_id}),(function(t){o&&r.kg.error(t)}))},t.prototype._processEvent=function(t,e,n){var i=this,r=this.getOptions(),o=r.beforeSend,a=r.sampleRate,s=this.getTransport();function l(t,e){s.recordLostEvent&&s.recordLostEvent(t,e)}if(!this._isEnabled())return(0,C.$2)(new b("SDK not enabled, will not capture event."));var c="transaction"===t.type;return!c&&"number"==typeof a&&Math.random()>a?(l("sample_rate","event"),(0,C.$2)(new b("Discarding event because it's not included in the random sample (sampling rate = "+a+")"))):this._prepareEvent(t,n,e).then((function(n){if(null===n)throw l("event_processor",t.type||"event"),new b("An event processor returned null, will not send event.");return e&&e.data&&!0===e.data.__sentry__||c||!o?n:function(t){var e="`beforeSend` method has to return `null` or a valid event.";if((0,A.J8)(t))return t.then((function(t){if(!(0,A.PO)(t)&&null!==t)throw new b(e);return t}),(function(t){throw new b("beforeSend rejected with "+t)}));if(!(0,A.PO)(t)&&null!==t)throw new b(e);return t}(o(n,e))})).then((function(e){if(null===e)throw l("before_send",t.type||"event"),new b("`beforeSend` returned `null`, will not send event.");var r=n&&n.getSession&&n.getSession();return!c&&r&&i._updateSessionFromEvent(r,e),i._sendEvent(e),e})).then(null,(function(t){if(t instanceof b)throw t;throw i.captureException(t,{data:{__sentry__:!0},originalException:t}),new b("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+t)}))},t.prototype._process=function(t){var e=this;this._numProcessing+=1,t.then((function(t){return e._numProcessing-=1,t}),(function(t){return e._numProcessing-=1,t}))},t}();function B(t,e,n){return{initDsn:t,metadata:e||{},dsn:E(t),tunnel:n}}function F(t){var e=t.protocol?t.protocol+":":"",n=t.port?":"+t.port:"";return e+"//"+t.host+n+(t.path?"/"+t.path:"")+"/api/"}function U(t,e){return""+F(t)+t.projectId+"/"+e+"/"}function H(t){return(0,f._j)({sentry_key:t.publicKey,sentry_version:"7"})}function V(t){return U(t,"store")}function G(t){return V(t)+"?"+H(t)}function j(t,e){return e||function(t){return U(t,"envelope")}(t)+"?"+H(t)}function W(t,e){return void 0===e&&(e=[]),[t,e]}function Z(t){var e=(0,a.CR)(t,2),n=e[0],i=e[1],r=JSON.stringify(n);return i.reduce((function(t,e){var n=(0,a.CR)(e,2),i=n[0],r=n[1],o=(0,A.pt)(r)?String(r):JSON.stringify(r);return t+"\n"+JSON.stringify(i)+"\n"+o}),r)}function q(t){if(t.metadata&&t.metadata.sdk){var e=t.metadata.sdk;return{name:e.name,version:e.version}}}function X(t,e){return e?(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=(0,a.fl)(t.sdk.integrations||[],e.integrations||[]),t.sdk.packages=(0,a.fl)(t.sdk.packages||[],e.packages||[]),t):t}function Y(t,e){var n=q(e),i="aggregates"in t?"sessions":"session";return[W((0,a.pi)((0,a.pi)({sent_at:(new Date).toISOString()},n&&{sdk:n}),!!e.tunnel&&{dsn:M(e.dsn)}),[[{type:i},t]]),i]}!function(){function t(t,e,n){void 0===e&&(e={}),this.dsn=t,this._dsnObject=E(t),this.metadata=e,this._tunnel=n}t.prototype.getDsn=function(){return this._dsnObject},t.prototype.forceEnvelope=function(){return!!this._tunnel},t.prototype.getBaseApiEndpoint=function(){return F(this._dsnObject)},t.prototype.getStoreEndpoint=function(){return V(this._dsnObject)},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return G(this._dsnObject)},t.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return j(this._dsnObject,this._tunnel)}}();var J,K=function(){function t(){}return t.prototype.sendEvent=function(t){return(0,C.WD)({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:"skipped"})},t.prototype.close=function(t){return(0,C.WD)(!0)},t}(),$=function(){function t(t){this._options=t,this._options.dsn||o&&r.kg.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return t.prototype.eventFromException=function(t,e){throw new b("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(t,e,n){throw new b("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(t){if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var e=function(t,e){var n=q(e),i=t.type||"event",r=(t.sdkProcessingMetadata||{}).transactionSampling||{},o=r.method,s=r.rate;return X(t,e.metadata.sdk),t.tags=t.tags||{},t.extra=t.extra||{},t.sdkProcessingMetadata&&t.sdkProcessingMetadata.baseClientNormalized||(t.tags.skippedNormalization=!0,t.extra.normalizeDepth=t.sdkProcessingMetadata?t.sdkProcessingMetadata.normalizeDepth:"unset"),delete t.sdkProcessingMetadata,W((0,a.pi)((0,a.pi)({event_id:t.event_id,sent_at:(new Date).toISOString()},n&&{sdk:n}),!!e.tunnel&&{dsn:M(e.dsn)}),[[{type:i,sample_rates:[{id:o,rate:s}]},t]])}(t,B(this._options.dsn,this._options._metadata,this._options.tunnel));this._newTransport.send(e).then(null,(function(t){o&&r.kg.error("Error while sending event:",t)}))}else this._transport.sendEvent(t).then(null,(function(t){o&&r.kg.error("Error while sending event:",t)}))},t.prototype.sendSession=function(t){if(this._transport.sendSession)if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var e=B(this._options.dsn,this._options._metadata,this._options.tunnel),n=(0,a.CR)(Y(t,e),1)[0];this._newTransport.send(n).then(null,(function(t){o&&r.kg.error("Error while sending session:",t)}))}else this._transport.sendSession(t).then(null,(function(t){o&&r.kg.error("Error while sending session:",t)}));else o&&r.kg.warn("Dropping session because custom transport doesn't implement sendSession")},t.prototype.getTransport=function(){return this._transport},t.prototype._setupTransport=function(){return new K},t}();!function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"}(J||(J={}));var Q=n(8823),tt="?";function et(t,e,n,i){var r={filename:t,function:e,in_app:!0};return void 0!==n&&(r.lineno=n),void 0!==i&&(r.colno=i),r}var nt=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,it=/\((\S*)(?::(\d+))(?::(\d+))\)/,rt=[30,function(t){var e=nt.exec(t);if(e){if(e[2]&&0===e[2].indexOf("eval")){var n=it.exec(e[2]);n&&(e[2]=n[1],e[3]=n[2],e[4]=n[3])}var i=(0,a.CR)(ft(e[1]||tt,e[2]),2),r=i[0];return et(i[1],r,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}}],ot=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,at=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,st=[50,function(t){var e,n=ot.exec(t);if(n){if(n[3]&&n[3].indexOf(" > eval")>-1){var i=at.exec(n[3]);i&&(n[1]=n[1]||"eval",n[3]=i[1],n[4]=i[2],n[5]="")}var r=n[3],o=n[1]||tt;return o=(e=(0,a.CR)(ft(o,r),2))[0],et(r=e[1],o,n[4]?+n[4]:void 0,n[5]?+n[5]:void 0)}}],lt=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,ct=[40,function(t){var e=lt.exec(t);return e?et(e[2],e[1]||tt,+e[3],e[4]?+e[4]:void 0):void 0}],ut=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,ht=[10,function(t){var e=ut.exec(t);return e?et(e[2],e[3]||tt,+e[1]):void 0}],pt=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,dt=[20,function(t){var e=pt.exec(t);return e?et(e[5],e[3]||e[4]||tt,+e[1],+e[2]):void 0}],ft=function(t,e){var n=-1!==t.indexOf("safari-extension"),i=-1!==t.indexOf("safari-web-extension");return n||i?[-1!==t.indexOf("@")?t.split("@")[0]:tt,n?"safari-extension:"+e:"safari-web-extension:"+e]:[t,e]};function mt(t){var e=vt(t),n={type:t&&t.name,value:_t(t)};return e.length&&(n.stacktrace={frames:e}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function gt(t){return{exception:{values:[mt(t)]}}}function vt(t){var e=t.stacktrace||t.stack||"",n=function(t){if(t){if("number"==typeof t.framesToPop)return t.framesToPop;if(yt.test(t.message))return 1}return 0}(t);try{return(0,I.pE)(ht,dt,rt,ct,st)(e,n)}catch(t){}return[]}var yt=/Minified React error #\d+;/i;function _t(t){var e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}function xt(t,e,n,i){var r;if((0,A.VW)(t)&&t.error)return gt(t.error);if((0,A.TX)(t)||(0,A.fm)(t)){var o=t;if("stack"in t)r=gt(t);else{var l=o.name||((0,A.TX)(o)?"DOMError":"DOMException"),c=o.message?l+": "+o.message:l;r=bt(c,e,n),(0,s.Db)(r,c)}return"code"in o&&(r.tags=(0,a.pi)((0,a.pi)({},r.tags),{"DOMException.code":""+o.code})),r}return(0,A.VZ)(t)?gt(t):(0,A.PO)(t)||(0,A.cO)(t)?(r=function(t,e,n){var i={exception:{values:[{type:(0,A.cO)(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+(0,f.zf)(t)}]},extra:{__serialized__:P(t)}};if(e){var r=vt(e);r.length&&(i.stacktrace={frames:r})}return i}(t,e,i),(0,s.EG)(r,{synthetic:!0}),r):(r=bt(t,e,n),(0,s.Db)(r,""+t,void 0),(0,s.EG)(r,{synthetic:!0}),r)}function bt(t,e,n){var i={message:t};if(n&&e){var r=vt(e);r.length&&(i.stacktrace={frames:r})}return i}function wt(t){var e=[];function n(t){return e.splice(e.indexOf(t),1)[0]}return{$:e,add:function(i){if(!(void 0===t||e.length<t))return(0,C.$2)(new b("Not adding Promise due to buffer limit reached."));var r=i();return-1===e.indexOf(r)&&e.push(r),r.then((function(){return n(r)})).then(null,(function(){return n(r).then(null,(function(){}))})),r},drain:function(t){return new C.cW((function(n,i){var r=e.length;if(!r)return n(!0);var o=setTimeout((function(){t&&t>0&&n(!1)}),t);e.forEach((function(t){(0,C.WD)(t).then((function(){--r||(clearTimeout(o),n(!0))}),i)}))}))}}}function St(t,e){return t[e]||t.all||0}function Mt(t,e,n){return void 0===n&&(n=Date.now()),St(t,e)>n}function Tt(t,e,n){var i,r,o,s;void 0===n&&(n=Date.now());var l=(0,a.pi)({},t),c=e["x-sentry-rate-limits"],u=e["retry-after"];if(c)try{for(var h=(0,a.XA)(c.trim().split(",")),p=h.next();!p.done;p=h.next()){var d=p.value.split(":",2),f=parseInt(d[0],10),m=1e3*(isNaN(f)?60:f);if(d[1])try{for(var g=(o=void 0,(0,a.XA)(d[1].split(";"))),v=g.next();!v.done;v=g.next())l[v.value]=n+m}catch(t){o={error:t}}finally{try{v&&!v.done&&(s=g.return)&&s.call(g)}finally{if(o)throw o.error}}else l.all=n+m}}catch(t){i={error:t}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(i)throw i.error}}else u&&(l.all=n+function(t,e){void 0===e&&(e=Date.now());var n=parseInt(""+t,10);if(!isNaN(n))return 1e3*n;var i=Date.parse(""+t);return isNaN(i)?6e4:i-e}(u,n));return l}function Et(t){return t>=200&&t<300?"success":429===t?"rate_limit":t>=400&&t<500?"invalid":t>=500?"failed":"unknown"}function At(t,e,n){void 0===n&&(n=wt(t.bufferSize||30));var i={};return{send:function(t){var r=function(t){var e=(0,a.CR)(t,2),n=(0,a.CR)(e[1],1);return(0,a.CR)(n[0],1)[0].type}(t),o="event"===r?"error":r,s={category:o,body:Z(t)};return Mt(i,o)?(0,C.$2)({status:"rate_limit",reason:Ct(i,o)}):n.add((function(){return e(s).then((function(t){var e=t.body,n=t.headers,r=t.reason,a=Et(t.statusCode);return n&&(i=Tt(i,n)),"success"===a?(0,C.WD)({status:a,reason:r}):(0,C.$2)({status:a,reason:r||e||("rate_limit"===a?Ct(i,o):"Unknown transport error")})}))}))},flush:function(t){return n.drain(t)}}}function Ct(t,e){return"Too many "+e+" requests, backing off until: "+new Date(St(t,e)).toISOString()}var Lt,It="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,Dt=(0,g.R)();function Pt(){if(Lt)return Lt;if((0,Q.Du)(Dt.fetch))return Lt=Dt.fetch.bind(Dt);var t=Dt.document,e=Dt.fetch;if(t&&"function"==typeof t.createElement)try{var n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n);var i=n.contentWindow;i&&i.fetch&&(e=i.fetch),t.head.removeChild(n)}catch(t){It&&r.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return Lt=e.bind(Dt)}function Rt(t){return"event"===t?"error":t}var Ot=(0,g.R)(),kt=function(){function t(t){var e=this;this.options=t,this._buffer=wt(30),this._rateLimits={},this._outcomes={},this._api=B(t.dsn,t._metadata,t.tunnel),this.url=G(this._api.dsn),this.options.sendClientReports&&Ot.document&&Ot.document.addEventListener("visibilitychange",(function(){"hidden"===Ot.document.visibilityState&&e._flushOutcomes()}))}return t.prototype.sendEvent=function(t){return this._sendRequest(function(t,e){var n,i=q(e),r=t.type||"event",o="transaction"===r||!!e.tunnel,s=(t.sdkProcessingMetadata||{}).transactionSampling||{},l=s.method,c=s.rate;X(t,e.metadata.sdk),t.tags=t.tags||{},t.extra=t.extra||{},t.sdkProcessingMetadata&&t.sdkProcessingMetadata.baseClientNormalized||(t.tags.skippedNormalization=!0,t.extra.normalizeDepth=t.sdkProcessingMetadata?t.sdkProcessingMetadata.normalizeDepth:"unset"),delete t.sdkProcessingMetadata;try{n=JSON.stringify(t)}catch(e){t.tags.JSONStringifyError=!0,t.extra.JSONStringifyError=e;try{n=JSON.stringify(D(t))}catch(t){var u=t;n=JSON.stringify({message:"JSON.stringify error after renormalization",extra:{message:u.message,stack:u.stack}})}}var h={body:n,type:r,url:o?j(e.dsn,e.tunnel):G(e.dsn)};if(o){var p=W((0,a.pi)((0,a.pi)({event_id:t.event_id,sent_at:(new Date).toISOString()},i&&{sdk:i}),!!e.tunnel&&{dsn:M(e.dsn)}),[[{type:r,sample_rates:[{id:l,rate:c}]},h.body]]);h.body=Z(p)}return h}(t,this._api),t)},t.prototype.sendSession=function(t){return this._sendRequest(function(t,e){var n=(0,a.CR)(Y(t,e),2),i=n[0],r=n[1];return{body:Z(i),type:r,url:j(e.dsn,e.tunnel)}}(t,this._api),t)},t.prototype.close=function(t){return this._buffer.drain(t)},t.prototype.recordLostEvent=function(t,e){var n;if(this.options.sendClientReports){var i=Rt(e)+":"+t;It&&r.kg.log("Adding outcome: "+i),this._outcomes[i]=(null!=(n=this._outcomes[i])?n:0)+1}},t.prototype._flushOutcomes=function(){if(this.options.sendClientReports){var t=this._outcomes;if(this._outcomes={},Object.keys(t).length){It&&r.kg.log("Flushing outcomes:\n"+JSON.stringify(t,null,2));var e,n,i=j(this._api.dsn,this._api.tunnel),o=(e=Object.keys(t).map((function(e){var n=(0,a.CR)(e.split(":"),2),i=n[0];return{reason:n[1],category:i,quantity:t[e]}})),W((n=this._api.tunnel&&M(this._api.dsn))?{dsn:n}:{},[[{type:"client_report"},{timestamp:(0,L.yW)(),discarded_events:e}]]));try{!function(t,e){if("[object Navigator]"===Object.prototype.toString.call(Dt&&Dt.navigator)&&"function"==typeof Dt.navigator.sendBeacon)return Dt.navigator.sendBeacon.bind(Dt.navigator)(t,e);(0,Q.Ak)()&&Pt()(t,{body:e,method:"POST",credentials:"omit",keepalive:!0}).then(null,(function(t){console.error(t)}))}(i,Z(o))}catch(t){It&&r.kg.error(t)}}else It&&r.kg.log("No outcomes to flush")}},t.prototype._handleResponse=function(t){var e=t.requestType,n=t.response,i=t.headers,o=t.resolve,a=t.reject,s=Et(n.status);this._rateLimits=Tt(this._rateLimits,i),this._isRateLimited(e)&&It&&r.kg.warn("Too many "+e+" requests, backing off until: "+this._disabledUntil(e)),"success"!==s?a(n):o({status:s})},t.prototype._disabledUntil=function(t){var e=Rt(t);return new Date(St(this._rateLimits,e))},t.prototype._isRateLimited=function(t){var e=Rt(t);return Mt(this._rateLimits,e)},t}(),Nt=function(t){function e(e,n){void 0===n&&(n=Pt());var i=t.call(this,e)||this;return i._fetch=n,i}return(0,a.ZT)(e,t),e.prototype._sendRequest=function(t,e){var n=this;if(this._isRateLimited(t.type))return this.recordLostEvent("ratelimit_backoff",t.type),Promise.reject({event:e,type:t.type,reason:"Transport for "+t.type+" requests locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429});var i={body:t.body,method:"POST",referrerPolicy:(0,Q.hv)()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(i,this.options.fetchParameters),void 0!==this.options.headers&&(i.headers=this.options.headers),this._buffer.add((function(){return new C.cW((function(e,r){n._fetch(t.url,i).then((function(i){var o={"x-sentry-rate-limits":i.headers.get("X-Sentry-Rate-Limits"),"retry-after":i.headers.get("Retry-After")};n._handleResponse({requestType:t.type,response:i,headers:o,resolve:e,reject:r})})).catch(r)}))})).then(void 0,(function(e){throw e instanceof b?n.recordLostEvent("queue_overflow",t.type):n.recordLostEvent("network_error",t.type),e}))},e}(kt),zt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,a.ZT)(e,t),e.prototype._sendRequest=function(t,e){var n=this;return this._isRateLimited(t.type)?(this.recordLostEvent("ratelimit_backoff",t.type),Promise.reject({event:e,type:t.type,reason:"Transport for "+t.type+" requests locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429})):this._buffer.add((function(){return new C.cW((function(e,i){var r=new XMLHttpRequest;for(var o in r.onreadystatechange=function(){if(4===r.readyState){var o={"x-sentry-rate-limits":r.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":r.getResponseHeader("Retry-After")};n._handleResponse({requestType:t.type,response:r,headers:o,resolve:e,reject:i})}},r.open("POST",t.url),n.options.headers)Object.prototype.hasOwnProperty.call(n.options.headers,o)&&r.setRequestHeader(o,n.options.headers[o]);r.send(t.body)}))})).then(void 0,(function(e){throw e instanceof b?n.recordLostEvent("queue_overflow",t.type):n.recordLostEvent("network_error",t.type),e}))},e}(kt),Bt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,a.ZT)(e,t),e.prototype.eventFromException=function(t,e){return function(t,e,n){var i=xt(t,e&&e.syntheticException||void 0,n);return(0,s.EG)(i),i.level=J.Error,e&&e.event_id&&(i.event_id=e.event_id),(0,C.WD)(i)}(t,e,this._options.attachStacktrace)},e.prototype.eventFromMessage=function(t,e,n){return void 0===e&&(e=J.Info),function(t,e,n,i){void 0===e&&(e=J.Info);var r=bt(t,n&&n.syntheticException||void 0,i);return r.level=e,n&&n.event_id&&(r.event_id=n.event_id),(0,C.WD)(r)}(t,e,n,this._options.attachStacktrace)},e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var e,n,i=(0,a.pi)((0,a.pi)({},this._options.transportOptions),{dsn:this._options.dsn,tunnel:this._options.tunnel,sendClientReports:this._options.sendClientReports,_metadata:this._options._metadata}),r=B(i.dsn,i._metadata,i.tunnel),o=j(r.dsn,r.tunnel);if(this._options.transport)return new this._options.transport(i);if((0,Q.Ak)()){var s=(0,a.pi)({},i.fetchParameters);return this._newTransport=(e={requestOptions:s,url:o},void 0===n&&(n=Pt()),At({bufferSize:e.bufferSize},(function(t){var i=(0,a.pi)({body:t.body,method:"POST",referrerPolicy:"origin"},e.requestOptions);return n(e.url,i).then((function(t){return t.text().then((function(e){return{body:e,headers:{"x-sentry-rate-limits":t.headers.get("X-Sentry-Rate-Limits"),"retry-after":t.headers.get("Retry-After")},reason:t.statusText,statusCode:t.status}}))}))}))),new Nt(i)}return this._newTransport=function(t){return At({bufferSize:t.bufferSize},(function(e){return new C.cW((function(n,i){var r=new XMLHttpRequest;for(var o in r.onreadystatechange=function(){if(4===r.readyState){var t={body:r.response,headers:{"x-sentry-rate-limits":r.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":r.getResponseHeader("Retry-After")},reason:r.statusText,statusCode:r.status};n(t)}},r.open("POST",t.url),t.headers)Object.prototype.hasOwnProperty.call(t.headers,o)&&r.setRequestHeader(o,t.headers[o]);r.send(e.body)}))}))}({url:o,headers:i.headers}),new zt(i)},e}($);function Ft(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=(0,i.Gd)();if(r&&r[t])return r[t].apply(r,(0,a.fl)(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function Ut(t,e){return Ft("captureException",t,{captureContext:e,originalException:t,syntheticException:new Error("Sentry syntheticException")})}function Ht(t){Ft("withScope",t)}var Vt=(0,g.R)(),Gt=0;function jt(){return Gt>0}function Wt(){Gt+=1,setTimeout((function(){Gt-=1}))}function Zt(t,e,n){if(void 0===e&&(e={}),"function"!=typeof t)return t;try{var i=t.__sentry_wrapped__;if(i)return i;if((0,f.HK)(t))return t}catch(e){return t}var r=function(){var i=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var r=i.map((function(t){return Zt(t,e)}));return t.apply(this,r)}catch(t){throw Wt(),Ht((function(n){n.addEventProcessor((function(t){return e.mechanism&&((0,s.Db)(t,void 0,void 0),(0,s.EG)(t,e.mechanism)),t.extra=(0,a.pi)((0,a.pi)({},t.extra),{arguments:i}),t})),Ut(t)})),t}};try{for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}catch(t){}(0,f.$Q)(r,t),(0,f.xp)(t,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:function(){return t.name}})}catch(t){}return r}var qt=n(8464),Xt=["fatal","error","warning","log","info","debug","critical"];var Yt=function(){function t(e){this.name=t.id,this._options=(0,a.pi)({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}return t.prototype.addSentryBreadcrumb=function(t){this._options.sentry&&(0,i.Gd)().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:(0,s.jH)(t)},{event:t})},t.prototype.setupOnce=function(){var t;this._options.console&&(0,v.o)("console",Jt),this._options.dom&&(0,v.o)("dom",(t=this._options.dom,function(e){var n,r="object"==typeof t?t.serializeAttribute:void 0;"string"==typeof r&&(r=[r]);try{n=e.event.target?(0,qt.R)(e.event.target,r):(0,qt.R)(e.event,r)}catch(t){n="<unknown>"}0!==n.length&&(0,i.Gd)().addBreadcrumb({category:"ui."+e.name,message:n},{event:e.event,name:e.name,global:e.global})})),this._options.xhr&&(0,v.o)("xhr",Kt),this._options.fetch&&(0,v.o)("fetch",$t),this._options.history&&(0,v.o)("history",Qt)},t.id="Breadcrumbs",t}();function Jt(t){var e,n={category:"console",data:{arguments:t.args,logger:"console"},level:(e=t.level,"warn"===e?J.Warning:function(t){return-1!==Xt.indexOf(t)}(e)?e:J.Log),message:(0,l.nK)(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;n.message="Assertion failed: "+((0,l.nK)(t.args.slice(1)," ")||"console.assert"),n.data.arguments=t.args.slice(1)}(0,i.Gd)().addBreadcrumb(n,{input:t.args,level:t.level})}function Kt(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;var e=t.xhr.__sentry_xhr__||{},n=e.method,r=e.url,o=e.status_code,a=e.body;(0,i.Gd)().addBreadcrumb({category:"xhr",data:{method:n,url:r,status_code:o},type:"http"},{xhr:t.xhr,input:a})}}function $t(t){t.endTimestamp&&(t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method||(t.error?(0,i.Gd)().addBreadcrumb({category:"fetch",data:t.fetchData,level:J.Error,type:"http"},{data:t.error,input:t.args}):(0,i.Gd)().addBreadcrumb({category:"fetch",data:(0,a.pi)((0,a.pi)({},t.fetchData),{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response})))}function Qt(t){var e=(0,g.R)(),n=t.from,r=t.to,o=(0,s.en)(e.location.href),a=(0,s.en)(n),l=(0,s.en)(r);a.path||(a=o),o.protocol===l.protocol&&o.host===l.host&&(r=l.relative),o.protocol===a.protocol&&o.host===a.host&&(n=a.relative),(0,i.Gd)().addBreadcrumb({category:"navigation",data:{from:n,to:r}})}var te=function(t){function e(e){return void 0===e&&(e={}),e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:y}],version:y},t.call(this,Bt,e)||this}return(0,a.ZT)(e,t),e.prototype.showReportDialog=function(t){void 0===t&&(t={}),(0,g.R)().document&&(this._isEnabled()?function(t){if(void 0===t&&(t={}),Vt.document)if(t.eventId)if(t.dsn){var e=Vt.document.createElement("script");e.async=!0,e.src=function(t,e){var n=E(t),i=F(n)+"embed/error-page/",r="dsn="+M(n);for(var o in e)if("dsn"!==o)if("user"===o){if(!e.user)continue;e.user.name&&(r+="&name="+encodeURIComponent(e.user.name)),e.user.email&&(r+="&email="+encodeURIComponent(e.user.email))}else r+="&"+encodeURIComponent(o)+"="+encodeURIComponent(e[o]);return i+"?"+r}(t.dsn,t),t.onLoad&&(e.onload=t.onLoad);var n=Vt.document.head||Vt.document.body;n&&n.appendChild(e)}else It&&r.kg.error("Missing dsn option in showReportDialog call");else It&&r.kg.error("Missing eventId option in showReportDialog call")}((0,a.pi)((0,a.pi)({},t),{dsn:t.dsn||this.getDsn()})):It&&r.kg.error("Trying to call showReportDialog with Sentry Client disabled"))},e.prototype._prepareEvent=function(e,n,i){return e.platform=e.platform||"javascript",t.prototype._prepareEvent.call(this,e,n,i)},e.prototype._sendEvent=function(e){var n=this.getIntegration(Yt);n&&n.addSentryBreadcrumb(e),t.prototype._sendEvent.call(this,e)},e}(z),ee=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],ne=function(){function t(e){this.name=t.id,this._options=(0,a.pi)({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e)}return t.prototype.setupOnce=function(){var t=(0,g.R)();this._options.setTimeout&&(0,f.hl)(t,"setTimeout",ie),this._options.setInterval&&(0,f.hl)(t,"setInterval",ie),this._options.requestAnimationFrame&&(0,f.hl)(t,"requestAnimationFrame",re),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&(0,f.hl)(XMLHttpRequest.prototype,"send",oe);var e=this._options.eventTarget;e&&(Array.isArray(e)?e:ee).forEach(ae)},t.id="TryCatch",t}();function ie(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e[0];return e[0]=Zt(i,{mechanism:{data:{function:(0,I.$P)(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}}function re(t){return function(e){return t.apply(this,[Zt(e,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,I.$P)(t)},handled:!0,type:"instrument"}})])}}function oe(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=this,r=["onload","onerror","onprogress","onreadystatechange"];return r.forEach((function(t){t in i&&"function"==typeof i[t]&&(0,f.hl)(i,t,(function(e){var n={mechanism:{data:{function:t,handler:(0,I.$P)(e)},handled:!0,type:"instrument"}},i=(0,f.HK)(e);return i&&(n.mechanism.data.handler=(0,I.$P)(i)),Zt(e,n)}))})),t.apply(this,e)}}function ae(t){var e=(0,g.R)(),n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,f.hl)(n,"addEventListener",(function(e){return function(n,i,r){try{"function"==typeof i.handleEvent&&(i.handleEvent=Zt(i.handleEvent.bind(i),{mechanism:{data:{function:"handleEvent",handler:(0,I.$P)(i),target:t},handled:!0,type:"instrument"}}))}catch(t){}return e.apply(this,[n,Zt(i,{mechanism:{data:{function:"addEventListener",handler:(0,I.$P)(i),target:t},handled:!0,type:"instrument"}}),r])}})),(0,f.hl)(n,"removeEventListener",(function(t){return function(e,n,i){var r=n;try{var o=r&&r.__sentry_wrapped__;o&&t.call(this,e,o,i)}catch(t){}return t.call(this,e,r,i)}})))}var se=function(){function t(e){this.name=t.id,this._installFunc={onerror:le,onunhandledrejection:ce},this._options=(0,a.pi)({onerror:!0,onunhandledrejection:!0},e)}return t.prototype.setupOnce=function(){Error.stackTraceLimit=50;var t,e=this._options;for(var n in e){var i=this._installFunc[n];i&&e[n]&&(t=n,It&&r.kg.log("Global Handler attached: "+t),i(),this._installFunc[n]=void 0)}},t.id="GlobalHandlers",t}();function le(){(0,v.o)("error",(function(t){var e=(0,a.CR)(pe(),2),n=e[0],i=e[1];if(n.getIntegration(se)){var r=t.msg,o=t.url,s=t.line,l=t.column,c=t.error;if(!(jt()||c&&c.__sentry_own_request__)){var u=void 0===c&&(0,A.HD)(r)?function(t,e,n,i){var r=(0,A.VW)(t)?t.message:t,o="Error",a=r.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);return a&&(o=a[1],r=a[2]),ue({exception:{values:[{type:o,value:r}]}},e,n,i)}(r,o,s,l):ue(xt(c||r,void 0,i,!1),o,s,l);u.level=J.Error,he(n,c,u,"onerror")}}}))}function ce(){(0,v.o)("unhandledrejection",(function(t){var e=(0,a.CR)(pe(),2),n=e[0],i=e[1];if(n.getIntegration(se)){var r=t;try{"reason"in t?r=t.reason:"detail"in t&&"reason"in t.detail&&(r=t.detail.reason)}catch(t){}if(jt()||r&&r.__sentry_own_request__)return!0;var o=(0,A.pt)(r)?{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(r)}]}}:xt(r,void 0,i,!0);o.level=J.Error,he(n,r,o,"onunhandledrejection")}}))}function ue(t,e,n,i){var r=t.exception=t.exception||{},o=r.values=r.values||[],a=o[0]=o[0]||{},s=a.stacktrace=a.stacktrace||{},l=s.frames=s.frames||[],c=isNaN(parseInt(i,10))?void 0:i,u=isNaN(parseInt(n,10))?void 0:n,h=(0,A.HD)(e)&&e.length>0?e:(0,qt.l)();return 0===l.length&&l.push({colno:c,filename:h,function:"?",in_app:!0,lineno:u}),t}function he(t,e,n,i){(0,s.EG)(n,{handled:!1,type:i}),t.captureEvent(n,{originalException:e})}function pe(){var t=(0,i.Gd)(),e=t.getClient();return[t,e&&e.getOptions().attachStacktrace]}var de=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._key=e.key||"cause",this._limit=e.limit||5}return t.prototype.setupOnce=function(){(0,_.c)((function(e,n){var r=(0,i.Gd)().getIntegration(t);return r?function(t,e,n,i){if(!(n.exception&&n.exception.values&&i&&(0,A.V9)(i.originalException,Error)))return n;var r=fe(e,i.originalException,t);return n.exception.values=(0,a.fl)(r,n.exception.values),n}(r._key,r._limit,e,n):e}))},t.id="LinkedErrors",t}();function fe(t,e,n,i){if(void 0===i&&(i=[]),!(0,A.V9)(e[n],Error)||i.length+1>=t)return i;var r=mt(e[n]);return fe(t,e[n],n,(0,a.fl)([r],i))}var me=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(e,n){e((function(e){var i=n().getIntegration(t);if(i){try{if(function(t,e){return!!e&&(!!function(t,e){var n=t.message,i=e.message;return!(!n&&!i)&&(!(n&&!i||!n&&i)&&(n===i&&(!!ve(t,e)&&!!ge(t,e))))}(t,e)||!!function(t,e){var n=ye(e),i=ye(t);return!(!n||!i)&&(n.type===i.type&&n.value===i.value&&(!!ve(t,e)&&!!ge(t,e)))}(t,e))}(e,i._previousEvent))return It&&r.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(t){return i._previousEvent=e}return i._previousEvent=e}return e}))},t.id="Dedupe",t}();function ge(t,e){var n=_e(t),i=_e(e);if(!n&&!i)return!0;if(n&&!i||!n&&i)return!1;if(i.length!==n.length)return!1;for(var r=0;r<i.length;r++){var o=i[r],a=n[r];if(o.filename!==a.filename||o.lineno!==a.lineno||o.colno!==a.colno||o.function!==a.function)return!1}return!0}function ve(t,e){var n=t.fingerprint,i=e.fingerprint;if(!n&&!i)return!0;if(n&&!i||!n&&i)return!1;try{return!(n.join("")!==i.join(""))}catch(t){return!1}}function ye(t){return t.exception&&t.exception.values&&t.exception.values[0]}function _e(t){var e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch(t){return}else if(t.stacktrace)return t.stacktrace.frames}var xe=(0,g.R)(),be=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){(0,_.c)((function(e){if((0,i.Gd)().getIntegration(t)){if(!xe.navigator&&!xe.location&&!xe.document)return e;var n=e.request&&e.request.url||xe.location&&xe.location.href,r=(xe.document||{}).referrer,o=(xe.navigator||{}).userAgent,s=(0,a.pi)((0,a.pi)((0,a.pi)({},e.request&&e.request.headers),r&&{Referer:r}),o&&{"User-Agent":o}),l=(0,a.pi)((0,a.pi)({},n&&{url:n}),{headers:s});return(0,a.pi)((0,a.pi)({},e),{request:l})}return e}))},t.id="UserAgent",t}(),we=[new u,new m,new ne,new Yt,new se,new de,new me,new be];function Se(t){if(void 0===t&&(t={}),void 0===t.defaultIntegrations&&(t.defaultIntegrations=we),void 0===t.release){var e=(0,g.R)();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}void 0===t.autoSessionTracking&&(t.autoSessionTracking=!0),void 0===t.sendClientReports&&(t.sendClientReports=!0),function(t,e){!0===e.debug&&(o?r.kg.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var n=(0,i.Gd)(),a=n.getScope();a&&a.update(e.initialScope);var s=new t(e);n.bindClient(s)}(te,t),t.autoSessionTracking&&function(){if(void 0!==(0,g.R)().document){var t=(0,i.Gd)();t.captureSession&&(Me(t),(0,v.o)("history",(function(t){var e=t.from,n=t.to;void 0!==e&&e!==n&&Me((0,i.Gd)())})))}else It&&r.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported.")}()}function Me(t){t.startSession({ignoreDuration:!0}),t.captureSession()}},6879:(t,e,n)=>{"use strict";n.d(e,{Xb:()=>d,Gd:()=>g,cu:()=>f});var i=n(655),r=n(2844),o=n(1170),a=n(2343),s=n(2991),l=n(2176),c="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,u=n(6769),h=n(535),p=function(){function t(t){this.errors=0,this.sid=(0,r.DM)(),this.duration=0,this.status="ok",this.init=!0,this.ignoreDuration=!1;var e=(0,o.ph)();this.timestamp=e,this.started=e,t&&this.update(t)}return t.prototype.update=function(t){if(void 0===t&&(t={}),t.user&&(!this.ipAddress&&t.user.ip_address&&(this.ipAddress=t.user.ip_address),this.did||t.did||(this.did=t.user.id||t.user.email||t.user.username)),this.timestamp=t.timestamp||(0,o.ph)(),t.ignoreDuration&&(this.ignoreDuration=t.ignoreDuration),t.sid&&(this.sid=32===t.sid.length?t.sid:(0,r.DM)()),void 0!==t.init&&(this.init=t.init),!this.did&&t.did&&(this.did=""+t.did),"number"==typeof t.started&&(this.started=t.started),this.ignoreDuration)this.duration=void 0;else if("number"==typeof t.duration)this.duration=t.duration;else{var e=this.timestamp-this.started;this.duration=e>=0?e:0}t.release&&(this.release=t.release),t.environment&&(this.environment=t.environment),!this.ipAddress&&t.ipAddress&&(this.ipAddress=t.ipAddress),!this.userAgent&&t.userAgent&&(this.userAgent=t.userAgent),"number"==typeof t.errors&&(this.errors=t.errors),t.status&&(this.status=t.status)},t.prototype.close=function(t){t?this.update({status:t}):"ok"===this.status?this.update({status:"exited"}):this.update()},t.prototype.toJSON=function(){return(0,h.Jr)({sid:""+this.sid,init:this.init,started:new Date(1e3*this.started).toISOString(),timestamp:new Date(1e3*this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:{release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent}})},t}(),d=function(){function t(t,e,n){void 0===e&&(e=new u.s),void 0===n&&(n=4),this._version=n,this._stack=[{}],this.getStackTop().scope=e,t&&this.bindClient(t)}return t.prototype.isOlderThan=function(t){return this._version<t},t.prototype.bindClient=function(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()},t.prototype.pushScope=function(){var t=u.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t},t.prototype.popScope=function(){return!(this.getStack().length<=1||!this.getStack().pop())},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(t,e){var n=this._lastEventId=e&&e.event_id?e.event_id:(0,r.DM)(),o=e;if(!e){var a=void 0;try{throw new Error("Sentry syntheticException")}catch(t){a=t}o={originalException:t,syntheticException:a}}return this._invokeClient("captureException",t,(0,i.pi)((0,i.pi)({},o),{event_id:n})),n},t.prototype.captureMessage=function(t,e,n){var o=this._lastEventId=n&&n.event_id?n.event_id:(0,r.DM)(),a=n;if(!n){var s=void 0;try{throw new Error(t)}catch(t){s=t}a={originalException:t,syntheticException:s}}return this._invokeClient("captureMessage",t,e,(0,i.pi)((0,i.pi)({},a),{event_id:o})),o},t.prototype.captureEvent=function(t,e){var n=e&&e.event_id?e.event_id:(0,r.DM)();return"transaction"!==t.type&&(this._lastEventId=n),this._invokeClient("captureEvent",t,(0,i.pi)((0,i.pi)({},e),{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(t,e){var n=this.getStackTop(),r=n.scope,s=n.client;if(r&&s){var l=s.getOptions&&s.getOptions()||{},c=l.beforeBreadcrumb,u=void 0===c?null:c,h=l.maxBreadcrumbs,p=void 0===h?100:h;if(!(p<=0)){var d=(0,o.yW)(),f=(0,i.pi)({timestamp:d},t),m=u?(0,a.Cf)((function(){return u(f,e)})):f;null!==m&&r.addBreadcrumb(m,p)}}},t.prototype.setUser=function(t){var e=this.getScope();e&&e.setUser(t)},t.prototype.setTags=function(t){var e=this.getScope();e&&e.setTags(t)},t.prototype.setExtras=function(t){var e=this.getScope();e&&e.setExtras(t)},t.prototype.setTag=function(t,e){var n=this.getScope();n&&n.setTag(t,e)},t.prototype.setExtra=function(t,e){var n=this.getScope();n&&n.setExtra(t,e)},t.prototype.setContext=function(t,e){var n=this.getScope();n&&n.setContext(t,e)},t.prototype.configureScope=function(t){var e=this.getStackTop(),n=e.scope,i=e.client;n&&i&&t(n)},t.prototype.run=function(t){var e=m(this);try{t(this)}finally{m(e)}},t.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return c&&a.kg.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},t.prototype.startTransaction=function(t,e){return this._callExtensionMethod("startTransaction",t,e)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.captureSession=function(t){if(void 0===t&&(t=!1),t)return this.endSession();this._sendSessionUpdate()},t.prototype.endSession=function(){var t=this.getStackTop(),e=t&&t.scope,n=e&&e.getSession();n&&n.close(),this._sendSessionUpdate(),e&&e.setSession()},t.prototype.startSession=function(t){var e=this.getStackTop(),n=e.scope,r=e.client,o=r&&r.getOptions()||{},a=o.release,l=o.environment,c=((0,s.R)().navigator||{}).userAgent,u=new p((0,i.pi)((0,i.pi)((0,i.pi)({release:a,environment:l},n&&{user:n.getUser()}),c&&{userAgent:c}),t));if(n){var h=n.getSession&&n.getSession();h&&"ok"===h.status&&h.update({status:"exited"}),this.endSession(),n.setSession(u)}return u},t.prototype._sendSessionUpdate=function(){var t=this.getStackTop(),e=t.scope,n=t.client;if(e){var i=e.getSession&&e.getSession();i&&n&&n.captureSession&&n.captureSession(i)}},t.prototype._invokeClient=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this.getStackTop(),a=o.scope,s=o.client;s&&s[t]&&(e=s)[t].apply(e,(0,i.fl)(n,[a]))},t.prototype._callExtensionMethod=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=f(),r=i.__SENTRY__;if(r&&r.extensions&&"function"==typeof r.extensions[t])return r.extensions[t].apply(this,e);c&&a.kg.warn("Extension method "+t+" couldn't be found, doing nothing.")},t}();function f(){var t=(0,s.R)();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function m(t){var e=f(),n=y(e);return _(e,t),n}function g(){var t=f();return v(t)&&!y(t).isOlderThan(4)||_(t,new d),(0,l.KV)()?function(t){try{var e=f().__SENTRY__,n=e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active;if(!n)return y(t);if(!v(n)||y(n).isOlderThan(4)){var i=y(t).getStackTop();_(n,new d(i.client,u.s.clone(i.scope)))}return y(n)}catch(e){return y(t)}}(t):y(t)}function v(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function y(t){return(0,s.Y)("hub",(function(){return new d}),t)}function _(t,e){return!!t&&((t.__SENTRY__=t.__SENTRY__||{}).hub=e,!0)}},6769:(t,e,n)=>{"use strict";n.d(e,{c:()=>u,s:()=>l});var i=n(655),r=n(7597),o=n(1170),a=n(6893),s=n(2991),l=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}return t.clone=function(e){var n=new t;return e&&(n._breadcrumbs=(0,i.fl)(e._breadcrumbs),n._tags=(0,i.pi)({},e._tags),n._extra=(0,i.pi)({},e._extra),n._contexts=(0,i.pi)({},e._contexts),n._user=e._user,n._level=e._level,n._span=e._span,n._session=e._session,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=(0,i.fl)(e._eventProcessors),n._requestSession=e._requestSession),n},t.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},t.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},t.prototype.setUser=function(t){return this._user=t||{},this._session&&this._session.update({user:t}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.getRequestSession=function(){return this._requestSession},t.prototype.setRequestSession=function(t){return this._requestSession=t,this},t.prototype.setTags=function(t){return this._tags=(0,i.pi)((0,i.pi)({},this._tags),t),this._notifyScopeListeners(),this},t.prototype.setTag=function(t,e){var n;return this._tags=(0,i.pi)((0,i.pi)({},this._tags),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(t){return this._extra=(0,i.pi)((0,i.pi)({},this._extra),t),this._notifyScopeListeners(),this},t.prototype.setExtra=function(t,e){var n;return this._extra=(0,i.pi)((0,i.pi)({},this._extra),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},t.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(t){return this.setTransactionName(t)},t.prototype.setContext=function(t,e){var n;return null===e?delete this._contexts[t]:this._contexts=(0,i.pi)((0,i.pi)({},this._contexts),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var t=this.getSpan();return t&&t.transaction},t.prototype.setSession=function(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(e){if(!e)return this;if("function"==typeof e){var n=e(this);return n instanceof t?n:this}return e instanceof t?(this._tags=(0,i.pi)((0,i.pi)({},this._tags),e._tags),this._extra=(0,i.pi)((0,i.pi)({},this._extra),e._extra),this._contexts=(0,i.pi)((0,i.pi)({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):(0,r.PO)(e)&&(this._tags=(0,i.pi)((0,i.pi)({},this._tags),e.tags),this._extra=(0,i.pi)((0,i.pi)({},this._extra),e.extra),this._contexts=(0,i.pi)((0,i.pi)({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(t,e){var n="number"==typeof e?Math.min(e,100):100;if(n<=0)return this;var r=(0,i.pi)({timestamp:(0,o.yW)()},t);return this._breadcrumbs=(0,i.fl)(this._breadcrumbs,[r]).slice(-n),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(t,e){if(this._extra&&Object.keys(this._extra).length&&(t.extra=(0,i.pi)((0,i.pi)({},this._extra),t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=(0,i.pi)((0,i.pi)({},this._tags),t.tags)),this._user&&Object.keys(this._user).length&&(t.user=(0,i.pi)((0,i.pi)({},this._user),t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=(0,i.pi)((0,i.pi)({},this._contexts),t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts=(0,i.pi)({trace:this._span.getTraceContext()},t.contexts);var n=this._span.transaction&&this._span.transaction.name;n&&(t.tags=(0,i.pi)({transaction:n},t.tags))}return this._applyFingerprint(t),t.breadcrumbs=(0,i.fl)(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,t.sdkProcessingMetadata=this._sdkProcessingMetadata,this._notifyEventProcessors((0,i.fl)(c(),this._eventProcessors),t,e)},t.prototype.setSDKProcessingMetadata=function(t){return this._sdkProcessingMetadata=(0,i.pi)((0,i.pi)({},this._sdkProcessingMetadata),t),this},t.prototype._notifyEventProcessors=function(t,e,n,o){var s=this;return void 0===o&&(o=0),new a.cW((function(a,l){var c=t[o];if(null===e||"function"!=typeof c)a(e);else{var u=c((0,i.pi)({},e),n);(0,r.J8)(u)?u.then((function(e){return s._notifyEventProcessors(t,e,n,o+1).then(a)})).then(null,l):s._notifyEventProcessors(t,u,n,o+1).then(a).then(null,l)}}))},t.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(e){e(t)})),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t}();function c(){return(0,s.Y)("globalEventProcessors",(function(){return[]}))}function u(t){c().push(t)}},6257:(t,e,n)=>{"use strict";n.d(e,{d:()=>i,x:()=>r});var i="finishReason",r=["heartbeatFailed","idleTimeout","documentHidden"]},8955:(t,e,n)=>{"use strict";n.d(e,{h:()=>i});var i="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},790:(t,e,n)=>{"use strict";n.d(e,{ro:()=>y,lb:()=>v});var i=n(655),r=n(6879),o=n(2343),a=n(7597),s=n(2176),l=n(9732),c=n(8955),u=n(3233);function h(){var t=(0,u.x1)();if(t){var e="internal_error";c.h&&o.kg.log("[Tracing] Transaction: "+e+" -> Global error occured"),t.setStatus(e)}}var p=n(6458),d=n(3391);function f(){var t=this.getScope();if(t){var e=t.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}}function m(t,e,n){return(0,u.zu)(e)?void 0!==t.sampled?(t.setMetadata({transactionSampling:{method:"explicitly_set"}}),t):("function"==typeof e.tracesSampler?(r=e.tracesSampler(n),t.setMetadata({transactionSampling:{method:"client_sampler",rate:Number(r)}})):void 0!==n.parentSampled?(r=n.parentSampled,t.setMetadata({transactionSampling:{method:"inheritance"}})):(r=e.tracesSampleRate,t.setMetadata({transactionSampling:{method:"client_rate",rate:Number(r)}})),i=r,((0,a.i2)(i)||"number"!=typeof i&&"boolean"!=typeof i?(c.h&&o.kg.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(i)+" of type "+JSON.stringify(typeof i)+"."),0):!(i<0||i>1)||(c.h&&o.kg.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+i+"."),0))?r?(t.sampled=Math.random()<r,t.sampled?(c.h&&o.kg.log("[Tracing] starting "+t.op+" transaction - "+t.name),t):(c.h&&o.kg.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(r)+")"),t)):(c.h&&o.kg.log("[Tracing] Discarding transaction because "+("function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(c.h&&o.kg.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)):(t.sampled=!1,t);var i,r}function g(t,e){var n=this.getClient(),r=n&&n.getOptions()||{},o=new d.Y(t,this);return(o=m(o,r,(0,i.pi)({parentSampled:t.parentSampled,transactionContext:t},e))).sampled&&o.initSpanRecorder(r._experiments&&r._experiments.maxSpans),o}function v(t,e,n,r,o){var a=t.getClient(),s=a&&a.getOptions()||{},l=new p.io(e,t,n,r);return(l=m(l,s,(0,i.pi)({parentSampled:e.parentSampled,transactionContext:e},o))).sampled&&l.initSpanRecorder(s._experiments&&s._experiments.maxSpans),l}function y(){var e;(e=(0,r.cu)()).__SENTRY__&&(e.__SENTRY__.extensions=e.__SENTRY__.extensions||{},e.__SENTRY__.extensions.startTransaction||(e.__SENTRY__.extensions.startTransaction=g),e.__SENTRY__.extensions.traceHeaders||(e.__SENTRY__.extensions.traceHeaders=f)),(0,s.KV)()&&function(){var e=(0,r.cu)();if(e.__SENTRY__){var n={mongodb:function(){return new((0,s.l$)(t,"./integrations/node/mongo").Mongo)},mongoose:function(){return new((0,s.l$)(t,"./integrations/node/mongo").Mongo)({mongoose:!0})},mysql:function(){return new((0,s.l$)(t,"./integrations/node/mysql").Mysql)},pg:function(){return new((0,s.l$)(t,"./integrations/node/postgres").Postgres)}},o=Object.keys(n).filter((function(t){return!!(0,s.$y)(t)})).map((function(t){try{return n[t]()}catch(t){return}})).filter((function(t){return t}));o.length>0&&(e.__SENTRY__.integrations=(0,i.fl)(e.__SENTRY__.integrations||[],o))}}(),(0,l.o)("error",h),(0,l.o)("unhandledrejection",h)}t=n.hmd(t)},6458:(t,e,n)=>{"use strict";n.d(e,{io:()=>p,nT:()=>u});var i=n(655),r=n(1170),o=n(2343),a=n(6257),s=n(8955),l=n(5334),c=n(3391),u=1e3,h=function(t){function e(e,n,i,r){void 0===i&&(i="");var o=t.call(this,r)||this;return o._pushActivity=e,o._popActivity=n,o.transactionSpanId=i,o}return(0,i.ZT)(e,t),e.prototype.add=function(e){var n=this;e.spanId!==this.transactionSpanId&&(e.finish=function(t){e.endTimestamp="number"==typeof t?t:(0,r._I)(),n._popActivity(e.spanId)},void 0===e.endTimestamp&&this._pushActivity(e.spanId)),t.prototype.add.call(this,e)},e}(l.gB),p=function(t){function e(e,n,i,r){void 0===i&&(i=u),void 0===r&&(r=!1);var a=t.call(this,e,n)||this;return a._idleHub=n,a._idleTimeout=i,a._onScope=r,a.activities={},a._heartbeatCounter=0,a._finished=!1,a._beforeFinishCallbacks=[],n&&r&&(d(n),s.h&&o.kg.log("Setting idle transaction on scope. Span ID: "+a.spanId),n.configureScope((function(t){return t.setSpan(a)}))),a._initTimeout=setTimeout((function(){a._finished||a.finish()}),a._idleTimeout),a}return(0,i.ZT)(e,t),e.prototype.finish=function(e){var n,a,l=this;if(void 0===e&&(e=(0,r._I)()),this._finished=!0,this.activities={},this.spanRecorder){s.h&&o.kg.log("[Tracing] finishing IdleTransaction",new Date(1e3*e).toISOString(),this.op);try{for(var c=(0,i.XA)(this._beforeFinishCallbacks),u=c.next();!u.done;u=c.next())(0,u.value)(this,e)}catch(t){n={error:t}}finally{try{u&&!u.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter((function(t){if(t.spanId===l.spanId)return!0;t.endTimestamp||(t.endTimestamp=e,t.setStatus("cancelled"),s.h&&o.kg.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));var n=t.startTimestamp<e;return n||s.h&&o.kg.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(t,void 0,2)),n})),s.h&&o.kg.log("[Tracing] flushing IdleTransaction")}else s.h&&o.kg.log("[Tracing] No active IdleTransaction");return this._onScope&&d(this._idleHub),t.prototype.finish.call(this,e)},e.prototype.registerBeforeFinishCallback=function(t){this._beforeFinishCallbacks.push(t)},e.prototype.initSpanRecorder=function(t){var e=this;this.spanRecorder||(this.spanRecorder=new h((function(t){e._finished||e._pushActivity(t)}),(function(t){e._finished||e._popActivity(t)}),this.spanId,t),s.h&&o.kg.log("Starting heartbeat"),this._pingHeartbeat()),this.spanRecorder.add(this)},e.prototype._pushActivity=function(t){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),s.h&&o.kg.log("[Tracing] pushActivity: "+t),this.activities[t]=!0,s.h&&o.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)},e.prototype._popActivity=function(t){var e=this;if(this.activities[t]&&(s.h&&o.kg.log("[Tracing] popActivity "+t),delete this.activities[t],s.h&&o.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var n=this._idleTimeout,i=(0,r._I)()+n/1e3;setTimeout((function(){e._finished||(e.setTag(a.d,a.x[1]),e.finish(i))}),n)}},e.prototype._beat=function(){if(!this._finished){var t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?(s.h&&o.kg.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.setTag(a.d,a.x[0]),this.finish()):this._pingHeartbeat()}},e.prototype._pingHeartbeat=function(){var t=this;s.h&&o.kg.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),setTimeout((function(){t._beat()}),5e3)},e}(c.Y);function d(t){if(t){var e=t.getScope();e&&e.getTransaction()&&e.setSpan(void 0)}}},5151:(t,e,n)=>{"use strict";n.d(e,{jK:()=>i});var i={};n.r(i),n.d(i,{gE:()=>k});var r=n(790),o=n(655),a=n(2343),s=n(2991),l=n(8955),c=n(6458),u=n(3233),h=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$"),p=n(6257),d=(0,s.R)(),f=n(2176),m=n(1170),g=n(8464),v=function(t,e,n){var i;return function(r){e.value>=0&&(r||n)&&(e.delta=e.value-(i||0),(e.delta||void 0===i)&&(i=e.value,t(e)))}},y=function(t,e){return{name:t,value:null!=e?e:-1,delta:0,entries:[],id:"v2-"+Date.now()+"-"+(Math.floor(8999999999999*Math.random())+1e12)}},_=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){if("first-input"===t&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver((function(t){return t.getEntries().map(e)}));return n.observe({type:t,buffered:!0}),n}}catch(t){}},x=function(t,e){var n=function(i){"pagehide"!==i.type&&"hidden"!==(0,s.R)().document.visibilityState||(t(i),e&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},b=-1,w=function(){return b<0&&(b="hidden"===(0,s.R)().document.visibilityState?0:1/0,x((function(t){var e=t.timeStamp;b=e}),!0)),{get firstHiddenTime(){return b}}},S={},M=(0,s.R)(),T=function(){function t(t){void 0===t&&(t=!1),this._reportAllChanges=t,this._measurements={},this._performanceCursor=0,!(0,f.KV)()&&M&&M.performance&&M.document&&(M.performance.mark&&M.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID())}return t.prototype.addPerformanceEntries=function(t){var e=this;if(M&&M.performance&&M.performance.getEntries&&m.Z1){l.h&&a.kg.log("[Tracing] Adding & adjusting spans using Performance API");var n,i,r=(0,u.XL)(m.Z1);if(M.performance.getEntries().slice(this._performanceCursor).forEach((function(o){var s=(0,u.XL)(o.startTime),c=(0,u.XL)(o.duration);if(!("navigation"===t.op&&r+s<t.startTimestamp))switch(o.entryType){case"navigation":!function(t,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((function(i){E(t,e,i,n)})),E(t,e,"secureConnection",n,"TLS/SSL","connectEnd"),E(t,e,"fetch",n,"cache","domainLookupStart"),E(t,e,"domainLookup",n,"DNS"),function(t,e,n){A(t,{op:"browser",description:"request",startTimestamp:n+(0,u.XL)(e.requestStart),endTimestamp:n+(0,u.XL)(e.responseEnd)}),A(t,{op:"browser",description:"response",startTimestamp:n+(0,u.XL)(e.responseStart),endTimestamp:n+(0,u.XL)(e.responseEnd)})}(t,e,n)}(t,o,r),n=r+(0,u.XL)(o.responseStart),i=r+(0,u.XL)(o.requestStart);break;case"mark":case"paint":case"measure":var h=function(t,e,n,i,r){var o=r+n,a=o+i;return A(t,{description:e.name,endTimestamp:a,op:e.entryType,startTimestamp:o}),o}(t,o,s,c,r),p=w(),d=o.startTime<p.firstHiddenTime;"first-paint"===o.name&&d&&(l.h&&a.kg.log("[Measurements] Adding FP"),e._measurements.fp={value:o.startTime},e._measurements["mark.fp"]={value:h}),"first-contentful-paint"===o.name&&d&&(l.h&&a.kg.log("[Measurements] Adding FCP"),e._measurements.fcp={value:o.startTime},e._measurements["mark.fcp"]={value:h});break;case"resource":var f=o.name.replace(M.location.origin,"");!function(t,e,n,i,r,o){if("xmlhttprequest"!==e.initiatorType&&"fetch"!==e.initiatorType){var a={};"transferSize"in e&&(a["Transfer Size"]=e.transferSize),"encodedBodySize"in e&&(a["Encoded Body Size"]=e.encodedBodySize),"decodedBodySize"in e&&(a["Decoded Body Size"]=e.decodedBodySize);var s=o+i;A(t,{description:n,endTimestamp:s+r,op:e.initiatorType?"resource."+e.initiatorType:"resource",startTimestamp:s,data:a})}}(t,o,f,s,c,r)}})),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(t),"pageload"===t.op){var o=(0,u.XL)(m.Z1);"number"==typeof n&&(l.h&&a.kg.log("[Measurements] Adding TTFB"),this._measurements.ttfb={value:1e3*(n-t.startTimestamp)},"number"==typeof i&&i<=n&&(this._measurements["ttfb.requestTime"]={value:1e3*(n-i)})),["fcp","fp","lcp"].forEach((function(n){if(e._measurements[n]&&!(o>=t.startTimestamp)){var i=e._measurements[n].value,r=o+(0,u.XL)(i),s=Math.abs(1e3*(r-t.startTimestamp)),c=s-i;l.h&&a.kg.log("[Measurements] Normalized "+n+" from "+i+" to "+s+" ("+c+")"),e._measurements[n].value=s}})),this._measurements["mark.fid"]&&this._measurements.fid&&A(t,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+(0,u.XL)(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),"fcp"in this._measurements||delete this._measurements.cls,t.setMeasurements(this._measurements),function(t,e,n){e&&(l.h&&a.kg.log("[Measurements] Adding LCP Data"),e.element&&t.setTag("lcp.element",(0,g.R)(e.element)),e.id&&t.setTag("lcp.id",e.id),e.url&&t.setTag("lcp.url",e.url.trim().slice(0,200)),t.setTag("lcp.size",e.size)),n&&n.sources&&(l.h&&a.kg.log("[Measurements] Adding CLS Data"),n.sources.forEach((function(e,n){return t.setTag("cls.source."+(n+1),(0,g.R)(e.node))})))}(t,this._lcpEntry,this._clsEntry),t.setTag("sentry_reportAllChanges",this._reportAllChanges)}}},t.prototype._trackNavigator=function(t){var e=M.navigator;if(e){var n=e.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),C(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),C(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),C(e.deviceMemory)&&t.setTag("deviceMemory",String(e.deviceMemory)),C(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}},t.prototype._trackCLS=function(){var t,e,n,i,r,o,s,c=this;t=function(t){var e=t.entries.pop();e&&(l.h&&a.kg.log("[Measurements] Adding CLS"),c._measurements.cls={value:t.value},c._clsEntry=e)},n=y("CLS",0),i=0,r=[],(s=_("layout-shift",o=function(t){if(t&&!t.hadRecentInput){var o=r[0],a=r[r.length-1];i&&0!==r.length&&t.startTime-a.startTime<1e3&&t.startTime-o.startTime<5e3?(i+=t.value,r.push(t)):(i=t.value,r=[t]),i>n.value&&(n.value=i,n.entries=r,e&&e())}}))&&(e=v(t,n,undefined),x((function(){s.takeRecords().map(o),e(!0)})))},t.prototype._trackLCP=function(){var t=this;!function(e,n){var i,r=w(),o=y("LCP"),s=function(t){var e=t.startTime;e<r.firstHiddenTime&&(o.value=e,o.entries.push(t)),i&&i()},c=_("largest-contentful-paint",s);if(c){i=v((function(e){var n=e.entries.pop();if(n){var i=(0,u.XL)(m.Z1),r=(0,u.XL)(n.startTime);l.h&&a.kg.log("[Measurements] Adding LCP"),t._measurements.lcp={value:e.value},t._measurements["mark.lcp"]={value:i+r},t._lcpEntry=n}}),o,n);var h=function(){S[o.id]||(c.takeRecords().map(s),c.disconnect(),S[o.id]=!0,i(!0))};["keydown","click"].forEach((function(t){addEventListener(t,h,{once:!0,capture:!0})})),x(h,!0)}}(0,this._reportAllChanges)},t.prototype._trackFID=function(){var t,e,n,i,r,o,s=this;t=function(t){var e=t.entries.pop();if(e){var n=(0,u.XL)(m.Z1),i=(0,u.XL)(e.startTime);l.h&&a.kg.log("[Measurements] Adding FID"),s._measurements.fid={value:t.value},s._measurements["mark.fid"]={value:n+i}}},n=w(),i=y("FID"),(o=_("first-input",r=function(t){e&&t.startTime<n.firstHiddenTime&&(i.value=t.processingStart-t.startTime,i.entries.push(t),e(!0))}))&&(e=v(t,i,undefined),x((function(){o.takeRecords().map(r),o.disconnect()}),!0))},t}();function E(t,e,n,i,r,o){var a=o?e[o]:e[n+"End"],s=e[n+"Start"];s&&a&&A(t,{op:"browser",description:null!=r?r:n,startTimestamp:i+(0,u.XL)(s),endTimestamp:i+(0,u.XL)(a)})}function A(t,e){var n=e.startTimestamp,i=(0,o._T)(e,["startTimestamp"]);return n&&t.startTimestamp>n&&(t.startTimestamp=n),t.startChild((0,o.pi)({startTimestamp:n},i))}function C(t){return"number"==typeof t&&isFinite(t)}var L=n(7321),I=n(9732),D=n(7597),P={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]};var R=(0,s.R)(),O=(0,o.pi)({idleTimeout:c.nT,markBackgroundTransactions:!0,maxTransactionDuration:600,routingInstrumentation:function(t,e,n){if(void 0===e&&(e=!0),void 0===n&&(n=!0),R&&R.location){var i,r=R.location.href;e&&(i=t({name:R.location.pathname,op:"pageload"})),n&&(0,I.o)("history",(function(e){var n=e.to,o=e.from;void 0===o&&r&&-1!==r.indexOf(n)?r=void 0:o!==n&&(r=void 0,i&&(l.h&&a.kg.log("[Tracing] Finishing current transaction with op: "+i.op),i.finish()),i=t({name:R.location.pathname,op:"navigation"}))}))}else l.h&&a.kg.warn("Could not initialize routing instrumentation due to invalid location")},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},P),k=function(){function t(e){this.name=t.id,this._configuredIdleTimeout=void 0;var n=P.tracingOrigins;e&&(this._configuredIdleTimeout=e.idleTimeout,e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&0!==e.tracingOrigins.length?n=e.tracingOrigins:l.h&&(this._emitOptionsWarning=!0)),this.options=(0,o.pi)((0,o.pi)((0,o.pi)({},O),e),{tracingOrigins:n});var i=this.options._metricOptions;this._metrics=new T(i&&i._reportAllChanges)}return t.prototype.setupOnce=function(t,e){var n=this;this._getCurrentHub=e,this._emitOptionsWarning&&(l.h&&a.kg.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),l.h&&a.kg.warn("[Tracing] We added a reasonable default for you: "+P.tracingOrigins));var i=this.options,r=i.routingInstrumentation,s=i.startTransactionOnLocationChange,c=i.startTransactionOnPageLoad,h=i.markBackgroundTransactions,f=i.traceFetch,m=i.traceXHR,g=i.tracingOrigins,v=i.shouldCreateSpanForRequest;r((function(t){return n._createRouteTransaction(t)}),c,s),h&&(d&&d.document?d.document.addEventListener("visibilitychange",(function(){var t=(0,u.x1)();if(d.document.hidden&&t){l.h&&a.kg.log("[Tracing] Transaction: cancelled -> since tab moved to the background, op: "+t.op),t.status||t.setStatus("cancelled"),t.setTag("visibilitychange","document.hidden"),t.setTag(p.d,p.x[2]),t.finish()}})):l.h&&a.kg.warn("[Tracing] Could not set up background tab detection due to lack of global document")),function(t){var e=(0,o.pi)((0,o.pi)({},P),t),n=e.traceFetch,i=e.traceXHR,r=e.tracingOrigins,a=e.shouldCreateSpanForRequest,s={},l=function(t){if(s[t])return s[t];var e=r;return s[t]=e.some((function(e){return(0,L.zC)(t,e)}))&&!(0,L.zC)(t,"sentry_key"),s[t]},c=l;"function"==typeof a&&(c=function(t){return l(t)&&a(t)});var h={};n&&(0,I.o)("fetch",(function(t){!function(t,e,n){if((0,u.zu)()&&t.fetchData&&e(t.fetchData.url))if(t.endTimestamp){var i=t.fetchData.__span;if(!i)return;(a=n[i])&&(t.response?a.setHttpStatus(t.response.status):t.error&&a.setStatus("internal_error"),a.finish(),delete n[i])}else{var r=(0,u.x1)();if(r){var a=r.startChild({data:(0,o.pi)((0,o.pi)({},t.fetchData),{type:"fetch"}),description:t.fetchData.method+" "+t.fetchData.url,op:"http.client"});t.fetchData.__span=a.spanId,n[a.spanId]=a;var s=t.args[0]=t.args[0],l=t.args[1]=t.args[1]||{},c=l.headers;(0,D.V9)(s,Request)&&(c=s.headers),c?"function"==typeof c.append?c.append("sentry-trace",a.toTraceparent()):c=Array.isArray(c)?(0,o.fl)(c,[["sentry-trace",a.toTraceparent()]]):(0,o.pi)((0,o.pi)({},c),{"sentry-trace":a.toTraceparent()}):c={"sentry-trace":a.toTraceparent()},l.headers=c}}}(t,c,h)})),i&&(0,I.o)("xhr",(function(t){!function(t,e,n){if(!(!(0,u.zu)()||t.xhr&&t.xhr.__sentry_own_request__)&&t.xhr&&t.xhr.__sentry_xhr__&&e(t.xhr.__sentry_xhr__.url)){var i=t.xhr.__sentry_xhr__;if(t.endTimestamp){var r=t.xhr.__sentry_xhr_span_id__;if(!r)return;(s=n[r])&&(s.setHttpStatus(i.status_code),s.finish(),delete n[r])}else{var a=(0,u.x1)();if(a){var s=a.startChild({data:(0,o.pi)((0,o.pi)({},i.data),{type:"xhr",method:i.method,url:i.url}),description:i.method+" "+i.url,op:"http.client"});if(t.xhr.__sentry_xhr_span_id__=s.spanId,n[t.xhr.__sentry_xhr_span_id__]=s,t.xhr.setRequestHeader)try{t.xhr.setRequestHeader("sentry-trace",s.toTraceparent())}catch(t){}}}}}(t,c,h)}))}({traceFetch:f,traceXHR:m,tracingOrigins:g,shouldCreateSpanForRequest:v})},t.prototype._createRouteTransaction=function(t){var e=this;if(this._getCurrentHub){var n=this.options,i=n.beforeNavigate,c=n.idleTimeout,p=n.maxTransactionDuration,d="pageload"===t.op?function(){var t,e=("sentry-trace",(t=(0,s.R)().document.querySelector("meta[name=sentry-trace]"))?t.getAttribute("content"):null);if(e)return function(t){var e=t.match(h);if(e){var n=void 0;return"1"===e[3]?n=!0:"0"===e[3]&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}}(e)}():void 0,f=(0,o.pi)((0,o.pi)((0,o.pi)({},t),d),{trimEnd:!0}),m="function"==typeof i?i(f):f,g=void 0===m?(0,o.pi)((0,o.pi)({},f),{sampled:!1}):m;!1===g.sampled&&l.h&&a.kg.log("[Tracing] Will not send "+g.op+" transaction because of beforeNavigate."),l.h&&a.kg.log("[Tracing] Starting "+g.op+" transaction on scope");var v=this._getCurrentHub(),y=(0,s.R)().location,_=(0,r.lb)(v,g,c,!0,{location:y});return _.registerBeforeFinishCallback((function(t,n){e._metrics.addPerformanceEntries(t),function(t,e,n){var i=n-e.startTimestamp;n&&(i>t||i<0)&&(e.setStatus("deadline_exceeded"),e.setTag("maxTransactionDurationExceeded","true"))}((0,u.WB)(p),t,n)})),_.setTag("idleTimeout",this._configuredIdleTimeout),_}l.h&&a.kg.warn("[Tracing] Did not create "+t.op+" transaction because _getCurrentHub is invalid.")},t.id="BrowserTracing",t}();(0,r.ro)()},5334:(t,e,n)=>{"use strict";n.d(e,{Dr:()=>l,gB:()=>s});var i=n(655),r=n(2844),o=n(1170),a=n(535),s=function(){function t(t){void 0===t&&(t=1e3),this.spans=[],this._maxlen=t}return t.prototype.add=function(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)},t}(),l=function(){function t(t){if(this.traceId=(0,r.DM)(),this.spanId=(0,r.DM)().substring(16),this.startTimestamp=(0,o._I)(),this.tags={},this.data={},!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}return t.prototype.child=function(t){return this.startChild(t)},t.prototype.startChild=function(e){var n=new t((0,i.pi)((0,i.pi)({},e),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n},t.prototype.setTag=function(t,e){var n;return this.tags=(0,i.pi)((0,i.pi)({},this.tags),((n={})[t]=e,n)),this},t.prototype.setData=function(t,e){var n;return this.data=(0,i.pi)((0,i.pi)({},this.data),((n={})[t]=e,n)),this},t.prototype.setStatus=function(t){return this.status=t,this},t.prototype.setHttpStatus=function(t){this.setTag("http.status_code",String(t));var e=function(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(t);return"unknown_error"!==e&&this.setStatus(e),this},t.prototype.isSuccess=function(){return"ok"===this.status},t.prototype.finish=function(t){this.endTimestamp="number"==typeof t?t:(0,o._I)()},t.prototype.toTraceparent=function(){var t="";return void 0!==this.sampled&&(t=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+t},t.prototype.toContext=function(){return(0,a.Jr)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},t.prototype.updateWithContext=function(t){var e,n,i,r,o;return this.data=null!=(e=t.data)?e:{},this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=null!=(n=t.spanId)?n:this.spanId,this.startTimestamp=null!=(i=t.startTimestamp)?i:this.startTimestamp,this.status=t.status,this.tags=null!=(r=t.tags)?r:{},this.traceId=null!=(o=t.traceId)?o:this.traceId,this},t.prototype.getTraceContext=function(){return(0,a.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},t.prototype.toJSON=function(){return(0,a.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},t}()},3391:(t,e,n)=>{"use strict";n.d(e,{Y:()=>u});var i=n(655),r=n(6879),o=n(7597),a=n(2343),s=n(535),l=n(8955),c=n(5334),u=function(t){function e(e,n){var i=t.call(this,e)||this;return i._measurements={},i._hub=(0,r.Gd)(),(0,o.V9)(n,r.Xb)&&(i._hub=n),i.name=e.name||"",i.metadata=e.metadata||{},i._trimEnd=e.trimEnd,i.transaction=i,i}return(0,i.ZT)(e,t),e.prototype.setName=function(t){this.name=t},e.prototype.initSpanRecorder=function(t){void 0===t&&(t=1e3),this.spanRecorder||(this.spanRecorder=new c.gB(t)),this.spanRecorder.add(this)},e.prototype.setMeasurements=function(t){this._measurements=(0,i.pi)({},t)},e.prototype.setMetadata=function(t){this.metadata=(0,i.pi)((0,i.pi)({},this.metadata),t)},e.prototype.finish=function(e){var n=this;if(void 0===this.endTimestamp){if(this.name||(l.h&&a.kg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),t.prototype.finish.call(this,e),!0===this.sampled){var i=this.spanRecorder?this.spanRecorder.spans.filter((function(t){return t!==n&&t.endTimestamp})):[];this._trimEnd&&i.length>0&&(this.endTimestamp=i.reduce((function(t,e){return t.endTimestamp&&e.endTimestamp?t.endTimestamp>e.endTimestamp?t:e:t})).endTimestamp);var r={contexts:{trace:this.getTraceContext()},spans:i,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:this.metadata};return Object.keys(this._measurements).length>0&&(l.h&&a.kg.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),r.measurements=this._measurements),l.h&&a.kg.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(r)}l.h&&a.kg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");var o=this._hub.getClient(),s=o&&o.getTransport&&o.getTransport();s&&s.recordLostEvent&&s.recordLostEvent("sample_rate","transaction")}},e.prototype.toContext=function(){var e=t.prototype.toContext.call(this);return(0,s.Jr)((0,i.pi)((0,i.pi)({},e),{name:this.name,trimEnd:this._trimEnd}))},e.prototype.updateWithContext=function(e){var n;return t.prototype.updateWithContext.call(this,e),this.name=null!=(n=e.name)?n:"",this._trimEnd=e.trimEnd,this},e}(c.Dr)},3233:(t,e,n)=>{"use strict";n.d(e,{WB:()=>s,XL:()=>a,x1:()=>o,zu:()=>r});var i=n(6879);function r(t){var e=(0,i.Gd)().getClient(),n=t||e&&e.getOptions();return!!n&&("tracesSampleRate"in n||"tracesSampler"in n)}function o(t){var e=(t||(0,i.Gd)()).getScope();return e&&e.getTransaction()}function a(t){return t/1e3}function s(t){return 1e3*t}},8464:(t,e,n)=>{"use strict";n.d(e,{R:()=>o,l:()=>s});var i=n(2991),r=n(7597);function o(t,e){try{for(var n=t,i=[],r=0,o=0,s=" > ".length,l=void 0;n&&r++<5&&!("html"===(l=a(n,e))||r>1&&o+i.length*s+l.length>=80);)i.push(l),o+=l.length,n=n.parentNode;return i.reverse().join(" > ")}catch(t){return"<unknown>"}}function a(t,e){var n,i,o,a,s,l=t,c=[];if(!l||!l.tagName)return"";c.push(l.tagName.toLowerCase());var u=e&&e.length?e.filter((function(t){return l.getAttribute(t)})).map((function(t){return[t,l.getAttribute(t)]})):null;if(u&&u.length)u.forEach((function(t){c.push("["+t[0]+'="'+t[1]+'"]')}));else if(l.id&&c.push("#"+l.id),(n=l.className)&&(0,r.HD)(n))for(i=n.split(/\s+/),s=0;s<i.length;s++)c.push("."+i[s]);var h=["type","name","title","alt"];for(s=0;s<h.length;s++)o=h[s],(a=l.getAttribute(o))&&c.push("["+o+'="'+a+'"]');return c.join("")}function s(){var t=(0,i.R)();try{return t.document.location.href}catch(t){return""}}},8795:(t,e,n)=>{"use strict";n.d(e,{h:()=>i});var i="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},2991:(t,e,n)=>{"use strict";n.d(e,{R:()=>o,Y:()=>a});var i=n(2176),r={};function o(){return(0,i.KV)()?n.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:r}function a(t,e,n){var i=n||o(),r=i.__SENTRY__=i.__SENTRY__||{};return r[t]||(r[t]=e())}},9732:(t,e,n)=>{"use strict";n.d(e,{o:()=>v});var i,r,o,a=n(655),s=n(8795),l=n(2991),c=n(7597),u=n(2343),h=n(535),p=n(360),d=n(8823),f=(0,l.R)(),m={},g={};function v(t,e){m[t]=m[t]||[],m[t].push(e),function(t){if(!g[t])switch(g[t]=!0,t){case"console":"console"in f&&u.RU.forEach((function(t){t in f.console&&(0,h.hl)(f.console,t,(function(e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];y("console",{args:n,level:t}),e&&e.apply(f.console,n)}}))}));break;case"dom":!function(){if("document"in f){var t=y.bind(null,"dom"),e=b(t,!0);f.document.addEventListener("click",e,!1),f.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach((function(e){var n=f[e]&&f[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,h.hl)(n,"addEventListener",(function(e){return function(n,i,r){if("click"===n||"keypress"==n)try{var o=this.__sentry_instrumentation_handlers__=this.__sentry_instrumentation_handlers__||{},a=o[n]=o[n]||{refCount:0};if(!a.handler){var s=b(t);a.handler=s,e.call(this,n,s,r)}a.refCount+=1}catch(t){}return e.call(this,n,i,r)}})),(0,h.hl)(n,"removeEventListener",(function(t){return function(e,n,i){if("click"===e||"keypress"==e)try{var r=this.__sentry_instrumentation_handlers__||{},o=r[e];o&&(o.refCount-=1,o.refCount<=0&&(t.call(this,e,o.handler,i),o.handler=void 0,delete r[e]),0===Object.keys(r).length&&delete this.__sentry_instrumentation_handlers__)}catch(t){}return t.call(this,e,n,i)}})))}))}}();break;case"xhr":!function(){if("XMLHttpRequest"in f){var t=XMLHttpRequest.prototype;(0,h.hl)(t,"open",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=this,r=e[1],o=i.__sentry_xhr__={method:(0,c.HD)(e[0])?e[0].toUpperCase():e[0],url:e[1]};(0,c.HD)(r)&&"POST"===o.method&&r.match(/sentry_key/)&&(i.__sentry_own_request__=!0);var a=function(){if(4===i.readyState){try{o.status_code=i.status}catch(t){}y("xhr",{args:e,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:i})}};return"onreadystatechange"in i&&"function"==typeof i.onreadystatechange?(0,h.hl)(i,"onreadystatechange",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return a(),t.apply(i,e)}})):i.addEventListener("readystatechange",a),t.apply(i,e)}})),(0,h.hl)(t,"send",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.__sentry_xhr__&&void 0!==e[0]&&(this.__sentry_xhr__.body=e[0]),y("xhr",{args:e,startTimestamp:Date.now(),xhr:this}),t.apply(this,e)}}))}}();break;case"fetch":(0,d.t$)()&&(0,h.hl)(f,"fetch",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i={args:e,fetchData:{method:_(e),url:x(e)},startTimestamp:Date.now()};return y("fetch",(0,a.pi)({},i)),t.apply(f,e).then((function(t){return y("fetch",(0,a.pi)((0,a.pi)({},i),{endTimestamp:Date.now(),response:t})),t}),(function(t){throw y("fetch",(0,a.pi)((0,a.pi)({},i),{endTimestamp:Date.now(),error:t})),t}))}}));break;case"history":!function(){if((0,d.Bf)()){var t=f.onpopstate;f.onpopstate=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=f.location.href,o=i;if(i=r,y("history",{from:o,to:r}),t)try{return t.apply(this,e)}catch(t){}},(0,h.hl)(f.history,"pushState",e),(0,h.hl)(f.history,"replaceState",e)}function e(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length>2?e[2]:void 0;if(r){var o=i,a=String(r);i=a,y("history",{from:o,to:a})}return t.apply(this,e)}}}();break;case"error":w=f.onerror,f.onerror=function(t,e,n,i,r){return y("error",{column:i,error:r,line:n,msg:t,url:e}),!!w&&w.apply(this,arguments)};break;case"unhandledrejection":S=f.onunhandledrejection,f.onunhandledrejection=function(t){return y("unhandledrejection",t),!S||S.apply(this,arguments)};break;default:s.h&&u.kg.warn("unknown instrumentation type:",t)}}(t)}function y(t,e){var n,i;if(t&&m[t])try{for(var r=(0,a.XA)(m[t]||[]),o=r.next();!o.done;o=r.next()){var l=o.value;try{l(e)}catch(e){s.h&&u.kg.error("Error while triggering instrumentation handler.\nType: "+t+"\nName: "+(0,p.$P)(l)+"\nError:",e)}}}catch(t){n={error:t}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}function _(t){return void 0===t&&(t=[]),"Request"in f&&(0,c.V9)(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function x(t){return void 0===t&&(t=[]),"string"==typeof t[0]?t[0]:"Request"in f&&(0,c.V9)(t[0],Request)?t[0].url:String(t[0])}function b(t,e){return void 0===e&&(e=!1),function(n){if(n&&o!==n&&!function(t){if("keypress"!==t.type)return!1;try{var e=t.target;if(!e||!e.tagName)return!0;if("INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable)return!1}catch(t){}return!0}(n)){var i="keypress"===n.type?"input":n.type;(void 0===r||function(t,e){if(!t)return!0;if(t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch(t){}return!1}(o,n))&&(t({event:n,name:i,global:e}),o=n),clearTimeout(r),r=f.setTimeout((function(){r=void 0}),1e3)}}}var w=null,S=null},7597:(t,e,n)=>{"use strict";n.d(e,{Cy:()=>g,HD:()=>c,J8:()=>m,Kj:()=>f,PO:()=>h,TX:()=>s,V9:()=>y,VW:()=>a,VZ:()=>r,cO:()=>p,fm:()=>l,i2:()=>v,kK:()=>d,pt:()=>u});var i=Object.prototype.toString;function r(t){switch(i.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return y(t,Error)}}function o(t,e){return i.call(t)==="[object "+e+"]"}function a(t){return o(t,"ErrorEvent")}function s(t){return o(t,"DOMError")}function l(t){return o(t,"DOMException")}function c(t){return o(t,"String")}function u(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function h(t){return o(t,"Object")}function p(t){return"undefined"!=typeof Event&&y(t,Event)}function d(t){return"undefined"!=typeof Element&&y(t,Element)}function f(t){return o(t,"RegExp")}function m(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function g(t){return h(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function v(t){return"number"==typeof t&&t!=t}function y(t,e){try{return t instanceof e}catch(t){return!1}}},2343:(t,e,n)=>{"use strict";n.d(e,{Cf:()=>u,RU:()=>c,kg:()=>i});var i,r=n(655),o=n(8795),a=n(2991),s=(0,a.R)(),l="Sentry Logger ",c=["debug","info","warn","error","log","assert"];function u(t){var e=(0,a.R)();if(!("console"in e))return t();var n=e.console,i={};c.forEach((function(t){var r=n[t]&&n[t].__sentry_original__;t in e.console&&r&&(i[t]=n[t],n[t]=r)}));try{return t()}finally{Object.keys(i).forEach((function(t){n[t]=i[t]}))}}function h(){var t=!1,e={enable:function(){t=!0},disable:function(){t=!1}};return o.h?c.forEach((function(n){e[n]=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];t&&u((function(){var t;(t=s.console)[n].apply(t,(0,r.fl)([l+"["+n+"]:"],e))}))}})):c.forEach((function(t){e[t]=function(){}})),e}i=o.h?(0,a.Y)("logger",h):h()},2844:(t,e,n)=>{"use strict";n.d(e,{DM:()=>a,Db:()=>u,EG:()=>h,YO:()=>p,en:()=>s,jH:()=>c});var i=n(655),r=n(2991),o=n(535);function a(){var t=(0,r.R)(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var i=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return i(n[0])+i(n[1])+i(n[2])+i(n[3])+i(n[4])+i(n[5])+i(n[6])+i(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function s(t){if(!t)return{};var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",i=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+i}}function l(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function c(t){var e=t.message,n=t.event_id;if(e)return e;var i=l(t);return i?i.type&&i.value?i.type+": "+i.value:i.type||i.value||n||"<unknown>":n||"<unknown>"}function u(t,e,n){var i=t.exception=t.exception||{},r=i.values=i.values||[],o=r[0]=r[0]||{};o.value||(o.value=e||""),o.type||(o.type=n||"Error")}function h(t,e){var n=l(t);if(n){var r=n.mechanism;if(n.mechanism=(0,i.pi)((0,i.pi)((0,i.pi)({},{type:"generic",handled:!0}),r),e),e&&"data"in e){var o=(0,i.pi)((0,i.pi)({},r&&r.data),e.data);n.mechanism.data=o}}}function p(t){if(t&&t.__sentry_captured__)return!0;try{(0,o.xp)(t,"__sentry_captured__",!0)}catch(t){}return!1}},2176:(t,e,n)=>{"use strict";function i(){return!("undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function r(t,e){return t.require(e)}function o(e){var n;try{n=r(t,e)}catch(t){}try{var i=r(t,"process").cwd;n=r(t,i()+"/node_modules/"+e)}catch(t){}return n}n.d(e,{l$:()=>r,KV:()=>i,$y:()=>o}),t=n.hmd(t)},535:(t,e,n)=>{"use strict";n.d(e,{$Q:()=>c,HK:()=>u,Jr:()=>g,Sh:()=>p,_j:()=>h,hl:()=>s,xp:()=>l,zf:()=>m});var i=n(655),r=n(8464),o=n(7597),a=n(7321);function s(t,e,n){if(e in t){var i=t[e],r=n(i);if("function"==typeof r)try{c(r,i)}catch(t){}t[e]=r}}function l(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}function c(t,e){var n=e.prototype||{};t.prototype=e.prototype=n,l(t,"__sentry_original__",e)}function u(t){return t.__sentry_original__}function h(t){return Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")}function p(t){var e=t;if((0,o.VZ)(t))e=(0,i.pi)({message:t.message,name:t.name,stack:t.stack},f(t));else if((0,o.cO)(t)){var n=t;e=(0,i.pi)({type:n.type,target:d(n.target),currentTarget:d(n.currentTarget)},f(n)),"undefined"!=typeof CustomEvent&&(0,o.V9)(t,CustomEvent)&&(e.detail=n.detail)}return e}function d(t){try{return(0,o.kK)(t)?(0,r.R)(t):Object.prototype.toString.call(t)}catch(t){return"<unknown>"}}function f(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function m(t,e){void 0===e&&(e=40);var n=Object.keys(p(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return(0,a.$G)(n[0],e);for(var i=n.length;i>0;i--){var r=n.slice(0,i).join(", ");if(!(r.length>e))return i===n.length?r:(0,a.$G)(r,e)}return""}function g(t){var e,n;if((0,o.PO)(t)){var r={};try{for(var a=(0,i.XA)(Object.keys(t)),s=a.next();!s.done;s=a.next()){var l=s.value;void 0!==t[l]&&(r[l]=g(t[l]))}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return r}return Array.isArray(t)?t.map(g):t}},360:(t,e,n)=>{"use strict";n.d(e,{$P:()=>s,pE:()=>r});var i=n(655);function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.sort((function(t,e){return t[0]-e[0]})).map((function(t){return t[1]}));return function(t,e){var r,a,s,l;void 0===e&&(e=0);var c=[];try{for(var u=(0,i.XA)(t.split("\n").slice(e)),h=u.next();!h.done;h=u.next()){var p=h.value;try{for(var d=(s=void 0,(0,i.XA)(n)),f=d.next();!f.done;f=d.next()){var m=(0,f.value)(p);if(m){c.push(m);break}}}catch(t){s={error:t}}finally{try{f&&!f.done&&(l=d.return)&&l.call(d)}finally{if(s)throw s.error}}}}catch(t){r={error:t}}finally{try{h&&!h.done&&(a=u.return)&&a.call(u)}finally{if(r)throw r.error}}return o(c)}}function o(t){if(!t.length)return[];var e=t,n=e[0].function||"",r=e[e.length-1].function||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(e=e.slice(1)),-1!==r.indexOf("sentryWrapped")&&(e=e.slice(0,-1)),e.slice(0,50).map((function(t){return(0,i.pi)((0,i.pi)({},t),{filename:t.filename||e[0].filename,function:t.function||"?"})})).reverse()}var a="<anonymous>";function s(t){try{return t&&"function"==typeof t&&t.name||a}catch(t){return a}}},7321:(t,e,n)=>{"use strict";n.d(e,{$G:()=>r,nK:()=>o,zC:()=>a});var i=n(7597);function r(t,e){return void 0===e&&(e=0),"string"!=typeof t||0===e||t.length<=e?t:t.substr(0,e)+"..."}function o(t,e){if(!Array.isArray(t))return"";for(var n=[],i=0;i<t.length;i++){var r=t[i];try{n.push(String(r))}catch(t){n.push("[value cannot be serialized]")}}return n.join(e)}function a(t,e){return!!(0,i.HD)(t)&&((0,i.Kj)(e)?e.test(t):"string"==typeof e&&-1!==t.indexOf(e))}},8823:(t,e,n)=>{"use strict";n.d(e,{Ak:()=>a,Bf:()=>u,Du:()=>s,hv:()=>c,t$:()=>l});var i=n(8795),r=n(2991),o=n(2343);function a(){if(!("fetch"in(0,r.R)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function s(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function l(){if(!a())return!1;var t=(0,r.R)();if(s(t.fetch))return!0;var e=!1,n=t.document;if(n&&"function"==typeof n.createElement)try{var l=n.createElement("iframe");l.hidden=!0,n.head.appendChild(l),l.contentWindow&&l.contentWindow.fetch&&(e=s(l.contentWindow.fetch)),n.head.removeChild(l)}catch(t){i.h&&o.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return e}function c(){if(!a())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}function u(){var t=(0,r.R)(),e=t.chrome,n=e&&e.app&&e.app.runtime,i="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!n&&i}},6893:(t,e,n)=>{"use strict";n.d(e,{$2:()=>o,WD:()=>r,cW:()=>a});var i=n(7597);function r(t){return new a((function(e){e(t)}))}function o(t){return new a((function(e,n){n(t)}))}var a=function(){function t(t){var e=this;this._state=0,this._handlers=[],this._resolve=function(t){e._setResult(1,t)},this._reject=function(t){e._setResult(2,t)},this._setResult=function(t,n){0===e._state&&((0,i.J8)(n)?n.then(e._resolve,e._reject):(e._state=t,e._value=n,e._executeHandlers()))},this._executeHandlers=function(){if(0!==e._state){var t=e._handlers.slice();e._handlers=[],t.forEach((function(t){t[0]||(1===e._state&&t[1](e._value),2===e._state&&t[2](e._value),t[0]=!0)}))}};try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}return t.prototype.then=function(e,n){var i=this;return new t((function(t,r){i._handlers.push([!1,function(n){if(e)try{t(e(n))}catch(t){r(t)}else t(n)},function(e){if(n)try{t(n(e))}catch(t){r(t)}else r(e)}]),i._executeHandlers()}))},t.prototype.catch=function(t){return this.then((function(t){return t}),t)},t.prototype.finally=function(e){var n=this;return new t((function(t,i){var r,o;return n.then((function(t){o=!1,r=t,e&&e()}),(function(t){o=!0,r=t,e&&e()})).then((function(){o?i(r):t(r)}))}))},t}()},1170:(t,e,n)=>{"use strict";n.d(e,{Z1:()=>h,_I:()=>u,ph:()=>c,yW:()=>l});var i=n(2991),r=n(2176);t=n.hmd(t);var o={nowSeconds:function(){return Date.now()/1e3}},a=(0,r.KV)()?function(){try{return(0,r.l$)(t,"perf_hooks").performance}catch(t){return}}():function(){var t=(0,i.R)().performance;if(t&&t.now)return{now:function(){return t.now()},timeOrigin:Date.now()-t.now()}}(),s=void 0===a?o:{nowSeconds:function(){return(a.timeOrigin+a.now())/1e3}},l=o.nowSeconds.bind(o),c=s.nowSeconds.bind(s),u=c,h=function(){var t=(0,i.R)().performance;if(t&&t.now){var e=36e5,n=t.now(),r=Date.now(),o=t.timeOrigin?Math.abs(t.timeOrigin+n-r):e,a=o<e,s=t.timing&&t.timing.navigationStart,l="number"==typeof s?Math.abs(s+n-r):e;return a||l<e?o<=l?t.timeOrigin:s:r}}()},6194:(t,e,n)=>{"use strict";n.d(e,{kX:()=>u,oY:()=>r});var i,r={Linear:{None:function(t){return t}},Quadratic:{In:function(t){return t*t},Out:function(t){return t*(2-t)},InOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)}},Cubic:{In:function(t){return t*t*t},Out:function(t){return--t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)}},Quartic:{In:function(t){return t*t*t*t},Out:function(t){return 1- --t*t*t*t},InOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)}},Quintic:{In:function(t){return t*t*t*t*t},Out:function(t){return--t*t*t*t*t+1},InOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)}},Sinusoidal:{In:function(t){return 1-Math.cos(t*Math.PI/2)},Out:function(t){return Math.sin(t*Math.PI/2)},InOut:function(t){return.5*(1-Math.cos(Math.PI*t))}},Exponential:{In:function(t){return 0===t?0:Math.pow(1024,t-1)},Out:function(t){return 1===t?1:1-Math.pow(2,-10*t)},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))}},Circular:{In:function(t){return 1-Math.sqrt(1-t*t)},Out:function(t){return Math.sqrt(1- --t*t)},InOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)}},Elastic:{In:function(t){return 0===t?0:1===t?1:-Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)},Out:function(t){return 0===t?0:1===t?1:Math.pow(2,-10*t)*Math.sin(5*(t-.1)*Math.PI)+1},InOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?-.5*Math.pow(2,10*(t-1))*Math.sin(5*(t-1.1)*Math.PI):.5*Math.pow(2,-10*(t-1))*Math.sin(5*(t-1.1)*Math.PI)+1}},Back:{In:function(t){var e=1.70158;return t*t*((e+1)*t-e)},Out:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},InOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)}},Bounce:{In:function(t){return 1-r.Bounce.Out(1-t)},Out:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},InOut:function(t){return t<.5?.5*r.Bounce.In(2*t):.5*r.Bounce.Out(2*t-1)+.5}}},o="undefined"==typeof self&&"undefined"!=typeof process&&process.hrtime?function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof self&&void 0!==self.performance&&void 0!==self.performance.now?self.performance.now.bind(self.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},a=function(){function t(){this._tweens={},this._tweensAddedDuringUpdate={}}return t.prototype.getAll=function(){var t=this;return Object.keys(this._tweens).map((function(e){return t._tweens[e]}))},t.prototype.removeAll=function(){this._tweens={}},t.prototype.add=function(t){this._tweens[t.getId()]=t,this._tweensAddedDuringUpdate[t.getId()]=t},t.prototype.remove=function(t){delete this._tweens[t.getId()],delete this._tweensAddedDuringUpdate[t.getId()]},t.prototype.update=function(t,e){void 0===t&&(t=o()),void 0===e&&(e=!1);var n=Object.keys(this._tweens);if(0===n.length)return!1;for(;n.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<n.length;i++){var r=this._tweens[n[i]],a=!e;r&&!1===r.update(t,a)&&!e&&delete this._tweens[n[i]]}n=Object.keys(this._tweensAddedDuringUpdate)}return!0},t}(),s={Linear:function(t,e){var n=t.length-1,i=n*e,r=Math.floor(i),o=s.Utils.Linear;return e<0?o(t[0],t[1],i):e>1?o(t[n],t[n-1],n-i):o(t[r],t[r+1>n?n:r+1],i-r)},Bezier:function(t,e){for(var n=0,i=t.length-1,r=Math.pow,o=s.Utils.Bernstein,a=0;a<=i;a++)n+=r(1-e,i-a)*r(e,a)*t[a]*o(i,a);return n},CatmullRom:function(t,e){var n=t.length-1,i=n*e,r=Math.floor(i),o=s.Utils.CatmullRom;return t[0]===t[n]?(e<0&&(r=Math.floor(i=n*(1+e))),o(t[(r-1+n)%n],t[r],t[(r+1)%n],t[(r+2)%n],i-r)):e<0?t[0]-(o(t[0],t[0],t[1],t[1],-i)-t[0]):e>1?t[n]-(o(t[n],t[n],t[n-1],t[n-1],i-n)-t[n]):o(t[r?r-1:0],t[r],t[n<r+1?n:r+1],t[n<r+2?n:r+2],i-r)},Utils:{Linear:function(t,e,n){return(e-t)*n+t},Bernstein:function(t,e){var n=s.Utils.Factorial;return n(t)/n(e)/n(t-e)},Factorial:(i=[1],function(t){var e=1;if(i[t])return i[t];for(var n=t;n>1;n--)e*=n;return i[t]=e,e}),CatmullRom:function(t,e,n,i,r){var o=.5*(n-t),a=.5*(i-e),s=r*r;return(2*e-2*n+o+a)*(r*s)+(-3*e+3*n-2*o-a)*s+o*r+e}}},l=function(){function t(){}return t.nextId=function(){return t._nextId++},t._nextId=0,t}(),c=new a,u=function(){function t(t,e){void 0===e&&(e=c),this._object=t,this._group=e,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=r.Linear.None,this._interpolationFunction=s.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._id=l.nextId(),this._isChainStopped=!1,this._goToEnd=!1}return t.prototype.getId=function(){return this._id},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isPaused=function(){return this._isPaused},t.prototype.to=function(t,e){return this._valuesEnd=Object.create(t),void 0!==e&&(this._duration=e),this},t.prototype.duration=function(t){return this._duration=t,this},t.prototype.start=function(t){if(this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed)for(var e in this._reversed=!1,this._valuesStartRepeat)this._swapEndStartRepeatValues(e),this._valuesStart[e]=this._valuesStartRepeat[e];return this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=void 0!==t?"string"==typeof t?o()+parseFloat(t):t:o(),this._startTime+=this._delayTime,this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat),this},t.prototype._setupProperties=function(t,e,n,i){for(var r in n){var o=t[r],a=Array.isArray(o),s=a?"array":typeof o,l=!a&&Array.isArray(n[r]);if("undefined"!==s&&"function"!==s){if(l){var c=n[r];if(0===c.length)continue;c=c.map(this._handleRelativeValue.bind(this,o)),n[r]=[o].concat(c)}if("object"!==s&&!a||!o||l)void 0===e[r]&&(e[r]=o),a||(e[r]*=1),i[r]=l?n[r].slice().reverse():e[r]||0;else{for(var u in e[r]=a?[]:{},o)e[r][u]=o[u];i[r]=a?[]:{},this._setupProperties(o,e[r],n[r],i[r])}}}},t.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},t.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},t.prototype.pause=function(t){return void 0===t&&(t=o()),this._isPaused||!this._isPlaying||(this._isPaused=!0,this._pauseStart=t,this._group&&this._group.remove(this)),this},t.prototype.resume=function(t){return void 0===t&&(t=o()),this._isPaused&&this._isPlaying?(this._isPaused=!1,this._startTime+=t-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this):this},t.prototype.stopChainedTweens=function(){for(var t=0,e=this._chainedTweens.length;t<e;t++)this._chainedTweens[t].stop();return this},t.prototype.group=function(t){return this._group=t,this},t.prototype.delay=function(t){return this._delayTime=t,this},t.prototype.repeat=function(t){return this._initialRepeat=t,this._repeat=t,this},t.prototype.repeatDelay=function(t){return this._repeatDelayTime=t,this},t.prototype.yoyo=function(t){return this._yoyo=t,this},t.prototype.easing=function(t){return this._easingFunction=t,this},t.prototype.interpolation=function(t){return this._interpolationFunction=t,this},t.prototype.chain=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._chainedTweens=t,this},t.prototype.onStart=function(t){return this._onStartCallback=t,this},t.prototype.onUpdate=function(t){return this._onUpdateCallback=t,this},t.prototype.onRepeat=function(t){return this._onRepeatCallback=t,this},t.prototype.onComplete=function(t){return this._onCompleteCallback=t,this},t.prototype.onStop=function(t){return this._onStopCallback=t,this},t.prototype.update=function(t,e){if(void 0===t&&(t=o()),void 0===e&&(e=!0),this._isPaused)return!0;var n,i,r=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(t>r)return!1;e&&this.start(t)}if(this._goToEnd=!1,t<this._startTime)return!0;!1===this._onStartCallbackFired&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),i=(t-this._startTime)/this._duration,i=0===this._duration||i>1?1:i;var a=this._easingFunction(i);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,a),this._onUpdateCallback&&this._onUpdateCallback(this._object,i),1===i){if(this._repeat>0){for(n in isFinite(this._repeat)&&this._repeat--,this._valuesStartRepeat)this._yoyo||"string"!=typeof this._valuesEnd[n]||(this._valuesStartRepeat[n]=this._valuesStartRepeat[n]+parseFloat(this._valuesEnd[n])),this._yoyo&&this._swapEndStartRepeatValues(n),this._valuesStart[n]=this._valuesStartRepeat[n];return this._yoyo&&(this._reversed=!this._reversed),void 0!==this._repeatDelayTime?this._startTime=t+this._repeatDelayTime:this._startTime=t+this._delayTime,this._onRepeatCallback&&this._onRepeatCallback(this._object),!0}this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var s=0,l=this._chainedTweens.length;s<l;s++)this._chainedTweens[s].start(this._startTime+this._duration);return this._isPlaying=!1,!1}return!0},t.prototype._updateProperties=function(t,e,n,i){for(var r in n)if(void 0!==e[r]){var o=e[r]||0,a=n[r],s=Array.isArray(t[r]),l=Array.isArray(a);!s&&l?t[r]=this._interpolationFunction(a,i):"object"==typeof a&&a?this._updateProperties(t[r],o,a,i):"number"==typeof(a=this._handleRelativeValue(o,a))&&(t[r]=o+(a-o)*i)}},t.prototype._handleRelativeValue=function(t,e){return"string"!=typeof e?e:"+"===e.charAt(0)||"-"===e.charAt(0)?t+parseFloat(e):parseFloat(e)},t.prototype._swapEndStartRepeatValues=function(t){var e=this._valuesStartRepeat[t],n=this._valuesEnd[t];this._valuesStartRepeat[t]="string"==typeof n?this._valuesStartRepeat[t]+parseFloat(n):this._valuesEnd[t],this._valuesEnd[t]=e},t}(),h=(l.nextId,c);h.getAll.bind(h),h.removeAll.bind(h),h.add.bind(h),h.remove.bind(h),h.update.bind(h)},5169:(t,e,n)=>{"use strict";n.d(e,{u_:()=>Un});var i={};n.r(i),n.d(i,{afterMain:()=>S,afterRead:()=>x,afterWrite:()=>E,applyStyles:()=>R,arrow:()=>K,auto:()=>l,basePlacements:()=>c,beforeMain:()=>b,beforeRead:()=>y,beforeWrite:()=>M,bottom:()=>o,clippingParents:()=>p,computeStyles:()=>et,createPopper:()=>It,createPopperBase:()=>Lt,createPopperLite:()=>Dt,detectOverflow:()=>gt,end:()=>h,eventListeners:()=>it,flip:()=>vt,hide:()=>xt,left:()=>s,main:()=>w,modifierPhases:()=>A,offset:()=>bt,placements:()=>v,popper:()=>f,popperGenerator:()=>Ct,popperOffsets:()=>wt,preventOverflow:()=>St,read:()=>_,reference:()=>m,right:()=>a,start:()=>u,top:()=>r,variationPlacements:()=>g,viewport:()=>d,write:()=>T});var r="top",o="bottom",a="right",s="left",l="auto",c=[r,o,a,s],u="start",h="end",p="clippingParents",d="viewport",f="popper",m="reference",g=c.reduce((function(t,e){return t.concat([e+"-"+u,e+"-"+h])}),[]),v=[].concat(c,[l]).reduce((function(t,e){return t.concat([e,e+"-"+u,e+"-"+h])}),[]),y="beforeRead",_="read",x="afterRead",b="beforeMain",w="main",S="afterMain",M="beforeWrite",T="write",E="afterWrite",A=[y,_,x,b,w,S,M,T,E];function C(t){return t?(t.nodeName||"").toLowerCase():null}function L(t){if(null==t)return window;if("[object Window]"!==t.toString()){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function I(t){return t instanceof L(t).Element||t instanceof Element}function D(t){return t instanceof L(t).HTMLElement||t instanceof HTMLElement}function P(t){return"undefined"!=typeof ShadowRoot&&(t instanceof L(t).ShadowRoot||t instanceof ShadowRoot)}const R={name:"applyStyles",enabled:!0,phase:"write",fn:function(t){var e=t.state;Object.keys(e.elements).forEach((function(t){var n=e.styles[t]||{},i=e.attributes[t]||{},r=e.elements[t];D(r)&&C(r)&&(Object.assign(r.style,n),Object.keys(i).forEach((function(t){var e=i[t];!1===e?r.removeAttribute(t):r.setAttribute(t,!0===e?"":e)})))}))},effect:function(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach((function(t){var i=e.elements[t],r=e.attributes[t]||{},o=Object.keys(e.styles.hasOwnProperty(t)?e.styles[t]:n[t]).reduce((function(t,e){return t[e]="",t}),{});D(i)&&C(i)&&(Object.assign(i.style,o),Object.keys(r).forEach((function(t){i.removeAttribute(t)})))}))}},requires:["computeStyles"]};function O(t){return t.split("-")[0]}var k=Math.max,N=Math.min,z=Math.round;function B(t,e){void 0===e&&(e=!1);var n=t.getBoundingClientRect(),i=1,r=1;if(D(t)&&e){var o=t.offsetHeight,a=t.offsetWidth;a>0&&(i=z(n.width)/a||1),o>0&&(r=z(n.height)/o||1)}return{width:n.width/i,height:n.height/r,top:n.top/r,right:n.right/i,bottom:n.bottom/r,left:n.left/i,x:n.left/i,y:n.top/r}}function F(t){var e=B(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function U(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&P(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function H(t){return L(t).getComputedStyle(t)}function V(t){return["table","td","th"].indexOf(C(t))>=0}function G(t){return((I(t)?t.ownerDocument:t.document)||window.document).documentElement}function j(t){return"html"===C(t)?t:t.assignedSlot||t.parentNode||(P(t)?t.host:null)||G(t)}function W(t){return D(t)&&"fixed"!==H(t).position?t.offsetParent:null}function Z(t){for(var e=L(t),n=W(t);n&&V(n)&&"static"===H(n).position;)n=W(n);return n&&("html"===C(n)||"body"===C(n)&&"static"===H(n).position)?e:n||function(t){var e=-1!==navigator.userAgent.toLowerCase().indexOf("firefox");if(-1!==navigator.userAgent.indexOf("Trident")&&D(t)&&"fixed"===H(t).position)return null;var n=j(t);for(P(n)&&(n=n.host);D(n)&&["html","body"].indexOf(C(n))<0;){var i=H(n);if("none"!==i.transform||"none"!==i.perspective||"paint"===i.contain||-1!==["transform","perspective"].indexOf(i.willChange)||e&&"filter"===i.willChange||e&&i.filter&&"none"!==i.filter)return n;n=n.parentNode}return null}(t)||e}function q(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function X(t,e,n){return k(t,N(e,n))}function Y(t){return Object.assign({},{top:0,right:0,bottom:0,left:0},t)}function J(t,e){return e.reduce((function(e,n){return e[n]=t,e}),{})}const K={name:"arrow",enabled:!0,phase:"main",fn:function(t){var e,n=t.state,i=t.name,l=t.options,u=n.elements.arrow,h=n.modifiersData.popperOffsets,p=O(n.placement),d=q(p),f=[s,a].indexOf(p)>=0?"height":"width";if(u&&h){var m=function(t,e){return Y("number"!=typeof(t="function"==typeof t?t(Object.assign({},e.rects,{placement:e.placement})):t)?t:J(t,c))}(l.padding,n),g=F(u),v="y"===d?r:s,y="y"===d?o:a,_=n.rects.reference[f]+n.rects.reference[d]-h[d]-n.rects.popper[f],x=h[d]-n.rects.reference[d],b=Z(u),w=b?"y"===d?b.clientHeight||0:b.clientWidth||0:0,S=_/2-x/2,M=m[v],T=w-g[f]-m[y],E=w/2-g[f]/2+S,A=X(M,E,T),C=d;n.modifiersData[i]=((e={})[C]=A,e.centerOffset=A-E,e)}},effect:function(t){var e=t.state,n=t.options.element,i=void 0===n?"[data-popper-arrow]":n;null!=i&&("string"!=typeof i||(i=e.elements.popper.querySelector(i)))&&U(e.elements.popper,i)&&(e.elements.arrow=i)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function $(t){return t.split("-")[1]}var Q={top:"auto",right:"auto",bottom:"auto",left:"auto"};function tt(t){var e,n=t.popper,i=t.popperRect,l=t.placement,c=t.variation,u=t.offsets,p=t.position,d=t.gpuAcceleration,f=t.adaptive,m=t.roundOffsets,g=t.isFixed,v=u.x,y=void 0===v?0:v,_=u.y,x=void 0===_?0:_,b="function"==typeof m?m({x:y,y:x}):{x:y,y:x};y=b.x,x=b.y;var w=u.hasOwnProperty("x"),S=u.hasOwnProperty("y"),M=s,T=r,E=window;if(f){var A=Z(n),C="clientHeight",I="clientWidth";A===L(n)&&"static"!==H(A=G(n)).position&&"absolute"===p&&(C="scrollHeight",I="scrollWidth"),(l===r||(l===s||l===a)&&c===h)&&(T=o,x-=(g&&A===E&&E.visualViewport?E.visualViewport.height:A[C])-i.height,x*=d?1:-1),l!==s&&(l!==r&&l!==o||c!==h)||(M=a,y-=(g&&A===E&&E.visualViewport?E.visualViewport.width:A[I])-i.width,y*=d?1:-1)}var D,P=Object.assign({position:p},f&&Q),R=!0===m?function(t){var e=t.x,n=t.y,i=window.devicePixelRatio||1;return{x:z(e*i)/i||0,y:z(n*i)/i||0}}({x:y,y:x}):{x:y,y:x};return y=R.x,x=R.y,d?Object.assign({},P,((D={})[T]=S?"0":"",D[M]=w?"0":"",D.transform=(E.devicePixelRatio||1)<=1?"translate("+y+"px, "+x+"px)":"translate3d("+y+"px, "+x+"px, 0)",D)):Object.assign({},P,((e={})[T]=S?x+"px":"",e[M]=w?y+"px":"",e.transform="",e))}const et={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=void 0===i||i,o=n.adaptive,a=void 0===o||o,s=n.roundOffsets,l=void 0===s||s,c={placement:O(e.placement),variation:$(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:"fixed"===e.options.strategy};null!=e.modifiersData.popperOffsets&&(e.styles.popper=Object.assign({},e.styles.popper,tt(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:l})))),null!=e.modifiersData.arrow&&(e.styles.arrow=Object.assign({},e.styles.arrow,tt(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})},data:{}};var nt={passive:!0};const it={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,o=void 0===r||r,a=i.resize,s=void 0===a||a,l=L(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&c.forEach((function(t){t.addEventListener("scroll",n.update,nt)})),s&&l.addEventListener("resize",n.update,nt),function(){o&&c.forEach((function(t){t.removeEventListener("scroll",n.update,nt)})),s&&l.removeEventListener("resize",n.update,nt)}},data:{}};var rt={left:"right",right:"left",bottom:"top",top:"bottom"};function ot(t){return t.replace(/left|right|bottom|top/g,(function(t){return rt[t]}))}var at={start:"end",end:"start"};function st(t){return t.replace(/start|end/g,(function(t){return at[t]}))}function lt(t){var e=L(t);return{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function ct(t){return B(G(t)).left+lt(t).scrollLeft}function ut(t){var e=H(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function ht(t){return["html","body","#document"].indexOf(C(t))>=0?t.ownerDocument.body:D(t)&&ut(t)?t:ht(j(t))}function pt(t,e){var n;void 0===e&&(e=[]);var i=ht(t),r=i===(null==(n=t.ownerDocument)?void 0:n.body),o=L(i),a=r?[o].concat(o.visualViewport||[],ut(i)?i:[]):i,s=e.concat(a);return r?s:s.concat(pt(j(a)))}function dt(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function ft(t,e){return e===d?dt(function(t){var e=L(t),n=G(t),i=e.visualViewport,r=n.clientWidth,o=n.clientHeight,a=0,s=0;return i&&(r=i.width,o=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(a=i.offsetLeft,s=i.offsetTop)),{width:r,height:o,x:a+ct(t),y:s}}(t)):I(e)?function(t){var e=B(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}(e):dt(function(t){var e,n=G(t),i=lt(t),r=null==(e=t.ownerDocument)?void 0:e.body,o=k(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),a=k(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),s=-i.scrollLeft+ct(t),l=-i.scrollTop;return"rtl"===H(r||n).direction&&(s+=k(n.clientWidth,r?r.clientWidth:0)-o),{width:o,height:a,x:s,y:l}}(G(t)))}function mt(t){var e,n=t.reference,i=t.element,l=t.placement,c=l?O(l):null,p=l?$(l):null,d=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2;switch(c){case r:e={x:d,y:n.y-i.height};break;case o:e={x:d,y:n.y+n.height};break;case a:e={x:n.x+n.width,y:f};break;case s:e={x:n.x-i.width,y:f};break;default:e={x:n.x,y:n.y}}var m=c?q(c):null;if(null!=m){var g="y"===m?"height":"width";switch(p){case u:e[m]=e[m]-(n[g]/2-i[g]/2);break;case h:e[m]=e[m]+(n[g]/2-i[g]/2)}}return e}function gt(t,e){void 0===e&&(e={});var n=e,i=n.placement,s=void 0===i?t.placement:i,l=n.boundary,u=void 0===l?p:l,h=n.rootBoundary,g=void 0===h?d:h,v=n.elementContext,y=void 0===v?f:v,_=n.altBoundary,x=void 0!==_&&_,b=n.padding,w=void 0===b?0:b,S=Y("number"!=typeof w?w:J(w,c)),M=y===f?m:f,T=t.rects.popper,E=t.elements[x?M:y],A=function(t,e,n){var i="clippingParents"===e?function(t){var e=pt(j(t)),n=["absolute","fixed"].indexOf(H(t).position)>=0&&D(t)?Z(t):t;return I(n)?e.filter((function(t){return I(t)&&U(t,n)&&"body"!==C(t)})):[]}(t):[].concat(e),r=[].concat(i,[n]),o=r[0],a=r.reduce((function(e,n){var i=ft(t,n);return e.top=k(i.top,e.top),e.right=N(i.right,e.right),e.bottom=N(i.bottom,e.bottom),e.left=k(i.left,e.left),e}),ft(t,o));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}(I(E)?E:E.contextElement||G(t.elements.popper),u,g),L=B(t.elements.reference),P=mt({reference:L,element:T,strategy:"absolute",placement:s}),R=dt(Object.assign({},T,P)),O=y===f?R:L,z={top:A.top-O.top+S.top,bottom:O.bottom-A.bottom+S.bottom,left:A.left-O.left+S.left,right:O.right-A.right+S.right},F=t.modifiersData.offset;if(y===f&&F){var V=F[s];Object.keys(z).forEach((function(t){var e=[a,o].indexOf(t)>=0?1:-1,n=[r,o].indexOf(t)>=0?"y":"x";z[t]+=V[n]*e}))}return z}const vt={name:"flip",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var h=n.mainAxis,p=void 0===h||h,d=n.altAxis,f=void 0===d||d,m=n.fallbackPlacements,y=n.padding,_=n.boundary,x=n.rootBoundary,b=n.altBoundary,w=n.flipVariations,S=void 0===w||w,M=n.allowedAutoPlacements,T=e.options.placement,E=O(T),A=m||(E!==T&&S?function(t){if(O(t)===l)return[];var e=ot(t);return[st(t),e,st(e)]}(T):[ot(T)]),C=[T].concat(A).reduce((function(t,n){return t.concat(O(n)===l?function(t,e){void 0===e&&(e={});var n=e,i=n.placement,r=n.boundary,o=n.rootBoundary,a=n.padding,s=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?v:l,h=$(i),p=h?s?g:g.filter((function(t){return $(t)===h})):c,d=p.filter((function(t){return u.indexOf(t)>=0}));0===d.length&&(d=p);var f=d.reduce((function(e,n){return e[n]=gt(t,{placement:n,boundary:r,rootBoundary:o,padding:a})[O(n)],e}),{});return Object.keys(f).sort((function(t,e){return f[t]-f[e]}))}(e,{placement:n,boundary:_,rootBoundary:x,padding:y,flipVariations:S,allowedAutoPlacements:M}):n)}),[]),L=e.rects.reference,I=e.rects.popper,D=new Map,P=!0,R=C[0],k=0;k<C.length;k++){var N=C[k],z=O(N),B=$(N)===u,F=[r,o].indexOf(z)>=0,U=F?"width":"height",H=gt(e,{placement:N,boundary:_,rootBoundary:x,altBoundary:b,padding:y}),V=F?B?a:s:B?o:r;L[U]>I[U]&&(V=ot(V));var G=ot(V),j=[];if(p&&j.push(H[z]<=0),f&&j.push(H[V]<=0,H[G]<=0),j.every((function(t){return t}))){R=N,P=!1;break}D.set(N,j)}if(P)for(var W=function(t){var e=C.find((function(e){var n=D.get(e);if(n)return n.slice(0,t).every((function(t){return t}))}));if(e)return R=e,"break"},Z=S?3:1;Z>0&&"break"!==W(Z);Z--);e.placement!==R&&(e.modifiersData[i]._skip=!0,e.placement=R,e.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function yt(t,e,n){return void 0===n&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function _t(t){return[r,a,o,s].some((function(e){return t[e]>=0}))}const xt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,o=e.modifiersData.preventOverflow,a=gt(e,{elementContext:"reference"}),s=gt(e,{altBoundary:!0}),l=yt(a,i),c=yt(s,r,o),u=_t(l),h=_t(c);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:c,isReferenceHidden:u,hasPopperEscaped:h},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":u,"data-popper-escaped":h})}},bt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(t){var e=t.state,n=t.options,i=t.name,o=n.offset,l=void 0===o?[0,0]:o,c=v.reduce((function(t,n){return t[n]=function(t,e,n){var i=O(t),o=[s,r].indexOf(i)>=0?-1:1,l="function"==typeof n?n(Object.assign({},e,{placement:t})):n,c=l[0],u=l[1];return c=c||0,u=(u||0)*o,[s,a].indexOf(i)>=0?{x:u,y:c}:{x:c,y:u}}(n,e.rects,l),t}),{}),u=c[e.placement],h=u.x,p=u.y;null!=e.modifiersData.popperOffsets&&(e.modifiersData.popperOffsets.x+=h,e.modifiersData.popperOffsets.y+=p),e.modifiersData[i]=c}},wt={name:"popperOffsets",enabled:!0,phase:"read",fn:function(t){var e=t.state,n=t.name;e.modifiersData[n]=mt({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})},data:{}},St={name:"preventOverflow",enabled:!0,phase:"main",fn:function(t){var e=t.state,n=t.options,i=t.name,l=n.mainAxis,c=void 0===l||l,h=n.altAxis,p=void 0!==h&&h,d=n.boundary,f=n.rootBoundary,m=n.altBoundary,g=n.padding,v=n.tether,y=void 0===v||v,_=n.tetherOffset,x=void 0===_?0:_,b=gt(e,{boundary:d,rootBoundary:f,padding:g,altBoundary:m}),w=O(e.placement),S=$(e.placement),M=!S,T=q(w),E="x"===T?"y":"x",A=e.modifiersData.popperOffsets,C=e.rects.reference,L=e.rects.popper,I="function"==typeof x?x(Object.assign({},e.rects,{placement:e.placement})):x,D="number"==typeof I?{mainAxis:I,altAxis:I}:Object.assign({mainAxis:0,altAxis:0},I),P=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,R={x:0,y:0};if(A){if(c){var z,B="y"===T?r:s,U="y"===T?o:a,H="y"===T?"height":"width",V=A[T],G=V+b[B],j=V-b[U],W=y?-L[H]/2:0,Y=S===u?C[H]:L[H],J=S===u?-L[H]:-C[H],K=e.elements.arrow,Q=y&&K?F(K):{width:0,height:0},tt=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},et=tt[B],nt=tt[U],it=X(0,C[H],Q[H]),rt=M?C[H]/2-W-it-et-D.mainAxis:Y-it-et-D.mainAxis,ot=M?-C[H]/2+W+it+nt+D.mainAxis:J+it+nt+D.mainAxis,at=e.elements.arrow&&Z(e.elements.arrow),st=at?"y"===T?at.clientTop||0:at.clientLeft||0:0,lt=null!=(z=null==P?void 0:P[T])?z:0,ct=V+ot-lt,ut=X(y?N(G,V+rt-lt-st):G,V,y?k(j,ct):j);A[T]=ut,R[T]=ut-V}if(p){var ht,pt="x"===T?r:s,dt="x"===T?o:a,ft=A[E],mt="y"===E?"height":"width",vt=ft+b[pt],yt=ft-b[dt],_t=-1!==[r,s].indexOf(w),xt=null!=(ht=null==P?void 0:P[E])?ht:0,bt=_t?vt:ft-C[mt]-L[mt]-xt+D.altAxis,wt=_t?ft+C[mt]+L[mt]-xt-D.altAxis:yt,St=y&&_t?function(t,e,n){var i=X(t,e,n);return i>n?n:i}(bt,ft,wt):X(y?bt:vt,ft,y?wt:yt);A[E]=St,R[E]=St-ft}e.modifiersData[i]=R}},requiresIfExists:["offset"]};function Mt(t,e,n){void 0===n&&(n=!1);var i,r,o=D(e),a=D(e)&&function(t){var e=t.getBoundingClientRect(),n=z(e.width)/t.offsetWidth||1,i=z(e.height)/t.offsetHeight||1;return 1!==n||1!==i}(e),s=G(e),l=B(t,a),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(o||!o&&!n)&&(("body"!==C(e)||ut(s))&&(c=(i=e)!==L(i)&&D(i)?{scrollLeft:(r=i).scrollLeft,scrollTop:r.scrollTop}:lt(i)),D(e)?((u=B(e,!0)).x+=e.clientLeft,u.y+=e.clientTop):s&&(u.x=ct(s))),{x:l.left+c.scrollLeft-u.x,y:l.top+c.scrollTop-u.y,width:l.width,height:l.height}}function Tt(t){var e=new Map,n=new Set,i=[];function r(t){n.add(t.name),[].concat(t.requires||[],t.requiresIfExists||[]).forEach((function(t){if(!n.has(t)){var i=e.get(t);i&&r(i)}})),i.push(t)}return t.forEach((function(t){e.set(t.name,t)})),t.forEach((function(t){n.has(t.name)||r(t)})),i}var Et={placement:"bottom",modifiers:[],strategy:"absolute"};function At(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some((function(t){return!(t&&"function"==typeof t.getBoundingClientRect)}))}function Ct(t){void 0===t&&(t={});var e=t,n=e.defaultModifiers,i=void 0===n?[]:n,r=e.defaultOptions,o=void 0===r?Et:r;return function(t,e,n){void 0===n&&(n=o);var r,a,s={placement:"bottom",orderedModifiers:[],options:Object.assign({},Et,o),modifiersData:{},elements:{reference:t,popper:e},attributes:{},styles:{}},l=[],c=!1,u={state:s,setOptions:function(n){var r="function"==typeof n?n(s.options):n;h(),s.options=Object.assign({},o,s.options,r),s.scrollParents={reference:I(t)?pt(t):t.contextElement?pt(t.contextElement):[],popper:pt(e)};var a,c,p=function(t){var e=Tt(t);return A.reduce((function(t,n){return t.concat(e.filter((function(t){return t.phase===n})))}),[])}((a=[].concat(i,s.options.modifiers),c=a.reduce((function(t,e){var n=t[e.name];return t[e.name]=n?Object.assign({},n,e,{options:Object.assign({},n.options,e.options),data:Object.assign({},n.data,e.data)}):e,t}),{}),Object.keys(c).map((function(t){return c[t]}))));return s.orderedModifiers=p.filter((function(t){return t.enabled})),s.orderedModifiers.forEach((function(t){var e=t.name,n=t.options,i=void 0===n?{}:n,r=t.effect;if("function"==typeof r){var o=r({state:s,name:e,instance:u,options:i});l.push(o||function(){})}})),u.update()},forceUpdate:function(){if(!c){var t=s.elements,e=t.reference,n=t.popper;if(At(e,n)){s.rects={reference:Mt(e,Z(n),"fixed"===s.options.strategy),popper:F(n)},s.reset=!1,s.placement=s.options.placement,s.orderedModifiers.forEach((function(t){return s.modifiersData[t.name]=Object.assign({},t.data)}));for(var i=0;i<s.orderedModifiers.length;i++)if(!0!==s.reset){var r=s.orderedModifiers[i],o=r.fn,a=r.options,l=void 0===a?{}:a,h=r.name;"function"==typeof o&&(s=o({state:s,options:l,name:h,instance:u})||s)}else s.reset=!1,i=-1}}},update:(r=function(){return new Promise((function(t){u.forceUpdate(),t(s)}))},function(){return a||(a=new Promise((function(t){Promise.resolve().then((function(){a=void 0,t(r())}))}))),a}),destroy:function(){h(),c=!0}};if(!At(t,e))return u;function h(){l.forEach((function(t){return t()})),l=[]}return u.setOptions(n).then((function(t){!c&&n.onFirstUpdate&&n.onFirstUpdate(t)})),u}}var Lt=Ct(),It=Ct({defaultModifiers:[it,wt,et,R,bt,vt,St,K,xt]}),Dt=Ct({defaultModifiers:[it,wt,et,R]});const Pt="transitionend",Rt=t=>{let e=t.getAttribute("data-bs-target");if(!e||"#"===e){let n=t.getAttribute("href");if(!n||!n.includes("#")&&!n.startsWith("."))return null;n.includes("#")&&!n.startsWith("#")&&(n=`#${n.split("#")[1]}`),e=n&&"#"!==n?n.trim():null}return e},Ot=t=>{const e=Rt(t);return e&&document.querySelector(e)?e:null},kt=t=>{const e=Rt(t);return e?document.querySelector(e):null},Nt=t=>{t.dispatchEvent(new Event(Pt))},zt=t=>!(!t||"object"!=typeof t)&&(void 0!==t.jquery&&(t=t[0]),void 0!==t.nodeType),Bt=t=>zt(t)?t.jquery?t[0]:t:"string"==typeof t&&t.length>0?document.querySelector(t):null,Ft=(t,e,n)=>{Object.keys(n).forEach((i=>{const r=n[i],o=e[i],a=o&&zt(o)?"element":null==(s=o)?`${s}`:{}.toString.call(s).match(/\s([a-z]+)/i)[1].toLowerCase();var s;if(!new RegExp(r).test(a))throw new TypeError(`${t.toUpperCase()}: Option "${i}" provided type "${a}" but expected type "${r}".`)}))},Ut=t=>!(!zt(t)||0===t.getClientRects().length)&&"visible"===getComputedStyle(t).getPropertyValue("visibility"),Ht=t=>!t||t.nodeType!==Node.ELEMENT_NODE||!!t.classList.contains("disabled")||(void 0!==t.disabled?t.disabled:t.hasAttribute("disabled")&&"false"!==t.getAttribute("disabled")),Vt=t=>{if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){const e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?Vt(t.parentNode):null},Gt=()=>{},jt=t=>{t.offsetHeight},Wt=()=>{const{jQuery:t}=window;return t&&!document.body.hasAttribute("data-bs-no-jquery")?t:null},Zt=[],qt=()=>"rtl"===document.documentElement.dir,Xt=t=>{var e;e=()=>{const e=Wt();if(e){const n=t.NAME,i=e.fn[n];e.fn[n]=t.jQueryInterface,e.fn[n].Constructor=t,e.fn[n].noConflict=()=>(e.fn[n]=i,t.jQueryInterface)}},"loading"===document.readyState?(Zt.length||document.addEventListener("DOMContentLoaded",(()=>{Zt.forEach((t=>t()))})),Zt.push(e)):e()},Yt=t=>{"function"==typeof t&&t()},Jt=(t,e,n=!0)=>{if(!n)return void Yt(t);const i=(t=>{if(!t)return 0;let{transitionDuration:e,transitionDelay:n}=window.getComputedStyle(t);const i=Number.parseFloat(e),r=Number.parseFloat(n);return i||r?(e=e.split(",")[0],n=n.split(",")[0],1e3*(Number.parseFloat(e)+Number.parseFloat(n))):0})(e)+5;let r=!1;const o=({target:n})=>{n===e&&(r=!0,e.removeEventListener(Pt,o),Yt(t))};e.addEventListener(Pt,o),setTimeout((()=>{r||Nt(e)}),i)},Kt=(t,e,n,i)=>{let r=t.indexOf(e);if(-1===r)return t[!n&&i?t.length-1:0];const o=t.length;return r+=n?1:-1,i&&(r=(r+o)%o),t[Math.max(0,Math.min(r,o-1))]},$t=/[^.]*(?=\..*)\.|.*/,Qt=/\..*/,te=/::\d+$/,ee={};let ne=1;const ie={mouseenter:"mouseover",mouseleave:"mouseout"},re=/^(mouseenter|mouseleave)/i,oe=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function ae(t,e){return e&&`${e}::${ne++}`||t.uidEvent||ne++}function se(t){const e=ae(t);return t.uidEvent=e,ee[e]=ee[e]||{},ee[e]}function le(t,e,n=null){const i=Object.keys(t);for(let r=0,o=i.length;r<o;r++){const o=t[i[r]];if(o.originalHandler===e&&o.delegationSelector===n)return o}return null}function ce(t,e,n){const i="string"==typeof e,r=i?n:e;let o=pe(t);return oe.has(o)||(o=t),[i,r,o]}function ue(t,e,n,i,r){if("string"!=typeof e||!t)return;if(n||(n=i,i=null),re.test(e)){const t=t=>function(e){if(!e.relatedTarget||e.relatedTarget!==e.delegateTarget&&!e.delegateTarget.contains(e.relatedTarget))return t.call(this,e)};i?i=t(i):n=t(n)}const[o,a,s]=ce(e,n,i),l=se(t),c=l[s]||(l[s]={}),u=le(c,a,o?n:null);if(u)return void(u.oneOff=u.oneOff&&r);const h=ae(a,e.replace($t,"")),p=o?function(t,e,n){return function i(r){const o=t.querySelectorAll(e);for(let{target:a}=r;a&&a!==this;a=a.parentNode)for(let s=o.length;s--;)if(o[s]===a)return r.delegateTarget=a,i.oneOff&&de.off(t,r.type,e,n),n.apply(a,[r]);return null}}(t,n,i):function(t,e){return function n(i){return i.delegateTarget=t,n.oneOff&&de.off(t,i.type,e),e.apply(t,[i])}}(t,n);p.delegationSelector=o?n:null,p.originalHandler=a,p.oneOff=r,p.uidEvent=h,c[h]=p,t.addEventListener(s,p,o)}function he(t,e,n,i,r){const o=le(e[n],i,r);o&&(t.removeEventListener(n,o,Boolean(r)),delete e[n][o.uidEvent])}function pe(t){return t=t.replace(Qt,""),ie[t]||t}const de={on(t,e,n,i){ue(t,e,n,i,!1)},one(t,e,n,i){ue(t,e,n,i,!0)},off(t,e,n,i){if("string"!=typeof e||!t)return;const[r,o,a]=ce(e,n,i),s=a!==e,l=se(t),c=e.startsWith(".");if(void 0!==o){if(!l||!l[a])return;return void he(t,l,a,o,r?n:null)}c&&Object.keys(l).forEach((n=>{!function(t,e,n,i){const r=e[n]||{};Object.keys(r).forEach((o=>{if(o.includes(i)){const i=r[o];he(t,e,n,i.originalHandler,i.delegationSelector)}}))}(t,l,n,e.slice(1))}));const u=l[a]||{};Object.keys(u).forEach((n=>{const i=n.replace(te,"");if(!s||e.includes(i)){const e=u[n];he(t,l,a,e.originalHandler,e.delegationSelector)}}))},trigger(t,e,n){if("string"!=typeof e||!t)return null;const i=Wt(),r=pe(e),o=e!==r,a=oe.has(r);let s,l=!0,c=!0,u=!1,h=null;return o&&i&&(s=i.Event(e,n),i(t).trigger(s),l=!s.isPropagationStopped(),c=!s.isImmediatePropagationStopped(),u=s.isDefaultPrevented()),a?(h=document.createEvent("HTMLEvents"),h.initEvent(r,l,!0)):h=new CustomEvent(e,{bubbles:l,cancelable:!0}),void 0!==n&&Object.keys(n).forEach((t=>{Object.defineProperty(h,t,{get:()=>n[t]})})),u&&h.preventDefault(),c&&t.dispatchEvent(h),h.defaultPrevented&&void 0!==s&&s.preventDefault(),h}},fe=new Map,me={set(t,e,n){fe.has(t)||fe.set(t,new Map);const i=fe.get(t);i.has(e)||0===i.size?i.set(e,n):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`)},get:(t,e)=>fe.has(t)&&fe.get(t).get(e)||null,remove(t,e){if(!fe.has(t))return;const n=fe.get(t);n.delete(e),0===n.size&&fe.delete(t)}};class ge{constructor(t){(t=Bt(t))&&(this._element=t,me.set(this._element,this.constructor.DATA_KEY,this))}dispose(){me.remove(this._element,this.constructor.DATA_KEY),de.off(this._element,this.constructor.EVENT_KEY),Object.getOwnPropertyNames(this).forEach((t=>{this[t]=null}))}_queueCallback(t,e,n=!0){Jt(t,e,n)}static getInstance(t){return me.get(Bt(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,"object"==typeof e?e:null)}static get VERSION(){return"5.1.3"}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}}const ve=(t,e="hide")=>{const n=`click.dismiss${t.EVENT_KEY}`,i=t.NAME;de.on(document,n,`[data-bs-dismiss="${i}"]`,(function(n){if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),Ht(this))return;const r=kt(this)||this.closest(`.${i}`);t.getOrCreateInstance(r)[e]()}))};class ye extends ge{static get NAME(){return"alert"}close(){if(de.trigger(this._element,"close.bs.alert").defaultPrevented)return;this._element.classList.remove("show");const t=this._element.classList.contains("fade");this._queueCallback((()=>this._destroyElement()),this._element,t)}_destroyElement(){this._element.remove(),de.trigger(this._element,"closed.bs.alert"),this.dispose()}static jQueryInterface(t){return this.each((function(){const e=ye.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}ve(ye,"close"),Xt(ye);const _e='[data-bs-toggle="button"]';class xe extends ge{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(t){return this.each((function(){const e=xe.getOrCreateInstance(this);"toggle"===t&&e[t]()}))}}function be(t){return"true"===t||"false"!==t&&(t===Number(t).toString()?Number(t):""===t||"null"===t?null:t)}function we(t){return t.replace(/[A-Z]/g,(t=>`-${t.toLowerCase()}`))}de.on(document,"click.bs.button.data-api",_e,(t=>{t.preventDefault();const e=t.target.closest(_e);xe.getOrCreateInstance(e).toggle()})),Xt(xe);const Se={setDataAttribute(t,e,n){t.setAttribute(`data-bs-${we(e)}`,n)},removeDataAttribute(t,e){t.removeAttribute(`data-bs-${we(e)}`)},getDataAttributes(t){if(!t)return{};const e={};return Object.keys(t.dataset).filter((t=>t.startsWith("bs"))).forEach((n=>{let i=n.replace(/^bs/,"");i=i.charAt(0).toLowerCase()+i.slice(1,i.length),e[i]=be(t.dataset[n])})),e},getDataAttribute:(t,e)=>be(t.getAttribute(`data-bs-${we(e)}`)),offset(t){const e=t.getBoundingClientRect();return{top:e.top+window.pageYOffset,left:e.left+window.pageXOffset}},position:t=>({top:t.offsetTop,left:t.offsetLeft})},Me={find:(t,e=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(e,t)),findOne:(t,e=document.documentElement)=>Element.prototype.querySelector.call(e,t),children:(t,e)=>[].concat(...t.children).filter((t=>t.matches(e))),parents(t,e){const n=[];let i=t.parentNode;for(;i&&i.nodeType===Node.ELEMENT_NODE&&3!==i.nodeType;)i.matches(e)&&n.push(i),i=i.parentNode;return n},prev(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return[n];n=n.previousElementSibling}return[]},next(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return[n];n=n.nextElementSibling}return[]},focusableChildren(t){const e=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map((t=>`${t}:not([tabindex^="-"])`)).join(", ");return this.find(e,t).filter((t=>!Ht(t)&&Ut(t)))}},Te="carousel",Ee={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},Ae={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},Ce="next",Le="prev",Ie="left",De="right",Pe={ArrowLeft:De,ArrowRight:Ie},Re="slid.bs.carousel",Oe="active",ke=".active.carousel-item";class Ne extends ge{constructor(t,e){super(t),this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._indicatorsElement=Me.findOne(".carousel-indicators",this._element),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent),this._addEventListeners()}static get Default(){return Ee}static get NAME(){return Te}next(){this._slide(Ce)}nextWhenVisible(){!document.hidden&&Ut(this._element)&&this.next()}prev(){this._slide(Le)}pause(t){t||(this._isPaused=!0),Me.findOne(".carousel-item-next, .carousel-item-prev",this._element)&&(Nt(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null}cycle(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config&&this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))}to(t){this._activeElement=Me.findOne(ke,this._element);const e=this._getItemIndex(this._activeElement);if(t>this._items.length-1||t<0)return;if(this._isSliding)return void de.one(this._element,Re,(()=>this.to(t)));if(e===t)return this.pause(),void this.cycle();const n=t>e?Ce:Le;this._slide(n,this._items[t])}_getConfig(t){return t={...Ee,...Se.getDataAttributes(this._element),..."object"==typeof t?t:{}},Ft(Te,t,Ae),t}_handleSwipe(){const t=Math.abs(this.touchDeltaX);if(t<=40)return;const e=t/this.touchDeltaX;this.touchDeltaX=0,e&&this._slide(e>0?De:Ie)}_addEventListeners(){this._config.keyboard&&de.on(this._element,"keydown.bs.carousel",(t=>this._keydown(t))),"hover"===this._config.pause&&(de.on(this._element,"mouseenter.bs.carousel",(t=>this.pause(t))),de.on(this._element,"mouseleave.bs.carousel",(t=>this.cycle(t)))),this._config.touch&&this._touchSupported&&this._addTouchEventListeners()}_addTouchEventListeners(){const t=t=>this._pointerEvent&&("pen"===t.pointerType||"touch"===t.pointerType),e=e=>{t(e)?this.touchStartX=e.clientX:this._pointerEvent||(this.touchStartX=e.touches[0].clientX)},n=t=>{this.touchDeltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this.touchStartX},i=e=>{t(e)&&(this.touchDeltaX=e.clientX-this.touchStartX),this._handleSwipe(),"hover"===this._config.pause&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout((t=>this.cycle(t)),500+this._config.interval))};Me.find(".carousel-item img",this._element).forEach((t=>{de.on(t,"dragstart.bs.carousel",(t=>t.preventDefault()))})),this._pointerEvent?(de.on(this._element,"pointerdown.bs.carousel",(t=>e(t))),de.on(this._element,"pointerup.bs.carousel",(t=>i(t))),this._element.classList.add("pointer-event")):(de.on(this._element,"touchstart.bs.carousel",(t=>e(t))),de.on(this._element,"touchmove.bs.carousel",(t=>n(t))),de.on(this._element,"touchend.bs.carousel",(t=>i(t))))}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=Pe[t.key];e&&(t.preventDefault(),this._slide(e))}_getItemIndex(t){return this._items=t&&t.parentNode?Me.find(".carousel-item",t.parentNode):[],this._items.indexOf(t)}_getItemByOrder(t,e){const n=t===Ce;return Kt(this._items,e,n,this._config.wrap)}_triggerSlideEvent(t,e){const n=this._getItemIndex(t),i=this._getItemIndex(Me.findOne(ke,this._element));return de.trigger(this._element,"slide.bs.carousel",{relatedTarget:t,direction:e,from:i,to:n})}_setActiveIndicatorElement(t){if(this._indicatorsElement){const e=Me.findOne(".active",this._indicatorsElement);e.classList.remove(Oe),e.removeAttribute("aria-current");const n=Me.find("[data-bs-target]",this._indicatorsElement);for(let e=0;e<n.length;e++)if(Number.parseInt(n[e].getAttribute("data-bs-slide-to"),10)===this._getItemIndex(t)){n[e].classList.add(Oe),n[e].setAttribute("aria-current","true");break}}}_updateInterval(){const t=this._activeElement||Me.findOne(ke,this._element);if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);e?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=e):this._config.interval=this._config.defaultInterval||this._config.interval}_slide(t,e){const n=this._directionToOrder(t),i=Me.findOne(ke,this._element),r=this._getItemIndex(i),o=e||this._getItemByOrder(n,i),a=this._getItemIndex(o),s=Boolean(this._interval),l=n===Ce,c=l?"carousel-item-start":"carousel-item-end",u=l?"carousel-item-next":"carousel-item-prev",h=this._orderToDirection(n);if(o&&o.classList.contains(Oe))return void(this._isSliding=!1);if(this._isSliding)return;if(this._triggerSlideEvent(o,h).defaultPrevented)return;if(!i||!o)return;this._isSliding=!0,s&&this.pause(),this._setActiveIndicatorElement(o),this._activeElement=o;const p=()=>{de.trigger(this._element,Re,{relatedTarget:o,direction:h,from:r,to:a})};if(this._element.classList.contains("slide")){o.classList.add(u),jt(o),i.classList.add(c),o.classList.add(c);const t=()=>{o.classList.remove(c,u),o.classList.add(Oe),i.classList.remove(Oe,u,c),this._isSliding=!1,setTimeout(p,0)};this._queueCallback(t,i,!0)}else i.classList.remove(Oe),o.classList.add(Oe),this._isSliding=!1,p();s&&this.cycle()}_directionToOrder(t){return[De,Ie].includes(t)?qt()?t===Ie?Le:Ce:t===Ie?Ce:Le:t}_orderToDirection(t){return[Ce,Le].includes(t)?qt()?t===Le?Ie:De:t===Le?De:Ie:t}static carouselInterface(t,e){const n=Ne.getOrCreateInstance(t,e);let{_config:i}=n;"object"==typeof e&&(i={...i,...e});const r="string"==typeof e?e:i.slide;if("number"==typeof e)n.to(e);else if("string"==typeof r){if(void 0===n[r])throw new TypeError(`No method named "${r}"`);n[r]()}else i.interval&&i.ride&&(n.pause(),n.cycle())}static jQueryInterface(t){return this.each((function(){Ne.carouselInterface(this,t)}))}static dataApiClickHandler(t){const e=kt(this);if(!e||!e.classList.contains("carousel"))return;const n={...Se.getDataAttributes(e),...Se.getDataAttributes(this)},i=this.getAttribute("data-bs-slide-to");i&&(n.interval=!1),Ne.carouselInterface(e,n),i&&Ne.getInstance(e).to(i),t.preventDefault()}}de.on(document,"click.bs.carousel.data-api","[data-bs-slide], [data-bs-slide-to]",Ne.dataApiClickHandler),de.on(window,"load.bs.carousel.data-api",(()=>{const t=Me.find('[data-bs-ride="carousel"]');for(let e=0,n=t.length;e<n;e++)Ne.carouselInterface(t[e],Ne.getInstance(t[e]))})),Xt(Ne);const ze="collapse",Be={toggle:!0,parent:null},Fe={toggle:"boolean",parent:"(null|element)"},Ue="show",He="collapse",Ve="collapsing",Ge="collapsed",je=":scope .collapse .collapse",We='[data-bs-toggle="collapse"]';class Ze extends ge{constructor(t,e){super(t),this._isTransitioning=!1,this._config=this._getConfig(e),this._triggerArray=[];const n=Me.find(We);for(let t=0,e=n.length;t<e;t++){const e=n[t],i=Ot(e),r=Me.find(i).filter((t=>t===this._element));null!==i&&r.length&&(this._selector=i,this._triggerArray.push(e))}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Be}static get NAME(){return ze}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t,e=[];if(this._config.parent){const t=Me.find(je,this._config.parent);e=Me.find(".collapse.show, .collapse.collapsing",this._config.parent).filter((e=>!t.includes(e)))}const n=Me.findOne(this._selector);if(e.length){const i=e.find((t=>n!==t));if(t=i?Ze.getInstance(i):null,t&&t._isTransitioning)return}if(de.trigger(this._element,"show.bs.collapse").defaultPrevented)return;e.forEach((e=>{n!==e&&Ze.getOrCreateInstance(e,{toggle:!1}).hide(),t||me.set(e,"bs.collapse",null)}));const i=this._getDimension();this._element.classList.remove(He),this._element.classList.add(Ve),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const r=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(Ve),this._element.classList.add(He,Ue),this._element.style[i]="",de.trigger(this._element,"shown.bs.collapse")}),this._element,!0),this._element.style[i]=`${this._element[r]}px`}hide(){if(this._isTransitioning||!this._isShown())return;if(de.trigger(this._element,"hide.bs.collapse").defaultPrevented)return;const t=this._getDimension();this._element.style[t]=`${this._element.getBoundingClientRect()[t]}px`,jt(this._element),this._element.classList.add(Ve),this._element.classList.remove(He,Ue);const e=this._triggerArray.length;for(let t=0;t<e;t++){const e=this._triggerArray[t],n=kt(e);n&&!this._isShown(n)&&this._addAriaAndCollapsedClass([e],!1)}this._isTransitioning=!0,this._element.style[t]="",this._queueCallback((()=>{this._isTransitioning=!1,this._element.classList.remove(Ve),this._element.classList.add(He),de.trigger(this._element,"hidden.bs.collapse")}),this._element,!0)}_isShown(t=this._element){return t.classList.contains(Ue)}_getConfig(t){return(t={...Be,...Se.getDataAttributes(this._element),...t}).toggle=Boolean(t.toggle),t.parent=Bt(t.parent),Ft(ze,t,Fe),t}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const t=Me.find(je,this._config.parent);Me.find(We,this._config.parent).filter((e=>!t.includes(e))).forEach((t=>{const e=kt(t);e&&this._addAriaAndCollapsedClass([t],this._isShown(e))}))}_addAriaAndCollapsedClass(t,e){t.length&&t.forEach((t=>{e?t.classList.remove(Ge):t.classList.add(Ge),t.setAttribute("aria-expanded",e)}))}static jQueryInterface(t){return this.each((function(){const e={};"string"==typeof t&&/show|hide/.test(t)&&(e.toggle=!1);const n=Ze.getOrCreateInstance(this,e);if("string"==typeof t){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t]()}}))}}de.on(document,"click.bs.collapse.data-api",We,(function(t){("A"===t.target.tagName||t.delegateTarget&&"A"===t.delegateTarget.tagName)&&t.preventDefault();const e=Ot(this);Me.find(e).forEach((t=>{Ze.getOrCreateInstance(t,{toggle:!1}).toggle()}))})),Xt(Ze);const qe="dropdown",Xe="Escape",Ye="Space",Je="ArrowUp",Ke="ArrowDown",$e=new RegExp("ArrowUp|ArrowDown|Escape"),Qe="click.bs.dropdown.data-api",tn="keydown.bs.dropdown.data-api",en="show",nn='[data-bs-toggle="dropdown"]',rn=".dropdown-menu",on=qt()?"top-end":"top-start",an=qt()?"top-start":"top-end",sn=qt()?"bottom-end":"bottom-start",ln=qt()?"bottom-start":"bottom-end",cn=qt()?"left-start":"right-start",un=qt()?"right-start":"left-start",hn={offset:[0,2],boundary:"clippingParents",reference:"toggle",display:"dynamic",popperConfig:null,autoClose:!0},pn={offset:"(array|string|function)",boundary:"(string|element)",reference:"(string|element|object)",display:"string",popperConfig:"(null|object|function)",autoClose:"(boolean|string)"};class dn extends ge{constructor(t,e){super(t),this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar()}static get Default(){return hn}static get DefaultType(){return pn}static get NAME(){return qe}toggle(){return this._isShown()?this.hide():this.show()}show(){if(Ht(this._element)||this._isShown(this._menu))return;const t={relatedTarget:this._element};if(de.trigger(this._element,"show.bs.dropdown",t).defaultPrevented)return;const e=dn.getParentFromElement(this._element);this._inNavbar?Se.setDataAttribute(this._menu,"popper","none"):this._createPopper(e),"ontouchstart"in document.documentElement&&!e.closest(".navbar-nav")&&[].concat(...document.body.children).forEach((t=>de.on(t,"mouseover",Gt))),this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(en),this._element.classList.add(en),de.trigger(this._element,"shown.bs.dropdown",t)}hide(){if(Ht(this._element)||!this._isShown(this._menu))return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){de.trigger(this._element,"hide.bs.dropdown",t).defaultPrevented||("ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach((t=>de.off(t,"mouseover",Gt))),this._popper&&this._popper.destroy(),this._menu.classList.remove(en),this._element.classList.remove(en),this._element.setAttribute("aria-expanded","false"),Se.removeDataAttribute(this._menu,"popper"),de.trigger(this._element,"hidden.bs.dropdown",t))}_getConfig(t){if(t={...this.constructor.Default,...Se.getDataAttributes(this._element),...t},Ft(qe,t,this.constructor.DefaultType),"object"==typeof t.reference&&!zt(t.reference)&&"function"!=typeof t.reference.getBoundingClientRect)throw new TypeError(`${qe.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(t){if(void 0===i)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let e=this._element;"parent"===this._config.reference?e=t:zt(this._config.reference)?e=Bt(this._config.reference):"object"==typeof this._config.reference&&(e=this._config.reference);const n=this._getPopperConfig(),r=n.modifiers.find((t=>"applyStyles"===t.name&&!1===t.enabled));this._popper=It(e,this._menu,n),r&&Se.setDataAttribute(this._menu,"popper","static")}_isShown(t=this._element){return t.classList.contains(en)}_getMenuElement(){return Me.next(this._element,rn)[0]}_getPlacement(){const t=this._element.parentNode;if(t.classList.contains("dropend"))return cn;if(t.classList.contains("dropstart"))return un;const e="end"===getComputedStyle(this._menu).getPropertyValue("--bs-position").trim();return t.classList.contains("dropup")?e?an:on:e?ln:sn}_detectNavbar(){return null!==this._element.closest(".navbar")}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"==typeof t?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return"static"===this._config.display&&(t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,..."function"==typeof this._config.popperConfig?this._config.popperConfig(t):this._config.popperConfig}}_selectMenuItem({key:t,target:e}){const n=Me.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(Ut);n.length&&Kt(n,e,t===Ke,!n.includes(e)).focus()}static jQueryInterface(t){return this.each((function(){const e=dn.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}static clearMenus(t){if(t&&(2===t.button||"keyup"===t.type&&"Tab"!==t.key))return;const e=Me.find(nn);for(let n=0,i=e.length;n<i;n++){const i=dn.getInstance(e[n]);if(!i||!1===i._config.autoClose)continue;if(!i._isShown())continue;const r={relatedTarget:i._element};if(t){const e=t.composedPath(),n=e.includes(i._menu);if(e.includes(i._element)||"inside"===i._config.autoClose&&!n||"outside"===i._config.autoClose&&n)continue;if(i._menu.contains(t.target)&&("keyup"===t.type&&"Tab"===t.key||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;"click"===t.type&&(r.clickEvent=t)}i._completeHide(r)}}static getParentFromElement(t){return kt(t)||t.parentNode}static dataApiKeydownHandler(t){if(/input|textarea/i.test(t.target.tagName)?t.key===Ye||t.key!==Xe&&(t.key!==Ke&&t.key!==Je||t.target.closest(rn)):!$e.test(t.key))return;const e=this.classList.contains(en);if(!e&&t.key===Xe)return;if(t.preventDefault(),t.stopPropagation(),Ht(this))return;const n=this.matches(nn)?this:Me.prev(this,nn)[0],i=dn.getOrCreateInstance(n);if(t.key!==Xe)return t.key===Je||t.key===Ke?(e||i.show(),void i._selectMenuItem(t)):void(e&&t.key!==Ye||dn.clearMenus());i.hide()}}de.on(document,tn,nn,dn.dataApiKeydownHandler),de.on(document,tn,rn,dn.dataApiKeydownHandler),de.on(document,Qe,dn.clearMenus),de.on(document,"keyup.bs.dropdown.data-api",dn.clearMenus),de.on(document,Qe,nn,(function(t){t.preventDefault(),dn.getOrCreateInstance(this).toggle()})),Xt(dn);const fn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",mn=".sticky-top";class gn{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,"paddingRight",(e=>e+t)),this._setElementAttributes(fn,"paddingRight",(e=>e+t)),this._setElementAttributes(mn,"marginRight",(e=>e-t))}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,n){const i=this.getWidth();this._applyManipulationCallback(t,(t=>{if(t!==this._element&&window.innerWidth>t.clientWidth+i)return;this._saveInitialAttribute(t,e);const r=window.getComputedStyle(t)[e];t.style[e]=`${n(Number.parseFloat(r))}px`}))}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,"paddingRight"),this._resetElementAttributes(fn,"paddingRight"),this._resetElementAttributes(mn,"marginRight")}_saveInitialAttribute(t,e){const n=t.style[e];n&&Se.setDataAttribute(t,e,n)}_resetElementAttributes(t,e){this._applyManipulationCallback(t,(t=>{const n=Se.getDataAttribute(t,e);void 0===n?t.style.removeProperty(e):(Se.removeDataAttribute(t,e),t.style[e]=n)}))}_applyManipulationCallback(t,e){zt(t)?e(t):Me.find(t,this._element).forEach(e)}isOverflowing(){return this.getWidth()>0}}const vn={className:"modal-backdrop",isVisible:!0,isAnimated:!1,rootElement:"body",clickCallback:null},yn={className:"string",isVisible:"boolean",isAnimated:"boolean",rootElement:"(element|string)",clickCallback:"(function|null)"},_n="show",xn="mousedown.bs.backdrop";class bn{constructor(t){this._config=this._getConfig(t),this._isAppended=!1,this._element=null}show(t){this._config.isVisible?(this._append(),this._config.isAnimated&&jt(this._getElement()),this._getElement().classList.add(_n),this._emulateAnimation((()=>{Yt(t)}))):Yt(t)}hide(t){this._config.isVisible?(this._getElement().classList.remove(_n),this._emulateAnimation((()=>{this.dispose(),Yt(t)}))):Yt(t)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add("fade"),this._element=t}return this._element}_getConfig(t){return(t={...vn,..."object"==typeof t?t:{}}).rootElement=Bt(t.rootElement),Ft("backdrop",t,yn),t}_append(){this._isAppended||(this._config.rootElement.append(this._getElement()),de.on(this._getElement(),xn,(()=>{Yt(this._config.clickCallback)})),this._isAppended=!0)}dispose(){this._isAppended&&(de.off(this._element,xn),this._element.remove(),this._isAppended=!1)}_emulateAnimation(t){Jt(t,this._getElement(),this._config.isAnimated)}}const wn={trapElement:null,autofocus:!0},Sn={trapElement:"element",autofocus:"boolean"},Mn=".bs.focustrap",Tn="backward";class En{constructor(t){this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}activate(){const{trapElement:t,autofocus:e}=this._config;this._isActive||(e&&t.focus(),de.off(document,Mn),de.on(document,"focusin.bs.focustrap",(t=>this._handleFocusin(t))),de.on(document,"keydown.tab.bs.focustrap",(t=>this._handleKeydown(t))),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,de.off(document,Mn))}_handleFocusin(t){const{target:e}=t,{trapElement:n}=this._config;if(e===document||e===n||n.contains(e))return;const i=Me.focusableChildren(n);0===i.length?n.focus():this._lastTabNavDirection===Tn?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){"Tab"===t.key&&(this._lastTabNavDirection=t.shiftKey?Tn:"forward")}_getConfig(t){return t={...wn,..."object"==typeof t?t:{}},Ft("focustrap",t,Sn),t}}const An="modal",Cn="Escape",Ln={backdrop:!0,keyboard:!0,focus:!0},In={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean"},Dn="hidden.bs.modal",Pn="show.bs.modal",Rn="resize.bs.modal",On="click.dismiss.bs.modal",kn="keydown.dismiss.bs.modal",Nn="mousedown.dismiss.bs.modal",zn="modal-open",Bn="show",Fn="modal-static";class Un extends ge{constructor(t,e){super(t),this._config=this._getConfig(e),this._dialog=Me.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollBar=new gn}static get Default(){return Ln}static get NAME(){return An}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||de.trigger(this._element,Pn,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isAnimated()&&(this._isTransitioning=!0),this._scrollBar.hide(),document.body.classList.add(zn),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),de.on(this._dialog,Nn,(()=>{de.one(this._element,"mouseup.dismiss.bs.modal",(t=>{t.target===this._element&&(this._ignoreBackdropClick=!0)}))})),this._showBackdrop((()=>this._showElement(t))))}hide(){if(!this._isShown||this._isTransitioning)return;if(de.trigger(this._element,"hide.bs.modal").defaultPrevented)return;this._isShown=!1;const t=this._isAnimated();t&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),this._focustrap.deactivate(),this._element.classList.remove(Bn),de.off(this._element,On),de.off(this._dialog,Nn),this._queueCallback((()=>this._hideModal()),this._element,t)}dispose(){[window,this._dialog].forEach((t=>de.off(t,".bs.modal"))),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new bn({isVisible:Boolean(this._config.backdrop),isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new En({trapElement:this._element})}_getConfig(t){return t={...Ln,...Se.getDataAttributes(this._element),..."object"==typeof t?t:{}},Ft(An,t,In),t}_showElement(t){const e=this._isAnimated(),n=Me.findOne(".modal-body",this._dialog);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0,n&&(n.scrollTop=0),e&&jt(this._element),this._element.classList.add(Bn),this._queueCallback((()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,de.trigger(this._element,"shown.bs.modal",{relatedTarget:t})}),this._dialog,e)}_setEscapeEvent(){this._isShown?de.on(this._element,kn,(t=>{this._config.keyboard&&t.key===Cn?(t.preventDefault(),this.hide()):this._config.keyboard||t.key!==Cn||this._triggerBackdropTransition()})):de.off(this._element,kn)}_setResizeEvent(){this._isShown?de.on(window,Rn,(()=>this._adjustDialog())):de.off(window,Rn)}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide((()=>{document.body.classList.remove(zn),this._resetAdjustments(),this._scrollBar.reset(),de.trigger(this._element,Dn)}))}_showBackdrop(t){de.on(this._element,On,(t=>{this._ignoreBackdropClick?this._ignoreBackdropClick=!1:t.target===t.currentTarget&&(!0===this._config.backdrop?this.hide():"static"===this._config.backdrop&&this._triggerBackdropTransition())})),this._backdrop.show(t)}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(de.trigger(this._element,"hidePrevented.bs.modal").defaultPrevented)return;const{classList:t,scrollHeight:e,style:n}=this._element,i=e>document.documentElement.clientHeight;!i&&"hidden"===n.overflowY||t.contains(Fn)||(i||(n.overflowY="hidden"),t.add(Fn),this._queueCallback((()=>{t.remove(Fn),i||this._queueCallback((()=>{n.overflowY=""}),this._dialog)}),this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),n=e>0;(!n&&t&&!qt()||n&&!t&&qt())&&(this._element.style.paddingLeft=`${e}px`),(n&&!t&&!qt()||!n&&t&&qt())&&(this._element.style.paddingRight=`${e}px`)}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each((function(){const n=Un.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===n[t])throw new TypeError(`No method named "${t}"`);n[t](e)}}))}}de.on(document,"click.bs.modal.data-api",'[data-bs-toggle="modal"]',(function(t){const e=kt(this);["A","AREA"].includes(this.tagName)&&t.preventDefault(),de.one(e,Pn,(t=>{t.defaultPrevented||de.one(e,Dn,(()=>{Ut(this)&&this.focus()}))}));const n=Me.findOne(".modal.show");n&&Un.getInstance(n).hide(),Un.getOrCreateInstance(e).toggle(this)})),ve(Un),Xt(Un);const Hn="offcanvas",Vn={backdrop:!0,keyboard:!0,scroll:!1},Gn={backdrop:"boolean",keyboard:"boolean",scroll:"boolean"},jn="show",Wn=".offcanvas.show",Zn="hidden.bs.offcanvas";class qn extends ge{constructor(t,e){super(t),this._config=this._getConfig(e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get NAME(){return Hn}static get Default(){return Vn}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||de.trigger(this._element,"show.bs.offcanvas",{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._element.style.visibility="visible",this._backdrop.show(),this._config.scroll||(new gn).hide(),this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(jn),this._queueCallback((()=>{this._config.scroll||this._focustrap.activate(),de.trigger(this._element,"shown.bs.offcanvas",{relatedTarget:t})}),this._element,!0))}hide(){this._isShown&&(de.trigger(this._element,"hide.bs.offcanvas").defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.remove(jn),this._backdrop.hide(),this._queueCallback((()=>{this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._element.style.visibility="hidden",this._config.scroll||(new gn).reset(),de.trigger(this._element,Zn)}),this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_getConfig(t){return t={...Vn,...Se.getDataAttributes(this._element),..."object"==typeof t?t:{}},Ft(Hn,t,Gn),t}_initializeBackDrop(){return new bn({className:"offcanvas-backdrop",isVisible:this._config.backdrop,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:()=>this.hide()})}_initializeFocusTrap(){return new En({trapElement:this._element})}_addEventListeners(){de.on(this._element,"keydown.dismiss.bs.offcanvas",(t=>{this._config.keyboard&&"Escape"===t.key&&this.hide()}))}static jQueryInterface(t){return this.each((function(){const e=qn.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t]||t.startsWith("_")||"constructor"===t)throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}de.on(document,"click.bs.offcanvas.data-api",'[data-bs-toggle="offcanvas"]',(function(t){const e=kt(this);if(["A","AREA"].includes(this.tagName)&&t.preventDefault(),Ht(this))return;de.one(e,Zn,(()=>{Ut(this)&&this.focus()}));const n=Me.findOne(Wn);n&&n!==e&&qn.getInstance(n).hide(),qn.getOrCreateInstance(e).toggle(this)})),de.on(window,"load.bs.offcanvas.data-api",(()=>Me.find(Wn).forEach((t=>qn.getOrCreateInstance(t).show())))),ve(qn),Xt(qn);const Xn=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),Yn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,Jn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i,Kn=(t,e)=>{const n=t.nodeName.toLowerCase();if(e.includes(n))return!Xn.has(n)||Boolean(Yn.test(t.nodeValue)||Jn.test(t.nodeValue));const i=e.filter((t=>t instanceof RegExp));for(let t=0,e=i.length;t<e;t++)if(i[t].test(n))return!0;return!1};function $n(t,e,n){if(!t.length)return t;if(n&&"function"==typeof n)return n(t);const i=(new window.DOMParser).parseFromString(t,"text/html"),r=[].concat(...i.body.querySelectorAll("*"));for(let t=0,n=r.length;t<n;t++){const n=r[t],i=n.nodeName.toLowerCase();if(!Object.keys(e).includes(i)){n.remove();continue}const o=[].concat(...n.attributes),a=[].concat(e["*"]||[],e[i]||[]);o.forEach((t=>{Kn(t,a)||n.removeAttribute(t.nodeName)}))}return i.body.innerHTML}const Qn="tooltip",ti=new Set(["sanitize","allowList","sanitizeFn"]),ei={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(array|string|function)",container:"(string|element|boolean)",fallbackPlacements:"array",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",allowList:"object",popperConfig:"(null|object|function)"},ni={AUTO:"auto",TOP:"top",RIGHT:qt()?"left":"right",BOTTOM:"bottom",LEFT:qt()?"right":"left"},ii={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:[0,0],container:!1,fallbackPlacements:["top","right","bottom","left"],boundary:"clippingParents",customClass:"",sanitize:!0,sanitizeFn:null,allowList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},ri={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},oi="fade",ai="show",si="show",li="out",ci=".tooltip-inner",ui=".modal",hi="hide.bs.modal",pi="hover",di="focus";class fi extends ge{constructor(t,e){if(void 0===i)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(t),this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this._config=this._getConfig(e),this.tip=null,this._setListeners()}static get Default(){return ii}static get NAME(){return Qn}static get Event(){return ri}static get DefaultType(){return ei}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(t){if(this._isEnabled)if(t){const e=this._initializeOnDelegatedTarget(t);e._activeTrigger.click=!e._activeTrigger.click,e._isWithActiveTrigger()?e._enter(null,e):e._leave(null,e)}else{if(this.getTipElement().classList.contains(ai))return void this._leave(null,this);this._enter(null,this)}}dispose(){clearTimeout(this._timeout),de.off(this._element.closest(ui),hi,this._hideModalHandler),this.tip&&this.tip.remove(),this._disposePopper(),super.dispose()}show(){if("none"===this._element.style.display)throw new Error("Please use show on visible elements");if(!this.isWithContent()||!this._isEnabled)return;const t=de.trigger(this._element,this.constructor.Event.SHOW),e=Vt(this._element),n=null===e?this._element.ownerDocument.documentElement.contains(this._element):e.contains(this._element);if(t.defaultPrevented||!n)return;"tooltip"===this.constructor.NAME&&this.tip&&this.getTitle()!==this.tip.querySelector(ci).innerHTML&&(this._disposePopper(),this.tip.remove(),this.tip=null);const i=this.getTipElement(),r=(t=>{do{t+=Math.floor(1e6*Math.random())}while(document.getElementById(t));return t})(this.constructor.NAME);i.setAttribute("id",r),this._element.setAttribute("aria-describedby",r),this._config.animation&&i.classList.add(oi);const o="function"==typeof this._config.placement?this._config.placement.call(this,i,this._element):this._config.placement,a=this._getAttachment(o);this._addAttachmentClass(a);const{container:s}=this._config;me.set(i,this.constructor.DATA_KEY,this),this._element.ownerDocument.documentElement.contains(this.tip)||(s.append(i),de.trigger(this._element,this.constructor.Event.INSERTED)),this._popper?this._popper.update():this._popper=It(this._element,i,this._getPopperConfig(a)),i.classList.add(ai);const l=this._resolvePossibleFunction(this._config.customClass);l&&i.classList.add(...l.split(" ")),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach((t=>{de.on(t,"mouseover",Gt)}));const c=this.tip.classList.contains(oi);this._queueCallback((()=>{const t=this._hoverState;this._hoverState=null,de.trigger(this._element,this.constructor.Event.SHOWN),t===li&&this._leave(null,this)}),this.tip,c)}hide(){if(!this._popper)return;const t=this.getTipElement();if(de.trigger(this._element,this.constructor.Event.HIDE).defaultPrevented)return;t.classList.remove(ai),"ontouchstart"in document.documentElement&&[].concat(...document.body.children).forEach((t=>de.off(t,"mouseover",Gt))),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1;const e=this.tip.classList.contains(oi);this._queueCallback((()=>{this._isWithActiveTrigger()||(this._hoverState!==si&&t.remove(),this._cleanTipClass(),this._element.removeAttribute("aria-describedby"),de.trigger(this._element,this.constructor.Event.HIDDEN),this._disposePopper())}),this.tip,e),this._hoverState=""}update(){null!==this._popper&&this._popper.update()}isWithContent(){return Boolean(this.getTitle())}getTipElement(){if(this.tip)return this.tip;const t=document.createElement("div");t.innerHTML=this._config.template;const e=t.children[0];return this.setContent(e),e.classList.remove(oi,ai),this.tip=e,this.tip}setContent(t){this._sanitizeAndSetContent(t,this.getTitle(),ci)}_sanitizeAndSetContent(t,e,n){const i=Me.findOne(n,t);e||!i?this.setElementContent(i,e):i.remove()}setElementContent(t,e){if(null!==t)return zt(e)?(e=Bt(e),void(this._config.html?e.parentNode!==t&&(t.innerHTML="",t.append(e)):t.textContent=e.textContent)):void(this._config.html?(this._config.sanitize&&(e=$n(e,this._config.allowList,this._config.sanitizeFn)),t.innerHTML=e):t.textContent=e)}getTitle(){const t=this._element.getAttribute("data-bs-original-title")||this._config.title;return this._resolvePossibleFunction(t)}updateAttachment(t){return"right"===t?"end":"left"===t?"start":t}_initializeOnDelegatedTarget(t,e){return e||this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_getOffset(){const{offset:t}=this._config;return"string"==typeof t?t.split(",").map((t=>Number.parseInt(t,10))):"function"==typeof t?e=>t(e,this._element):t}_resolvePossibleFunction(t){return"function"==typeof t?t.call(this._element):t}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"onChange",enabled:!0,phase:"afterWrite",fn:t=>this._handlePopperPlacementChange(t)}],onFirstUpdate:t=>{t.options.placement!==t.placement&&this._handlePopperPlacementChange(t)}};return{...e,..."function"==typeof this._config.popperConfig?this._config.popperConfig(e):this._config.popperConfig}}_addAttachmentClass(t){this.getTipElement().classList.add(`${this._getBasicClassPrefix()}-${this.updateAttachment(t)}`)}_getAttachment(t){return ni[t.toUpperCase()]}_setListeners(){this._config.trigger.split(" ").forEach((t=>{if("click"===t)de.on(this._element,this.constructor.Event.CLICK,this._config.selector,(t=>this.toggle(t)));else if("manual"!==t){const e=t===pi?this.constructor.Event.MOUSEENTER:this.constructor.Event.FOCUSIN,n=t===pi?this.constructor.Event.MOUSELEAVE:this.constructor.Event.FOCUSOUT;de.on(this._element,e,this._config.selector,(t=>this._enter(t))),de.on(this._element,n,this._config.selector,(t=>this._leave(t)))}})),this._hideModalHandler=()=>{this._element&&this.hide()},de.on(this._element.closest(ui),hi,this._hideModalHandler),this._config.selector?this._config={...this._config,trigger:"manual",selector:""}:this._fixTitle()}_fixTitle(){const t=this._element.getAttribute("title"),e=typeof this._element.getAttribute("data-bs-original-title");(t||"string"!==e)&&(this._element.setAttribute("data-bs-original-title",t||""),!t||this._element.getAttribute("aria-label")||this._element.textContent||this._element.setAttribute("aria-label",t),this._element.setAttribute("title",""))}_enter(t,e){e=this._initializeOnDelegatedTarget(t,e),t&&(e._activeTrigger["focusin"===t.type?di:pi]=!0),e.getTipElement().classList.contains(ai)||e._hoverState===si?e._hoverState=si:(clearTimeout(e._timeout),e._hoverState=si,e._config.delay&&e._config.delay.show?e._timeout=setTimeout((()=>{e._hoverState===si&&e.show()}),e._config.delay.show):e.show())}_leave(t,e){e=this._initializeOnDelegatedTarget(t,e),t&&(e._activeTrigger["focusout"===t.type?di:pi]=e._element.contains(t.relatedTarget)),e._isWithActiveTrigger()||(clearTimeout(e._timeout),e._hoverState=li,e._config.delay&&e._config.delay.hide?e._timeout=setTimeout((()=>{e._hoverState===li&&e.hide()}),e._config.delay.hide):e.hide())}_isWithActiveTrigger(){for(const t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1}_getConfig(t){const e=Se.getDataAttributes(this._element);return Object.keys(e).forEach((t=>{ti.has(t)&&delete e[t]})),(t={...this.constructor.Default,...e,..."object"==typeof t&&t?t:{}}).container=!1===t.container?document.body:Bt(t.container),"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),Ft(Qn,t,this.constructor.DefaultType),t.sanitize&&(t.template=$n(t.template,t.allowList,t.sanitizeFn)),t}_getDelegateConfig(){const t={};for(const e in this._config)this.constructor.Default[e]!==this._config[e]&&(t[e]=this._config[e]);return t}_cleanTipClass(){const t=this.getTipElement(),e=new RegExp(`(^|\\s)${this._getBasicClassPrefix()}\\S+`,"g"),n=t.getAttribute("class").match(e);null!==n&&n.length>0&&n.map((t=>t.trim())).forEach((e=>t.classList.remove(e)))}_getBasicClassPrefix(){return"bs-tooltip"}_handlePopperPlacementChange(t){const{state:e}=t;e&&(this.tip=e.elements.popper,this._cleanTipClass(),this._addAttachmentClass(this._getAttachment(e.placement)))}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null)}static jQueryInterface(t){return this.each((function(){const e=fi.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}Xt(fi);const mi={...fi.Default,placement:"right",offset:[0,8],trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'},gi={...fi.DefaultType,content:"(string|element|function)"},vi={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"};class yi extends fi{static get Default(){return mi}static get NAME(){return"popover"}static get Event(){return vi}static get DefaultType(){return gi}isWithContent(){return this.getTitle()||this._getContent()}setContent(t){this._sanitizeAndSetContent(t,this.getTitle(),".popover-header"),this._sanitizeAndSetContent(t,this._getContent(),".popover-body")}_getContent(){return this._resolvePossibleFunction(this._config.content)}_getBasicClassPrefix(){return"bs-popover"}static jQueryInterface(t){return this.each((function(){const e=yi.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}Xt(yi);const _i="scrollspy",xi={offset:10,method:"auto",target:""},bi={offset:"number",method:"string",target:"(string|element)"},wi="active",Si=".nav-link, .list-group-item, .dropdown-item",Mi="position";class Ti extends ge{constructor(t,e){super(t),this._scrollElement="BODY"===this._element.tagName?window:this._element,this._config=this._getConfig(e),this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,de.on(this._scrollElement,"scroll.bs.scrollspy",(()=>this._process())),this.refresh(),this._process()}static get Default(){return xi}static get NAME(){return _i}refresh(){const t=this._scrollElement===this._scrollElement.window?"offset":Mi,e="auto"===this._config.method?t:this._config.method,n=e===Mi?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),Me.find(Si,this._config.target).map((t=>{const i=Ot(t),r=i?Me.findOne(i):null;if(r){const t=r.getBoundingClientRect();if(t.width||t.height)return[Se[e](r).top+n,i]}return null})).filter((t=>t)).sort(((t,e)=>t[0]-e[0])).forEach((t=>{this._offsets.push(t[0]),this._targets.push(t[1])}))}dispose(){de.off(this._scrollElement,".bs.scrollspy"),super.dispose()}_getConfig(t){return(t={...xi,...Se.getDataAttributes(this._element),..."object"==typeof t&&t?t:{}}).target=Bt(t.target)||document.documentElement,Ft(_i,t,bi),t}_getScrollTop(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop}_getScrollHeight(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}_getOffsetHeight(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height}_process(){const t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),n=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=n){const t=this._targets[this._targets.length-1];this._activeTarget!==t&&this._activate(t)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(let e=this._offsets.length;e--;)this._activeTarget!==this._targets[e]&&t>=this._offsets[e]&&(void 0===this._offsets[e+1]||t<this._offsets[e+1])&&this._activate(this._targets[e])}}_activate(t){this._activeTarget=t,this._clear();const e=Si.split(",").map((e=>`${e}[data-bs-target="${t}"],${e}[href="${t}"]`)),n=Me.findOne(e.join(","),this._config.target);n.classList.add(wi),n.classList.contains("dropdown-item")?Me.findOne(".dropdown-toggle",n.closest(".dropdown")).classList.add(wi):Me.parents(n,".nav, .list-group").forEach((t=>{Me.prev(t,".nav-link, .list-group-item").forEach((t=>t.classList.add(wi))),Me.prev(t,".nav-item").forEach((t=>{Me.children(t,".nav-link").forEach((t=>t.classList.add(wi)))}))})),de.trigger(this._scrollElement,"activate.bs.scrollspy",{relatedTarget:t})}_clear(){Me.find(Si,this._config.target).filter((t=>t.classList.contains(wi))).forEach((t=>t.classList.remove(wi)))}static jQueryInterface(t){return this.each((function(){const e=Ti.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}de.on(window,"load.bs.scrollspy.data-api",(()=>{Me.find('[data-bs-spy="scroll"]').forEach((t=>new Ti(t)))})),Xt(Ti);const Ei="active",Ai="fade",Ci="show",Li=".active",Ii=":scope > li > .active";class Di extends ge{static get NAME(){return"tab"}show(){if(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&this._element.classList.contains(Ei))return;let t;const e=kt(this._element),n=this._element.closest(".nav, .list-group");if(n){const e="UL"===n.nodeName||"OL"===n.nodeName?Ii:Li;t=Me.find(e,n),t=t[t.length-1]}const i=t?de.trigger(t,"hide.bs.tab",{relatedTarget:this._element}):null;if(de.trigger(this._element,"show.bs.tab",{relatedTarget:t}).defaultPrevented||null!==i&&i.defaultPrevented)return;this._activate(this._element,n);const r=()=>{de.trigger(t,"hidden.bs.tab",{relatedTarget:this._element}),de.trigger(this._element,"shown.bs.tab",{relatedTarget:t})};e?this._activate(e,e.parentNode,r):r()}_activate(t,e,n){const i=(!e||"UL"!==e.nodeName&&"OL"!==e.nodeName?Me.children(e,Li):Me.find(Ii,e))[0],r=n&&i&&i.classList.contains(Ai),o=()=>this._transitionComplete(t,i,n);i&&r?(i.classList.remove(Ci),this._queueCallback(o,t,!0)):o()}_transitionComplete(t,e,n){if(e){e.classList.remove(Ei);const t=Me.findOne(":scope > .dropdown-menu .active",e.parentNode);t&&t.classList.remove(Ei),"tab"===e.getAttribute("role")&&e.setAttribute("aria-selected",!1)}t.classList.add(Ei),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),jt(t),t.classList.contains(Ai)&&t.classList.add(Ci);let i=t.parentNode;if(i&&"LI"===i.nodeName&&(i=i.parentNode),i&&i.classList.contains("dropdown-menu")){const e=t.closest(".dropdown");e&&Me.find(".dropdown-toggle",e).forEach((t=>t.classList.add(Ei))),t.setAttribute("aria-expanded",!0)}n&&n()}static jQueryInterface(t){return this.each((function(){const e=Di.getOrCreateInstance(this);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t]()}}))}}de.on(document,"click.bs.tab.data-api",'[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',(function(t){["A","AREA"].includes(this.tagName)&&t.preventDefault(),Ht(this)||Di.getOrCreateInstance(this).show()})),Xt(Di);const Pi="toast",Ri="hide",Oi="show",ki="showing",Ni={animation:"boolean",autohide:"boolean",delay:"number"},zi={animation:!0,autohide:!0,delay:5e3};class Bi extends ge{constructor(t,e){super(t),this._config=this._getConfig(e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get DefaultType(){return Ni}static get Default(){return zi}static get NAME(){return Pi}show(){de.trigger(this._element,"show.bs.toast").defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(Ri),jt(this._element),this._element.classList.add(Oi),this._element.classList.add(ki),this._queueCallback((()=>{this._element.classList.remove(ki),de.trigger(this._element,"shown.bs.toast"),this._maybeScheduleHide()}),this._element,this._config.animation))}hide(){this._element.classList.contains(Oi)&&(de.trigger(this._element,"hide.bs.toast").defaultPrevented||(this._element.classList.add(ki),this._queueCallback((()=>{this._element.classList.add(Ri),this._element.classList.remove(ki),this._element.classList.remove(Oi),de.trigger(this._element,"hidden.bs.toast")}),this._element,this._config.animation)))}dispose(){this._clearTimeout(),this._element.classList.contains(Oi)&&this._element.classList.remove(Oi),super.dispose()}_getConfig(t){return t={...zi,...Se.getDataAttributes(this._element),..."object"==typeof t&&t?t:{}},Ft(Pi,t,this.constructor.DefaultType),t}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout((()=>{this.hide()}),this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":this._hasMouseInteraction=e;break;case"focusin":case"focusout":this._hasKeyboardInteraction=e}if(e)return void this._clearTimeout();const n=t.relatedTarget;this._element===n||this._element.contains(n)||this._maybeScheduleHide()}_setListeners(){de.on(this._element,"mouseover.bs.toast",(t=>this._onInteraction(t,!0))),de.on(this._element,"mouseout.bs.toast",(t=>this._onInteraction(t,!1))),de.on(this._element,"focusin.bs.toast",(t=>this._onInteraction(t,!0))),de.on(this._element,"focusout.bs.toast",(t=>this._onInteraction(t,!1)))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each((function(){const e=Bi.getOrCreateInstance(this,t);if("string"==typeof t){if(void 0===e[t])throw new TypeError(`No method named "${t}"`);e[t](this)}}))}}ve(Bi),Xt(Bi)},3645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",i=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),i&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),i&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,i,r,o){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(i)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(a[l]=!0)}for(var c=0;c<t.length;c++){var u=[].concat(t[c]);i&&a[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),e.push(u))}},e}},8081:t=>{"use strict";t.exports=function(t){return t[1]}},3626:(t,e,n)=>{"use strict";function i(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}n.d(e,{Z:()=>i})},9266:(t,e,n)=>{"use strict";n.d(e,{D:()=>s,KZ:()=>l,XD:()=>p,Zi:()=>d,_W:()=>f,bX:()=>u,eq:()=>c,ke:()=>o});var i=n(3051),r=(0,n(2234).Yf)();function o(t,e,n,r,o){var a;if(e&&e.ecModel){var s=e.ecModel.getUpdatePayload();a=s&&s.animation}var l="update"===t;if(e&&e.isAnimationEnabled()){var c=void 0,u=void 0,h=void 0;return r?(c=(0,i.pD)(r.duration,200),u=(0,i.pD)(r.easing,"cubicOut"),h=0):(c=e.getShallow(l?"animationDurationUpdate":"animationDuration"),u=e.getShallow(l?"animationEasingUpdate":"animationEasing"),h=e.getShallow(l?"animationDelayUpdate":"animationDelay")),a&&(null!=a.duration&&(c=a.duration),null!=a.easing&&(u=a.easing),null!=a.delay&&(h=a.delay)),(0,i.mf)(h)&&(h=h(n,o)),(0,i.mf)(c)&&(c=c(n)),{duration:c||0,delay:h,easing:u}}return null}function a(t,e,n,r,a,s,l){var c,u=!1;(0,i.mf)(a)?(l=s,s=a,a=null):(0,i.Kn)(a)&&(s=a.cb,l=a.during,u=a.isFrom,c=a.removeOpt,a=a.dataIndex);var h="leave"===t;h||e.stopAnimation("leave");var p=o(t,r,a,h?c||{}:null,r&&r.getAnimationDelayParams?r.getAnimationDelayParams(e,a):null);if(p&&p.duration>0){var d={duration:p.duration,delay:p.delay||0,easing:p.easing,done:s,force:!!s||!!l,setToFinal:!h,scope:t,during:l};u?e.animateFrom(n,d):e.animateTo(n,d)}else e.stopAnimation(),!u&&e.attr(n),l&&l(1),s&&s()}function s(t,e,n,i,r,o){a("update",t,e,n,i,r,o)}function l(t,e,n,i,r,o){a("enter",t,e,n,i,r,o)}function c(t){if(!t.__zr)return!0;for(var e=0;e<t.animators.length;e++)if("leave"===t.animators[e].scope)return!0;return!1}function u(t,e,n,i,r,o){c(t)||a("leave",t,e,n,i,r,o)}function h(t,e,n,i){t.removeTextContent(),t.removeTextGuideLine(),u(t,{style:{opacity:0}},e,n,i)}function p(t,e,n){function i(){t.parent&&t.parent.remove(t)}t.isGroup?t.traverse((function(t){t.isGroup||h(t,e,n,i)})):h(t,e,n,i)}function d(t){r(t).oldStyle=t.style}function f(t){return r(t).oldStyle}},9813:(t,e,n)=>{"use strict";n.d(e,{z:()=>lt});var i=n(9779),r=n(3051),o=n(8554),a=n(6134),s=n(5280),l=n(7494),c=n(7411),u=n(3726),h=n(479),p=n(1610),d=n(5094),f=n(3622),m=n(7214),g=n(4014).Z.CMD;function v(t,e){return Math.abs(t-e)<1e-5}function y(t){var e,n,i,r,o,a=t.data,s=t.len(),l=[],c=0,u=0,h=0,p=0;function d(t,n){e&&e.length>2&&l.push(e),e=[t,n]}function f(t,n,i,r){v(t,i)&&v(n,r)||e.push(t,n,i,r,i,r)}function m(t,n,i,r,o,a){var s=Math.abs(n-t),l=4*Math.tan(s/4)/3,c=n<t?-1:1,u=Math.cos(t),h=Math.sin(t),p=Math.cos(n),d=Math.sin(n),f=u*o+i,m=h*a+r,g=p*o+i,v=d*a+r,y=o*l*c,_=a*l*c;e.push(f-y*h,m+_*u,g+y*d,v-_*p,g,v)}for(var y=0;y<s;){var _=a[y++],x=1===y;switch(x&&(h=c=a[y],p=u=a[y+1],_!==g.L&&_!==g.C&&_!==g.Q||(e=[h,p])),_){case g.M:c=h=a[y++],u=p=a[y++],d(h,p);break;case g.L:f(c,u,n=a[y++],i=a[y++]),c=n,u=i;break;case g.C:e.push(a[y++],a[y++],a[y++],a[y++],c=a[y++],u=a[y++]);break;case g.Q:n=a[y++],i=a[y++],r=a[y++],o=a[y++],e.push(c+2/3*(n-c),u+2/3*(i-u),r+2/3*(n-r),o+2/3*(i-o),r,o),c=r,u=o;break;case g.A:var b=a[y++],w=a[y++],S=a[y++],M=a[y++],T=a[y++],E=a[y++]+T;y+=1;var A=!a[y++];n=Math.cos(T)*S+b,i=Math.sin(T)*M+w,x?d(h=n,p=i):f(c,u,n,i),c=Math.cos(E)*S+b,u=Math.sin(E)*M+w;for(var C=(A?-1:1)*Math.PI/2,L=T;A?L>E:L<E;L+=C)m(L,A?Math.max(L+C,E):Math.min(L+C,E),b,w,S,M);break;case g.R:h=c=a[y++],p=u=a[y++],n=h+a[y++],i=p+a[y++],d(n,p),f(n,p,n,i),f(n,i,h,i),f(h,i,h,p),f(h,p,n,p);break;case g.Z:e&&f(c,u,h,p),c=h,u=p}}return e&&e.length>2&&l.push(e),l}function _(t,e,n,i,r,a,s,l,c,u){if(v(t,n)&&v(e,i)&&v(r,s)&&v(a,l))c.push(s,l);else{var h=2/u,p=h*h,d=s-t,f=l-e,m=Math.sqrt(d*d+f*f);d/=m,f/=m;var g=n-t,y=i-e,x=r-s,b=a-l,w=g*g+y*y,S=x*x+b*b;if(w<p&&S<p)c.push(s,l);else{var M=d*g+f*y,T=-d*x-f*b;if(w-M*M<p&&M>=0&&S-T*T<p&&T>=0)c.push(s,l);else{var E=[],A=[];(0,o.Vz)(t,n,r,s,.5,E),(0,o.Vz)(e,i,a,l,.5,A),_(E[0],A[0],E[1],A[1],E[2],A[2],E[3],A[3],c,u),_(E[4],A[4],E[5],A[5],E[6],A[6],E[7],A[7],c,u)}}}}function x(t,e,n){var i=t[e],r=t[1-e],o=Math.abs(i/r),a=Math.ceil(Math.sqrt(o*n)),s=Math.floor(n/a);0===s&&(s=1,a=n);for(var l=[],c=0;c<a;c++)l.push(s);var u=n-a*s;if(u>0)for(c=0;c<u;c++)l[c%a]+=1;return l}function b(t,e,n){for(var i=t.r0,r=t.r,o=t.startAngle,a=t.endAngle,s=Math.abs(a-o),l=s*r,c=r-i,u=l>Math.abs(c),h=x([l,c],u?0:1,e),p=(u?s:c)/h.length,d=0;d<h.length;d++)for(var f=(u?c:s)/h[d],m=0;m<h[d];m++){var g={};u?(g.startAngle=o+p*d,g.endAngle=o+p*(d+1),g.r0=i+f*m,g.r=i+f*(m+1)):(g.startAngle=o+f*m,g.endAngle=o+f*(m+1),g.r0=i+p*d,g.r=i+p*(d+1)),g.clockwise=t.clockwise,g.cx=t.cx,g.cy=t.cy,n.push(g)}}function w(t,e,n,i){return t*i-n*e}function S(t,e,n,i,r,o,a,s){var l=n-t,c=i-e,u=a-r,h=s-o,d=w(u,h,l,c);if(Math.abs(d)<1e-6)return null;var f=w(t-r,e-o,u,h)/d;return f<0||f>1?null:new p.Z(f*l+t,f*c+e)}function M(t,e,n){var i=new p.Z;p.Z.sub(i,n,e),i.normalize();var r=new p.Z;return p.Z.sub(r,t,e),r.dot(i)}function T(t,e){var n=t[t.length-1];n&&n[0]===e[0]&&n[1]===e[1]||t.push(e)}function E(t){var e=t.points,n=[],i=[];(0,u.zk)(e,n,i);var r=new h.Z(n[0],n[1],i[0]-n[0],i[1]-n[1]),o=r.width,a=r.height,s=r.x,l=r.y,c=new p.Z,d=new p.Z;return o>a?(c.x=d.x=s+o/2,c.y=l,d.y=l+a):(c.y=d.y=l+a/2,c.x=s,d.x=s+o),function(t,e,n){for(var i=t.length,r=[],o=0;o<i;o++){var a=t[o],s=t[(o+1)%i],l=S(a[0],a[1],s[0],s[1],e.x,e.y,n.x,n.y);l&&r.push({projPt:M(l,e,n),pt:l,idx:o})}if(r.length<2)return[{points:t},{points:t}];r.sort((function(t,e){return t.projPt-e.projPt}));var c=r[0],u=r[r.length-1];if(u.idx<c.idx){var h=c;c=u,u=h}var p=[c.pt.x,c.pt.y],d=[u.pt.x,u.pt.y],f=[p],m=[d];for(o=c.idx+1;o<=u.idx;o++)T(f,t[o].slice());for(T(f,d),T(f,p),o=u.idx+1;o<=c.idx+i;o++)T(m,t[o%i].slice());return T(m,p),T(m,d),[{points:f},{points:m}]}(e,c,d)}function A(t,e,n,i){if(1===n)i.push(e);else{var r=Math.floor(n/2),o=t(e);A(t,o[0],r,i),A(t,o[1],n-r,i)}return i}function C(t,e){var n=t.length,i=e.length;if(n===i)return[t,e];for(var r=[],a=[],s=n<i?t:e,l=Math.min(n,i),c=Math.abs(i-n)/6,u=(l-2)/6,h=Math.ceil(c/u)+1,p=[s[0],s[1]],d=c,f=2;f<l;){var m=s[f-2],g=s[f-1],v=s[f++],y=s[f++],_=s[f++],x=s[f++],b=s[f++],w=s[f++];if(d<=0)p.push(v,y,_,x,b,w);else{for(var S=Math.min(d,h-1)+1,M=1;M<=S;M++){var T=M/S;(0,o.Vz)(m,v,_,b,T,r),(0,o.Vz)(g,y,x,w,T,a),m=r[3],g=a[3],p.push(r[1],a[1],r[2],a[2],m,g),v=r[5],y=a[5],_=r[6],x=a[6]}d-=S-1}}return s===t?[p,e]:[t,p]}function L(t,e){for(var n=t.length,i=t[n-2],r=t[n-1],o=[],a=0;a<e.length;)o[a++]=i,o[a++]=r;return o}function I(t){for(var e=0,n=0,i=0,r=t.length,o=0,a=r-2;o<r;a=o,o+=2){var s=t[a],l=t[a+1],c=t[o],u=t[o+1],h=s*u-c*l;e+=h,n+=(s+c)*h,i+=(l+u)*h}return 0===e?[t[0]||0,t[1]||0]:[n/e/3,i/e/3,e]}function D(t,e,n,i){for(var r=(t.length-2)/6,o=1/0,a=0,s=t.length,l=s-2,c=0;c<r;c++){for(var u=6*c,h=0,p=0;p<s;p+=2){var d=0===p?u:(u+p-2)%l+2,f=t[d]-n[0],m=t[d+1]-n[1],g=e[p]-i[0]-f,v=e[p+1]-i[1]-m;h+=g*g+v*v}h<o&&(o=h,a=c)}return a}function P(t){for(var e=[],n=t.length,i=0;i<n;i+=2)e[i]=t[n-i-2],e[i+1]=t[n-i-1];return e}function R(t){return t.__isCombineMorphing}var O="__mOriginal_";function k(t,e,n){var i=O+e,r=t[i]||t[e];t[i]||(t[i]=t[e]);var o=n.replace,a=n.after,s=n.before;t[e]=function(){var t,e=arguments;return s&&s.apply(this,e),t=o?o.apply(this,e):r.apply(this,e),a&&a.apply(this,e),t}}function N(t,e){var n=O+e;t[n]&&(t[e]=t[n],t[n]=null)}function z(t,e){for(var n=0;n<t.length;n++)for(var i=t[n],r=0;r<i.length;){var o=i[r],a=i[r+1];i[r++]=e[0]*o+e[2]*a+e[4],i[r++]=e[1]*o+e[3]*a+e[5]}}function B(t,e){var n=t.getUpdatedPathProxy(),i=e.getUpdatedPathProxy(),r=function(t,e){for(var n,i,r,o=[],a=[],s=0;s<Math.max(t.length,e.length);s++){var l=t[s],c=e[s],u=void 0,h=void 0;l?c?(i=u=(n=C(l,c))[0],r=h=n[1]):(h=L(r||l,l),u=l):(u=L(i||c,c),h=c),o.push(u),a.push(h)}return[o,a]}(y(n),y(i)),o=r[0],a=r[1],l=t.getComputedTransform(),c=e.getComputedTransform();l&&z(o,l),c&&z(a,c),k(e,"updateTransform",{replace:function(){this.transform=null}}),e.transform=null;var u=function(t,e,n,i){for(var r,o=[],a=0;a<t.length;a++){var s=t[a],l=e[a],c=I(s),u=I(l);null==r&&(r=c[2]<0!=u[2]<0);var h=[],p=[],d=0,f=1/0,m=[],g=s.length;r&&(s=P(s));for(var v=6*D(s,l,c,u),y=g-2,_=0;_<y;_+=2){var x=(v+_)%y+2;h[_+2]=s[x]-c[0],h[_+3]=s[x+1]-c[1]}h[0]=s[v]-c[0],h[1]=s[v+1]-c[1];for(var b=i/10,w=-i/2;w<=i/2;w+=b){var S=Math.sin(w),M=Math.cos(w),T=0;for(_=0;_<s.length;_+=2){var E=h[_],A=h[_+1],C=l[_]-u[0],L=l[_+1]-u[1],R=C*M-L*S,O=C*S+L*M;m[_]=R,m[_+1]=O;var k=R-E,N=O-A;T+=k*k+N*N}if(T<f){f=T,d=w;for(var z=0;z<m.length;z++)p[z]=m[z]}}o.push({from:h,to:p,fromCp:c,toCp:u,rotation:-d})}return o}(o,a,0,Math.PI),h=[];k(e,"buildPath",{replace:function(t){for(var n=e.__morphT,i=1-n,r=[],o=0;o<u.length;o++){var a=u[o],l=a.from,c=a.to,p=a.rotation*n,d=a.fromCp,f=a.toCp,m=Math.sin(p),g=Math.cos(p);(0,s.t7)(r,d,f,n);for(var v=0;v<l.length;v+=2){var y=l[v],_=l[v+1],x=y*i+(M=c[v])*n,b=_*i+(T=c[v+1])*n;h[v]=x*g-b*m+r[0],h[v+1]=x*m+b*g+r[1]}var w=h[0],S=h[1];for(t.moveTo(w,S),v=2;v<l.length;){var M=h[v++],T=h[v++],E=h[v++],A=h[v++],C=h[v++],L=h[v++];w===M&&S===T&&E===C&&A===L?t.lineTo(C,L):t.bezierCurveTo(M,T,E,A,C,L),w=C,S=L}}}})}function F(t,e,n){if(!t||!e)return e;var i=n.done,o=n.during;return B(t,e),e.__morphT=0,e.animateTo({__morphT:1},(0,r.ce)({during:function(t){e.dirtyShape(),o&&o(t)},done:function(){N(e,"buildPath"),N(e,"updateTransform"),e.__morphT=-1,e.createPathProxy(),e.dirtyShape(),i&&i()}},n)),e}function U(t,e,n,i,r,o){t=r===n?0:Math.round(32767*(t-n)/(r-n)),e=o===i?0:Math.round(32767*(e-i)/(o-i));for(var a,s=0,l=32768;l>0;l/=2){var c=0,u=0;(t&l)>0&&(c=1),(e&l)>0&&(u=1),s+=l*l*(3*c^u),0===u&&(1===c&&(t=l-1-t,e=l-1-e),a=t,t=e,e=a)}return s}function H(t){var e=1/0,n=1/0,i=-1/0,o=-1/0,a=(0,r.UI)(t,(function(t){var r=t.getBoundingRect(),a=t.getComputedTransform(),s=r.x+r.width/2+(a?a[4]:0),l=r.y+r.height/2+(a?a[5]:0);return e=Math.min(s,e),n=Math.min(l,n),i=Math.max(s,i),o=Math.max(l,o),[s,l]}));return(0,r.UI)(a,(function(r,a){return{cp:r,z:U(r[0],r[1],e,n,i,o),path:t[a]}})).sort((function(t,e){return t.z-e.z})).map((function(t){return t.path}))}function V(t){return function(t,e){var n,i=[],o=t.shape;switch(t.type){case"rect":!function(t,e,n){for(var i=t.width,r=t.height,o=i>r,a=x([i,r],o?0:1,e),s=o?"width":"height",l=o?"height":"width",c=o?"x":"y",u=o?"y":"x",h=t[s]/a.length,p=0;p<a.length;p++)for(var d=t[l]/a[p],f=0;f<a[p];f++){var m={};m[c]=p*h,m[u]=f*d,m[s]=h,m[l]=d,m.x+=t.x,m.y+=t.y,n.push(m)}}(o,e,i),n=f.Z;break;case"sector":b(o,e,i),n=m.C;break;case"circle":b({r0:0,r:o.r,startAngle:0,endAngle:2*Math.PI,cx:o.cx,cy:o.cy},e,i),n=m.C;break;default:var a=t.getComputedTransform(),s=a?Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1],a[2]*a[2]+a[3]*a[3])):1,c=(0,r.UI)(function(t,e){var n=y(t),i=[];e=e||1;for(var r=0;r<n.length;r++){var o=n[r],a=[],s=o[0],l=o[1];a.push(s,l);for(var c=2;c<o.length;){var u=o[c++],h=o[c++],p=o[c++],d=o[c++],f=o[c++],m=o[c++];_(s,l,u,h,p,d,f,m,a,e),s=f,l=m}i.push(a)}return i}(t.getUpdatedPathProxy(),s),(function(t){return function(t){for(var e=[],n=0;n<t.length;)e.push([t[n++],t[n++]]);return e}(t)})),h=c.length;if(0===h)A(E,{points:c[0]},e,i);else if(h===e)for(var p=0;p<h;p++)i.push({points:c[p]});else{var g=0,v=(0,r.UI)(c,(function(t){var e=[],n=[];(0,u.zk)(t,e,n);var i=(n[1]-e[1])*(n[0]-e[0]);return g+=i,{poly:t,area:i}}));v.sort((function(t,e){return e.area-t.area}));var w=e;for(p=0;p<h;p++){var S=v[p];if(w<=0)break;var M=p===h-1?w:Math.ceil(S.area/g*e);M<0||(A(E,{points:S.poly},M,i),w-=M)}}n=d.Z}if(!n)return function(t,e){for(var n=[],i=0;i<e;i++)n.push((0,l.U5)(t));return n}(t,e);var T,C,L=[];for(p=0;p<i.length;p++){var I=new n;I.setShape(i[p]),T=t,(C=I).setStyle(T.style),C.z=T.z,C.z2=T.z2,C.zlevel=T.zlevel,L.push(I)}return L}(t.path,t.count)}var G=n(9266);function j(t){return(0,r.kJ)(t[0])}function W(t,e){for(var n=[],i=t.length,r=0;r<i;r++)n.push({one:t[r],many:[]});for(r=0;r<e.length;r++){var o=e[r].length,a=void 0;for(a=0;a<o;a++)n[a%i].many.push(e[r][a])}var s=0;for(r=i-1;r>=0;r--)if(!n[r].many.length){var l=n[s].many;if(l.length<=1){if(!s)return n;s=0}o=l.length;var c=Math.ceil(o/2);n[r].many=l.slice(c,o),n[s].many=l.slice(0,c),s++}return n}var Z={clone:function(t){for(var e=[],n=1-Math.pow(1-t.path.style.opacity,1/t.count),i=0;i<t.count;i++){var r=(0,l.U5)(t.path);r.setStyle("opacity",n),e.push(r)}return e},split:null};function q(t,e,n,i,o,s){if(t.length&&e.length){var u=(0,G.ke)("update",i,o);if(u&&u.duration>0){var h,p,d=i.getModel("universalTransition").get("delay"),f=Object.assign({setToFinal:!0},u);j(t)&&(h=t,p=e),j(e)&&(h=e,p=t);for(var m=h?h===t:t.length>e.length,g=h?W(p,h):W(m?e:t,[m?t:e]),v=0,y=0;y<g.length;y++)v+=g[y].many.length;var _=0;for(y=0;y<g.length;y++)x(g[y],m,_,v),_+=g[y].many.length}}function x(t,e,i,o,u){var h=t.many,p=t.one;if(1!==h.length||u)for(var m=(0,r.ce)({dividePath:Z[n],individualDelay:d&&function(t,e,n,r){return d(t+i,o)}},f),g=e?function(t,e,n){var i=[];!function t(e){for(var n=0;n<e.length;n++){var r=e[n];R(r)?t(r.childrenRef()):r instanceof a.ZP&&i.push(r)}}(t);var o=i.length;if(!o)return{fromIndividuals:[],toIndividuals:[],count:0};var s=(n.dividePath||V)({path:e,count:o});if(s.length!==o)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0};i=H(i),s=H(s);for(var l=n.done,u=n.during,h=n.individualDelay,p=new c.ZP,d=0;d<o;d++){var f=i[d],m=s[d];m.parent=e,m.copyTransform(p),h||B(f,m)}function g(t){for(var e=0;e<s.length;e++)s[e].addSelfToZr(t)}function v(){e.__isCombineMorphing=!1,e.__morphT=-1,e.childrenRef=null,N(e,"addSelfToZr"),N(e,"removeSelfFromZr")}e.__isCombineMorphing=!0,e.childrenRef=function(){return s},k(e,"addSelfToZr",{after:function(t){g(t)}}),k(e,"removeSelfFromZr",{after:function(t){for(var e=0;e<s.length;e++)s[e].removeSelfFromZr(t)}});var y=s.length;if(h){var _=y,x=function(){0==--_&&(v(),l&&l())};for(d=0;d<y;d++){var b=h?(0,r.ce)({delay:(n.delay||0)+h(d,y,i[d],s[d]),done:x},n):n;F(i[d],s[d],b)}}else e.__morphT=0,e.animateTo({__morphT:1},(0,r.ce)({during:function(t){for(var n=0;n<y;n++){var i=s[n];i.__morphT=e.__morphT,i.dirtyShape()}u&&u(t)},done:function(){v();for(var e=0;e<t.length;e++)N(t[e],"updateTransform");l&&l()}},n));return e.__zr&&g(e.__zr),{fromIndividuals:i,toIndividuals:s,count:y}}(h,p,m):function(t,e,n){var i=e.length,o=[],s=n.dividePath||V;if(R(t)){!function t(e){for(var n=0;n<e.length;n++){var i=e[n];R(i)?t(i.childrenRef()):i instanceof a.ZP&&o.push(i)}}(t.childrenRef());var c=o.length;if(c<i)for(var u=0,h=c;h<i;h++)o.push((0,l.U5)(o[u++%c]));o.length=i}else{o=s({path:t,count:i});var p=t.getComputedTransform();for(h=0;h<o.length;h++)o[h].setLocalTransform(p);if(o.length!==i)return console.error("Invalid morphing: unmatched splitted path"),{fromIndividuals:[],toIndividuals:[],count:0}}o=H(o),e=H(e);var d=n.individualDelay;for(h=0;h<i;h++){var f=d?(0,r.ce)({delay:(n.delay||0)+d(h,i,o[h],e[h])},n):n;F(o[h],e[h],f)}return{fromIndividuals:o,toIndividuals:e,count:e.length}}(p,h,m),v=g.fromIndividuals,y=g.toIndividuals,_=v.length,b=0;b<_;b++)w=d?(0,r.ce)({delay:d(b,_)},f):f,s(v[b],y[b],e?h[b]:t.one,e?t.one:h[b],w);else{var w,S=e?h[0]:p,M=e?p:h[0];R(S)?x({many:[S],one:M},!0,i,o,!0):(F(S,M,w=d?(0,r.ce)({delay:d(i,o)},f):f),s(S,M,S,M,w))}}}function X(t){if(!t)return[];if((0,r.kJ)(t)){for(var e=[],n=0;n<t.length;n++)e.push(X(t[n]));return e}var i=[];return t.traverse((function(t){t instanceof a.ZP&&!t.disableMorphing&&!t.invisible&&!t.ignore&&i.push(t)})),i}var Y=n(4130),J=n(2234),K=(n(175),n(7719)),$=(0,J.Yf)();function Q(t){var e=[];return(0,r.S6)(t,(function(t){var n=t.data;if(!(n.count()>1e4))for(var i=n.getIndices(),r=function(t){for(var e=t.dimensions,n=0;n<e.length;n++){var i=t.getDimensionInfo(e[n]);if(i&&0===i.otherDims.itemGroupId)return e[n]}}(n),o=0;o<i.length;o++)e.push({data:n,dim:t.dim||r,divide:t.divide,dataIndex:o})})),e}function tt(t,e,n){t.traverse((function(t){t instanceof a.ZP&&(0,G.KZ)(t,{style:{opacity:0}},e,{dataIndex:n,isFrom:!0})}))}function et(t){if(t.parent){var e=t.getComputedTransform();t.setLocalTransform(e),t.parent.remove(t)}}function nt(t){t.stopAnimation(),t.isGroup&&t.traverse((function(t){t.stopAnimation()}))}function it(t,e,n){var i=Q(t),o=Q(e);function s(t,e,n,i,o){(n||t)&&e.animateFrom({style:n&&n!==t?(0,r.l7)((0,r.l7)({},n.style),t.style):t.style},o)}function l(t){for(var e=0;e<t.length;e++)if(t[e].dim)return t[e].dim}var c=l(i),u=l(o),h=!1;function p(t,e){return function(n){var i=n.data,r=n.dataIndex;if(e)return i.getId(r);var o=i.hostModel&&i.hostModel.get("dataGroupId"),a=t?c||u:u||c,s=a&&i.getDimensionInfo(a),l=s&&s.ordinalMeta;if(s){var h=i.get(s.name,r);return l&&l.categories[h]||h+""}var p=i.getRawDataItem(r);return p&&p.groupId?p.groupId+"":o||i.getId(r)}}var d=function(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++){var r=t[i],o=e[i];if(r.data.getId(r.dataIndex)!==o.data.getId(o.dataIndex))return!1}return!0}(i,o),f={};if(!d)for(var m=0;m<o.length;m++){var g=o[m],v=g.data.getItemGraphicEl(g.dataIndex);v&&(f[v.id]=!0)}function y(t,e){var n=i[e],r=o[t],a=r.data.hostModel,l=n.data.getItemGraphicEl(n.dataIndex),c=r.data.getItemGraphicEl(r.dataIndex);l!==c?l&&f[l.id]||c&&(nt(c),l?(nt(l),et(l),h=!0,q(X(l),X(c),r.divide,a,t,s)):tt(c,a,t)):c&&function(t,e,n){var i=(0,G.ke)("update",n,e);i&&t.traverse((function(t){if(t instanceof K.ZP){var e=(0,G._W)(t);e&&t.animateFrom({style:e},i)}}))}(c,r.dataIndex,a)}new Y.Z(i,o,p(!0,d),p(!1,d),null,"multiple").update(y).updateManyToOne((function(t,e){var n=o[t],a=n.data,l=a.hostModel,c=a.getItemGraphicEl(n.dataIndex),u=(0,r.hX)((0,r.UI)(e,(function(t){return i[t].data.getItemGraphicEl(i[t].dataIndex)})),(function(t){return t&&t!==c&&!f[t.id]}));c&&(nt(c),u.length?((0,r.S6)(u,(function(t){nt(t),et(t)})),h=!0,q(X(u),X(c),n.divide,l,t,s)):tt(c,l,n.dataIndex))})).updateOneToMany((function(t,e){var n=i[e],a=n.data.getItemGraphicEl(n.dataIndex);if(!a||!f[a.id]){var l=(0,r.hX)((0,r.UI)(t,(function(t){return o[t].data.getItemGraphicEl(o[t].dataIndex)})),(function(t){return t&&t!==a})),c=o[t[0]].data.hostModel;l.length&&((0,r.S6)(l,(function(t){return nt(t)})),a?(nt(a),et(a),h=!0,q(X(a),X(l),n.divide,c,t[0],s)):(0,r.S6)(l,(function(e){return tt(e,c,t[0])})))}})).updateManyToMany((function(t,e){new Y.Z(e,t,(function(t){return i[t].data.getId(i[t].dataIndex)}),(function(t){return o[t].data.getId(o[t].dataIndex)})).update((function(n,i){y(t[n],e[i])})).execute()})).execute(),h&&(0,r.S6)(e,(function(t){var e=t.data.hostModel,i=e&&n.getViewOfSeriesModel(e),r=(0,G.ke)("update",e,0);i&&e.isAnimationEnabled()&&r&&r.duration>0&&i.group.traverse((function(t){t instanceof a.ZP&&!t.animators.length&&t.animateFrom({style:{opacity:0}},r)}))}))}function rt(t){return t.getModel("universalTransition").get("seriesKey")||t.id}function ot(t){return(0,r.kJ)(t)?t.sort().join(","):t}function at(t){if(t.hostModel)return t.hostModel.getModel("universalTransition").get("divideShape")}function st(t,e){for(var n=0;n<t.length;n++)if(null!=e.seriesIndex&&e.seriesIndex===t[n].seriesIndex||null!=e.seriesId&&e.seriesId===t[n].id)return n}function lt(t){t.registerUpdateLifecycle("series:beforeupdate",(function(t,e,n){(0,r.S6)((0,J.kF)(n.seriesTransition),(function(t){(0,r.S6)((0,J.kF)(t.to),(function(t){for(var e=n.updatedSeries,r=0;r<e.length;r++)(null!=t.seriesIndex&&t.seriesIndex===e[r].seriesIndex||null!=t.seriesId&&t.seriesId===e[r].id)&&(e[r][i.V]=!0)}))}))})),t.registerUpdateLifecycle("series:transition",(function(t,e,n){var o=$(e);if(o.oldSeries&&n.updatedSeries&&n.optionChanged){var a=n.seriesTransition;if(a)(0,r.S6)((0,J.kF)(a),(function(t){!function(t,e,n,i){var o=[],a=[];(0,r.S6)((0,J.kF)(t.from),(function(t){var n=st(e.oldSeries,t);n>=0&&o.push({data:e.oldData[n],divide:at(e.oldData[n]),dim:t.dimension})})),(0,r.S6)((0,J.kF)(t.to),(function(t){var e=st(n.updatedSeries,t);if(e>=0){var i=n.updatedSeries[e].getData();a.push({data:i,divide:at(i),dim:t.dimension})}})),o.length>0&&a.length>0&&it(o,a,i)}(t,o,n,e)}));else{var s=function(t,e){var n=(0,r.kW)(),i=(0,r.kW)(),o=(0,r.kW)();return(0,r.S6)(t.oldSeries,(function(e,n){var a=t.oldData[n],s=rt(e),l=ot(s);i.set(l,a),(0,r.kJ)(s)&&(0,r.S6)(s,(function(t){o.set(t,{data:a,key:l})}))})),(0,r.S6)(e.updatedSeries,(function(t){if(t.isUniversalTransitionEnabled()&&t.isAnimationEnabled()){var e=t.getData(),a=rt(t),s=ot(a),l=i.get(s);if(l)n.set(s,{oldSeries:[{divide:at(l),data:l}],newSeries:[{divide:at(e),data:e}]});else if((0,r.kJ)(a)){var c=[];(0,r.S6)(a,(function(t){var e=i.get(t);e&&c.push({divide:at(e),data:e})})),c.length&&n.set(s,{oldSeries:c,newSeries:[{data:e,divide:at(e)}]})}else{var u=o.get(a);if(u){var h=n.get(u.key);h||(h={oldSeries:[{data:u.data,divide:at(u.data)}],newSeries:[]},n.set(u.key,h)),h.newSeries.push({data:e,divide:at(e)})}}}})),n}(o,n);(0,r.S6)(s.keys(),(function(t){var n=s.get(t);it(n.oldSeries,n.newSeries,e)}))}(0,r.S6)(n.updatedSeries,(function(t){t[i.V]&&(t[i.V]=!1)}))}for(var l=t.getSeries(),c=o.oldSeries=[],u=o.oldData=[],h=0;h<l.length;h++){var p=l[h].getData();p.count()<1e4&&(c.push(l[h]),u.push(p))}}))}},6803:(t,e,n)=>{"use strict";n.d(e,{N:()=>Q});var i=n(3051),r=n(3382),o={average:function(t){for(var e=0,n=0,i=0;i<t.length;i++)isNaN(t[i])||(e+=t[i],n++);return 0===n?NaN:e/n},sum:function(t){for(var e=0,n=0;n<t.length;n++)e+=t[n]||0;return e},max:function(t){for(var e=-1/0,n=0;n<t.length;n++)t[n]>e&&(e=t[n]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,n=0;n<t.length;n++)t[n]<e&&(e=t[n]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}},a=function(t){return Math.round(t.length/2)},s=n(8299),l=n(9779),c=n(8455),u=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,s.ZT)(e,t),e.prototype.getInitialData=function(t,e){return(0,c.Z)(null,this,{useEncodeDefaulter:!0})},e.prototype.getMarkerPosition=function(t){var e=this.coordinateSystem;if(e&&e.clampData){var n=e.dataToPoint(e.clampData(t)),i=this.getData(),r=i.getLayout("offset"),o=i.getLayout("size");return n[e.getBaseAxis().isHorizontal()?0:1]+=r+o/2,n}return[NaN,NaN]},e.type="series.__base_bar__",e.defaultOption={z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod"},e}(l.Z);l.Z.registerClass(u);const h=u;var p=n(2151);const d=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,s.ZT)(e,t),e.prototype.getInitialData=function(){return(0,c.Z)(null,this,{useEncodeDefaulter:!0,createInvertedIndices:!!this.get("realtimeSort",!0)||null})},e.prototype.getProgressive=function(){return!!this.get("large")&&this.get("progressive")},e.prototype.getProgressiveThreshold=function(){var t=this.get("progressiveThreshold"),e=this.get("largeThreshold");return e>t&&(t=e),t},e.prototype.brushSelector=function(t,e,n){return n.rect(e.getItemLayout(t))},e.type="series.bar",e.dependencies=["grid","polar"],e.defaultOption=(0,p.ZL)(h.defaultOption,{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1},select:{itemStyle:{borderColor:"#212121"}},realtimeSort:!1}),e}(h);var f=n(6134),m=n(8154),g=n(4592),v=n(9266),y=n(3622),_=n(7214),x=n(106),b=n(6357),w=n(6006),S=n(270),M=n(5669);var T=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0};const E=function(t){function e(e){var n=t.call(this,e)||this;return n.type="sausage",n}return(0,s.ZT)(e,t),e.prototype.getDefaultShape=function(){return new T},e.prototype.buildPath=function(t,e){var n=e.cx,i=e.cy,r=Math.max(e.r0||0,0),o=Math.max(e.r,0),a=.5*(o-r),s=r+a,l=e.startAngle,c=e.endAngle,u=e.clockwise,h=2*Math.PI,p=u?c-l<h:l-c<h;p||(l=c-(u?h:-h));var d=Math.cos(l),f=Math.sin(l),m=Math.cos(c),g=Math.sin(c);p?(t.moveTo(d*r+n,f*r+i),t.arc(d*s+n,f*s+i,a,-Math.PI+l,l,!u)):t.moveTo(d*o+n,f*o+i),t.arc(n,i,o,l,c,!u),t.arc(m*s+n,g*s+i,a,c-2*Math.PI,c-Math.PI,!u),0!==r&&t.arc(n,i,r,c,l,u)},e}(f.ZP);var A=n(5797),C=n(1073),L=n(8540);function I(t,e){var n=t.mapDimensionsAll("defaultedLabel"),i=n.length;if(1===i){var r=(0,L.hk)(t,e,n[0]);return null!=r?r+"":null}if(i){for(var o=[],a=0;a<n.length;a++)o.push((0,L.hk)(t,e,n[a]));return o.join(" ")}}var D=n(423);function P(t,e,n){return e*Math.sin(t)*(n?-1:1)}function R(t,e,n){return e*Math.cos(t)*(n?1:-1)}var O=Math.max,k=Math.min,N=function(t){function e(){var n=t.call(this)||this;return n.type=e.type,n._isFirstFrame=!0,n}return(0,s.ZT)(e,t),e.prototype.render=function(t,e,n,i){this._model=t,this._removeOnRenderedListener(n),this._updateDrawMode(t);var r=t.get("coordinateSystem");("cartesian2d"===r||"polar"===r)&&(this._progressiveEls=null,this._isLargeDraw?this._renderLarge(t,e,n):this._renderNormal(t,e,n,i))},e.prototype.incrementalPrepareRender=function(t){this._clear(),this._updateDrawMode(t),this._updateLargeClip(t)},e.prototype.incrementalRender=function(t,e){this._progressiveEls=[],this._incrementalRenderLarge(t,e)},e.prototype.eachRendered=function(t){(0,g.traverseElements)(this._progressiveEls||this.group,t)},e.prototype._updateDrawMode=function(t){var e=t.pipelineContext.large;null!=this._isLargeDraw&&e===this._isLargeDraw||(this._isLargeDraw=e,this._clear())},e.prototype._renderNormal=function(t,e,n,i){var r,o=this.group,a=t.getData(),s=this._data,l=t.coordinateSystem,c=l.getBaseAxis();"cartesian2d"===l.type?r=c.isHorizontal():"polar"===l.type&&(r="angle"===c.dim);var u=t.isAnimationEnabled()?t:null,h=function(t,e){var n=t.get("realtimeSort",!0),i=e.getBaseAxis();if(n&&"category"===i.type&&"cartesian2d"===e.type)return{baseAxis:i,otherAxis:e.getOtherAxis(i)}}(t,l);h&&this._enableRealtimeSort(h,a,n);var p=t.get("clip",!0)||h,d=function(t,e){var n=t.getArea&&t.getArea();if((0,C.H)(t,"cartesian2d")){var i=t.getBaseAxis();if("category"!==i.type||!i.onBand){var r=e.getLayout("bandWidth");i.isHorizontal()?(n.x-=r,n.width+=2*r):(n.y-=r,n.height+=2*r)}}return n}(l,a);o.removeClipPath();var f=t.get("roundCap",!0),g=t.get("showBackground",!0),x=t.getModel("backgroundStyle"),b=x.get("borderRadius")||0,S=[],M=this._backgroundEls,T=i&&i.isInitSort,E=i&&"changeAxisOrder"===i.type;function A(t){var e=j[l.type](a,t),n=function(t,e,n){return new("polar"===t.type?_.C:y.Z)({shape:K(e,n,t),silent:!0,z2:0})}(l,r,e);return n.useStyle(x.getItemStyle()),"cartesian2d"===l.type&&n.setShape("r",b),S[t]=n,n}a.diff(s).add((function(e){var n=a.getItemModel(e),i=j[l.type](a,e,n);if(g&&A(e),a.hasValue(e)&&G[l.type](i)){var s=!1;p&&(s=z[l.type](d,i));var m=B[l.type](t,a,e,i,r,u,c.model,!1,f);h&&(m.forceLabelAnimation=!0),Z(m,a,e,n,i,t,r,"polar"===l.type),T?m.attr({shape:i}):h?F(h,u,m,i,e,r,!1,!1):(0,v.KZ)(m,{shape:i},t,e),a.setItemGraphicEl(e,m),o.add(m),m.ignore=s}})).update((function(e,n){var i=a.getItemModel(e),m=j[l.type](a,e,i);if(g){var y=void 0;0===M.length?y=A(n):((y=M[n]).useStyle(x.getItemStyle()),"cartesian2d"===l.type&&y.setShape("r",b),S[e]=y);var _=j[l.type](a,e),C=K(r,_,l);(0,v.D)(y,{shape:C},u,e)}var L=s.getItemGraphicEl(n);if(a.hasValue(e)&&G[l.type](m)){var I=!1;if(p&&(I=z[l.type](d,m))&&o.remove(L),L?(0,v.Zi)(L):L=B[l.type](t,a,e,m,r,u,c.model,!!L,f),h&&(L.forceLabelAnimation=!0),E){var D=L.getTextContent();if(D){var P=(0,w.qA)(D);null!=P.prevValue&&(P.prevValue=P.value)}}else Z(L,a,e,i,m,t,r,"polar"===l.type);T?L.attr({shape:m}):h?F(h,u,L,m,e,r,!0,E):(0,v.D)(L,{shape:m},t,e,null),a.setItemGraphicEl(e,L),L.ignore=I,o.add(L)}else o.remove(L)})).remove((function(e){var n=s.getItemGraphicEl(e);n&&(0,v.XD)(n,t,e)})).execute();var L=this._backgroundGroup||(this._backgroundGroup=new m.Z);L.removeAll();for(var I=0;I<S.length;++I)L.add(S[I]);o.add(L),this._backgroundEls=S,this._data=a},e.prototype._renderLarge=function(t,e,n){this._clear(),Y(t,this.group),this._updateLargeClip(t)},e.prototype._incrementalRenderLarge=function(t,e){this._removeBackground(),Y(e,this.group,this._progressiveEls,!0)},e.prototype._updateLargeClip=function(t){var e=t.get("clip",!0)&&function(t,e,n,r,o){return t?"polar"===t.type?function(t,e,n){var i=t.getArea(),r=(0,M.NM)(i.r0,1),o=(0,M.NM)(i.r,1),a=new _.C({shape:{cx:(0,M.NM)(t.cx,1),cy:(0,M.NM)(t.cy,1),r0:r,r:o,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}});return e&&("angle"===t.getBaseAxis().dim?a.shape.endAngle=i.startAngle:a.shape.r=r,v.KZ(a,{shape:{endAngle:i.endAngle,r:o}},n)),a}(t,e,n):"cartesian2d"===t.type?function(t,e,n,r,o){var a=t.getArea(),s=a.x,l=a.y,c=a.width,u=a.height,h=n.get(["lineStyle","width"])||2;s-=h/2,l-=h/2,c+=h,u+=h,s=Math.floor(s),c=Math.round(c);var p=new y.Z({shape:{x:s,y:l,width:c,height:u}});if(e){var d=t.getBaseAxis(),f=d.isHorizontal(),m=d.inverse;f?(m&&(p.shape.x+=c),p.shape.width=0):(m||(p.shape.y+=u),p.shape.height=0);var g=(0,i.mf)(o)?function(t){o(t,p)}:null;v.KZ(p,{shape:{width:c,height:u,x:s,y:l}},n,null,r,g)}return p}(t,e,n,r,o):null:null}(t.coordinateSystem,!1,t),n=this.group;e?n.setClipPath(e):n.removeClipPath()},e.prototype._enableRealtimeSort=function(t,e,n){var i=this;if(e.count()){var r=t.baseAxis;if(this._isFirstFrame)this._dispatchInitSort(e,t,n),this._isFirstFrame=!1;else{var o=function(t){var n=e.getItemGraphicEl(t),i=n&&n.shape;return i&&Math.abs(r.isHorizontal()?i.height:i.width)||0};this._onRendered=function(){i._updateSortWithinSameData(e,o,r,n)},n.getZr().on("rendered",this._onRendered)}}},e.prototype._dataSort=function(t,e,n){var r=[];return t.each(t.mapDimension(e.dim),(function(t,e){var i=n(e);i=null==i?NaN:i,r.push({dataIndex:e,mappedValue:i,ordinalNumber:t})})),r.sort((function(t,e){return e.mappedValue-t.mappedValue})),{ordinalNumbers:(0,i.UI)(r,(function(t){return t.ordinalNumber}))}},e.prototype._isOrderChangedWithinSameData=function(t,e,n){for(var i=n.scale,r=t.mapDimension(n.dim),o=Number.MAX_VALUE,a=0,s=i.getOrdinalMeta().categories.length;a<s;++a){var l=t.rawIndexOf(r,i.getRawOrdinalNumber(a)),c=l<0?Number.MIN_VALUE:e(t.indexOfRawIndex(l));if(c>o)return!0;o=c}return!1},e.prototype._isOrderDifferentInView=function(t,e){for(var n=e.scale,i=n.getExtent(),r=Math.max(0,i[0]),o=Math.min(i[1],n.getOrdinalMeta().categories.length-1);r<=o;++r)if(t.ordinalNumbers[r]!==n.getRawOrdinalNumber(r))return!0},e.prototype._updateSortWithinSameData=function(t,e,n,i){if(this._isOrderChangedWithinSameData(t,e,n)){var r=this._dataSort(t,n,e);this._isOrderDifferentInView(r,n)&&(this._removeOnRenderedListener(i),i.dispatchAction({type:"changeAxisOrder",componentType:n.dim+"Axis",axisId:n.index,sortInfo:r}))}},e.prototype._dispatchInitSort=function(t,e,n){var i=e.baseAxis,r=this._dataSort(t,i,(function(n){return t.get(t.mapDimension(e.otherAxis.dim),n)}));n.dispatchAction({type:"changeAxisOrder",componentType:i.dim+"Axis",isInitSort:!0,axisId:i.index,sortInfo:r})},e.prototype.remove=function(t,e){this._clear(this._model),this._removeOnRenderedListener(e)},e.prototype.dispose=function(t,e){this._removeOnRenderedListener(e)},e.prototype._removeOnRenderedListener=function(t){this._onRendered&&(t.getZr().off("rendered",this._onRendered),this._onRendered=null)},e.prototype._clear=function(t){var e=this.group,n=this._data;t&&t.isAnimationEnabled()&&n&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],n.eachItemGraphicEl((function(e){(0,v.XD)(e,t,(0,x.A)(e).dataIndex)}))):e.removeAll(),this._data=null,this._isFirstFrame=!0},e.prototype._removeBackground=function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null},e.type="bar",e}(A.Z),z={cartesian2d:function(t,e){var n=e.width<0?-1:1,i=e.height<0?-1:1;n<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height);var r=t.x+t.width,o=t.y+t.height,a=O(e.x,t.x),s=k(e.x+e.width,r),l=O(e.y,t.y),c=k(e.y+e.height,o),u=s<a,h=c<l;return e.x=u&&a>r?s:a,e.y=h&&l>o?c:l,e.width=u?0:s-a,e.height=h?0:c-l,n<0&&(e.x+=e.width,e.width=-e.width),i<0&&(e.y+=e.height,e.height=-e.height),u||h},polar:function(t,e){var n=e.r0<=e.r?1:-1;if(n<0){var i=e.r;e.r=e.r0,e.r0=i}var r=k(e.r,t.r),o=O(e.r0,t.r0);e.r=r,e.r0=o;var a=r-o<0;return n<0&&(i=e.r,e.r=e.r0,e.r0=i),a}},B={cartesian2d:function(t,e,n,r,o,a,s,l,c){var u=new y.Z({shape:(0,i.l7)({},r),z2:1});return u.__dataIndex=n,u.name="item",a&&(u.shape[o?"height":"width"]=0),u},polar:function(t,e,n,i,r,o,a,s,l){var c=!r&&l?E:_.C,u=new c({shape:i,z2:1});u.name="item";var h,p,d=W(r);if(u.calculateTextPosition=(h=d,p=({isRoundCap:c===E}||{}).isRoundCap,function(t,e,n){var i=e.position;if(!i||i instanceof Array)return(0,D.wI)(t,e,n);var r=h(i),o=null!=e.distance?e.distance:5,a=this.shape,s=a.cx,l=a.cy,c=a.r,u=a.r0,d=(c+u)/2,f=a.startAngle,m=a.endAngle,g=(f+m)/2,v=p?Math.abs(c-u)/2:0,y=Math.cos,_=Math.sin,x=s+c*y(f),b=l+c*_(f),w="left",S="top";switch(r){case"startArc":x=s+(u-o)*y(g),b=l+(u-o)*_(g),w="center",S="top";break;case"insideStartArc":x=s+(u+o)*y(g),b=l+(u+o)*_(g),w="center",S="bottom";break;case"startAngle":x=s+d*y(f)+P(f,o+v,!1),b=l+d*_(f)+R(f,o+v,!1),w="right",S="middle";break;case"insideStartAngle":x=s+d*y(f)+P(f,-o+v,!1),b=l+d*_(f)+R(f,-o+v,!1),w="left",S="middle";break;case"middle":x=s+d*y(g),b=l+d*_(g),w="center",S="middle";break;case"endArc":x=s+(c+o)*y(g),b=l+(c+o)*_(g),w="center",S="bottom";break;case"insideEndArc":x=s+(c-o)*y(g),b=l+(c-o)*_(g),w="center",S="top";break;case"endAngle":x=s+d*y(m)+P(m,o+v,!0),b=l+d*_(m)+R(m,o+v,!0),w="left",S="middle";break;case"insideEndAngle":x=s+d*y(m)+P(m,-o+v,!0),b=l+d*_(m)+R(m,-o+v,!0),w="right",S="middle";break;default:return(0,D.wI)(t,e,n)}return(t=t||{}).x=x,t.y=b,t.align=w,t.verticalAlign=S,t}),o){var f=r?"r":"endAngle",m={};u.shape[f]=r?0:i.startAngle,m[f]=i[f],(s?v.D:v.KZ)(u,{shape:m},o)}return u}};function F(t,e,n,i,r,o,a,s){var l,c;o?(c={x:i.x,width:i.width},l={y:i.y,height:i.height}):(c={y:i.y,height:i.height},l={x:i.x,width:i.width}),s||(a?v.D:v.KZ)(n,{shape:l},e,r,null);var u=e?t.baseAxis.model:null;(a?v.D:v.KZ)(n,{shape:c},u,r)}function U(t,e){for(var n=0;n<e.length;n++)if(!isFinite(t[e[n]]))return!0;return!1}var H=["x","y","width","height"],V=["cx","cy","r","startAngle","endAngle"],G={cartesian2d:function(t){return!U(t,H)},polar:function(t){return!U(t,V)}},j={cartesian2d:function(t,e,n){var i=t.getItemLayout(e),r=n?function(t,e){var n=t.get(["itemStyle","borderColor"]);if(!n||"none"===n)return 0;var i=t.get(["itemStyle","borderWidth"])||0,r=isNaN(e.width)?Number.MAX_VALUE:Math.abs(e.width),o=isNaN(e.height)?Number.MAX_VALUE:Math.abs(e.height);return Math.min(i,r,o)}(n,i):0,o=i.width>0?1:-1,a=i.height>0?1:-1;return{x:i.x+o*r/2,y:i.y+a*r/2,width:i.width-o*r,height:i.height-a*r}},polar:function(t,e,n){var i=t.getItemLayout(e);return{cx:i.cx,cy:i.cy,r0:i.r0,r:i.r,startAngle:i.startAngle,endAngle:i.endAngle,clockwise:i.clockwise}}};function W(t){return function(t){var e=t?"Arc":"Angle";return function(t){switch(t){case"start":case"insideStart":case"end":case"insideEnd":return t+e;default:return t}}}(t)}function Z(t,e,n,r,o,a,s,l){var c=e.getItemVisual(n,"style");l||t.setShape("r",r.get(["itemStyle","borderRadius"])||0),t.useStyle(c);var u=r.getShallow("cursor");u&&t.attr("cursor",u);var h=l?s?o.r>=o.r0?"endArc":"startArc":o.endAngle>=o.startAngle?"endAngle":"startAngle":s?o.height>=0?"bottom":"top":o.width>=0?"right":"left",p=(0,w.k3)(r);(0,w.ni)(t,p,{labelFetcher:a,labelDataIndex:n,defaultText:I(a.getData(),n),inheritColor:c.fill,defaultOpacity:c.opacity,defaultOutsidePosition:h});var d=t.getTextContent();if(l&&d){var f=r.get(["label","position"]);t.textConfig.inside="middle"===f||null,function(t,e,n,r){if((0,i.hj)(r))t.setTextConfig({rotation:r});else if((0,i.kJ)(e))t.setTextConfig({rotation:0});else{var o,a=t.shape,s=a.clockwise?a.startAngle:a.endAngle,l=a.clockwise?a.endAngle:a.startAngle,c=(s+l)/2,u=n(e);switch(u){case"startArc":case"insideStartArc":case"middle":case"insideEndArc":case"endArc":o=c;break;case"startAngle":case"insideStartAngle":o=s;break;case"endAngle":case"insideEndAngle":o=l;break;default:return void t.setTextConfig({rotation:0})}var h=1.5*Math.PI-o;"middle"===u&&h>Math.PI/2&&h<1.5*Math.PI&&(h-=Math.PI),t.setTextConfig({rotation:h})}}(t,"outside"===f?h:f,W(s),r.get(["label","rotate"]))}(0,w.pe)(d,p,a.getRawValue(n),(function(t){return function(t,e){var n=t.mapDimensionsAll("defaultedLabel");if(!(0,i.kJ)(e))return e+"";for(var r=[],o=0;o<n.length;o++){var a=t.getDimensionIndex(n[o]);a>=0&&r.push(e[a])}return r.join(" ")}(e,t)}));var m=r.getModel(["emphasis"]);(0,b.k5)(t,m.get("focus"),m.get("blurScope"),m.get("disabled")),(0,b.WO)(t,r),function(t){return null!=t.startAngle&&null!=t.endAngle&&t.startAngle===t.endAngle}(o)&&(t.style.fill="none",t.style.stroke="none",(0,i.S6)(t.states,(function(t){t.style&&(t.style.fill=t.style.stroke="none")})))}var q=function(){},X=function(t){function e(e){var n=t.call(this,e)||this;return n.type="largeBar",n}return(0,s.ZT)(e,t),e.prototype.getDefaultShape=function(){return new q},e.prototype.buildPath=function(t,e){for(var n=e.points,i=this.baseDimIdx,r=1-this.baseDimIdx,o=[],a=[],s=this.barWidth,l=0;l<n.length;l+=3)a[i]=s,a[r]=n[l+2],o[i]=n[l+i],o[r]=n[l+r],t.rect(o[0],o[1],a[0],a[1])},e}(f.ZP);function Y(t,e,n,i){var r=t.getData(),o=r.getLayout("valueAxisHorizontal")?1:0,a=r.getLayout("largeDataIndices"),s=r.getLayout("size"),l=t.getModel("backgroundStyle"),c=r.getLayout("largeBackgroundPoints");if(c){var u=new X({shape:{points:c},incremental:!!i,silent:!0,z2:0});u.baseDimIdx=o,u.largeDataIndices=a,u.barWidth=s,u.useStyle(l.getItemStyle()),e.add(u),n&&n.push(u)}var h=new X({shape:{points:r.getLayout("largePoints")},incremental:!!i,z2:1});h.baseDimIdx=o,h.largeDataIndices=a,h.barWidth=s,e.add(h),h.useStyle(r.getVisual("style")),(0,x.A)(h).seriesIndex=t.seriesIndex,t.get("silent")||(h.on("mousedown",J),h.on("mousemove",J)),n&&n.push(h)}var J=(0,S.P2)((function(t){var e=function(t,e,n){for(var i=t.baseDimIdx,r=1-i,o=t.shape.points,a=t.largeDataIndices,s=[],l=[],c=t.barWidth,u=0,h=o.length/3;u<h;u++){var p=3*u;if(l[i]=c,l[r]=o[p+2],s[i]=o[p+i],s[r]=o[p+r],l[r]<0&&(s[r]+=l[r],l[r]=-l[r]),e>=s[0]&&e<=s[0]+l[0]&&n>=s[1]&&n<=s[1]+l[1])return a[u]}return-1}(this,t.offsetX,t.offsetY);(0,x.A)(this).dataIndex=e>=0?e:null}),30,!1);function K(t,e,n){if((0,C.H)(n,"cartesian2d")){var i=e,r=n.getArea();return{x:t?i.x:r.x,y:t?r.y:i.y,width:t?i.width:r.width,height:t?r.height:i.height}}var o=e;return{cx:(r=n.getArea()).cx,cy:r.cy,r0:t?r.r0:o.r0,r:t?r.r:o.r,startAngle:t?o.startAngle:0,endAngle:t?o.endAngle:2*Math.PI}}const $=N;function Q(t){t.registerChartView($),t.registerSeriesModel(d),t.registerLayout(t.PRIORITY.VISUAL.LAYOUT,i.WA(r.bK,"bar")),t.registerLayout(t.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT,(0,r.Bk)("bar")),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,{seriesType:"bar",reset:function(t,e,n){var r=t.getData(),s=t.get("sampling"),l=t.coordinateSystem,c=r.count();if(c>10&&"cartesian2d"===l.type&&s){var u=l.getBaseAxis(),h=l.getOtherAxis(u),p=u.getExtent(),d=n.getDevicePixelRatio(),f=Math.abs(p[1]-p[0])*(d||1),m=Math.round(c/f);if(isFinite(m)&&m>1){"lttb"===s&&t.setData(r.lttbDownSample(r.mapDimension(h.dim),1/m));var g=void 0;(0,i.HD)(s)?g=o[s]:(0,i.mf)(s)&&(g=s),g&&t.setData(r.downSample(r.mapDimension(h.dim),1/m,g,a))}}}}),t.registerAction({type:"changeAxisOrder",event:"changeAxisOrder",update:"update"},(function(t,e){var n=t.componentType||"series";e.eachComponent({mainType:n,query:t},(function(e){t.sortInfo&&e.axis.setCategorySortInfo(t.sortInfo)}))}))}},9048:(t,e,n)=>{"use strict";n.d(e,{N:()=>x});var i=n(8299),r=n(4592),o=n(3622),a=n(4535),s=n(6357),l=n(3132);const c=function(){function t(){this.blurSize=30,this.pointSize=20,this.maxOpacity=1,this.minOpacity=0,this._gradientPixels={inRange:null,outOfRange:null};var t=l.qW.createCanvas();this.canvas=t}return t.prototype.update=function(t,e,n,i,r,o){var a=this._getBrush(),s=this._getGradient(r,"inRange"),l=this._getGradient(r,"outOfRange"),c=this.pointSize+this.blurSize,u=this.canvas,h=u.getContext("2d"),p=t.length;u.width=e,u.height=n;for(var d=0;d<p;++d){var f=t[d],m=f[0],g=f[1],v=i(f[2]);h.globalAlpha=v,h.drawImage(a,m-c,g-c)}if(!u.width||!u.height)return u;for(var y=h.getImageData(0,0,u.width,u.height),_=y.data,x=0,b=_.length,w=this.minOpacity,S=this.maxOpacity-w;x<b;){v=_[x+3]/256;var M=4*Math.floor(255*v);if(v>0){var T=o(v)?s:l;v>0&&(v=v*S+w),_[x++]=T[M],_[x++]=T[M+1],_[x++]=T[M+2],_[x++]=T[M+3]*v*256}else x+=4}return h.putImageData(y,0,0),u},t.prototype._getBrush=function(){var t=this._brushCanvas||(this._brushCanvas=l.qW.createCanvas()),e=this.pointSize+this.blurSize,n=2*e;t.width=n,t.height=n;var i=t.getContext("2d");return i.clearRect(0,0,n,n),i.shadowOffsetX=n,i.shadowBlur=this.blurSize,i.shadowColor="#000",i.beginPath(),i.arc(-e,e,this.pointSize,0,2*Math.PI,!0),i.closePath(),i.fill(),t},t.prototype._getGradient=function(t,e){for(var n=this._gradientPixels,i=n[e]||(n[e]=new Uint8ClampedArray(1024)),r=[0,0,0,0],o=0,a=0;a<256;a++)t[e](a/255,!0,r),i[o++]=r[0],i[o++]=r[1],i[o++]=r[2],i[o++]=r[3];return i},t}();var u=n(3051),h=n(5797),p=n(1073),d=n(6006);function f(t){var e=t.dimensions;return"lng"===e[0]&&"lat"===e[1]}const m=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,i.ZT)(e,t),e.prototype.render=function(t,e,n){var i;e.eachComponent("visualMap",(function(e){e.eachTargetSeries((function(n){n===t&&(i=e)}))})),this._progressiveEls=null,this.group.removeAll();var r=t.coordinateSystem;"cartesian2d"===r.type||"calendar"===r.type?this._renderOnCartesianAndCalendar(t,n,0,t.getData().count()):f(r)&&this._renderOnGeo(r,t,i,n)},e.prototype.incrementalPrepareRender=function(t,e,n){this.group.removeAll()},e.prototype.incrementalRender=function(t,e,n,i){var r=e.coordinateSystem;r&&(f(r)?this.render(e,n,i):(this._progressiveEls=[],this._renderOnCartesianAndCalendar(e,i,t.start,t.end,!0)))},e.prototype.eachRendered=function(t){r.traverseElements(this._progressiveEls||this.group,t)},e.prototype._renderOnCartesianAndCalendar=function(t,e,n,i,r){var a,l,c,u,h=t.coordinateSystem,f=(0,p.H)(h,"cartesian2d");if(f){var m=h.getAxis("x"),g=h.getAxis("y");a=m.getBandWidth()+.5,l=g.getBandWidth()+.5,c=m.scale.getExtent(),u=g.scale.getExtent()}for(var v=this.group,y=t.getData(),_=t.getModel(["emphasis","itemStyle"]).getItemStyle(),x=t.getModel(["blur","itemStyle"]).getItemStyle(),b=t.getModel(["select","itemStyle"]).getItemStyle(),w=t.get(["itemStyle","borderRadius"]),S=(0,d.k3)(t),M=t.getModel("emphasis"),T=M.get("focus"),E=M.get("blurScope"),A=M.get("disabled"),C=f?[y.mapDimension("x"),y.mapDimension("y"),y.mapDimension("value")]:[y.mapDimension("time"),y.mapDimension("value")],L=n;L<i;L++){var I=void 0,D=y.getItemVisual(L,"style");if(f){var P=y.get(C[0],L),R=y.get(C[1],L);if(isNaN(y.get(C[2],L))||P<c[0]||P>c[1]||R<u[0]||R>u[1])continue;var O=h.dataToPoint([P,R]);I=new o.Z({shape:{x:O[0]-a/2,y:O[1]-l/2,width:a,height:l},style:D})}else{if(isNaN(y.get(C[1],L)))continue;I=new o.Z({z2:1,shape:h.dataToRect([y.get(C[0],L)]).contentShape,style:D})}if(y.hasItemOption){var k=y.getItemModel(L),N=k.getModel("emphasis");_=N.getModel("itemStyle").getItemStyle(),x=k.getModel(["blur","itemStyle"]).getItemStyle(),b=k.getModel(["select","itemStyle"]).getItemStyle(),w=k.get(["itemStyle","borderRadius"]),T=N.get("focus"),E=N.get("blurScope"),A=N.get("disabled"),S=(0,d.k3)(k)}I.shape.r=w;var z=t.getRawValue(L),B="-";z&&null!=z[2]&&(B=z[2]+""),(0,d.ni)(I,S,{labelFetcher:t,labelDataIndex:L,defaultOpacity:D.opacity,defaultText:B}),I.ensureState("emphasis").style=_,I.ensureState("blur").style=x,I.ensureState("select").style=b,(0,s.k5)(I,T,E,A),I.incremental=r,r&&(I.states.emphasis.hoverLayer=!0),v.add(I),y.setItemGraphicEl(L,I),this._progressiveEls&&this._progressiveEls.push(I)}},e.prototype._renderOnGeo=function(t,e,n,i){var r=n.targetVisuals.inRange,o=n.targetVisuals.outOfRange,s=e.getData(),l=this._hmLayer||this._hmLayer||new c;l.blurSize=e.get("blurSize"),l.pointSize=e.get("pointSize"),l.minOpacity=e.get("minOpacity"),l.maxOpacity=e.get("maxOpacity");var h=t.getViewRect().clone(),p=t.getRoamTransform();h.applyTransform(p);var d=Math.max(h.x,0),f=Math.max(h.y,0),m=Math.min(h.width+h.x,i.getWidth()),g=Math.min(h.height+h.y,i.getHeight()),v=m-d,y=g-f,_=[s.mapDimension("lng"),s.mapDimension("lat"),s.mapDimension("value")],x=s.mapArray(_,(function(e,n,i){var r=t.dataToPoint([e,n]);return r[0]-=d,r[1]-=f,r.push(i),r})),b=n.getExtent(),w="visualMap.continuous"===n.type?function(t,e){var n=t[1]-t[0];return e=[(e[0]-t[0])/n,(e[1]-t[0])/n],function(t){return t>=e[0]&&t<=e[1]}}(b,n.option.range):function(t,e,n){var i=t[1]-t[0],r=(e=u.UI(e,(function(e){return{interval:[(e.interval[0]-t[0])/i,(e.interval[1]-t[0])/i]}}))).length,o=0;return function(t){var i;for(i=o;i<r;i++)if((a=e[i].interval)[0]<=t&&t<=a[1]){o=i;break}if(i===r)for(i=o-1;i>=0;i--){var a;if((a=e[i].interval)[0]<=t&&t<=a[1]){o=i;break}}return i>=0&&i<r&&n[i]}}(b,n.getPieceList(),n.option.selected);l.update(x,v,y,r.color.getNormalizer(),{inRange:r.color.getColorMapper(),outOfRange:o.color.getColorMapper()},w);var S=new a.ZP({style:{width:v,height:y,x:d,y:f,image:l.canvas},silent:!0});this.group.add(S)},e.type="heatmap",e}(h.Z);var g=n(9779),v=n(8455),y=n(4267);const _=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,i.ZT)(e,t),e.prototype.getInitialData=function(t,e){return(0,v.Z)(null,this,{generateCoord:"value"})},e.prototype.preventIncremental=function(){var t=y.Z.get(this.get("coordinateSystem"));if(t&&t.dimensions)return"lng"===t.dimensions[0]&&"lat"===t.dimensions[1]},e.type="series.heatmap",e.dependencies=["grid","geo","calendar"],e.defaultOption={coordinateSystem:"cartesian2d",z:2,geoIndex:0,blurSize:30,pointSize:20,maxOpacity:1,minOpacity:0,select:{itemStyle:{borderColor:"#212121"}}},e}(g.Z);function x(t){t.registerChartView(m),t.registerSeriesModel(_)}},5682:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(2234);function r(){var t=(0,i.Yf)();return function(e){var n=t(e),i=e.pipelineContext,r=!!n.large,o=!!n.progressiveRender,a=n.large=!(!i||!i.large),s=n.progressiveRender=!(!i||!i.progressiveRender);return!(r===a&&o===s)&&"reset"}}},8455:(t,e,n)=>{"use strict";n.d(e,{Z:()=>g});var i=n(3051),r=n(5101),o=n(5623),a=n(381),s=n(2234),l=n(4267),c=function(t){this.coordSysDims=[],this.axisMap=(0,i.kW)(),this.categoryAxisMap=(0,i.kW)(),this.coordSysName=t},u={cartesian2d:function(t,e,n,i){var r=t.getReferringComponents("xAxis",s.C6).models[0],o=t.getReferringComponents("yAxis",s.C6).models[0];e.coordSysDims=["x","y"],n.set("x",r),n.set("y",o),h(r)&&(i.set("x",r),e.firstCategoryDimIndex=0),h(o)&&(i.set("y",o),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},singleAxis:function(t,e,n,i){var r=t.getReferringComponents("singleAxis",s.C6).models[0];e.coordSysDims=["single"],n.set("single",r),h(r)&&(i.set("single",r),e.firstCategoryDimIndex=0)},polar:function(t,e,n,i){var r=t.getReferringComponents("polar",s.C6).models[0],o=r.findAxisModel("radiusAxis"),a=r.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],n.set("radius",o),n.set("angle",a),h(o)&&(i.set("radius",o),e.firstCategoryDimIndex=0),h(a)&&(i.set("angle",a),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(t,e,n,i){e.coordSysDims=["lng","lat"]},parallel:function(t,e,n,r){var o=t.ecModel,a=o.getComponent("parallel",t.get("parallelIndex")),s=e.coordSysDims=a.dimensions.slice();(0,i.S6)(a.parallelAxisIndex,(function(t,i){var a=o.getComponent("parallelAxis",t),l=s[i];n.set(l,a),h(a)&&(r.set(l,a),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=i))}))}};function h(t){return"category"===t.get("type")}var p=n(9574),d=n(9936),f=n(1772),m=n(4279);const g=function(t,e,n){n=n||{};var h,g=e.getSourceManager(),v=!1;t?(v=!0,h=(0,p.nx)(t)):v=(h=g.getSource()).sourceFormat===m.cy;var y=function(t){var e=t.get("coordinateSystem"),n=new c(e),i=u[e];if(i)return i(t,n,n.axisMap,n.categoryAxisMap),n}(e),_=function(t,e){var n,r=t.get("coordinateSystem"),o=l.Z.get(r);return e&&e.coordSysDims&&(n=i.UI(e.coordSysDims,(function(t){var n={name:t},i=e.axisMap.get(t);if(i){var r=i.get("type");n.type=(0,a.T)(r)}return n}))),n||(n=o&&(o.getDimensionsInfo?o.getDimensionsInfo():o.dimensions.slice())||["x","y"]),n}(e,y),x=n.useEncodeDefaulter,b=i.mf(x)?x:x?i.WA(f.pY,_,e):null,w={coordDimensions:_,generateCoord:n.generateCoord,encodeDefine:e.getEncode(),encodeDefaulter:b,canOmitUnusedDimensions:!v},S=(0,o.Z)(h,w),M=function(t,e,n){var r,o;return n&&i.S6(t,(function(t,i){var a=t.coordDim,s=n.categoryAxisMap.get(a);s&&(null==r&&(r=i),t.ordinalMeta=s.getOrdinalMeta(),e&&(t.createInvertedIndices=!0)),null!=t.otherDims.itemName&&(o=!0)})),o||null==r||(t[r].otherDims.itemName=0),r}(S.dimensions,n.createInvertedIndices,y),T=v?null:g.getSharedDataStore(S),E=(0,d.BM)(e,{schema:S,store:T}),A=new r.Z(S,e);A.setCalculationInfo(E);var C=null!=M&&function(t){if(t.sourceFormat===m.cy){var e=function(t){for(var e=0;e<t.length&&null==t[e];)e++;return t[e]}(t.data||[]);return!i.kJ((0,s.C4)(e))}}(h)?function(t,e,n,i){return i===M?n:this.defaultDimValueGetter(t,e,n,i)}:null;return A.hasItemOption=!1,A.initData(v?h:T,null,C),A}},8687:(t,e,n)=>{"use strict";n.d(e,{N:()=>Z});var i=n(8023),r=n(3051);function o(t){t.eachSeriesByType("radar",(function(t){var e=t.getData(),n=[],i=t.coordinateSystem;if(i){var o=i.getIndicatorAxes();r.S6(o,(function(t,r){e.each(e.mapDimension(o[r].dim),(function(t,e){n[e]=n[e]||[];var o=i.dataToPoint(t,r);n[e][r]=a(o)?o:s(i)}))})),e.each((function(t){var o=r.sE(n[t],(function(t){return a(t)}))||s(i);n[t].push(o.slice()),e.setItemLayout(t,n[t])}))}}))}function a(t){return!isNaN(t[0])&&!isNaN(t[1])}function s(t){return[t.cx,t.cy]}function l(t){var e=t.polar;if(e){r.kJ(e)||(e=[e]);var n=[];r.S6(e,(function(e,i){e.indicator?(e.type&&!e.shape&&(e.shape=e.type),t.radar=t.radar||[],r.kJ(t.radar)||(t.radar=[t.radar]),t.radar.push(e)):n.push(e)})),t.polar=n}r.S6(t.series,(function(t){t&&"radar"===t.type&&t.polarIndex&&(t.radarIndex=t.polarIndex)}))}var c=n(8299),u=n(4592),h=n(5094),p=n(2514),d=n(9266),f=n(8154),m=n(6357),g=n(1525),v=n(5797),y=n(6006),_=n(4535);const x=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,c.ZT)(e,t),e.prototype.render=function(t,e,n){var i=t.coordinateSystem,o=this.group,a=t.getData(),s=this._data;function l(t,e){var n=t.getItemVisual(e,"symbol")||"circle";if("none"!==n){var i=g.zp(t.getItemVisual(e,"symbolSize")),r=g.th(n,-1,-1,2,2),o=t.getItemVisual(e,"symbolRotate")||0;return r.attr({style:{strokeNoScale:!0},z2:100,scaleX:i[0]/2,scaleY:i[1]/2,rotation:o*Math.PI/180||0}),r}}function c(e,n,i,r,o,a){i.removeAll();for(var s=0;s<n.length-1;s++){var c=l(r,o);c&&(c.__dimIdx=s,e[s]?(c.setPosition(e[s]),u[a?"initProps":"updateProps"](c,{x:n[s][0],y:n[s][1]},t,o)):c.setPosition(n[s]),i.add(c))}}function v(t){return r.UI(t,(function(t){return[i.cx,i.cy]}))}a.diff(s).add((function(e){var n=a.getItemLayout(e);if(n){var i=new h.Z,r=new p.Z,o={shape:{points:n}};i.shape.points=v(n),r.shape.points=v(n),d.KZ(i,o,t,e),d.KZ(r,o,t,e);var s=new f.Z,l=new f.Z;s.add(r),s.add(i),s.add(l),c(r.shape.points,n,l,a,e,!0),a.setItemGraphicEl(e,s)}})).update((function(e,n){var i=s.getItemGraphicEl(n),r=i.childAt(0),o=i.childAt(1),l=i.childAt(2),u={shape:{points:a.getItemLayout(e)}};u.shape.points&&(c(r.shape.points,u.shape.points,l,a,e,!1),(0,d.Zi)(o),(0,d.Zi)(r),d.D(r,u,t),d.D(o,u,t),a.setItemGraphicEl(e,i))})).remove((function(t){o.remove(s.getItemGraphicEl(t))})).execute(),a.eachItemGraphicEl((function(t,e){var n=a.getItemModel(e),i=t.childAt(0),s=t.childAt(1),l=t.childAt(2),c=a.getItemVisual(e,"style"),u=c.fill;o.add(t),i.useStyle(r.ce(n.getModel("lineStyle").getLineStyle(),{fill:"none",stroke:u})),(0,m.WO)(i,n,"lineStyle"),(0,m.WO)(s,n,"areaStyle");var h=n.getModel("areaStyle"),p=h.isEmpty()&&h.parentModel.isEmpty();s.ignore=p,r.S6(["emphasis","select","blur"],(function(t){var e=n.getModel([t,"areaStyle"]),i=e.isEmpty()&&e.parentModel.isEmpty();s.ensureState(t).ignore=i&&p})),s.useStyle(r.ce(h.getAreaStyle(),{fill:u,opacity:.7,decal:c.decal}));var d=n.getModel("emphasis"),f=d.getModel("itemStyle").getItemStyle();l.eachChild((function(t){if(t instanceof _.ZP){var i=t.style;t.useStyle(r.l7({image:i.image,x:i.x,y:i.y,width:i.width,height:i.height},c))}else t.useStyle(c),t.setColor(u),t.style.strokeNoScale=!0;t.ensureState("emphasis").style=r.d9(f);var o=a.getStore().get(a.getDimensionIndex(t.__dimIdx),e);(null==o||isNaN(o))&&(o=""),(0,y.ni)(t,(0,y.k3)(n),{labelFetcher:a.hostModel,labelDataIndex:e,labelDimIndex:t.__dimIdx,defaultText:o,inheritColor:u,defaultOpacity:c.opacity})})),(0,m.k5)(t,d.get("focus"),d.get("blurScope"),d.get("disabled"))})),this._data=a},e.prototype.remove=function(){this.group.removeAll(),this._data=null},e.type="radar",e}(v.Z);var b=n(9779),w=n(5623),S=n(5101);const M=function(){function t(t,e){this._getDataWithEncodedVisual=t,this._getRawData=e}return t.prototype.getAllNames=function(){var t=this._getRawData();return t.mapArray(t.getName)},t.prototype.containName=function(t){return this._getRawData().indexOfName(t)>=0},t.prototype.indexOfName=function(t){return this._getDataWithEncodedVisual().indexOfName(t)},t.prototype.getItemVisual=function(t,e){return this._getDataWithEncodedVisual().getItemVisual(t,e)},t}();var T=n(5685);const E=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.hasSymbolVisual=!0,n}return(0,c.ZT)(e,t),e.prototype.init=function(e){t.prototype.init.apply(this,arguments),this.legendVisualProvider=new M(r.ak(this.getData,this),r.ak(this.getRawData,this))},e.prototype.getInitialData=function(t,e){return function(t,e,n){e=(0,r.kJ)(e)&&{coordDimensions:e}||(0,r.l7)({encodeDefine:t.getEncode()},e);var i=t.getSource(),o=(0,w.Z)(i,e).dimensions,a=new S.Z(o,t);return a.initData(i,void 0),a}(this,{generateCoord:"indicator_",generateCoordCount:1/0})},e.prototype.formatTooltip=function(t,e,n){var i=this.getData(),o=this.coordinateSystem.getIndicatorAxes(),a=this.getData().getName(t),s=""===a?this.name:a,l=(0,T.jT)(this,t);return(0,T.TX)("section",{header:s,sortBlocks:!0,blocks:r.UI(o,(function(e){var n=i.get(i.mapDimension(e.dim),t);return(0,T.TX)("nameValue",{markerType:"subItem",markerColor:l,name:e.name,value:n,sortParam:n})}))})},e.prototype.getTooltipPosition=function(t){if(null!=t)for(var e=this.getData(),n=this.coordinateSystem,i=e.getValues(r.UI(n.dimensions,(function(t){return e.mapDimension(t)})),t),o=0,a=i.length;o<a;o++)if(!isNaN(i[o])){var s=n.getIndicatorAxes();return n.coordToPoint(s[o].dataToCoord(i[o]),o)}},e.type="series.radar",e.dependencies=["radar"],e.defaultOption={z:2,colorBy:"data",coordinateSystem:"radar",legendHoverLink:!0,radarIndex:0,lineStyle:{width:2,type:"solid",join:"round"},label:{position:"top"},symbolSize:8},e}(b.Z);var A=n(6484),C=n(1497),L=n(6650),I=n(8071),D=A.Z.value;function P(t,e){return r.ce({show:e},t)}const R=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,c.ZT)(e,t),e.prototype.optionUpdated=function(){var t=this.get("boundaryGap"),e=this.get("splitNumber"),n=this.get("scale"),i=this.get("axisLine"),o=this.get("axisTick"),a=this.get("axisLabel"),s=this.get("axisName"),l=this.get(["axisName","show"]),c=this.get(["axisName","formatter"]),u=this.get("axisNameGap"),h=this.get("triggerEvent"),p=r.UI(this.get("indicator")||[],(function(p){null!=p.max&&p.max>0&&!p.min?p.min=0:null!=p.min&&p.min<0&&!p.max&&(p.max=0);var d=s;null!=p.color&&(d=r.ce({color:p.color},s));var f=r.TS(r.d9(p),{boundaryGap:t,splitNumber:e,scale:n,axisLine:i,axisTick:o,axisLabel:a,name:p.text,showName:l,nameLocation:"end",nameGap:u,nameTextStyle:d,triggerEvent:h},!1);if(l||(f.name=""),r.HD(c)){var m=f.name;f.name=c.replace("{value}",null!=m?m:"")}else r.mf(c)&&(f.name=c(f.name,f));var g=new C.Z(f,null,this.ecModel);return r.jB(g,L.W.prototype),g.mainType="radar",g.componentIndex=this.componentIndex,g}),this);this._indicatorModels=p},e.prototype.getIndicatorModels=function(){return this._indicatorModels},e.type="radar",e.defaultOption={z:0,center:["50%","50%"],radius:"75%",startAngle:90,axisName:{show:!0},boundaryGap:[0,0],splitNumber:5,axisNameGap:15,scale:!1,shape:"polygon",axisLine:r.TS({lineStyle:{color:"#bbb"}},D.axisLine),axisLabel:P(D.axisLabel,!1),axisTick:P(D.axisTick,!1),splitLine:P(D.splitLine,!0),splitArea:P(D.splitArea,!0),indicator:[]},e}(I.Z);var O=n(8608),k=n(9538),N=n(5795),z=n(3166),B=["axisLine","axisTickLabel","axisName"];const F=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,c.ZT)(e,t),e.prototype.render=function(t,e,n){this.group.removeAll(),this._buildAxes(t),this._buildSplitLineAndArea(t)},e.prototype._buildAxes=function(t){var e=t.coordinateSystem,n=e.getIndicatorAxes(),i=r.UI(n,(function(t){var n=t.model.get("showName")?t.name:"";return new O.Z(t.model,{axisName:n,position:[e.cx,e.cy],rotation:t.angle,labelDirection:-1,tickDirection:-1,nameDirection:1})}));r.S6(i,(function(t){r.S6(B,t.add,t),this.group.add(t.getGroup())}),this)},e.prototype._buildSplitLineAndArea=function(t){var e=t.coordinateSystem,n=e.getIndicatorAxes();if(n.length){var i=t.get("shape"),o=t.getModel("splitLine"),a=t.getModel("splitArea"),s=o.getModel("lineStyle"),l=a.getModel("areaStyle"),c=o.get("show"),d=a.get("show"),f=s.get("color"),m=l.get("color"),g=r.kJ(f)?f:[f],v=r.kJ(m)?m:[m],y=[],_=[];if("circle"===i)for(var x=n[0].getTicksCoords(),b=e.cx,w=e.cy,S=0;S<x.length;S++)c&&y[D(y,g,S)].push(new k.Z({shape:{cx:b,cy:w,r:x[S].coord}})),d&&S<x.length-1&&_[D(_,v,S)].push(new N.Z({shape:{cx:b,cy:w,r0:x[S].coord,r:x[S+1].coord}}));else{var M,T=r.UI(n,(function(t,n){var i=t.getTicksCoords();return M=null==M?i.length-1:Math.min(i.length-1,M),r.UI(i,(function(t){return e.coordToPoint(t.coord,n)}))})),E=[];for(S=0;S<=M;S++){for(var A=[],C=0;C<n.length;C++)A.push(T[C][S]);A[0]&&A.push(A[0].slice()),c&&y[D(y,g,S)].push(new p.Z({shape:{points:A}})),d&&E&&_[D(_,v,S-1)].push(new h.Z({shape:{points:A.concat(E)}})),E=A.slice().reverse()}}var L=s.getLineStyle(),I=l.getAreaStyle();r.S6(_,(function(t,e){this.group.add(u.mergePath(t,{style:r.ce({stroke:"none",fill:v[e%v.length]},I),silent:!0}))}),this),r.S6(y,(function(t,e){this.group.add(u.mergePath(t,{style:r.ce({fill:"none",stroke:g[e%g.length]},L),silent:!0}))}),this)}function D(t,e,n){var i=n%e.length;return t[i]=t[i]||[],i}},e.type="radar",e}(z.Z),U=function(t){function e(e,n,i){var r=t.call(this,e,n,i)||this;return r.type="value",r.angle=0,r.name="",r}return(0,c.ZT)(e,t),e}(n(2950).Z);var H=n(103),V=n(5669),G=n(8259);const j=function(){function t(t,e,n){this.dimensions=[],this._model=t,this._indicatorAxes=(0,r.UI)(t.getIndicatorModels(),(function(t,e){var n="indicator_"+e,i=new U(n,new H.Z);return i.name=t.get("name"),i.model=t,t.axis=i,this.dimensions.push(n),i}),this),this.resize(t,n)}return t.prototype.getIndicatorAxes=function(){return this._indicatorAxes},t.prototype.dataToPoint=function(t,e){var n=this._indicatorAxes[e];return this.coordToPoint(n.dataToCoord(t),e)},t.prototype.coordToPoint=function(t,e){var n=this._indicatorAxes[e].angle;return[this.cx+t*Math.cos(n),this.cy-t*Math.sin(n)]},t.prototype.pointToData=function(t){var e=t[0]-this.cx,n=t[1]-this.cy,i=Math.sqrt(e*e+n*n);e/=i,n/=i;for(var r,o=Math.atan2(-n,e),a=1/0,s=-1,l=0;l<this._indicatorAxes.length;l++){var c=this._indicatorAxes[l],u=Math.abs(o-c.angle);u<a&&(r=c,s=l,a=u)}return[s,+(r&&r.coordToData(i))]},t.prototype.resize=function(t,e){var n=t.get("center"),i=e.getWidth(),o=e.getHeight(),a=Math.min(i,o)/2;this.cx=V.GM(n[0],i),this.cy=V.GM(n[1],o),this.startAngle=t.get("startAngle")*Math.PI/180;var s=t.get("radius");((0,r.HD)(s)||(0,r.hj)(s))&&(s=[0,s]),this.r0=V.GM(s[0],a),this.r=V.GM(s[1],a),(0,r.S6)(this._indicatorAxes,(function(t,e){t.setExtent(this.r0,this.r);var n=this.startAngle+e*Math.PI*2/this._indicatorAxes.length;n=Math.atan2(Math.sin(n),Math.cos(n)),t.angle=n}),this)},t.prototype.update=function(t,e){var n=this._indicatorAxes,i=this._model;(0,r.S6)(n,(function(t){t.scale.setExtent(1/0,-1/0)})),t.eachSeriesByType("radar",(function(e,o){if("radar"===e.get("coordinateSystem")&&t.getComponent("radar",e.get("radarIndex"))===i){var a=e.getData();(0,r.S6)(n,(function(t){t.scale.unionExtentFromData(a,a.mapDimension(t.dim))}))}}),this);var o=i.get("splitNumber"),a=new H.Z;a.setExtent(0,o),a.setInterval(1),(0,r.S6)(n,(function(t,e){(0,G.z)(t.scale,t.model,a)}))},t.prototype.convertToPixel=function(t,e,n){return console.warn("Not implemented."),null},t.prototype.convertFromPixel=function(t,e,n){return console.warn("Not implemented."),null},t.prototype.containPoint=function(t){return console.warn("Not implemented."),!1},t.create=function(e,n){var i=[];return e.eachComponent("radar",(function(r){var o=new t(r,e,n);i.push(o),r.coordinateSystem=o})),e.eachSeriesByType("radar",(function(t){"radar"===t.get("coordinateSystem")&&(t.coordinateSystem=i[t.get("radarIndex")||0])})),i},t.dimensions=[],t}();function W(t){t.registerCoordinateSystem("radar",j),t.registerComponentModel(R),t.registerComponentView(F),t.registerVisual({seriesType:"radar",reset:function(t){var e=t.getData();e.each((function(t){e.setItemVisual(t,"legendIcon","roundRect")})),e.setVisual("legendIcon","roundRect")}})}function Z(t){(0,i.D)(W),t.registerChartView(x),t.registerSeriesModel(E),t.registerLayout(o),t.registerProcessor({seriesType:"radar",reset:function(t,e){var n=e.findComponents({mainType:"legend"});if(n&&n.length){var i=t.getData();i.filterSelf((function(t){for(var e=i.getName(t),r=0;r<n.length;r++)if(!n[r].isSelected(e))return!1;return!0}))}}}),t.registerPreprocessor(l)}},8608:(t,e,n)=>{"use strict";n.d(e,{Z:()=>M});var i=n(3051),r=n(8154),o=n(2095),a=n(9074),s=n(4592),l=n(106),c=n(6006),u=n(1497),h=n(5669),p=n(1525),d=n(2892),f=n(5280),m=n(5254),g=n(4162),v=Math.PI,y=function(){function t(t,e){this.group=new r.Z,this.opt=e,this.axisModel=t,(0,i.ce)(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var n=new r.Z({x:e.position[0],y:e.position[1],rotation:e.rotation});n.updateTransform(),this._transformGroup=n}return t.prototype.hasBuilder=function(t){return!!_[t]},t.prototype.add=function(t){_[t](this.opt,this.axisModel,this.group,this._transformGroup)},t.prototype.getGroup=function(){return this.group},t.innerTextLayout=function(t,e,n){var i,r,o=(0,h.wW)(e-t);return(0,h.mW)(o)?(r=n>0?"top":"bottom",i="center"):(0,h.mW)(o-v)?(r=n>0?"bottom":"top",i="center"):(r="middle",i=o>0&&o<v?n>0?"right":"left":n>0?"left":"right"),{rotation:o,textAlign:i,textVerticalAlign:r}},t.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},t.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)},t}(),_={axisLine:function(t,e,n,r){var a=e.get(["axisLine","show"]);if("auto"===a&&t.handleAutoShown&&(a=t.handleAutoShown("axisLine")),a){var s=e.axis.getExtent(),l=r.transform,c=[s[0],0],u=[s[1],0];l&&((0,f.Ne)(c,c,l),(0,f.Ne)(u,u,l));var h=(0,i.l7)({lineCap:"round"},e.getModel(["axisLine","lineStyle"]).getLineStyle()),d=new o.Z({subPixelOptimize:!0,shape:{x1:c[0],y1:c[1],x2:u[0],y2:u[1]},style:h,strokeContainThreshold:t.strokeContainThreshold||5,silent:!0,z2:1});d.anid="line",n.add(d);var m=e.get(["axisLine","symbol"]);if(null!=m){var g=e.get(["axisLine","symbolSize"]);(0,i.HD)(m)&&(m=[m,m]),((0,i.HD)(g)||(0,i.hj)(g))&&(g=[g,g]);var v=(0,p.Cq)(e.get(["axisLine","symbolOffset"])||0,g),y=g[0],_=g[1];(0,i.S6)([{rotate:t.rotation+Math.PI/2,offset:v[0],r:0},{rotate:t.rotation-Math.PI/2,offset:v[1],r:Math.sqrt((c[0]-u[0])*(c[0]-u[0])+(c[1]-u[1])*(c[1]-u[1]))}],(function(e,i){if("none"!==m[i]&&null!=m[i]){var r=(0,p.th)(m[i],-y/2,-_/2,y,_,h.stroke,!0),o=e.r+e.offset;r.attr({rotation:e.rotate,x:c[0]+o*Math.cos(t.rotation),y:c[1]-o*Math.sin(t.rotation),silent:!0,z2:11}),n.add(r)}}))}}},axisTickLabel:function(t,e,n,r){var o=function(t,e,n,r){var o=n.axis,a=n.getModel("axisTick"),s=a.get("show");if("auto"===s&&r.handleAutoShown&&(s=r.handleAutoShown("axisTick")),s&&!o.scale.isBlank()){for(var l=a.getModel("lineStyle"),c=r.tickDirection*a.get("length"),u=S(o.getTicksCoords(),e.transform,c,(0,i.ce)(l.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),h=0;h<u.length;h++)t.add(u[h]);return u}}(n,r,e,t),s=function(t,e,n,r){var o=n.axis;if((0,i.Jv)(r.axisLabelShow,n.get(["axisLabel","show"]))&&!o.scale.isBlank()){var s=n.getModel("axisLabel"),h=s.get("margin"),p=o.getViewLabels(),d=((0,i.Jv)(r.labelRotate,s.get("rotate"))||0)*v/180,f=y.innerTextLayout(r.rotation,d,r.labelDirection),m=n.getCategories&&n.getCategories(!0),g=[],_=y.isLabelSilent(n),x=n.get("triggerEvent");return(0,i.S6)(p,(function(p,d){var v="ordinal"===o.scale.type?o.scale.getRawOrdinalNumber(p.tickValue):p.tickValue,b=p.formattedLabel,w=p.rawLabel,S=s;if(m&&m[v]){var M=m[v];(0,i.Kn)(M)&&M.textStyle&&(S=new u.Z(M.textStyle,s,n.ecModel))}var T=S.getTextColor()||n.get(["axisLine","lineStyle","color"]),E=o.dataToCoord(v),A=new a.ZP({x:E,y:r.labelOffset+r.labelDirection*h,rotation:f.rotation,silent:_,z2:10+(p.level||0),style:(0,c.Lr)(S,{text:b,align:S.getShallow("align",!0)||f.textAlign,verticalAlign:S.getShallow("verticalAlign",!0)||S.getShallow("baseline",!0)||f.textVerticalAlign,fill:(0,i.mf)(T)?T("category"===o.type?w:"value"===o.type?v+"":v,d):T})});if(A.anid="label_"+v,x){var C=y.makeAxisEventDataBase(n);C.targetType="axisLabel",C.value=w,C.tickIndex=d,"category"===o.type&&(C.dataIndex=v),(0,l.A)(A).eventData=C}e.add(A),A.updateTransform(),g.push(A),t.add(A),A.decomposeTransform()})),g}}(n,r,e,t);if(function(t,e,n){if(!(0,m.WY)(t.axis)){var i=t.get(["axisLabel","showMinLabel"]),r=t.get(["axisLabel","showMaxLabel"]);n=n||[];var o=(e=e||[])[0],a=e[1],s=e[e.length-1],l=e[e.length-2],c=n[0],u=n[1],h=n[n.length-1],p=n[n.length-2];!1===i?(x(o),x(c)):b(o,a)&&(i?(x(a),x(u)):(x(o),x(c))),!1===r?(x(s),x(h)):b(l,s)&&(r?(x(l),x(p)):(x(s),x(h)))}}(e,s,o),function(t,e,n,r){var o=n.axis,a=n.getModel("minorTick");if(a.get("show")&&!o.scale.isBlank()){var s=o.getMinorTicksCoords();if(s.length)for(var l=a.getModel("lineStyle"),c=r*a.get("length"),u=(0,i.ce)(l.getLineStyle(),(0,i.ce)(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),h=0;h<s.length;h++)for(var p=S(s[h],e.transform,c,u,"minorticks_"+h),d=0;d<p.length;d++)t.add(p[d])}}(n,r,e,t.tickDirection),e.get(["axisLabel","hideOverlap"])){var h=(0,g.VT)((0,i.UI)(s,(function(t){return{label:t,priority:t.z2,defaultAttr:{ignore:t.ignore}}})));(0,g.yl)(h)}},axisName:function(t,e,n,r){var o=(0,i.Jv)(t.axisName,e.get("name"));if(o){var u,p,d=e.get("nameLocation"),f=t.nameDirection,m=e.getModel("nameTextStyle"),g=e.get("nameGap")||0,_=e.axis.getExtent(),x=_[0]>_[1]?-1:1,b=["start"===d?_[0]-x*g:"end"===d?_[1]+x*g:(_[0]+_[1])/2,w(d)?t.labelOffset+f*g:0],S=e.get("nameRotate");null!=S&&(S=S*v/180),w(d)?u=y.innerTextLayout(t.rotation,null!=S?S:t.rotation,f):(u=function(t,e,n,i){var r,o,a=(0,h.wW)(n-t),s=i[0]>i[1],l="start"===e&&!s||"start"!==e&&s;return(0,h.mW)(a-v/2)?(o=l?"bottom":"top",r="center"):(0,h.mW)(a-1.5*v)?(o=l?"top":"bottom",r="center"):(o="middle",r=a<1.5*v&&a>v/2?l?"left":"right":l?"right":"left"),{rotation:a,textAlign:r,textVerticalAlign:o}}(t.rotation,d,S||0,_),null!=(p=t.axisNameAvailableWidth)&&(p=Math.abs(p/Math.sin(u.rotation)),!isFinite(p)&&(p=null)));var M=m.getFont(),T=e.get("nameTruncate",!0)||{},E=T.ellipsis,A=(0,i.Jv)(t.nameTruncateMaxWidth,T.maxWidth,p),C=new a.ZP({x:b[0],y:b[1],rotation:u.rotation,silent:y.isLabelSilent(e),style:(0,c.Lr)(m,{text:o,font:M,overflow:"truncate",width:A,ellipsis:E,fill:m.getTextColor()||e.get(["axisLine","lineStyle","color"]),align:m.get("align")||u.textAlign,verticalAlign:m.get("verticalAlign")||u.textVerticalAlign}),z2:1});if(s.setTooltipConfig({el:C,componentModel:e,itemName:o}),C.__fullText=o,C.anid="name",e.get("triggerEvent")){var L=y.makeAxisEventDataBase(e);L.targetType="axisName",L.name=o,(0,l.A)(C).eventData=L}r.add(C),C.updateTransform(),n.add(C),C.decomposeTransform()}}};function x(t){t&&(t.ignore=!0)}function b(t,e){var n=t&&t.getBoundingRect().clone(),i=e&&e.getBoundingRect().clone();if(n&&i){var r=d.yR([]);return d.U1(r,r,-t.rotation),n.applyTransform(d.dC([],r,t.getLocalTransform())),i.applyTransform(d.dC([],r,e.getLocalTransform())),n.intersect(i)}}function w(t){return"middle"===t||"center"===t}function S(t,e,n,i,r){for(var a=[],s=[],l=[],c=0;c<t.length;c++){var u=t[c].coord;s[0]=u,s[1]=0,l[0]=u,l[1]=n,e&&((0,f.Ne)(s,s,e),(0,f.Ne)(l,l,e));var h=new o.Z({subPixelOptimize:!0,shape:{x1:s[0],y1:s[1],x2:l[0],y2:l[1]},style:i,z2:2,autoBatch:!0,silent:!0});h.anid=r+"_"+t[c].tickValue,a.push(h)}return a}const M=y},1726:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(8299),r=n(8490),o=n(3166),a={};const s=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,i.ZT)(e,t),e.prototype.render=function(e,n,i,o){this.axisPointerClass&&r.iG(e),t.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(e,i,!0)},e.prototype.updateAxisPointer=function(t,e,n,i){this._doUpdateAxisPointerClass(t,n,!1)},e.prototype.remove=function(t,e){var n=this._axisPointer;n&&n.remove(e)},e.prototype.dispose=function(e,n){this._disposeAxisPointer(n),t.prototype.dispose.apply(this,arguments)},e.prototype._doUpdateAxisPointerClass=function(t,n,i){var o=e.getAxisPointerClass(this.axisPointerClass);if(o){var a=r.np(t);a?(this._axisPointer||(this._axisPointer=new o)).render(t,a,n,i):this._disposeAxisPointer(n)}},e.prototype._disposeAxisPointer=function(t){this._axisPointer&&this._axisPointer.dispose(t),this._axisPointer=null},e.registerAxisPointerClass=function(t,e){a[t]=e},e.getAxisPointerClass=function(t){return t&&a[t]},e.type="axis",e}(o.Z)},2448:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(3051),r=n(2234);function o(t,e){var n,o=[],a=t.seriesIndex;if(null==a||!(n=e.getSeriesByIndex(a)))return{point:[]};var s=n.getData(),l=r.gO(s,t);if(null==l||l<0||i.kJ(l))return{point:[]};var c=s.getItemGraphicEl(l),u=n.coordinateSystem;if(n.getTooltipPosition)o=n.getTooltipPosition(l)||[];else if(u&&u.dataToPoint)if(t.isStacked){var h=u.getBaseAxis(),p=u.getOtherAxis(h).dim,d=h.dim,f="x"===p||"radius"===p?1:0,m=s.mapDimension(d),g=[];g[f]=s.get(m,l),g[1-f]=s.get(s.getCalculationInfo("stackResultDimension"),l),o=u.dataToPoint(g)||[]}else o=u.dataToPoint(s.getValues(i.UI(u.dimensions,(function(t){return s.mapDimension(t)})),l))||[];else if(c){var v=c.getBoundingRect().clone();v.applyTransform(c.transform),o=[v.x+v.width/2,v.y+v.height/2]}return{point:o,el:c}}},6996:(t,e,n)=>{"use strict";n.d(e,{E:()=>u,z:()=>s});var i=n(3051),r=n(6387),o=(0,n(2234).Yf)(),a=i.S6;function s(t,e,n){if(!r.Z.node){var s=e.getZr();o(s).records||(o(s).records={}),function(t,e){function n(n,i){t.on(n,(function(n){var r=function(t){var e={showTip:[],hideTip:[]},n=function(i){var r=e[i.type];r?r.push(i):(i.dispatchAction=n,t.dispatchAction(i))};return{dispatchAction:n,pendings:e}}(e);a(o(t).records,(function(t){t&&i(t,n,r.dispatchAction)})),function(t,e){var n,i=t.showTip.length,r=t.hideTip.length;i?n=t.showTip[i-1]:r&&(n=t.hideTip[r-1]),n&&(n.dispatchAction=null,e.dispatchAction(n))}(r.pendings,e)}))}o(t).initialized||(o(t).initialized=!0,n("click",i.WA(c,"click")),n("mousemove",i.WA(c,"mousemove")),n("globalout",l))}(s,e),(o(s).records[t]||(o(s).records[t]={})).handler=n}}function l(t,e,n){t.handler("leave",null,n)}function c(t,e,n,i){e.handler(t,n,i)}function u(t,e){if(!r.Z.node){var n=e.getZr();(o(n).records||{})[t]&&(o(n).records[t]=null)}}},7649:(t,e,n)=>{"use strict";n.d(e,{N:()=>V});var i=n(1726),r=n(8299),o=n(3051),a=n(4592),s=n(8154),l=n(9074),c=n(9266),u=n(8490),h=n(1158),p=n(270),d=n(2234),f=(0,d.Yf)(),m=o.d9,g=o.ak,v=function(){function t(){this._dragging=!1,this.animationThreshold=15}return t.prototype.render=function(t,e,n,i){var r=e.get("value"),a=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=n,i||this._lastValue!==r||this._lastStatus!==a){this._lastValue=r,this._lastStatus=a;var l=this._group,c=this._handle;if(!a||"hide"===a)return l&&l.hide(),void(c&&c.hide());l&&l.show(),c&&c.show();var u={};this.makeElOption(u,r,t,e,n);var h=u.graphicKey;h!==this._lastGraphicKey&&this.clear(n),this._lastGraphicKey=h;var p=this._moveAnimation=this.determineAnimation(t,e);if(l){var d=o.WA(y,e,p);this.updatePointerEl(l,u,d),this.updateLabelEl(l,u,d,e)}else l=this._group=new s.Z,this.createPointerEl(l,u,t,e),this.createLabelEl(l,u,t,e),n.getZr().add(l);w(l,e,!0),this._renderHandle(r)}},t.prototype.remove=function(t){this.clear(t)},t.prototype.dispose=function(t){this.clear(t)},t.prototype.determineAnimation=function(t,e){var n=e.get("animation"),i=t.axis,r="category"===i.type,o=e.get("snap");if(!o&&!r)return!1;if("auto"===n||null==n){var a=this.animationThreshold;if(r&&i.getBandWidth()>a)return!0;if(o){var s=u.r(t).seriesDataCount,l=i.getExtent();return Math.abs(l[0]-l[1])/s>a}return!1}return!0===n},t.prototype.makeElOption=function(t,e,n,i,r){},t.prototype.createPointerEl=function(t,e,n,i){var r=e.pointer;if(r){var o=f(t).pointerEl=new a[r.type](m(e.pointer));t.add(o)}},t.prototype.createLabelEl=function(t,e,n,i){if(e.label){var r=f(t).labelEl=new l.ZP(m(e.label));t.add(r),x(r,i)}},t.prototype.updatePointerEl=function(t,e,n){var i=f(t).pointerEl;i&&e.pointer&&(i.setStyle(e.pointer.style),n(i,{shape:e.pointer.shape}))},t.prototype.updateLabelEl=function(t,e,n,i){var r=f(t).labelEl;r&&(r.setStyle(e.label.style),n(r,{x:e.label.x,y:e.label.y}),x(r,i))},t.prototype._renderHandle=function(t){if(!this._dragging&&this.updateHandleTransform){var e,n=this._axisPointerModel,i=this._api.getZr(),r=this._handle,s=n.getModel("handle"),l=n.get("status");if(!s.get("show")||!l||"hide"===l)return r&&i.remove(r),void(this._handle=null);this._handle||(e=!0,r=this._handle=a.createIcon(s.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){h.sT(t.event)},onmousedown:g(this._onHandleDragMove,this,0,0),drift:g(this._onHandleDragMove,this),ondragend:g(this._onHandleDragEnd,this)}),i.add(r)),w(r,n,!1),r.setStyle(s.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var c=s.get("size");o.kJ(c)||(c=[c,c]),r.scaleX=c[0]/2,r.scaleY=c[1]/2,p.T9(this,"_doDispatchAxisPointer",s.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},t.prototype._moveHandleToValue=function(t,e){y(this._axisPointerModel,!e&&this._moveAnimation,this._handle,b(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},t.prototype._onHandleDragMove=function(t,e){var n=this._handle;if(n){this._dragging=!0;var i=this.updateHandleTransform(b(n),[t,e],this._axisModel,this._axisPointerModel);this._payloadInfo=i,n.stopAnimation(),n.attr(b(i)),f(n).lastProp=null,this._doDispatchAxisPointer()}},t.prototype._doDispatchAxisPointer=function(){if(this._handle){var t=this._payloadInfo,e=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]})}},t.prototype._onHandleDragEnd=function(){if(this._dragging=!1,this._handle){var t=this._axisPointerModel.get("value");this._moveHandleToValue(t),this._api.dispatchAction({type:"hideTip"})}},t.prototype.clear=function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),n=this._group,i=this._handle;e&&n&&(this._lastGraphicKey=null,n&&e.remove(n),i&&e.remove(i),this._group=null,this._handle=null,this._payloadInfo=null),p.ZH(this,"_doDispatchAxisPointer")},t.prototype.doClear=function(){},t.prototype.buildLabel=function(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}},t}();function y(t,e,n,i){_(f(n).lastProp,i)||(f(n).lastProp=i,e?c.D(n,i,t):(n.stopAnimation(),n.attr(i)))}function _(t,e){if(o.Kn(t)&&o.Kn(e)){var n=!0;return o.S6(e,(function(e,i){n=n&&_(t[i],e)})),!!n}return t===e}function x(t,e){t[e.get(["label","show"])?"show":"hide"]()}function b(t){return{x:t.x||0,y:t.y||0,rotation:t.rotation||0}}function w(t,e,n){var i=e.get("z"),r=e.get("zlevel");t&&t.traverse((function(t){"group"!==t.type&&(null!=i&&(t.z=i),null!=r&&(t.zlevel=r),t.silent=n)}))}const S=v;var M=n(5539),T=n(9069),E=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,r.ZT)(e,t),e.prototype.makeElOption=function(t,e,n,i,r){var o=n.axis,a=o.grid,s=i.get("type"),l=A(a,o).getOtherAxis(o).getGlobalExtent(),c=o.toGlobalCoord(o.dataToCoord(e,!0));if(s&&"none"!==s){var u=M.fk(i),h=C[s](o,c,l);h.style=u,t.graphicKey=h.type,t.pointer=h}var p=T.bK(a.model,n);M.gf(e,t,p,n,i,r)},e.prototype.getHandleTransform=function(t,e,n){var i=T.bK(e.axis.grid.model,e,{labelInside:!1});i.labelMargin=n.get(["handle","margin"]);var r=M.Zh(e.axis,t,i);return{x:r[0],y:r[1],rotation:i.rotation+(i.labelDirection<0?Math.PI:0)}},e.prototype.updateHandleTransform=function(t,e,n,i){var r=n.axis,o=r.grid,a=r.getGlobalExtent(!0),s=A(o,r).getOtherAxis(r).getGlobalExtent(),l="x"===r.dim?0:1,c=[t.x,t.y];c[l]+=e[l],c[l]=Math.min(a[1],c[l]),c[l]=Math.max(a[0],c[l]);var u=(s[1]+s[0])/2,h=[u,u];return h[l]=c[l],{x:c[0],y:c[1],rotation:t.rotation,cursorPoint:h,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][l]}},e}(S);function A(t,e){var n={};return n[e.dim+"AxisIndex"]=e.index,t.getCartesian(n)}var C={line:function(t,e,n){return{type:"Line",subPixelOptimize:!0,shape:M.BL([e,n[0]],[e,n[1]],L(t))}},shadow:function(t,e,n){var i=Math.max(1,t.getBandWidth()),r=n[1]-n[0];return{type:"Rect",shape:M.uE([e-i/2,n[0]],[i,r],L(t))}}};function L(t){return"x"===t.dim?0:1}const I=E,D=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,r.ZT)(e,t),e.type="axisPointer",e.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},e}(n(8071).Z);var P=n(6996);const R=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,r.ZT)(e,t),e.prototype.render=function(t,e,n){var i=e.getComponent("tooltip"),r=t.get("triggerOn")||i&&i.get("triggerOn")||"mousemove|click";P.z("axisPointer",n,(function(t,e,n){"none"!==r&&("leave"===t||r.indexOf(t)>=0)&&n({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})}))},e.prototype.remove=function(t,e){P.E("axisPointer",e)},e.prototype.dispose=function(t,e){P.E("axisPointer",e)},e.type="axisPointer",e}(n(3166).Z);var O=n(2448),k=(0,d.Yf)();function N(t,e,n){var i=t.currTrigger,r=[t.x,t.y],a=t,s=t.dispatchAction||(0,o.ak)(n.dispatchAction,n),l=e.getComponent("axisPointer").coordSysAxesInfo;if(l){H(r)&&(r=(0,O.Z)({seriesIndex:a.seriesIndex,dataIndex:a.dataIndex},e).point);var c=H(r),u=a.axesInfo,h=l.axesInfo,p="leave"===i||H(r),d={},f={},m={list:[],map:{}},g={showPointer:(0,o.WA)(B,f),showTooltip:(0,o.WA)(F,m)};(0,o.S6)(l.coordSysMap,(function(t,e){var n=c||t.containPoint(r);(0,o.S6)(l.coordSysAxesInfo[e],(function(t,e){var i=t.axis,o=function(t,e){for(var n=0;n<(t||[]).length;n++){var i=t[n];if(e.axis.dim===i.axisDim&&e.axis.model.componentIndex===i.axisIndex)return i}}(u,t);if(!p&&n&&(!u||o)){var a=o&&o.value;null!=a||c||(a=i.pointToData(r)),null!=a&&z(t,a,g,!1,d)}}))}));var v={};return(0,o.S6)(h,(function(t,e){var n=t.linkGroup;n&&!f[e]&&(0,o.S6)(n.axesInfo,(function(e,i){var r=f[i];if(e!==t&&r){var o=r.value;n.mapper&&(o=t.axis.scale.parse(n.mapper(o,U(e),U(t)))),v[t.key]=o}}))})),(0,o.S6)(v,(function(t,e){z(h[e],t,g,!0,d)})),function(t,e,n){var i=n.axesInfo=[];(0,o.S6)(e,(function(e,n){var r=e.axisPointerModel.option,o=t[n];o?(!e.useHandle&&(r.status="show"),r.value=o.value,r.seriesDataIndices=(o.payloadBatch||[]).slice()):!e.useHandle&&(r.status="hide"),"show"===r.status&&i.push({axisDim:e.axis.dim,axisIndex:e.axis.model.componentIndex,value:r.value})}))}(f,h,d),function(t,e,n,i){if(!H(e)&&t.list.length){var r=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};i({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:r.dataIndexInside,dataIndex:r.dataIndex,seriesIndex:r.seriesIndex,dataByCoordSys:t.list})}else i({type:"hideTip"})}(m,r,t,s),function(t,e,n){var i=n.getZr(),r="axisPointerLastHighlights",a=k(i)[r]||{},s=k(i)[r]={};(0,o.S6)(t,(function(t,e){var n=t.axisPointerModel.option;"show"===n.status&&(0,o.S6)(n.seriesDataIndices,(function(t){var e=t.seriesIndex+" | "+t.dataIndex;s[e]=t}))}));var l=[],c=[];(0,o.S6)(a,(function(t,e){!s[e]&&c.push(t)})),(0,o.S6)(s,(function(t,e){!a[e]&&l.push(t)})),c.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:c}),l.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:l})}(h,0,n),d}}function z(t,e,n,i,r){var a=t.axis;if(!a.scale.isBlank()&&a.containData(e))if(t.involveSeries){var s=function(t,e){var n=e.axis,i=n.dim,r=t,a=[],s=Number.MAX_VALUE,l=-1;return(0,o.S6)(e.seriesModels,(function(e,c){var u,h,p=e.getData().mapDimensionsAll(i);if(e.getAxisTooltipData){var d=e.getAxisTooltipData(p,t,n);h=d.dataIndices,u=d.nestestValue}else{if(!(h=e.getData().indicesOfNearest(p[0],t,"category"===n.type?.5:null)).length)return;u=e.getData().get(p[0],h[0])}if(null!=u&&isFinite(u)){var f=t-u,m=Math.abs(f);m<=s&&((m<s||f>=0&&l<0)&&(s=m,l=f,r=u,a.length=0),(0,o.S6)(h,(function(t){a.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})})))}})),{payloadBatch:a,snapToValue:r}}(e,t),l=s.payloadBatch,c=s.snapToValue;l[0]&&null==r.seriesIndex&&(0,o.l7)(r,l[0]),!i&&t.snap&&a.containData(c)&&null!=c&&(e=c),n.showPointer(t,e,l),n.showTooltip(t,s,c)}else n.showPointer(t,e)}function B(t,e,n,i){t[e.key]={value:n,payloadBatch:i}}function F(t,e,n,i){var r=n.payloadBatch,o=e.axis,a=o.model,s=e.axisPointerModel;if(e.triggerTooltip&&r.length){var l=e.coordSys.model,c=u.zm(l),h=t.map[c];h||(h=t.map[c]={coordSysId:l.id,coordSysIndex:l.componentIndex,coordSysType:l.type,coordSysMainType:l.mainType,dataByAxis:[]},t.list.push(h)),h.dataByAxis.push({axisDim:o.dim,axisIndex:a.componentIndex,axisType:a.type,axisId:a.id,value:i,valueLabelOpt:{precision:s.get(["label","precision"]),formatter:s.get(["label","formatter"])},seriesDataIndices:r.slice()})}}function U(t){var e=t.axis.model,n={},i=n.axisDim=t.axis.dim;return n.axisIndex=n[i+"AxisIndex"]=e.componentIndex,n.axisName=n[i+"AxisName"]=e.name,n.axisId=n[i+"AxisId"]=e.id,n}function H(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}function V(t){i.Z.registerAxisPointerClass("CartesianAxisPointer",I),t.registerComponentModel(D),t.registerComponentView(R),t.registerPreprocessor((function(t){if(t){(!t.axisPointer||0===t.axisPointer.length)&&(t.axisPointer={});var e=t.axisPointer.link;e&&!(0,o.kJ)(e)&&(t.axisPointer.link=[e])}})),t.registerProcessor(t.PRIORITY.PROCESSOR.STATISTIC,(function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=(0,u.KM)(t,e)})),t.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},N)}},8490:(t,e,n)=>{"use strict";n.d(e,{KM:()=>o,iG:()=>s,np:()=>c,r:()=>l,zm:()=>h});var i=n(1497),r=n(3051);function o(t,e){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return function(t,e,n){var o=e.getComponent("tooltip"),s=e.getComponent("axisPointer"),l=s.get("link",!0)||[],c=[];(0,r.S6)(n.getCoordinateSystems(),(function(n){if(n.axisPointerEnabled){var p=h(n.model),d=t.coordSysAxesInfo[p]={};t.coordSysMap[p]=n;var f=n.model.getModel("tooltip",o);if((0,r.S6)(n.getAxes(),(0,r.WA)(y,!1,null)),n.getTooltipAxes&&o&&f.get("show")){var m="axis"===f.get("trigger"),g="cross"===f.get(["axisPointer","type"]),v=n.getTooltipAxes(f.get(["axisPointer","axis"]));(m||g)&&(0,r.S6)(v.baseAxes,(0,r.WA)(y,!g||"cross",m)),g&&(0,r.S6)(v.otherAxes,(0,r.WA)(y,"cross",!1))}}function y(o,p,m){var g=m.model.getModel("axisPointer",s),v=g.get("show");if(v&&("auto"!==v||o||u(g))){null==p&&(p=g.get("triggerTooltip")),g=o?function(t,e,n,o,a,s){var l=e.getModel("axisPointer"),c={};(0,r.S6)(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],(function(t){c[t]=(0,r.d9)(l.get(t))})),c.snap="category"!==t.type&&!!s,"cross"===l.get("type")&&(c.type="line");var u=c.label||(c.label={});if(null==u.show&&(u.show=!1),"cross"===a){var h=l.get(["label","show"]);if(u.show=null==h||h,!s){var p=c.lineStyle=l.get("crossStyle");p&&(0,r.ce)(u,p.textStyle)}}return t.model.getModel("axisPointer",new i.Z(c,n,o))}(m,f,s,e,o,p):g;var y=g.get("snap"),_=h(m.model),x=p||y||"category"===m.type,b=t.axesInfo[_]={key:_,axis:m,coordSys:n,axisPointerModel:g,triggerTooltip:p,involveSeries:x,snap:y,useHandle:u(g),seriesModels:[],linkGroup:null};d[_]=b,t.seriesInvolved=t.seriesInvolved||x;var w=function(t,e){for(var n=e.model,i=e.dim,r=0;r<t.length;r++){var o=t[r]||{};if(a(o[i+"AxisId"],n.id)||a(o[i+"AxisIndex"],n.componentIndex)||a(o[i+"AxisName"],n.name))return r}}(l,m);if(null!=w){var S=c[w]||(c[w]={axesInfo:{}});S.axesInfo[_]=b,S.mapper=l[w].mapper,b.linkGroup=S}}}}))}(n,t,e),n.seriesInvolved&&function(t,e){e.eachSeries((function(e){var n=e.coordinateSystem,i=e.get(["tooltip","trigger"],!0),o=e.get(["tooltip","show"],!0);n&&"none"!==i&&!1!==i&&"item"!==i&&!1!==o&&!1!==e.get(["axisPointer","show"],!0)&&(0,r.S6)(t.coordSysAxesInfo[h(n.model)],(function(t){var i=t.axis;n.getAxis(i.dim)===i&&(t.seriesModels.push(e),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=e.getData().count())}))}))}(n,t),n}function a(t,e){return"all"===t||(0,r.kJ)(t)&&(0,r.cq)(t,e)>=0||t===e}function s(t){var e=l(t);if(e){var n=e.axisPointerModel,i=e.axis.scale,r=n.option,o=n.get("status"),a=n.get("value");null!=a&&(a=i.parse(a));var s=u(n);null==o&&(r.status=s?"show":"hide");var c=i.getExtent().slice();c[0]>c[1]&&c.reverse(),(null==a||a>c[1])&&(a=c[1]),a<c[0]&&(a=c[0]),r.value=a,s&&(r.status=e.axis.scale.isBlank()?"hide":"show")}}function l(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[h(t)]}function c(t){var e=l(t);return e&&e.axisPointerModel}function u(t){return!!t.get(["handle","show"])}function h(t){return t.type+"||"+t.id}},5539:(t,e,n)=>{"use strict";n.d(e,{BL:()=>m,Zh:()=>d,fk:()=>h,gf:()=>f,gk:()=>p,uE:()=>g});var i=n(3051),r=n(4592),o=n(423),a=n(8988),s=n(2892),l=n(5254),c=n(8608),u=n(6006);function h(t){var e,n=t.get("type"),i=t.getModel(n+"Style");return"line"===n?(e=i.getLineStyle()).fill=null:"shadow"===n&&((e=i.getAreaStyle()).stroke=null),e}function p(t,e,n,r,o){t=e.scale.parse(t);var a=e.scale.getLabel({value:t},{precision:o.precision}),s=o.formatter;if(s){var c={value:l.DX(e,{value:t}),axisDimension:e.dim,axisIndex:e.index,seriesData:[]};i.S6(r,(function(t){var e=n.getSeriesByIndex(t.seriesIndex),i=t.dataIndexInside,r=e&&e.getDataParams(i);r&&c.seriesData.push(r)})),i.HD(s)?a=s.replace("{value}",a):i.mf(s)&&(a=s(c))}return a}function d(t,e,n){var i=s.Ue();return s.U1(i,i,n.rotation),s.Iu(i,i,n.position),r.applyTransform([t.dataToCoord(e),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],i)}function f(t,e,n,i,r,s){var l=c.Z.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=r.get(["label","margin"]),function(t,e,n,i,r){var s=p(n.get("value"),e.axis,e.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),l=n.getModel("label"),c=a.MY(l.get("padding")||0),h=l.getFont(),d=o.lP(s,h),f=r.position,m=d.width+c[1]+c[3],g=d.height+c[0]+c[2],v=r.align;"right"===v&&(f[0]-=m),"center"===v&&(f[0]-=m/2);var y=r.verticalAlign;"bottom"===y&&(f[1]-=g),"middle"===y&&(f[1]-=g/2),function(t,e,n,i){var r=i.getWidth(),o=i.getHeight();t[0]=Math.min(t[0]+e,r)-e,t[1]=Math.min(t[1]+n,o)-n,t[0]=Math.max(t[0],0),t[1]=Math.max(t[1],0)}(f,m,g,i);var _=l.get("backgroundColor");_&&"auto"!==_||(_=e.get(["axisLine","lineStyle","color"])),t.label={x:f[0],y:f[1],style:(0,u.Lr)(l,{text:s,font:h,fill:l.getTextColor(),padding:c,backgroundColor:_}),z2:10}}(e,i,r,s,{position:d(i.axis,t,n),align:l.textAlign,verticalAlign:l.textVerticalAlign})}function m(t,e,n){return{x1:t[n=n||0],y1:t[1-n],x2:e[n],y2:e[1-n]}}function g(t,e,n){return{x:t[n=n||0],y:t[1-n],width:e[n],height:e[1-n]}}},7240:(t,e,n)=>{"use strict";n.d(e,{N:()=>u});var i=n(8299),r=n(8071),o=n(3166),a=n(4279),s=n(6437),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataset",e}return(0,i.ZT)(e,t),e.prototype.init=function(e,n,i){t.prototype.init.call(this,e,n,i),this._sourceManager=new s.U(this),(0,s.t)(this)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),(0,s.t)(this)},e.prototype.optionUpdated=function(){this._sourceManager.dirty()},e.prototype.getSourceManager=function(){return this._sourceManager},e.type="dataset",e.defaultOption={seriesLayoutBy:a.fY},e}(r.Z),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="dataset",e}return(0,i.ZT)(e,t),e.type="dataset",e}(o.Z);function u(t){t.registerComponentModel(l),t.registerComponentView(c)}},3761:(t,e,n)=>{"use strict";n.d(e,{N:()=>$});var i=n(8299),r=n(3166),o=n(8071);const a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.type="grid",e.dependencies=["xAxis","yAxis"],e.layoutMode="box",e.defaultOption={show:!1,z:0,left:"10%",top:60,right:"10%",bottom:70,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"},e}(o.Z);var s=n(3622),l=n(3051),c=n(6650),u=n(2234),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype.getCoordSysModel=function(){return this.getReferringComponents("grid",u.C6).models[0]},e.type="cartesian2dAxis",e}(o.Z);l.jB(h,c.W);var p=n(6484),d=n(6172),f=n(1401),m={value:1,category:1,time:1,log:1};function g(t,e,n,r){(0,l.S6)(m,(function(o,a){var s=(0,l.TS)((0,l.TS)({},p.Z[a],!0),r,!0),c=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e+"Axis."+a,n}return(0,i.ZT)(n,t),n.prototype.mergeDefaultAndTheme=function(t,e){var n=(0,d.YD)(this),i=n?(0,d.tE)(t):{},r=e.getTheme();(0,l.TS)(t,r.get(a+"Axis")),(0,l.TS)(t,this.getDefaultOption()),t.type=v(t),n&&(0,d.dt)(t,i,n)},n.prototype.optionUpdated=function(){"category"===this.option.type&&(this.__ordinalMeta=f.Z.createByAxisModel(this))},n.prototype.getCategories=function(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},n.prototype.getOrdinalMeta=function(){return this.__ordinalMeta},n.type=e+"Axis."+a,n.defaultOption=s,n}(n);t.registerComponentModel(c)})),t.registerSubTypeDefaulter(e+"Axis",v)}function v(t){return t.type||(t.data?"category":"value")}var y=n(5254),_=n(479);const x=function(){function t(t){this.type="cartesian",this._dimList=[],this._axes={},this.name=t||""}return t.prototype.getAxis=function(t){return this._axes[t]},t.prototype.getAxes=function(){return l.UI(this._dimList,(function(t){return this._axes[t]}),this)},t.prototype.getAxesByScale=function(t){return t=t.toLowerCase(),l.hX(this.getAxes(),(function(e){return e.scale.type===t}))},t.prototype.addAxis=function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},t}();var b=n(2892),w=n(5280),S=["x","y"];function M(t){return"interval"===t.type||"time"===t.type}const T=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="cartesian2d",e.dimensions=S,e}return(0,i.ZT)(e,t),e.prototype.calcAffineTransform=function(){this._transform=this._invTransform=null;var t=this.getAxis("x").scale,e=this.getAxis("y").scale;if(M(t)&&M(e)){var n=t.getExtent(),i=e.getExtent(),r=this.dataToPoint([n[0],i[0]]),o=this.dataToPoint([n[1],i[1]]),a=n[1]-n[0],s=i[1]-i[0];if(a&&s){var l=(o[0]-r[0])/a,c=(o[1]-r[1])/s,u=r[0]-n[0]*l,h=r[1]-i[0]*c,p=this._transform=[l,0,0,c,u,h];this._invTransform=(0,b.U_)([],p)}}},e.prototype.getBaseAxis=function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},e.prototype.containPoint=function(t){var e=this.getAxis("x"),n=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&n.contain(n.toLocalCoord(t[1]))},e.prototype.containData=function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},e.prototype.dataToPoint=function(t,e,n){n=n||[];var i=t[0],r=t[1];if(this._transform&&null!=i&&isFinite(i)&&null!=r&&isFinite(r))return(0,w.Ne)(n,t,this._transform);var o=this.getAxis("x"),a=this.getAxis("y");return n[0]=o.toGlobalCoord(o.dataToCoord(i,e)),n[1]=a.toGlobalCoord(a.dataToCoord(r,e)),n},e.prototype.clampData=function(t,e){var n=this.getAxis("x").scale,i=this.getAxis("y").scale,r=n.getExtent(),o=i.getExtent(),a=n.parse(t[0]),s=i.parse(t[1]);return(e=e||[])[0]=Math.min(Math.max(Math.min(r[0],r[1]),a),Math.max(r[0],r[1])),e[1]=Math.min(Math.max(Math.min(o[0],o[1]),s),Math.max(o[0],o[1])),e},e.prototype.pointToData=function(t,e){var n=[];if(this._invTransform)return(0,w.Ne)(n,t,this._invTransform);var i=this.getAxis("x"),r=this.getAxis("y");return n[0]=i.coordToData(i.toLocalCoord(t[0]),e),n[1]=r.coordToData(r.toLocalCoord(t[1]),e),n},e.prototype.getOtherAxis=function(t){return this.getAxis("x"===t.dim?"y":"x")},e.prototype.getArea=function(){var t=this.getAxis("x").getGlobalExtent(),e=this.getAxis("y").getGlobalExtent(),n=Math.min(t[0],t[1]),i=Math.min(e[0],e[1]),r=Math.max(t[0],t[1])-n,o=Math.max(e[0],e[1])-i;return new _.Z(n,i,r,o)},e}(x),E=function(t){function e(e,n,i,r,o){var a=t.call(this,e,n,i)||this;return a.index=0,a.type=r||"value",a.position=o||"bottom",a}return(0,i.ZT)(e,t),e.prototype.isHorizontal=function(){var t=this.position;return"top"===t||"bottom"===t},e.prototype.getGlobalExtent=function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},e.prototype.pointToData=function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},e.prototype.setCategorySortInfo=function(t){if("category"!==this.type)return!1;this.model.option.categorySortInfo=t,this.scale.setSortInfo(t)},e}(n(2950).Z);var A=n(9069),C=n(5021),L=n(8259),I=function(){function t(t,e,n){this.type="grid",this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this.axisPointerEnabled=!0,this.dimensions=S,this._initCartesian(t,e,n),this.model=t}return t.prototype.getRect=function(){return this._rect},t.prototype.update=function(t,e){var n=this._axesMap;function i(t){var e,n=(0,l.XP)(t),i=n.length;if(i){for(var r=[],o=i-1;o>=0;o--){var a=t[+n[o]],s=a.model,c=a.scale;(0,C.lM)(c)&&s.get("alignTicks")&&null==s.get("interval")?r.push(a):((0,y.Jk)(c,s),(0,C.lM)(c)&&(e=a))}r.length&&(e||(e=r.pop(),(0,y.Jk)(e.scale,e.model)),(0,l.S6)(r,(function(t){(0,L.z)(t.scale,t.model,e.scale)})))}}this._updateScale(t,this.model),i(n.x),i(n.y);var r={};(0,l.S6)(n.x,(function(t){P(n,"y",t,r)})),(0,l.S6)(n.y,(function(t){P(n,"x",t,r)})),this.resize(this.model,e)},t.prototype.resize=function(t,e,n){var i=t.getBoxLayoutParams(),r=!n&&t.get("containLabel"),o=(0,d.ME)(i,{width:e.getWidth(),height:e.getHeight()});this._rect=o;var a=this._axesList;function s(){(0,l.S6)(a,(function(t){var e=t.isHorizontal(),n=e?[0,o.width]:[0,o.height],i=t.inverse?1:0;t.setExtent(n[i],n[1-i]),function(t,e){var n=t.getExtent(),i=n[0]+n[1];t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return i-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return i-t+e}}(t,e?o.x:o.y)}))}s(),r&&((0,l.S6)(a,(function(t){if(!t.model.get(["axisLabel","inside"])){var e=(0,y.Do)(t);if(e){var n=t.isHorizontal()?"height":"width",i=t.model.get(["axisLabel","margin"]);o[n]-=e[n]+i,"top"===t.position?o.y+=e.height+i:"left"===t.position&&(o.x+=e.width+i)}}})),s()),(0,l.S6)(this._coordsList,(function(t){t.calcAffineTransform()}))},t.prototype.getAxis=function(t,e){var n=this._axesMap[t];if(null!=n)return n[e||0]},t.prototype.getAxes=function(){return this._axesList.slice()},t.prototype.getCartesian=function(t,e){if(null!=t&&null!=e){var n="x"+t+"y"+e;return this._coordsMap[n]}(0,l.Kn)(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var i=0,r=this._coordsList;i<r.length;i++)if(r[i].getAxis("x").index===t||r[i].getAxis("y").index===e)return r[i]},t.prototype.getCartesians=function(){return this._coordsList.slice()},t.prototype.convertToPixel=function(t,e,n){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.dataToPoint(n):i.axis?i.axis.toGlobalCoord(i.axis.dataToCoord(n)):null},t.prototype.convertFromPixel=function(t,e,n){var i=this._findConvertTarget(e);return i.cartesian?i.cartesian.pointToData(n):i.axis?i.axis.coordToData(i.axis.toLocalCoord(n)):null},t.prototype._findConvertTarget=function(t){var e,n,i=t.seriesModel,r=t.xAxisModel||i&&i.getReferringComponents("xAxis",u.C6).models[0],o=t.yAxisModel||i&&i.getReferringComponents("yAxis",u.C6).models[0],a=t.gridModel,s=this._coordsList;return i?(e=i.coordinateSystem,(0,l.cq)(s,e)<0&&(e=null)):r&&o?e=this.getCartesian(r.componentIndex,o.componentIndex):r?n=this.getAxis("x",r.componentIndex):o?n=this.getAxis("y",o.componentIndex):a&&a.coordinateSystem===this&&(e=this._coordsList[0]),{cartesian:e,axis:n}},t.prototype.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},t.prototype._initCartesian=function(t,e,n){var i=this,r=this,o={left:!1,right:!1,top:!1,bottom:!1},a={x:{},y:{}},s={x:0,y:0};if(e.eachComponent("xAxis",c("x"),this),e.eachComponent("yAxis",c("y"),this),!s.x||!s.y)return this._axesMap={},void(this._axesList=[]);function c(e){return function(n,i){if(D(n,t)){var l=n.get("position");"x"===e?"top"!==l&&"bottom"!==l&&(l=o.bottom?"top":"bottom"):"left"!==l&&"right"!==l&&(l=o.left?"right":"left"),o[l]=!0;var c=new E(e,(0,y.aG)(n),[0,0],n.get("type"),l),u="category"===c.type;c.onBand=u&&n.get("boundaryGap"),c.inverse=n.get("inverse"),n.axis=c,c.model=n,c.grid=r,c.index=i,r._axesList.push(c),a[e][i]=c,s[e]++}}}this._axesMap=a,(0,l.S6)(a.x,(function(e,n){(0,l.S6)(a.y,(function(r,o){var a="x"+n+"y"+o,s=new T(a);s.master=i,s.model=t,i._coordsMap[a]=s,i._coordsList.push(s),s.addAxis(e),s.addAxis(r)}))}))},t.prototype._updateScale=function(t,e){function n(t,e){(0,l.S6)((0,y.PY)(t,e.dim),(function(n){e.scale.unionExtentFromData(t,n)}))}(0,l.S6)(this._axesList,(function(t){if(t.scale.setExtent(1/0,-1/0),"category"===t.type){var e=t.model.get("categorySortInfo");t.scale.setSortInfo(e)}})),t.eachSeries((function(t){if((0,A.Yh)(t)){var i=(0,A.Mk)(t),r=i.xAxisModel,o=i.yAxisModel;if(!D(r,e)||!D(o,e))return;var a=this.getCartesian(r.componentIndex,o.componentIndex),s=t.getData(),l=a.getAxis("x"),c=a.getAxis("y");n(s,l),n(s,c)}}),this)},t.prototype.getTooltipAxes=function(t){var e=[],n=[];return(0,l.S6)(this.getCartesians(),(function(i){var r=null!=t&&"auto"!==t?i.getAxis(t):i.getBaseAxis(),o=i.getOtherAxis(r);(0,l.cq)(e,r)<0&&e.push(r),(0,l.cq)(n,o)<0&&n.push(o)})),{baseAxes:e,otherAxes:n}},t.create=function(e,n){var i=[];return e.eachComponent("grid",(function(r,o){var a=new t(r,e,n);a.name="grid_"+o,a.resize(r,n,!0),r.coordinateSystem=a,i.push(a)})),e.eachSeries((function(t){if((0,A.Yh)(t)){var e=(0,A.Mk)(t),n=e.xAxisModel,i=e.yAxisModel,r=n.getCoordSysModel().coordinateSystem;t.coordinateSystem=r.getCartesian(n.componentIndex,i.componentIndex)}})),i},t.dimensions=S,t}();function D(t,e){return t.getCoordSysModel()===e}function P(t,e,n,i){n.getAxesOnZeroOf=function(){return r?[r]:[]};var r,o=t[e],a=n.model,s=a.get(["axisLine","onZero"]),l=a.get(["axisLine","onZeroAxisIndex"]);if(s){if(null!=l)R(o[l])&&(r=o[l]);else for(var c in o)if(o.hasOwnProperty(c)&&R(o[c])&&!i[u(o[c])]){r=o[c];break}r&&(i[u(r)]=!0)}function u(t){return t.dim+"_"+t.index}}function R(t){return t&&"category"!==t.type&&"time"!==t.type&&(0,y.Yb)(t)}const O=I;var k=n(4592),N=n(8154),z=n(2095),B=n(8608),F=n(1726),U=(0,u.Yf)(),H=["axisLine","axisTickLabel","axisName"],V=["splitArea","splitLine","minorSplitLine"],G=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.axisPointerClass="CartesianAxisPointer",n}return(0,i.ZT)(e,t),e.prototype.render=function(e,n,i,r){this.group.removeAll();var o=this._axisGroup;if(this._axisGroup=new N.Z,this.group.add(this._axisGroup),e.get("show")){var a=e.getCoordSysModel(),s=A.bK(a,e),c=new B.Z(e,l.l7({handleAutoShown:function(t){for(var n=a.coordinateSystem.getCartesians(),i=0;i<n.length;i++)if((0,C.lM)(n[i].getOtherAxis(e.axis).scale))return!0;return!1}},s));l.S6(H,c.add,c),this._axisGroup.add(c.getGroup()),l.S6(V,(function(t){e.get([t,"show"])&&j[t](this,this._axisGroup,e,a)}),this),r&&"changeAxisOrder"===r.type&&r.isInitSort||k.groupTransition(o,this._axisGroup,e),t.prototype.render.call(this,e,n,i,r)}},e.prototype.remove=function(){U(this).splitAreaColors=null},e.type="cartesianAxis",e}(F.Z),j={splitLine:function(t,e,n,i){var r=n.axis;if(!r.scale.isBlank()){var o=n.getModel("splitLine"),a=o.getModel("lineStyle"),s=a.get("color");s=l.kJ(s)?s:[s];for(var c=i.coordinateSystem.getRect(),u=r.isHorizontal(),h=0,p=r.getTicksCoords({tickModel:o}),d=[],f=[],m=a.getLineStyle(),g=0;g<p.length;g++){var v=r.toGlobalCoord(p[g].coord);u?(d[0]=v,d[1]=c.y,f[0]=v,f[1]=c.y+c.height):(d[0]=c.x,d[1]=v,f[0]=c.x+c.width,f[1]=v);var y=h++%s.length,_=p[g].tickValue;e.add(new z.Z({anid:null!=_?"line_"+p[g].tickValue:null,subPixelOptimize:!0,autoBatch:!0,shape:{x1:d[0],y1:d[1],x2:f[0],y2:f[1]},style:l.ce({stroke:s[y]},m),silent:!0}))}}},minorSplitLine:function(t,e,n,i){var r=n.axis,o=n.getModel("minorSplitLine").getModel("lineStyle"),a=i.coordinateSystem.getRect(),s=r.isHorizontal(),l=r.getMinorTicksCoords();if(l.length)for(var c=[],u=[],h=o.getLineStyle(),p=0;p<l.length;p++)for(var d=0;d<l[p].length;d++){var f=r.toGlobalCoord(l[p][d].coord);s?(c[0]=f,c[1]=a.y,u[0]=f,u[1]=a.y+a.height):(c[0]=a.x,c[1]=f,u[0]=a.x+a.width,u[1]=f),e.add(new z.Z({anid:"minor_line_"+l[p][d].tickValue,subPixelOptimize:!0,autoBatch:!0,shape:{x1:c[0],y1:c[1],x2:u[0],y2:u[1]},style:h,silent:!0}))}},splitArea:function(t,e,n,i){!function(t,e,n,i){var r=n.axis;if(!r.scale.isBlank()){var o=n.getModel("splitArea"),a=o.getModel("areaStyle"),c=a.get("color"),u=i.coordinateSystem.getRect(),h=r.getTicksCoords({tickModel:o,clamp:!0});if(h.length){var p=c.length,d=U(t).splitAreaColors,f=l.kW(),m=0;if(d)for(var g=0;g<h.length;g++){var v=d.get(h[g].tickValue);if(null!=v){m=(v+(p-1)*g)%p;break}}var y=r.toGlobalCoord(h[0].coord),_=a.getAreaStyle();for(c=l.kJ(c)?c:[c],g=1;g<h.length;g++){var x=r.toGlobalCoord(h[g].coord),b=void 0,w=void 0,S=void 0,M=void 0;r.isHorizontal()?(b=y,w=u.y,S=x-b,M=u.height,y=b+S):(b=u.x,w=y,S=u.width,y=w+(M=x-w));var T=h[g-1].tickValue;null!=T&&f.set(T,m),e.add(new s.Z({anid:null!=T?"area_"+T:null,shape:{x:b,y:w,width:S,height:M},style:l.ce({fill:c[m]},_),autoBatch:!0,silent:!0})),m=(m+1)%p}U(t).splitAreaColors=f}}}(t,e,n,i)}},W=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,i.ZT)(e,t),e.type="xAxis",e}(G),Z=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type=W.type,e}return(0,i.ZT)(e,t),e.type="yAxis",e}(G),q=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="grid",e}return(0,i.ZT)(e,t),e.prototype.render=function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new s.Z({shape:t.coordinateSystem.getRect(),style:(0,l.ce)({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))},e.type="grid",e}(r.Z),X={offset:0};function Y(t){t.registerComponentView(q),t.registerComponentModel(a),t.registerCoordinateSystem("cartesian2d",O),g(t,"x",h,X),g(t,"y",h,X),t.registerComponentView(W),t.registerComponentView(Z),t.registerPreprocessor((function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}))}var J=n(7649),K=n(8023);function $(t){(0,K.D)(Y),(0,K.D)(J.N)}},9076:(t,e,n)=>{"use strict";n.d(e,{N:()=>U});var i=n(8023),r=n(8299),o=n(3051),a=n(1497),s=n(2234);const l=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode={type:"box",ignoreSize:!0},n}return(0,r.ZT)(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n),t.selected=t.selected||{},this._updateSelector(t)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),this._updateSelector(e)},e.prototype._updateSelector=function(t){var e=t.selector,n=this.ecModel;!0===e&&(e=t.selector=["all","inverse"]),o.kJ(e)&&o.S6(e,(function(t,i){o.HD(t)&&(t={type:t}),e[i]=o.TS(t,function(t,e){return"all"===e?{type:"all",title:t.getLocaleModel().get(["legend","selector","all"])}:"inverse"===e?{type:"inverse",title:t.getLocaleModel().get(["legend","selector","inverse"])}:void 0}(n,t.type))}))},e.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,n=0;n<t.length;n++){var i=t[n].get("name");if(this.isSelected(i)){this.select(i),e=!0;break}}!e&&this.select(t[0].get("name"))}},e.prototype._updateData=function(t){var e=[],n=[];t.eachRawSeries((function(i){var r,o=i.name;if(n.push(o),i.legendVisualProvider){var a=i.legendVisualProvider.getAllNames();t.isSeriesFiltered(i)||(n=n.concat(a)),a.length?e=e.concat(a):r=!0}else r=!0;r&&(0,s.yu)(i)&&e.push(i.name)})),this._availableNames=n;var i=this.get("data")||e,r=o.UI(i,(function(t){return(o.HD(t)||o.hj(t))&&(t={name:t}),new a.Z(t,this,this.ecModel)}),this);this._data=r},e.prototype.getData=function(){return this._data},e.prototype.select=function(t){var e=this.option.selected;if("single"===this.get("selectedMode")){var n=this._data;o.S6(n,(function(t){e[t.get("name")]=!1}))}e[t]=!0},e.prototype.unSelect=function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},e.prototype.toggleSelected=function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},e.prototype.allSelect=function(){var t=this._data,e=this.option.selected;o.S6(t,(function(t){e[t.get("name",!0)]=!0}))},e.prototype.inverseSelect=function(){var t=this._data,e=this.option.selected;o.S6(t,(function(t){var n=t.get("name",!0);e.hasOwnProperty(n)||(e[n]=!0),e[n]=!e[n]}))},e.prototype.isSelected=function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&o.cq(this._availableNames,t)>=0},e.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},e.type="legend.plain",e.dependencies=["series"],e.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},e}(n(8071).Z);var c=n(1092),u=n(4592),h=n(8154),p=n(9074),d=n(3622),f=n(6357),m=n(6006),g=n(8988),v=n(6172),y=n(3166),_=n(1525),x=o.WA,b=o.S6,w=h.Z;function S(t,e,n,i){E(t,e,n,i),n.dispatchAction({type:"legendToggleSelect",name:null!=t?t:e}),T(t,e,n,i)}function M(t){for(var e,n=t.getZr().storage.getDisplayList(),i=0,r=n.length;i<r&&!(e=n[i].states.emphasis);)i++;return e&&e.hoverLayer}function T(t,e,n,i){M(n)||n.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:i})}function E(t,e,n,i){M(n)||n.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:i})}const A=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.newlineDisabled=!1,n}return(0,r.ZT)(e,t),e.prototype.init=function(){this.group.add(this._contentGroup=new w),this.group.add(this._selectorGroup=new w),this._isFirstRender=!0},e.prototype.getContentGroup=function(){return this._contentGroup},e.prototype.getSelectorGroup=function(){return this._selectorGroup},e.prototype.render=function(t,e,n){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var r=t.get("align"),a=t.get("orient");r&&"auto"!==r||(r="right"===t.get("left")&&"vertical"===a?"right":"left");var s=t.get("selector",!0),l=t.get("selectorPosition",!0);!s||l&&"auto"!==l||(l="horizontal"===a?"end":"start"),this.renderInner(r,t,e,n,s,a,l);var c=t.getBoxLayoutParams(),u={width:n.getWidth(),height:n.getHeight()},h=t.get("padding"),p=v.ME(c,u,h),f=this.layoutInner(t,r,p,i,s,l),m=v.ME(o.ce({width:f.width,height:f.height},c),u,h);this.group.x=m.x-f.x,this.group.y=m.y-f.y,this.group.markRedraw(),this.group.add(this._backgroundEl=function(t,e){var n=g.MY(e.get("padding")),i=e.getItemStyle(["color","opacity"]);return i.fill=e.get("backgroundColor"),new d.Z({shape:{x:t.x-n[3],y:t.y-n[0],width:t.width+n[1]+n[3],height:t.height+n[0]+n[2],r:e.get("borderRadius")},style:i,silent:!0,z2:-1})}(f,t))}},e.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},e.prototype.renderInner=function(t,e,n,i,r,a,s){var l=this.getContentGroup(),u=o.kW(),h=e.get("selectedMode"),p=[];n.eachRawSeries((function(t){!t.get("legendHoverLink")&&p.push(t.id)})),b(e.getData(),(function(r,a){var s=r.get("name");if(!this.newlineDisabled&&(""===s||"\n"===s)){var d=new w;return d.newline=!0,void l.add(d)}var f=n.getSeriesByName(s)[0];if(!u.get(s))if(f){var m=f.getData(),g=m.getVisual("legendLineStyle")||{},v=m.getVisual("legendIcon"),y=m.getVisual("style");this._createItem(f,s,a,r,e,t,g,y,v,h).on("click",x(S,s,null,i,p)).on("mouseover",x(T,f.name,null,i,p)).on("mouseout",x(E,f.name,null,i,p)),u.set(s,!0)}else n.eachRawSeries((function(n){if(!u.get(s)&&n.legendVisualProvider){var l=n.legendVisualProvider;if(!l.containName(s))return;var d=l.indexOfName(s),f=l.getItemVisual(d,"style"),m=l.getItemVisual(d,"legendIcon"),g=(0,c.Qc)(f.fill);g&&0===g[3]&&(g[3]=.2,f=o.l7(o.l7({},f),{fill:(0,c.Pz)(g,"rgba")})),this._createItem(n,s,a,r,e,t,{},f,m,h).on("click",x(S,null,s,i,p)).on("mouseover",x(T,null,s,i,p)).on("mouseout",x(E,null,s,i,p)),u.set(s,!0)}}),this)}),this),r&&this._createSelector(r,e,i,a,s)},e.prototype._createSelector=function(t,e,n,i,r){var o=this.getSelectorGroup();b(t,(function(t){var i=t.type,r=new p.ZP({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){n.dispatchAction({type:"all"===i?"legendAllSelect":"legendInverseSelect"})}});o.add(r);var a=e.getModel("selectorLabel"),s=e.getModel(["emphasis","selectorLabel"]);(0,m.ni)(r,{normal:a,emphasis:s},{defaultText:t.title}),(0,f.vF)(r)}))},e.prototype._createItem=function(t,e,n,i,r,a,s,l,c,h){var g,v,y,x=t.visualDrawType,S=r.get("itemWidth"),M=r.get("itemHeight"),T=r.isSelected(e),E=i.get("symbolRotate"),A=i.get("symbolKeepAspect"),C=i.get("icon"),L=function(t,e,n,i,r,o){function a(t,e){"auto"===t.lineWidth&&(t.lineWidth=e.lineWidth>0?2:0),b(t,(function(n,i){"inherit"===t[i]&&(t[i]=e[i])}))}var s=e.getModel("itemStyle").getItemStyle(),l=0===t.lastIndexOf("empty",0)?"fill":"stroke";s.decal=i.decal,"inherit"===s.fill&&(s.fill=i[r]),"inherit"===s.stroke&&(s.stroke=i[l]),"inherit"===s.opacity&&(s.opacity=("fill"===r?i:n).opacity),a(s,i);var c=e.getModel("lineStyle"),u=c.getLineStyle();if(a(u,n),"auto"===s.fill&&(s.fill=i.fill),"auto"===s.stroke&&(s.stroke=i.fill),"auto"===u.stroke&&(u.stroke=i.fill),!o){var h=e.get("inactiveBorderWidth"),p=s[l];s.lineWidth="auto"===h?i.lineWidth>0&&p?2:0:s.lineWidth,s.fill=e.get("inactiveColor"),s.stroke=e.get("inactiveBorderColor"),u.stroke=c.get("inactiveColor"),u.lineWidth=c.get("inactiveWidth")}return{itemStyle:s,lineStyle:u}}(c=C||c||"roundRect",i,s,l,x,T),I=new w,D=i.getModel("textStyle");if(!o.mf(t.getLegendIcon)||C&&"inherit"!==C){var P="inherit"===C&&t.getData().getVisual("symbol")?"inherit"===E?t.getData().getVisual("symbolRotate"):E:0;I.add((g={itemWidth:S,itemHeight:M,icon:c,iconRotate:P,itemStyle:L.itemStyle,lineStyle:L.lineStyle,symbolKeepAspect:A},v=g.icon||"roundRect",(y=(0,_.th)(v,0,0,g.itemWidth,g.itemHeight,g.itemStyle.fill,g.symbolKeepAspect)).setStyle(g.itemStyle),y.rotation=(g.iconRotate||0)*Math.PI/180,y.setOrigin([g.itemWidth/2,g.itemHeight/2]),v.indexOf("empty")>-1&&(y.style.stroke=y.style.fill,y.style.fill="#fff",y.style.lineWidth=2),y))}else I.add(t.getLegendIcon({itemWidth:S,itemHeight:M,icon:c,iconRotate:E,itemStyle:L.itemStyle,lineStyle:L.lineStyle,symbolKeepAspect:A}));var R="left"===a?S+5:-5,O=a,k=r.get("formatter"),N=e;o.HD(k)&&k?N=k.replace("{name}",null!=e?e:""):o.mf(k)&&(N=k(e));var z=i.get("inactiveColor");I.add(new p.ZP({style:(0,m.Lr)(D,{text:N,x:R,y:M/2,fill:T?D.getTextColor():z,align:O,verticalAlign:"middle"})}));var B=new d.Z({shape:I.getBoundingRect(),invisible:!0}),F=i.getModel("tooltip");return F.get("show")&&u.setTooltipConfig({el:B,componentModel:r,itemName:e,itemTooltipOption:F.option}),I.add(B),I.eachChild((function(t){t.silent=!0})),B.silent=!h,this.getContentGroup().add(I),(0,f.vF)(I),I.__legendDataIndex=n,I},e.prototype.layoutInner=function(t,e,n,i,r,o){var a=this.getContentGroup(),s=this.getSelectorGroup();v.BZ(t.get("orient"),a,t.get("itemGap"),n.width,n.height);var l=a.getBoundingRect(),c=[-l.x,-l.y];if(s.markRedraw(),a.markRedraw(),r){v.BZ("horizontal",s,t.get("selectorItemGap",!0));var u=s.getBoundingRect(),h=[-u.x,-u.y],p=t.get("selectorButtonGap",!0),d=t.getOrient().index,f=0===d?"width":"height",m=0===d?"height":"width",g=0===d?"y":"x";"end"===o?h[d]+=l[f]+p:c[d]+=u[f]+p,h[1-d]+=l[m]/2-u[m]/2,s.x=h[0],s.y=h[1],a.x=c[0],a.y=c[1];var y={x:0,y:0};return y[f]=l[f]+p+u[f],y[m]=Math.max(l[m],u[m]),y[g]=Math.min(0,u[g]+h[1-d]),y}return a.x=c[0],a.y=c[1],this.group.getBoundingRect()},e.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},e.type="legend.plain",e}(y.Z);function C(t){var e=t.findComponents({mainType:"legend"});e&&e.length&&t.filterSeries((function(t){for(var n=0;n<e.length;n++)if(!e[n].isSelected(t.name))return!1;return!0}))}function L(t,e,n){var i,r={},a="toggleSelected"===t;return n.eachComponent("legend",(function(n){a&&null!=i?n[i?"select":"unSelect"](e.name):"allSelect"===t||"inverseSelect"===t?n[t]():(n[t](e.name),i=n.isSelected(e.name));var s=n.getData();(0,o.S6)(s,(function(t){var e=t.get("name");if("\n"!==e&&""!==e){var i=n.isSelected(e);r.hasOwnProperty(e)?r[e]=r[e]&&i:r[e]=i}}))})),"allSelect"===t||"inverseSelect"===t?{selected:r}:{name:e.name,selected:r}}function I(t){t.registerComponentModel(l),t.registerComponentView(A),t.registerProcessor(t.PRIORITY.PROCESSOR.SERIES_FILTER,C),t.registerSubTypeDefaulter("legend",(function(){return"plain"})),function(t){t.registerAction("legendToggleSelect","legendselectchanged",(0,o.WA)(L,"toggleSelected")),t.registerAction("legendAllSelect","legendselectall",(0,o.WA)(L,"allSelect")),t.registerAction("legendInverseSelect","legendinverseselect",(0,o.WA)(L,"inverseSelect")),t.registerAction("legendSelect","legendselected",(0,o.WA)(L,"select")),t.registerAction("legendUnSelect","legendunselected",(0,o.WA)(L,"unSelect"))}(t)}var D=n(2151);function P(t,e,n){var i=[1,1];i[t.getOrient().index]=0,(0,v.dt)(e,n,{type:"box",ignoreSize:!!i})}const R=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,r.ZT)(e,t),e.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},e.prototype.init=function(e,n,i){var r=(0,v.tE)(e);t.prototype.init.call(this,e,n,i),P(this,e,r)},e.prototype.mergeOption=function(e,n){t.prototype.mergeOption.call(this,e,n),P(this,this.option,e)},e.type="legend.scroll",e.defaultOption=(0,D.ZL)(l.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),e}(l);var O=n(9266),k=h.Z,N=["width","height"],z=["x","y"];const B=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.newlineDisabled=!0,n._currentIndex=0,n}return(0,r.ZT)(e,t),e.prototype.init=function(){t.prototype.init.call(this),this.group.add(this._containerGroup=new k),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new k)},e.prototype.resetInner=function(){t.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},e.prototype.renderInner=function(e,n,i,r,a,s,l){var c=this;t.prototype.renderInner.call(this,e,n,i,r,a,s,l);var h=this._controllerGroup,d=n.get("pageIconSize",!0),f=o.kJ(d)?d:[d,d];g("pagePrev",0);var m=n.getModel("pageTextStyle");function g(t,e){var i=t+"DataIndex",a=u.createIcon(n.get("pageIcons",!0)[n.getOrient().name][e],{onclick:o.ak(c._pageGo,c,i,n,r)},{x:-f[0]/2,y:-f[1]/2,width:f[0],height:f[1]});a.name=t,h.add(a)}h.add(new p.ZP({name:"pageText",style:{text:"xx/xx",fill:m.getTextColor(),font:m.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),g("pageNext",1)},e.prototype.layoutInner=function(t,e,n,i,r,a){var s=this.getSelectorGroup(),l=t.getOrient().index,c=N[l],u=z[l],h=N[1-l],p=z[1-l];r&&v.BZ("horizontal",s,t.get("selectorItemGap",!0));var d=t.get("selectorButtonGap",!0),f=s.getBoundingRect(),m=[-f.x,-f.y],g=o.d9(n);r&&(g[c]=n[c]-f[c]-d);var y=this._layoutContentAndController(t,i,g,l,c,h,p,u);if(r){if("end"===a)m[l]+=y[c]+d;else{var _=f[c]+d;m[l]-=_,y[u]-=_}y[c]+=f[c]+d,m[1-l]+=y[p]+y[h]/2-f[h]/2,y[h]=Math.max(y[h],f[h]),y[p]=Math.min(y[p],f[p]+m[1-l]),s.x=m[0],s.y=m[1],s.markRedraw()}return y},e.prototype._layoutContentAndController=function(t,e,n,i,r,a,s,l){var c=this.getContentGroup(),u=this._containerGroup,h=this._controllerGroup;v.BZ(t.get("orient"),c,t.get("itemGap"),i?n.width:null,i?null:n.height),v.BZ("horizontal",h,t.get("pageButtonItemGap",!0));var p=c.getBoundingRect(),f=h.getBoundingRect(),m=this._showController=p[r]>n[r],g=[-p.x,-p.y];e||(g[i]=c[l]);var y=[0,0],_=[-f.x,-f.y],x=o.pD(t.get("pageButtonGap",!0),t.get("itemGap",!0));m&&("end"===t.get("pageButtonPosition",!0)?_[i]+=n[r]-f[r]:y[i]+=f[r]+x),_[1-i]+=p[a]/2-f[a]/2,c.setPosition(g),u.setPosition(y),h.setPosition(_);var b={x:0,y:0};if(b[r]=m?n[r]:p[r],b[a]=Math.max(p[a],f[a]),b[s]=Math.min(0,f[s]+_[1-i]),u.__rectSize=n[r],m){var w={x:0,y:0};w[r]=Math.max(n[r]-f[r]-x,0),w[a]=b[a],u.setClipPath(new d.Z({shape:w})),u.__rectSize=w[r]}else h.eachChild((function(t){t.attr({invisible:!0,silent:!0})}));var S=this._getPageInfo(t);return null!=S.pageIndex&&O.D(c,{x:S.contentPosition[0],y:S.contentPosition[1]},m?t:null),this._updatePageInfoView(t,S),b},e.prototype._pageGo=function(t,e,n){var i=this._getPageInfo(e)[t];null!=i&&n.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:e.id})},e.prototype._updatePageInfoView=function(t,e){var n=this._controllerGroup;o.S6(["pagePrev","pageNext"],(function(i){var r=null!=e[i+"DataIndex"],o=n.childOfName(i);o&&(o.setStyle("fill",r?t.get("pageIconColor",!0):t.get("pageIconInactiveColor",!0)),o.cursor=r?"pointer":"default")}));var i=n.childOfName("pageText"),r=t.get("pageFormatter"),a=e.pageIndex,s=null!=a?a+1:0,l=e.pageCount;i&&r&&i.setStyle("text",o.HD(r)?r.replace("{current}",null==s?"":s+"").replace("{total}",null==l?"":l+""):r({current:s,total:l}))},e.prototype._getPageInfo=function(t){var e=t.get("scrollDataIndex",!0),n=this.getContentGroup(),i=this._containerGroup.__rectSize,r=t.getOrient().index,o=N[r],a=z[r],s=this._findTargetItemIndex(e),l=n.children(),c=l[s],u=l.length,h=u?1:0,p={contentPosition:[n.x,n.y],pageCount:h,pageIndex:h-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!c)return p;var d=y(c);p.contentPosition[r]=-d.s;for(var f=s+1,m=d,g=d,v=null;f<=u;++f)(!(v=y(l[f]))&&g.e>m.s+i||v&&!_(v,m.s))&&(m=g.i>m.i?g:v)&&(null==p.pageNextDataIndex&&(p.pageNextDataIndex=m.i),++p.pageCount),g=v;for(f=s-1,m=d,g=d,v=null;f>=-1;--f)(v=y(l[f]))&&_(g,v.s)||!(m.i<g.i)||(g=m,null==p.pagePrevDataIndex&&(p.pagePrevDataIndex=m.i),++p.pageCount,++p.pageIndex),m=v;return p;function y(t){if(t){var e=t.getBoundingRect(),n=e[a]+t[a];return{s:n,e:n+e[o],i:t.__legendDataIndex}}}function _(t,e){return t.e>=e&&t.s<=e+i}},e.prototype._findTargetItemIndex=function(t){return this._showController?(this.getContentGroup().eachChild((function(i,r){var o=i.__legendDataIndex;null==n&&null!=o&&(n=r),o===t&&(e=r)})),null!=e?e:n):0;var e,n},e.type="legend.scroll",e}(A);function F(t){(0,i.D)(I),t.registerComponentModel(R),t.registerComponentView(B),function(t){t.registerAction("legendScroll","legendscroll",(function(t,e){var n=t.scrollDataIndex;null!=n&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},(function(t){t.setScrollDataIndex(n)}))}))}(t)}function U(t){(0,i.D)(I),(0,i.D)(F)}},8690:(t,e,n)=>{"use strict";n.d(e,{N:()=>m});var i=n(8299),r=n(3051),o=n(9074),a=n(3622),s=n(106),l=n(6006),c=n(6172),u=n(8071),h=n(3166),p=n(8988),d=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.layoutMode={type:"box",ignoreSize:!0},n}return(0,i.ZT)(e,t),e.type="title",e.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},e}(u.Z),f=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,i.ZT)(e,t),e.prototype.render=function(t,e,n){if(this.group.removeAll(),t.get("show")){var i=this.group,u=t.getModel("textStyle"),h=t.getModel("subtextStyle"),d=t.get("textAlign"),f=r.pD(t.get("textBaseline"),t.get("textVerticalAlign")),m=new o.ZP({style:(0,l.Lr)(u,{text:t.get("text"),fill:u.getTextColor()},{disableBox:!0}),z2:10}),g=m.getBoundingRect(),v=t.get("subtext"),y=new o.ZP({style:(0,l.Lr)(h,{text:v,fill:h.getTextColor(),y:g.height+t.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),_=t.get("link"),x=t.get("sublink"),b=t.get("triggerEvent",!0);m.silent=!_&&!b,y.silent=!x&&!b,_&&m.on("click",(function(){(0,p.MI)(_,"_"+t.get("target"))})),x&&y.on("click",(function(){(0,p.MI)(x,"_"+t.get("subtarget"))})),(0,s.A)(m).eventData=(0,s.A)(y).eventData=b?{componentType:"title",componentIndex:t.componentIndex}:null,i.add(m),v&&i.add(y);var w=i.getBoundingRect(),S=t.getBoxLayoutParams();S.width=w.width,S.height=w.height;var M=(0,c.ME)(S,{width:n.getWidth(),height:n.getHeight()},t.get("padding"));d||("middle"===(d=t.get("left")||t.get("right"))&&(d="center"),"right"===d?M.x+=M.width:"center"===d&&(M.x+=M.width/2)),f||("center"===(f=t.get("top")||t.get("bottom"))&&(f="middle"),"bottom"===f?M.y+=M.height:"middle"===f&&(M.y+=M.height/2),f=f||"top"),i.x=M.x,i.y=M.y,i.markRedraw();var T={align:d,verticalAlign:f};m.setStyle(T),y.setStyle(T),w=i.getBoundingRect();var E=M.margin,A=t.getItemStyle(["color","opacity"]);A.fill=t.get("backgroundColor");var C=new a.Z({shape:{x:w.x-E[3],y:w.y-E[0],width:w.width+E[1]+E[3],height:w.height+E[0]+E[2],r:t.get("borderRadius")},style:A,subPixelOptimize:!0,silent:!0});i.add(C)}},e.type="title",e}(h.Z);function m(t){t.registerComponentModel(d),t.registerComponentView(f)}},7813:(t,e,n)=>{"use strict";n.d(e,{N:()=>$});var i=n(7649),r=n(8023),o=n(8299);const a=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,o.ZT)(e,t),e.type="tooltip",e.dependencies=["axisPointer"],e.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},e}(n(8071).Z);var s=n(3051),l=n(6387),c=n(1158),u=n(4058),h=n(8988);function p(t){var e=t.get("confine");return null!=e?!!e:"richText"===t.get("renderMode")}function d(t){if(l.Z.domSupported)for(var e=document.documentElement.style,n=0,i=t.length;n<i;n++)if(t[n]in e)return t[n]}var f=d(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),m=d(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function g(t,e){if(!t)return e;e=(0,h.zW)(e,!0);var n=t.indexOf(e);return(t=-1===n?e:"-"+t.slice(0,n)+"-"+e).toLowerCase()}var v=n(5685),y=g(m,"transition"),_=g(f,"transform"),x="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(l.Z.transform3dSupported?"will-change:transform;":"");function b(t,e,n){var i=t.toFixed(0)+"px",r=e.toFixed(0)+"px";if(!l.Z.transformSupported)return n?"top:"+r+";left:"+i+";":[["top",r],["left",i]];var o=l.Z.transform3dSupported,a="translate"+(o?"3d":"")+"("+i+","+r+(o?",0":"")+")";return n?"top:0;left:0;"+_+":"+a+";":[["top",0],["left",0],[f,a]]}function w(t,e,n,i,r){var o=e&&e.painter;if(n){var a=o&&o.getViewportRoot();a&&(0,u.YB)(t,a,document.body,i,r)}else{t[0]=i,t[1]=r;var s=o&&o.getViewportRootOffset();s&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)}t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}var S=function(){function t(t,e,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._firstShow=!0,this._longHide=!0,l.Z.wxa)return null;var i=document.createElement("div");i.domBelongToZr=!0,this.el=i;var r=this._zr=e.getZr(),o=this._appendToBody=n&&n.appendToBody;w(this._styleCoord,r,o,e.getWidth()/2,e.getHeight()/2),o?document.body.appendChild(i):t.appendChild(i),this._container=t;var a=this;i.onmouseenter=function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0},i.onmousemove=function(t){if(t=t||window.event,!a._enterable){var e=r.handler,n=r.painter.getViewportRoot();(0,c.OD)(n,t,!0),e.dispatch("mousemove",t)}},i.onmouseleave=function(){a._inContent=!1,a._enterable&&a._show&&a.hideLater(a._hideDelay)}}return t.prototype.update=function(t){var e,n,i,r=this._container,o=(n="position",(i=(e=r).currentStyle||document.defaultView&&document.defaultView.getComputedStyle(e))?i[n]:null),a=r.style;"absolute"!==a.position&&"absolute"!==o&&(a.position="relative"),t.get("alwaysShowContent")&&this._moveIfResized(),this.el.className=t.get("className")||""},t.prototype.show=function(t,e){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var n=this.el,i=n.style,r=this._styleCoord;n.innerHTML?i.cssText=x+function(t,e,n){var i=[],r=t.get("transitionDuration"),o=t.get("backgroundColor"),a=t.get("shadowBlur"),c=t.get("shadowColor"),u=t.get("shadowOffsetX"),p=t.get("shadowOffsetY"),d=t.getModel("textStyle"),f=(0,v.d_)(t,"html"),m=u+"px "+p+"px "+a+"px "+c;return i.push("box-shadow:"+m),e&&r&&i.push(function(t,e){var n="cubic-bezier(0.23,1,0.32,1)",i=" "+t/2+"s "+n,r="opacity"+i+",visibility"+i;return e||(i=" "+t+"s "+n,r+=l.Z.transformSupported?","+_+i:",left"+i+",top"+i),y+":"+r}(r,n)),o&&i.push("background-color:"+o),(0,s.S6)(["width","color","radius"],(function(e){var n="border-"+e,r=(0,h.zW)(n),o=t.get(r);null!=o&&i.push(n+":"+o+("color"===e?"":"px"))})),i.push(function(t){var e=[],n=t.get("fontSize"),i=t.getTextColor();i&&e.push("color:"+i),e.push("font:"+t.getFont()),n&&e.push("line-height:"+Math.round(3*n/2)+"px");var r=t.get("textShadowColor"),o=t.get("textShadowBlur")||0,a=t.get("textShadowOffsetX")||0,l=t.get("textShadowOffsetY")||0;return r&&o&&e.push("text-shadow:"+a+"px "+l+"px "+o+"px "+r),(0,s.S6)(["decoration","align"],(function(n){var i=t.get(n);i&&e.push("text-"+n+":"+i)})),e.join(";")}(d)),null!=f&&i.push("padding:"+(0,h.MY)(f).join("px ")+"px"),i.join(";")+";"}(t,!this._firstShow,this._longHide)+b(r[0],r[1],!0)+"border-color:"+(0,h.Lz)(e)+";"+(t.get("extraCssText")||"")+";pointer-events:"+(this._enterable?"auto":"none"):i.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},t.prototype.setContent=function(t,e,n,i,r){var o=this.el;if(null!=t){var a="";if((0,s.HD)(r)&&"item"===n.get("trigger")&&!p(n)&&(a=function(t,e,n){if(!(0,s.HD)(n)||"inside"===n)return"";var i=t.get("backgroundColor"),r=t.get("borderWidth");e=(0,h.Lz)(e);var o,a,l="left"===(o=n)?"right":"right"===o?"left":"top"===o?"bottom":"top",c=Math.max(1.5*Math.round(r),6),u="",p=_+":";(0,s.cq)(["left","right"],l)>-1?(u+="top:50%",p+="translateY(-50%) rotate("+(a="left"===l?-225:-45)+"deg)"):(u+="left:50%",p+="translateX(-50%) rotate("+(a="top"===l?225:45)+"deg)");var d=a*Math.PI/180,f=c+r,m=f*Math.abs(Math.cos(d))+f*Math.abs(Math.sin(d)),g=e+" solid "+r+"px;";return'<div style="'+["position:absolute;width:"+c+"px;height:"+c+"px;",(u+=";"+l+":-"+Math.round(100*((m-Math.SQRT2*r)/2+Math.SQRT2*r-(m-f)/2))/100+"px")+";"+p+";","border-bottom:"+g,"border-right:"+g,"background-color:"+i+";"].join("")+'"></div>'}(n,i,r)),(0,s.HD)(t))o.innerHTML=t+a;else if(t){o.innerHTML="",(0,s.kJ)(t)||(t=[t]);for(var l=0;l<t.length;l++)(0,s.Mh)(t[l])&&t[l].parentNode!==o&&o.appendChild(t[l]);if(a&&o.childNodes.length){var c=document.createElement("div");c.innerHTML=a,o.appendChild(c)}}}else o.innerHTML=""},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el;return[t.offsetWidth,t.offsetHeight]},t.prototype.moveTo=function(t,e){var n=this._styleCoord;if(w(n,this._zr,this._appendToBody,t,e),null!=n[0]&&null!=n[1]){var i=this.el.style,r=b(n[0],n[1]);(0,s.S6)(r,(function(t){i[t[0]]=t[1]}))}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){var t=this,e=this.el.style;e.visibility="hidden",e.opacity="0",l.Z.transform3dSupported&&(e.willChange=""),this._show=!1,this._longHideTimeout=setTimeout((function(){return t._longHide=!0}),500)},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout((0,s.ak)(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this.el.parentNode.removeChild(this.el)},t}();const M=S;var T=n(9074),E=n(175),A=function(){function t(t){this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._zr=t.getZr(),I(this._styleCoord,this._zr,t.getWidth()/2,t.getHeight()/2)}return t.prototype.update=function(t){t.get("alwaysShowContent")&&this._moveIfResized()},t.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},t.prototype.setContent=function(t,e,n,i,r){var o=this;s.Kn(t)&&(0,E._y)(""),this.el&&this._zr.remove(this.el);var a=n.getModel("textStyle");this.el=new T.ZP({style:{rich:e.richTextStyles,text:t,lineHeight:22,borderWidth:1,borderColor:i,textShadowColor:a.get("textShadowColor"),fill:n.get(["textStyle","color"]),padding:(0,v.d_)(n,"richText"),verticalAlign:"top",align:"left"},z:n.get("z")}),s.S6(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],(function(t){o.el.style[t]=n.get(t)})),s.S6(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],(function(t){o.el.style[t]=a.get(t)||0})),this._zr.add(this.el);var l=this;this.el.on("mouseover",(function(){l._enterable&&(clearTimeout(l._hideTimeout),l._show=!0),l._inContent=!0})),this.el.on("mouseout",(function(){l._enterable&&l._show&&l.hideLater(l._hideDelay),l._inContent=!1}))},t.prototype.setEnterable=function(t){this._enterable=t},t.prototype.getSize=function(){var t=this.el,e=this.el.getBoundingRect(),n=L(t.style);return[e.width+n.left+n.right,e.height+n.top+n.bottom]},t.prototype.moveTo=function(t,e){var n=this.el;if(n){var i=this._styleCoord;I(i,this._zr,t,e),t=i[0],e=i[1];var r=n.style,o=C(r.borderWidth||0),a=L(r);n.x=t+o+a.left,n.y=e+o+a.top,n.markRedraw()}},t.prototype._moveIfResized=function(){var t=this._styleCoord[2],e=this._styleCoord[3];this.moveTo(t*this._zr.getWidth(),e*this._zr.getHeight())},t.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},t.prototype.hideLater=function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(s.ak(this.hide,this),t)):this.hide())},t.prototype.isShow=function(){return this._show},t.prototype.dispose=function(){this._zr.remove(this.el)},t}();function C(t){return Math.max(0,t)}function L(t){var e=C(t.shadowBlur||0),n=C(t.shadowOffsetX||0),i=C(t.shadowOffsetY||0);return{left:C(e-n),right:C(e+n),top:C(e-i),bottom:C(e+i)}}function I(t,e,n,i){t[0]=n,t[1]=i,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}const D=A;var P=n(5669),R=n(3622),O=n(2448),k=n(6172),N=n(1497),z=n(6996),B=n(5254),F=n(5539),U=n(2234),H=n(3166),V=n(5015),G=n(106),j=n(1219),W=n(8310),Z=n(270),q=new R.Z({shape:{x:-1,y:-1,width:2,height:2}});function X(t,e,n){var i,r=e.ecModel;n?(i=new N.Z(n,r,r),i=new N.Z(e.option,i,r)):i=e;for(var o=t.length-1;o>=0;o--){var a=t[o];a&&(a instanceof N.Z&&(a=a.get("tooltip",!0)),(0,s.HD)(a)&&(a={formatter:a}),a&&(i=new N.Z(a,i,r)))}return i}function Y(t,e){return t.dispatchAction||(0,s.ak)(e.dispatchAction,e)}function J(t){return"center"===t||"middle"===t}const K=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,o.ZT)(e,t),e.prototype.init=function(t,e){if(!l.Z.node&&e.getDom()){var n=t.getComponent("tooltip"),i=this._renderMode=(0,U.U9)(n.get("renderMode"));this._tooltipContent="richText"===i?new D(e):new M(e.getDom(),e,{appendToBody:n.get("appendToBody",!0)})}},e.prototype.render=function(t,e,n){if(!l.Z.node&&n.getDom()){this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=n,this._alwaysShowContent=t.get("alwaysShowContent");var i=this._tooltipContent;i.update(t),i.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow(),"richText"!==this._renderMode&&t.get("transitionDuration")?(0,Z.T9)(this,"_updatePosition",50,"fixRate"):(0,Z.ZH)(this,"_updatePosition")}},e.prototype._initGlobalListener=function(){var t=this._tooltipModel.get("triggerOn");z.z("itemTooltip",this._api,(0,s.ak)((function(e,n,i){"none"!==t&&(t.indexOf(e)>=0?this._tryShow(n,i):"leave"===e&&this._hide(i))}),this))},e.prototype._keepShow=function(){var t=this._tooltipModel,e=this._ecModel,n=this._api;if(null!=this._lastX&&null!=this._lastY&&"none"!==t.get("triggerOn")){var i=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout((function(){!n.isDisposed()&&i.manuallyShowTip(t,e,n,{x:i._lastX,y:i._lastY,dataByCoordSys:i._lastDataByCoordSys})}))}},e.prototype.manuallyShowTip=function(t,e,n,i){if(i.from!==this.uid&&!l.Z.node&&n.getDom()){var r=Y(i,n);this._ticket="";var o=i.dataByCoordSys,a=function(t,e,n){var i=(0,U.zH)(t).queryOptionMap,r=i.keys()[0];if(r&&"series"!==r){var o,a=(0,U.HZ)(e,r,i.get(r),{useDefault:!1,enableAll:!1,enableNone:!1}).models[0];if(a)return n.getViewOfComponentModel(a).group.traverse((function(e){var n=(0,G.A)(e).tooltipConfig;if(n&&n.name===t.name)return o=e,!0})),o?{componentMainType:r,componentIndex:a.componentIndex,el:o}:void 0}}(i,e,n);if(a){var s=a.el.getBoundingRect().clone();s.applyTransform(a.el.transform),this._tryShow({offsetX:s.x+s.width/2,offsetY:s.y+s.height/2,target:a.el,position:i.position,positionDefault:"bottom"},r)}else if(i.tooltip&&null!=i.x&&null!=i.y){var c=q;c.x=i.x,c.y=i.y,c.update(),(0,G.A)(c).tooltipConfig={name:null,option:i.tooltip},this._tryShow({offsetX:i.x,offsetY:i.y,target:c},r)}else if(o)this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,dataByCoordSys:o,tooltipOption:i.tooltipOption},r);else if(null!=i.seriesIndex){if(this._manuallyAxisShowTip(t,e,n,i))return;var u=(0,O.Z)(i,e),h=u.point[0],p=u.point[1];null!=h&&null!=p&&this._tryShow({offsetX:h,offsetY:p,target:u.el,position:i.position,positionDefault:"bottom"},r)}else null!=i.x&&null!=i.y&&(n.dispatchAction({type:"updateAxisPointer",x:i.x,y:i.y}),this._tryShow({offsetX:i.x,offsetY:i.y,position:i.position,target:n.getZr().findHover(i.x,i.y).target},r))}},e.prototype.manuallyHideTip=function(t,e,n,i){var r=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&r.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,i.from!==this.uid&&this._hide(Y(i,n))},e.prototype._manuallyAxisShowTip=function(t,e,n,i){var r=i.seriesIndex,o=i.dataIndex,a=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=r&&null!=o&&null!=a){var s=e.getSeriesByIndex(r);if(s&&"axis"===X([s.getData().getItemModel(o),s,(s.coordinateSystem||{}).model],this._tooltipModel).get("trigger"))return n.dispatchAction({type:"updateAxisPointer",seriesIndex:r,dataIndex:o,position:i.position}),!0}},e.prototype._tryShow=function(t,e){var n=t.target;if(this._tooltipModel){this._lastX=t.offsetX,this._lastY=t.offsetY;var i=t.dataByCoordSys;if(i&&i.length)this._showAxisTooltip(i,t);else if(n){var r,o;this._lastDataByCoordSys=null,(0,W.o)(n,(function(t){return null!=(0,G.A)(t).dataIndex?(r=t,!0):null!=(0,G.A)(t).tooltipConfig?(o=t,!0):void 0}),!0),r?this._showSeriesItemTooltip(t,r,e):o?this._showComponentItemTooltip(t,o,e):this._hide(e)}else this._lastDataByCoordSys=null,this._hide(e)}},e.prototype._showOrMove=function(t,e){var n=t.get("showDelay");e=(0,s.ak)(e,this),clearTimeout(this._showTimout),n>0?this._showTimout=setTimeout(e,n):e()},e.prototype._showAxisTooltip=function(t,e){var n=this._ecModel,i=this._tooltipModel,r=[e.offsetX,e.offsetY],o=X([e.tooltipOption],i),a=this._renderMode,l=[],c=(0,v.TX)("section",{blocks:[],noHeader:!0}),u=[],p=new v.iv;(0,s.S6)(t,(function(t){(0,s.S6)(t.dataByAxis,(function(t){var e=n.getComponent(t.axisDim+"Axis",t.axisIndex),r=t.value;if(e&&null!=r){var o=F.gk(r,e.axis,n,t.seriesDataIndices,t.valueLabelOpt),d=(0,v.TX)("section",{header:o,noHeader:!(0,s.fy)(o),sortBlocks:!0,blocks:[]});c.blocks.push(d),(0,s.S6)(t.seriesDataIndices,(function(c){var f=n.getSeriesByIndex(c.seriesIndex),m=c.dataIndexInside,g=f.getDataParams(m);if(!(g.dataIndex<0)){g.axisDim=t.axisDim,g.axisIndex=t.axisIndex,g.axisType=t.axisType,g.axisId=t.axisId,g.axisValue=B.DX(e.axis,{value:r}),g.axisValueLabel=o,g.marker=p.makeTooltipMarker("item",(0,h.Lz)(g.color),a);var v=(0,j.f)(f.formatTooltip(m,!0,null)),y=v.frag;if(y){var _=X([f],i).get("valueFormatter");d.blocks.push(_?(0,s.l7)({valueFormatter:_},y):y)}v.text&&u.push(v.text),l.push(g)}}))}}))})),c.blocks.reverse(),u.reverse();var d=e.position,f=o.get("order"),m=(0,v.BY)(c,p,a,f,n.get("useUTC"),o.get("textStyle"));m&&u.unshift(m);var g="richText"===a?"\n\n":"<br/>",y=u.join(g);this._showOrMove(o,(function(){this._updateContentNotChangedOnAxis(t,l)?this._updatePosition(o,d,r[0],r[1],this._tooltipContent,l):this._showTooltipContent(o,y,l,Math.random()+"",r[0],r[1],d,null,p)}))},e.prototype._showSeriesItemTooltip=function(t,e,n){var i=this._ecModel,r=(0,G.A)(e),o=r.seriesIndex,a=i.getSeriesByIndex(o),l=r.dataModel||a,c=r.dataIndex,u=r.dataType,p=l.getData(u),d=this._renderMode,f=t.positionDefault,m=X([p.getItemModel(c),l,a&&(a.coordinateSystem||{}).model],this._tooltipModel,f?{position:f}:null),g=m.get("trigger");if(null==g||"item"===g){var y=l.getDataParams(c,u),_=new v.iv;y.marker=_.makeTooltipMarker("item",(0,h.Lz)(y.color),d);var x=(0,j.f)(l.formatTooltip(c,!1,u)),b=m.get("order"),w=m.get("valueFormatter"),S=x.frag,M=S?(0,v.BY)(w?(0,s.l7)({valueFormatter:w},S):S,_,d,b,i.get("useUTC"),m.get("textStyle")):x.text,T="item_"+l.name+"_"+c;this._showOrMove(m,(function(){this._showTooltipContent(m,M,y,T,t.offsetX,t.offsetY,t.position,t.target,_)})),n({type:"showTip",dataIndexInside:c,dataIndex:p.getRawIndex(c),seriesIndex:o,from:this.uid})}},e.prototype._showComponentItemTooltip=function(t,e,n){var i=(0,G.A)(e),r=i.tooltipConfig.option||{};(0,s.HD)(r)&&(r={content:r,formatter:r});var o=[r],a=this._ecModel.getComponent(i.componentMainType,i.componentIndex);a&&o.push(a),o.push({formatter:r.content});var l=t.positionDefault,c=X(o,this._tooltipModel,l?{position:l}:null),u=c.get("content"),h=Math.random()+"",p=new v.iv;this._showOrMove(c,(function(){var n=(0,s.d9)(c.get("formatterParams")||{});this._showTooltipContent(c,u,n,h,t.offsetX,t.offsetY,t.position,e,p)})),n({type:"showTip",from:this.uid})},e.prototype._showTooltipContent=function(t,e,n,i,r,o,a,l,c){if(this._ticket="",t.get("showContent")&&t.get("show")){var u=this._tooltipContent;u.setEnterable(t.get("enterable"));var p=t.get("formatter");a=a||t.get("position");var d=e,f=this._getNearestPoint([r,o],n,t.get("trigger"),t.get("borderColor")).color;if(p)if((0,s.HD)(p)){var m=t.ecModel.get("useUTC"),g=(0,s.kJ)(n)?n[0]:n;d=p,g&&g.axisType&&g.axisType.indexOf("time")>=0&&(d=(0,V.WU)(g.axisValue,d,m)),d=(0,h.kF)(d,n,!0)}else if((0,s.mf)(p)){var v=(0,s.ak)((function(e,i){e===this._ticket&&(u.setContent(i,c,t,f,a),this._updatePosition(t,a,r,o,u,n,l))}),this);this._ticket=i,d=p(n,i,v)}else d=p;u.setContent(d,c,t,f,a),u.show(t,f),this._updatePosition(t,a,r,o,u,n,l)}},e.prototype._getNearestPoint=function(t,e,n,i){return"axis"===n||(0,s.kJ)(e)?{color:i||("html"===this._renderMode?"#fff":"none")}:(0,s.kJ)(e)?void 0:{color:i||e.color||e.borderColor}},e.prototype._updatePosition=function(t,e,n,i,r,o,a){var l=this._api.getWidth(),c=this._api.getHeight();e=e||t.get("position");var u=r.getSize(),h=t.get("align"),d=t.get("verticalAlign"),f=a&&a.getBoundingRect().clone();if(a&&f.applyTransform(a.transform),(0,s.mf)(e)&&(e=e([n,i],o,r.el,f,{viewSize:[l,c],contentSize:u.slice()})),(0,s.kJ)(e))n=(0,P.GM)(e[0],l),i=(0,P.GM)(e[1],c);else if((0,s.Kn)(e)){var m=e;m.width=u[0],m.height=u[1];var g=(0,k.ME)(m,{width:l,height:c});n=g.x,i=g.y,h=null,d=null}else if((0,s.HD)(e)&&a){var v=function(t,e,n,i){var r=n[0],o=n[1],a=Math.ceil(Math.SQRT2*i)+8,s=0,l=0,c=e.width,u=e.height;switch(t){case"inside":s=e.x+c/2-r/2,l=e.y+u/2-o/2;break;case"top":s=e.x+c/2-r/2,l=e.y-o-a;break;case"bottom":s=e.x+c/2-r/2,l=e.y+u+a;break;case"left":s=e.x-r-a,l=e.y+u/2-o/2;break;case"right":s=e.x+c+a,l=e.y+u/2-o/2}return[s,l]}(e,f,u,t.get("borderWidth"));n=v[0],i=v[1]}else v=function(t,e,n,i,r,o,a){var s=n.getSize(),l=s[0],c=s[1];return null!=o&&(t+l+o+2>i?t-=l+o:t+=o),null!=a&&(e+c+a>r?e-=c+a:e+=a),[t,e]}(n,i,r,l,c,h?null:20,d?null:20),n=v[0],i=v[1];h&&(n-=J(h)?u[0]/2:"right"===h?u[0]:0),d&&(i-=J(d)?u[1]/2:"bottom"===d?u[1]:0),p(t)&&(v=function(t,e,n,i,r){var o=n.getSize(),a=o[0],s=o[1];return t=Math.min(t+a,i)-a,e=Math.min(e+s,r)-s,[t=Math.max(t,0),e=Math.max(e,0)]}(n,i,r,l,c),n=v[0],i=v[1]),r.moveTo(n,i)},e.prototype._updateContentNotChangedOnAxis=function(t,e){var n=this._lastDataByCoordSys,i=this._cbParamsList,r=!!n&&n.length===t.length;return r&&(0,s.S6)(n,(function(n,o){var a=n.dataByAxis||[],l=(t[o]||{}).dataByAxis||[];(r=r&&a.length===l.length)&&(0,s.S6)(a,(function(t,n){var o=l[n]||{},a=t.seriesDataIndices||[],c=o.seriesDataIndices||[];(r=r&&t.value===o.value&&t.axisType===o.axisType&&t.axisId===o.axisId&&a.length===c.length)&&(0,s.S6)(a,(function(t,e){var n=c[e];r=r&&t.seriesIndex===n.seriesIndex&&t.dataIndex===n.dataIndex})),i&&(0,s.S6)(t.seriesDataIndices,(function(t){var n=t.seriesIndex,o=e[n],a=i[n];o&&a&&a.data!==o.data&&(r=!1)}))}))})),this._lastDataByCoordSys=t,this._cbParamsList=e,!!r},e.prototype._hide=function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},e.prototype.dispose=function(t,e){!l.Z.node&&e.getDom()&&((0,Z.ZH)(this,"_updatePosition"),this._tooltipContent.dispose(),z.E("itemTooltip",e))},e.type="tooltip",e}(H.Z);function $(t){(0,r.D)(i.N),t.registerComponentModel(a),t.registerComponentView(K),t.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},s.ZT),t.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},s.ZT)}},5685:(t,e,n)=>{"use strict";n.d(e,{BY:()=>g,TX:()=>u,d_:()=>x,iv:()=>b,jT:()=>_});var i=n(8988),r=n(3051),o=n(8407),a=n(5669);function s(t,e){var n=t.color||"#6e7079",r=t.fontSize||12,o=t.fontWeight||"400",a=t.color||"#464646",s=t.fontSize||14,l=t.fontWeight||"900";return"html"===e?{nameStyle:"font-size:"+(0,i.F1)(r+"")+"px;color:"+(0,i.F1)(n)+";font-weight:"+(0,i.F1)(o+""),valueStyle:"font-size:"+(0,i.F1)(s+"")+"px;color:"+(0,i.F1)(a)+";font-weight:"+(0,i.F1)(l+"")}:{nameStyle:{fontSize:r,fill:n,fontWeight:o},valueStyle:{fontSize:s,fill:a,fontWeight:l}}}var l=[0,10,20,30],c=["","\n","\n\n","\n\n\n"];function u(t,e){return e.type=t,e}function h(t){return"section"===t.type}function p(t){return h(t)?f:m}function d(t){if(h(t)){var e=0,n=t.blocks.length,i=n>1||n>0&&!t.noHeader;return(0,r.S6)(t.blocks,(function(t){var n=d(t);n>=e&&(e=n+ +(i&&(!n||h(t)&&!t.noHeader)))})),e}return 0}function f(t,e,n,a){var u,h=e.noHeader,f=(u=d(e),{html:l[u],richText:c[u]}),m=[],g=e.blocks||[];(0,r.hu)(!g||(0,r.kJ)(g)),g=g||[];var _=t.orderMode;if(e.sortBlocks&&_){g=g.slice();var x={valueAsc:"asc",valueDesc:"desc"};if((0,r.RI)(x,_)){var b=new o.ID(x[_],null);g.sort((function(t,e){return b.evaluate(t.sortParam,e.sortParam)}))}else"seriesDesc"===_&&g.reverse()}(0,r.S6)(g,(function(n,i){var o=e.valueFormatter,s=p(n)(o?(0,r.l7)((0,r.l7)({},t),{valueFormatter:o}):t,n,i>0?f.html:0,a);null!=s&&m.push(s)}));var w="richText"===t.renderMode?m.join(f.richText):v(m.join(""),h?n:f.html);if(h)return w;var S=(0,i.uX)(e.header,"ordinal",t.useUTC),M=s(a,t.renderMode).nameStyle;return"richText"===t.renderMode?y(t,S,M)+f.richText+w:v('<div style="'+M+';line-height:1;">'+(0,i.F1)(S)+"</div>"+w,n)}function m(t,e,n,o){var a=t.renderMode,l=e.noName,c=e.noValue,u=!e.markerType,h=e.name,p=t.useUTC,d=e.valueFormatter||t.valueFormatter||function(t){return t=(0,r.kJ)(t)?t:[t],(0,r.UI)(t,(function(t,e){return(0,i.uX)(t,(0,r.kJ)(g)?g[e]:g,p)}))};if(!l||!c){var f=u?"":t.markupStyleCreator.makeTooltipMarker(e.markerType,e.markerColor||"#333",a),m=l?"":(0,i.uX)(h,"ordinal",p),g=e.valueType,_=c?[]:d(e.value),x=!u||!l,b=!u&&l,w=s(o,a),S=w.nameStyle,M=w.valueStyle;return"richText"===a?(u?"":f)+(l?"":y(t,m,S))+(c?"":function(t,e,n,i,o){var a=[o],s=i?10:20;return n&&a.push({padding:[0,0,0,s],align:"right"}),t.markupStyleCreator.wrapRichTextStyle((0,r.kJ)(e)?e.join("  "):e,a)}(t,_,x,b,M)):v((u?"":f)+(l?"":function(t,e,n){return'<span style="'+n+";"+(e?"margin-left:2px":"")+'">'+(0,i.F1)(t)+"</span>"}(m,!u,S))+(c?"":function(t,e,n,o){var a=e?"float:right;margin-left:"+(n?"10px":"20px"):"";return t=(0,r.kJ)(t)?t:[t],'<span style="'+a+";"+o+'">'+(0,r.UI)(t,(function(t){return(0,i.F1)(t)})).join("&nbsp;&nbsp;")+"</span>"}(_,x,b,M)),n)}}function g(t,e,n,i,r,o){if(t)return p(t)({useUTC:r,renderMode:n,orderMode:i,markupStyleCreator:e,valueFormatter:t.valueFormatter},t,0,o)}function v(t,e){return'<div style="margin: '+e+'px 0 0;line-height:1;">'+t+'<div style="clear:both"></div></div>'}function y(t,e,n){return t.markupStyleCreator.wrapRichTextStyle(e,n)}function _(t,e){var n=t.getData().getItemVisual(e,"style")[t.visualDrawType];return(0,i.Lz)(n)}function x(t,e){var n=t.get("padding");return null!=n?n:"richText"===e?[8,10]:10}var b=function(){function t(){this.richTextStyles={},this._nextStyleNameId=(0,a.jj)()}return t.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},t.prototype.makeTooltipMarker=function(t,e,n){var o="richText"===n?this._generateStyleName():null,a=(0,i.A0)({color:e,type:t,renderMode:n,markerId:o});return(0,r.HD)(a)?a:(this.richTextStyles[o]=a.style,a.content)},t.prototype.wrapRichTextStyle=function(t,e){var n={};(0,r.kJ)(e)?(0,r.S6)(e,(function(t){return(0,r.l7)(n,t)})):(0,r.l7)(n,e);var i=this._generateStyleName();return this.richTextStyles[i]=n,"{"+i+"|"+t+"}"},t}()},2658:(t,e,n)=>{"use strict";n.d(e,{N:()=>b});var i=n(3051),r=n(175),o=n(8407),a={value:"eq","<":"lt","<=":"lte",">":"gt",">=":"gte","=":"eq","!=":"ne","<>":"ne"},s=function(){function t(t){null==(this._condVal=(0,i.HD)(t)?new RegExp(t):(0,i.Kj)(t)?t:null)&&(0,r._y)("")}return t.prototype.evaluate=function(t){var e=typeof t;return(0,i.HD)(e)?this._condVal.test(t):!!(0,i.hj)(e)&&this._condVal.test(t+"")},t}(),l=function(){function t(){}return t.prototype.evaluate=function(){return this.value},t}(),c=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(!t[e].evaluate())return!1;return!0},t}(),u=function(){function t(){}return t.prototype.evaluate=function(){for(var t=this.children,e=0;e<t.length;e++)if(t[e].evaluate())return!0;return!1},t}(),h=function(){function t(){}return t.prototype.evaluate=function(){return!this.child.evaluate()},t}(),p=function(){function t(){}return t.prototype.evaluate=function(){for(var t=!!this.valueParser,e=(0,this.getValue)(this.valueGetterParam),n=t?this.valueParser(e):null,i=0;i<this.subCondList.length;i++)if(!this.subCondList[i].evaluate(t?n:e))return!1;return!0},t}();function d(t,e){if(!0===t||!1===t){var n=new l;return n.value=t,n}return m(t)||(0,r._y)(""),t.and?f("and",t,e):t.or?f("or",t,e):t.not?function(t,e){var n=t.not;m(n)||(0,r._y)("");var i=new h;return i.child=d(n,e),i.child||(0,r._y)(""),i}(t,e):function(t,e){for(var n=e.prepareGetValue(t),l=[],c=(0,i.XP)(t),u=t.parser,h=u?(0,o.o2)(u):null,d=0;d<c.length;d++){var f=c[d];if("parser"!==f&&!e.valueGetterAttrMap.get(f)){var m=(0,i.RI)(a,f)?a[f]:f,g=t[f],v=h?h(g):g,y=(0,o.tR)(m,v)||"reg"===m&&new s(v);y||(0,r._y)(""),l.push(y)}}l.length||(0,r._y)("");var _=new p;return _.valueGetterParam=n,_.valueParser=h,_.getValue=e.getValue,_.subCondList=l,_}(t,e)}function f(t,e,n){var o=e[t];(0,i.kJ)(o)||(0,r._y)(""),o.length||(0,r._y)("");var a="and"===t?new c:new u;return a.children=(0,i.UI)(o,(function(t){return d(t,n)})),a.children.length||(0,r._y)(""),a}function m(t){return(0,i.Kn)(t)&&!(0,i.zG)(t)}var g=function(){function t(t,e){this._cond=d(t,e)}return t.prototype.evaluate=function(){return this._cond.evaluate()},t}(),v={type:"echarts:filter",transform:function(t){for(var e,n,o,a=t.upstream,s=(n=t.config,o={valueGetterAttrMap:(0,i.kW)({dimension:!0}),prepareGetValue:function(t){var e=t.dimension;(0,i.RI)(t,"dimension")||(0,r._y)("");var n=a.getDimensionInfo(e);return n||(0,r._y)(""),{dimIdx:n.index}},getValue:function(t){return a.retrieveValueFromItem(e,t.dimIdx)}},new g(n,o)),l=[],c=0,u=a.count();c<u;c++)e=a.getRawDataItem(c),s.evaluate()&&l.push(e);return{data:l}}},y=n(4279),_=n(2234),x={type:"echarts:sort",transform:function(t){var e=t.upstream,n=t.config,a="",s=(0,_.kF)(n);s.length||(0,r._y)(a);var l=[];(0,i.S6)(s,(function(t){var n=t.dimension,i=t.order,s=t.parser,c=t.incomparable;null==n&&(0,r._y)(a),"asc"!==i&&"desc"!==i&&(0,r._y)(a),c&&"min"!==c&&"max"!==c&&(0,r._y)(""),"asc"!==i&&"desc"!==i&&(0,r._y)("");var u=e.getDimensionInfo(n);u||(0,r._y)(a);var h=s?(0,o.o2)(s):null;s&&!h&&(0,r._y)(a),l.push({dimIdx:u.index,parser:h,comparator:new o.ID(i,c)})}));var c=e.sourceFormat;c!==y.XD&&c!==y.qb&&(0,r._y)(a);for(var u=[],h=0,p=e.count();h<p;h++)u.push(e.getRawDataItem(h));return u.sort((function(t,n){for(var i=0;i<l.length;i++){var r=l[i],o=e.retrieveValueFromItem(t,r.dimIdx),a=e.retrieveValueFromItem(n,r.dimIdx);r.parser&&(o=r.parser(o),a=r.parser(a));var s=r.comparator.evaluate(o,a);if(0!==s)return s}return 0})),{data:u}}};function b(t){t.registerTransform(v),t.registerTransform(x)}},9231:(t,e,n)=>{"use strict";n.d(e,{N:()=>zt});var i=n(8023),r=n(8299),o=n(3051),a={get:function(t,e,n){var i=o.d9((s[t]||{})[e]);return n&&o.kJ(i)?i[i.length-1]:i}},s={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};const l=a;var c=n(1092),u=n(5669),h=o.S6,p=o.Kn,d=function(){function t(e){var n=e.mappingMethod,i=e.type,r=this.option=o.d9(e);this.type=i,this.mappingMethod=n,this._normalizeData=S[n];var a=t.visualHandlers[i];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[n],"piecewise"===n?(f(r),function(t){var e=t.pieceList;t.hasSpecialVisual=!1,o.S6(e,(function(e,n){e.originIndex=n,null!=e.visual&&(t.hasSpecialVisual=!0)}))}(r)):"category"===n?r.categories?function(t){var e=t.categories,n=t.categoryMap={},i=t.visual;if(h(e,(function(t,e){n[t]=e})),!o.kJ(i)){var r=[];o.Kn(i)?h(i,(function(t,e){var i=n[e];r[null!=i?i:-1]=t})):r[-1]=i,i=w(t,r)}for(var a=e.length-1;a>=0;a--)null==i[a]&&(delete n[e[a]],e.pop())}(r):f(r,!0):(o.hu("linear"!==n||r.dataExtent),f(r))}return t.prototype.mapValueToVisual=function(t){var e=this._normalizeData(t);return this._normalizedToVisual(e,t)},t.prototype.getNormalizer=function(){return o.ak(this._normalizeData,this)},t.listVisualTypes=function(){return o.XP(t.visualHandlers)},t.isValidType=function(e){return t.visualHandlers.hasOwnProperty(e)},t.eachVisual=function(t,e,n){o.Kn(t)?o.S6(t,e,n):e.call(n,t)},t.mapVisual=function(e,n,i){var r,a=o.kJ(e)?[]:o.Kn(e)?{}:(r=!0,null);return t.eachVisual(e,(function(t,e){var o=n.call(i,t,e);r?a=o:a[e]=o})),a},t.retrieveVisuals=function(e){var n,i={};return e&&h(t.visualHandlers,(function(t,r){e.hasOwnProperty(r)&&(i[r]=e[r],n=!0)})),n?i:null},t.prepareVisualTypes=function(t){if(o.kJ(t))t=t.slice();else{if(!p(t))return[];var e=[];h(t,(function(t,n){e.push(n)})),t=e}return t.sort((function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1})),t},t.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},t.findPieceIndex=function(t,e,n){for(var i,r=1/0,a=0,s=e.length;a<s;a++){var l=e[a].value;if(null!=l){if(l===t||o.HD(l)&&l===t+"")return a;n&&p(l,a)}}for(a=0,s=e.length;a<s;a++){var c=e[a],u=c.interval,h=c.close;if(u){if(u[0]===-1/0){if(M(h[1],t,u[1]))return a}else if(u[1]===1/0){if(M(h[0],u[0],t))return a}else if(M(h[0],u[0],t)&&M(h[1],t,u[1]))return a;n&&p(u[0],a),n&&p(u[1],a)}}if(n)return t===1/0?e.length-1:t===-1/0?0:i;function p(e,n){var o=Math.abs(e-t);o<r&&(r=o,i=n)}},t.visualHandlers={color:{applyVisual:v("color"),getColorMapper:function(){var t=this.option;return o.ak("category"===t.mappingMethod?function(t,e){return!e&&(t=this._normalizeData(t)),y.call(this,t)}:function(e,n,i){var r=!!i;return!n&&(e=this._normalizeData(e)),i=c.Uu(e,t.parsedVisual,i),r?i:c.Pz(i,"rgba")},this)},_normalizedToVisual:{linear:function(t){return c.Pz(c.Uu(t,this.option.parsedVisual),"rgba")},category:y,piecewise:function(t,e){var n=b.call(this,e);return null==n&&(n=c.Pz(c.Uu(t,this.option.parsedVisual),"rgba")),n},fixed:_}},colorHue:m((function(t,e){return c.ox(t,e)})),colorSaturation:m((function(t,e){return c.ox(t,null,e)})),colorLightness:m((function(t,e){return c.ox(t,null,null,e)})),colorAlpha:m((function(t,e){return c.m8(t,e)})),decal:{applyVisual:v("decal"),_normalizedToVisual:{linear:null,category:y,piecewise:null,fixed:null}},opacity:{applyVisual:v("opacity"),_normalizedToVisual:x([0,1])},liftZ:{applyVisual:v("liftZ"),_normalizedToVisual:{linear:_,category:_,piecewise:_,fixed:_}},symbol:{applyVisual:function(t,e,n){n("symbol",this.mapValueToVisual(t))},_normalizedToVisual:{linear:g,category:y,piecewise:function(t,e){var n=b.call(this,e);return null==n&&(n=g.call(this,t)),n},fixed:_}},symbolSize:{applyVisual:v("symbolSize"),_normalizedToVisual:x([0,1])}},t}();function f(t,e){var n=t.visual,i=[];o.Kn(n)?h(n,(function(t){i.push(t)})):null!=n&&i.push(n),e||1!==i.length||{color:1,symbol:1}.hasOwnProperty(t.type)||(i[1]=i[0]),w(t,i)}function m(t){return{applyVisual:function(e,n,i){var r=this.mapValueToVisual(e);i("color",t(n("color"),r))},_normalizedToVisual:x([0,1])}}function g(t){var e=this.option.visual;return e[Math.round((0,u.NU)(t,[0,1],[0,e.length-1],!0))]||{}}function v(t){return function(e,n,i){i(t,this.mapValueToVisual(e))}}function y(t){var e=this.option.visual;return e[this.option.loop&&-1!==t?t%e.length:t]}function _(){return this.option.visual[0]}function x(t){return{linear:function(e){return(0,u.NU)(e,t,this.option.visual,!0)},category:y,piecewise:function(e,n){var i=b.call(this,n);return null==i&&(i=(0,u.NU)(e,t,this.option.visual,!0)),i},fixed:_}}function b(t){var e=this.option,n=e.pieceList;if(e.hasSpecialVisual){var i=n[d.findPieceIndex(t,n)];if(i&&i.visual)return i.visual[this.type]}}function w(t,e){return t.visual=e,"color"===t.type&&(t.parsedVisual=o.UI(e,(function(t){return c.Qc(t)||[0,0,0,1]}))),e}var S={linear:function(t){return(0,u.NU)(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,n=d.findPieceIndex(t,e,!0);if(null!=n)return(0,u.NU)(n,[0,e.length-1],[0,1],!0)},category:function(t){var e=this.option.categories?this.option.categoryMap[t]:t;return null==e?-1:e},fixed:o.ZT};function M(t,e,n){return t?e<=n:e<n}const T=d;var E=n(6211),A=o.S6;function C(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!0}function L(t,e,n){var i={};return A(e,(function(e){var r,a=i[e]=((r=function(){}).prototype.__hidden=r.prototype,new r);A(t[e],(function(t,i){if(T.isValidType(i)){var r={type:i,visual:t};n&&n(r,e),a[i]=new T(r),"opacity"===i&&((r=o.d9(r)).type="colorAlpha",a.__hidden.__alphaForOpacity=new T(r))}}))})),i}var I=n(2234),D=n(8071),P=T.mapVisual,R=T.eachVisual,O=o.kJ,k=o.S6,N=u.dt,z=u.NU,B=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.stateList=["inRange","outOfRange"],n.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],n.layoutMode={type:"box",ignoreSize:!0},n.dataBound=[-1/0,1/0],n.targetVisuals={},n.controllerVisuals={},n}return(0,r.ZT)(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n)},e.prototype.optionUpdated=function(t,e){var n=this.option;!e&&function(t,e,n){var i;o.S6(n,(function(t){e.hasOwnProperty(t)&&C(e[t])&&(i=!0)})),i&&o.S6(n,(function(n){e.hasOwnProperty(n)&&C(e[n])?t[n]=o.d9(e[n]):delete t[n]}))}(n,t,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},e.prototype.resetVisual=function(t){var e=this.stateList;t=o.ak(t,this),this.controllerVisuals=L(this.option.controller,e,t),this.targetVisuals=L(this.option.target,e,t)},e.prototype.getItemSymbol=function(){return null},e.prototype.getTargetSeriesIndices=function(){var t=this.option.seriesIndex,e=[];return null==t||"all"===t?this.ecModel.eachSeries((function(t,n){e.push(n)})):e=I.kF(t),e},e.prototype.eachTargetSeries=function(t,e){o.S6(this.getTargetSeriesIndices(),(function(n){var i=this.ecModel.getSeriesByIndex(n);i&&t.call(e,i)}),this)},e.prototype.isTargetSeries=function(t){var e=!1;return this.eachTargetSeries((function(n){n===t&&(e=!0)})),e},e.prototype.formatValueText=function(t,e,n){var i,r=this.option,a=r.precision,s=this.dataBound,l=r.formatter;n=n||["<",">"],o.kJ(t)&&(t=t.slice(),i=!0);var c=e?t:i?[u(t[0]),u(t[1])]:u(t);return o.HD(l)?l.replace("{value}",i?c[0]:c).replace("{value2}",i?c[1]:c):o.mf(l)?i?l(t[0],t[1]):l(t):i?t[0]===s[0]?n[0]+" "+c[1]:t[1]===s[1]?n[1]+" "+c[0]:c[0]+" - "+c[1]:c;function u(t){return t===s[0]?"min":t===s[1]?"max":(+t).toFixed(Math.min(a,20))}},e.prototype.resetExtent=function(){var t=this.option,e=N([t.min,t.max]);this._dataExtent=e},e.prototype.getDataDimensionIndex=function(t){var e=this.option.dimension;if(null!=e)return t.getDimensionIndex(e);for(var n=t.dimensions,i=n.length-1;i>=0;i--){var r=n[i],o=t.getDimensionInfo(r);if(!o.isCalculationCoord)return o.storeDimIndex}},e.prototype.getExtent=function(){return this._dataExtent.slice()},e.prototype.completeVisualOption=function(){var t=this.ecModel,e=this.option,n={inRange:e.inRange,outOfRange:e.outOfRange},i=e.target||(e.target={}),r=e.controller||(e.controller={});o.TS(i,n),o.TS(r,n);var a=this.isCategory();function s(n){O(e.color)&&!n.inRange&&(n.inRange={color:e.color.slice().reverse()}),n.inRange=n.inRange||{color:t.get("gradientColor")}}s.call(this,i),s.call(this,r),function(t,e,n){var i=t[e],r=t[n];i&&!r&&(r=t[n]={},k(i,(function(t,e){if(T.isValidType(e)){var n=l.get(e,"inactive",a);null!=n&&(r[e]=n,"color"!==e||r.hasOwnProperty("opacity")||r.hasOwnProperty("colorAlpha")||(r.opacity=[0,0]))}})))}.call(this,i,"inRange","outOfRange"),function(t){var e=(t.inRange||{}).symbol||(t.outOfRange||{}).symbol,n=(t.inRange||{}).symbolSize||(t.outOfRange||{}).symbolSize,i=this.get("inactiveColor"),r=this.getItemSymbol()||"roundRect";k(this.stateList,(function(s){var l=this.itemSize,c=t[s];c||(c=t[s]={color:a?i:[i]}),null==c.symbol&&(c.symbol=e&&o.d9(e)||(a?r:[r])),null==c.symbolSize&&(c.symbolSize=n&&o.d9(n)||(a?l[0]:[l[0],l[0]])),c.symbol=P(c.symbol,(function(t){return"none"===t?r:t}));var u=c.symbolSize;if(null!=u){var h=-1/0;R(u,(function(t){t>h&&(h=t)})),c.symbolSize=P(u,(function(t){return z(t,[0,h],[0,l[0]],!0)}))}}),this)}.call(this,r)},e.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},e.prototype.isCategory=function(){return!!this.option.categories},e.prototype.setSelected=function(t){},e.prototype.getSelected=function(){return null},e.prototype.getValueState=function(t){return null},e.prototype.getVisualMeta=function(t){return null},e.type="visualMap",e.dependencies=["series"],e.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},e}(D.Z);const F=B;var U=n(2151),H=[20,140],V=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,r.ZT)(e,t),e.prototype.optionUpdated=function(e,n){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual((function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent()})),this._resetRange()},e.prototype.resetItemSize=function(){t.prototype.resetItemSize.apply(this,arguments);var e=this.itemSize;(null==e[0]||isNaN(e[0]))&&(e[0]=H[0]),(null==e[1]||isNaN(e[1]))&&(e[1]=H[1])},e.prototype._resetRange=function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):o.kJ(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},e.prototype.completeVisualOption=function(){t.prototype.completeVisualOption.apply(this,arguments),o.S6(this.stateList,(function(t){var e=this.option.controller[t].symbolSize;e&&e[0]!==e[1]&&(e[0]=e[1]/3)}),this)},e.prototype.setSelected=function(t){this.option.range=t.slice(),this._resetRange()},e.prototype.getSelected=function(){var t=this.getExtent(),e=u.dt((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},e.prototype.getValueState=function(t){var e=this.option.range,n=this.getExtent();return(e[0]<=n[0]||e[0]<=t)&&(e[1]>=n[1]||t<=e[1])?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var e=[];return this.eachTargetSeries((function(n){var i=[],r=n.getData();r.each(this.getDataDimensionIndex(r),(function(e,n){t[0]<=e&&e<=t[1]&&i.push(n)}),this),e.push({seriesId:n.id,dataIndex:i})}),this),e},e.prototype.getVisualMeta=function(t){var e=G(0,0,this.getExtent()),n=G(0,0,this.option.range.slice()),i=[];function r(e,n){i.push({value:e,color:t(e,n)})}for(var o=0,a=0,s=n.length,l=e.length;a<l&&(!n.length||e[a]<=n[0]);a++)e[a]<n[o]&&r(e[a],"outOfRange");for(var c=1;o<s;o++,c=0)c&&i.length&&r(n[o],"outOfRange"),r(n[o],"inRange");for(c=1;a<l;a++)(!n.length||n[n.length-1]<e[a])&&(c&&(i.length&&r(i[i.length-1].value,"outOfRange"),c=0),r(e[a],"outOfRange"));var u=i.length;return{stops:i,outerColors:[u?i[0].color:"transparent",u?i[u-1].color:"transparent"]}},e.type="visualMap.continuous",e.defaultOption=(0,U.ZL)(F.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),e}(F);function G(t,e,n){if(n[0]===n[1])return n.slice();for(var i=(n[1]-n[0])/200,r=n[0],o=[],a=0;a<=200&&r<n[1];a++)o.push(r),r+=i;return o.push(n[1]),o}const j=V;var W=n(4438),Z=n(1158),q=n(3622),X=n(8988),Y=n(6172),J=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n.autoPositionValues={left:1,right:1,top:1,bottom:1},n}return(0,r.ZT)(e,t),e.prototype.init=function(t,e){this.ecModel=t,this.api=e},e.prototype.render=function(t,e,n,i){this.visualMapModel=t,!1!==t.get("show")?this.doRender(t,e,n,i):this.group.removeAll()},e.prototype.renderBackground=function(t){var e=this.visualMapModel,n=X.MY(e.get("padding")||0),i=t.getBoundingRect();t.add(new q.Z({z2:-1,silent:!0,shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[3]+n[1],height:i.height+n[0]+n[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},e.prototype.getControllerVisual=function(t,e,n){var i=(n=n||{}).forceState,r=this.visualMapModel,a={};if("color"===e){var s=r.get("contentColor");a.color=s}function l(t){return a[t]}function c(t,e){a[t]=e}var u=r.controllerVisuals[i||r.getValueState(t)],h=T.prepareVisualTypes(u);return o.S6(h,(function(i){var r=u[i];n.convertOpacityToAlpha&&"opacity"===i&&(i="colorAlpha",r=u.__alphaForOpacity),T.dependsOn(i,e)&&r&&r.applyVisual(t,l,c)})),a[e]},e.prototype.positionGroup=function(t){var e=this.visualMapModel,n=this.api;Y.p$(t,e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})},e.prototype.doRender=function(t,e,n,i){},e.type="visualMap",e}(n(3166).Z);const K=J;var $=n(4592),Q=n(9074),tt=n(8154),et=n(5094);function nt(t,e){var n=t[e]-t[1-e];return{span:Math.abs(n),sign:n>0?-1:n<0?1:e?-1:1}}function it(t,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,t))}var rt=[["left","right","width"],["top","bottom","height"]];function ot(t,e,n){var i=t.option,r=i.align;if(null!=r&&"auto"!==r)return r;for(var o={width:e.getWidth(),height:e.getHeight()},a="horizontal"===i.orient?1:0,s=rt[a],l=[0,null,10],c={},u=0;u<3;u++)c[rt[1-a][u]]=l[u],c[s[u]]=2===u?n[0]:i[s[u]];var h=[["x","width",3],["y","height",0]][a],p=(0,Y.ME)(c,o,i.padding);return s[(p.margin[h[2]]||0)+p[h[0]]+.5*p[h[1]]<.5*o[h[1]]?0:1]}function at(t,e){return o.S6(t||[],(function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")})),t}var st=n(423),lt=n(6357),ct=n(1525),ut=n(4535),ht=n(106),pt=n(6006),dt=u.NU,ft=o.S6,mt=Math.min,gt=Math.max;function vt(t,e,n,i){return new et.Z({shape:{points:t},draggable:!!n,cursor:e,drift:n,onmousemove:function(t){Z.sT(t.event)},ondragend:i})}function yt(t){var e=t.get("hoverLinkOnHandle");return!!(null==e?t.get("realtime"):e)}function _t(t){return"vertical"===t?"ns-resize":"ew-resize"}const xt=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._shapes={},n._dataInterval=[],n._handleEnds=[],n._hoverLinkDataIndices=[],n}return(0,r.ZT)(e,t),e.prototype.doRender=function(t,e,n,i){this._api=n,i&&"selectDataRange"===i.type&&i.from===this.uid||this._buildView()},e.prototype._buildView=function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);var n=t.get("text");this._renderEndsText(e,n,0),this._renderEndsText(e,n,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},e.prototype._renderEndsText=function(t,e,n){if(e){var i=e[1-n];i=null!=i?i+"":"";var r=this.visualMapModel,o=r.get("textGap"),a=r.itemSize,s=this._shapes.mainGroup,l=this._applyTransform([a[0]/2,0===n?-o:a[1]+o],s),c=this._applyTransform(0===n?"bottom":"top",s),u=this._orient,h=this.visualMapModel.textStyleModel;this.group.add(new Q.ZP({style:(0,pt.Lr)(h,{x:l[0],y:l[1],verticalAlign:"horizontal"===u?"middle":c,align:"horizontal"===u?c:"center",text:i})}))}},e.prototype._renderBar=function(t){var e=this.visualMapModel,n=this._shapes,i=e.itemSize,r=this._orient,a=this._useHandle,s=ot(e,this.api,i),l=n.mainGroup=this._createBarGroup(s),c=new tt.Z;l.add(c),c.add(n.outOfRange=vt()),c.add(n.inRange=vt(null,a?_t(this._orient):null,o.ak(this._dragHandle,this,"all",!1),o.ak(this._dragHandle,this,"all",!0))),c.setClipPath(new q.Z({shape:{x:0,y:0,width:i[0],height:i[1],r:3}}));var u=e.textStyleModel.getTextRect(""),h=gt(u.width,u.height);a&&(n.handleThumbs=[],n.handleLabels=[],n.handleLabelPoints=[],this._createHandle(e,l,0,i,h,r),this._createHandle(e,l,1,i,h,r)),this._createIndicator(e,l,i,h,r),t.add(l)},e.prototype._createHandle=function(t,e,n,i,r,a){var s=o.ak(this._dragHandle,this,n,!1),l=o.ak(this._dragHandle,this,n,!0),c=(0,st.GM)(t.get("handleSize"),i[0]),u=(0,ct.th)(t.get("handleIcon"),-c/2,-c/2,c,c,null,!0),h=_t(this._orient);u.attr({cursor:h,draggable:!0,drift:s,ondragend:l,onmousemove:function(t){Z.sT(t.event)}}),u.x=i[0]/2,u.useStyle(t.getModel("handleStyle").getItemStyle()),u.setStyle({strokeNoScale:!0,strokeFirst:!0}),u.style.lineWidth*=2,u.ensureState("emphasis").style=t.getModel(["emphasis","handleStyle"]).getItemStyle(),(0,lt.Nj)(u,!0),e.add(u);var p=this.visualMapModel.textStyleModel,d=new Q.ZP({cursor:h,draggable:!0,drift:s,onmousemove:function(t){Z.sT(t.event)},ondragend:l,style:(0,pt.Lr)(p,{x:0,y:0,text:""})});d.ensureState("blur").style={opacity:.1},d.stateTransition={duration:200},this.group.add(d);var f=[c,0],m=this._shapes;m.handleThumbs[n]=u,m.handleLabelPoints[n]=f,m.handleLabels[n]=d},e.prototype._createIndicator=function(t,e,n,i,r){var a=(0,st.GM)(t.get("indicatorSize"),n[0]),s=(0,ct.th)(t.get("indicatorIcon"),-a/2,-a/2,a,a,null,!0);s.attr({cursor:"move",invisible:!0,silent:!0,x:n[0]/2});var l=t.getModel("indicatorStyle").getItemStyle();if(s instanceof ut.ZP){var c=s.style;s.useStyle(o.l7({image:c.image,x:c.x,y:c.y,width:c.width,height:c.height},l))}else s.useStyle(l);e.add(s);var u=this.visualMapModel.textStyleModel,h=new Q.ZP({silent:!0,invisible:!0,style:(0,pt.Lr)(u,{x:0,y:0,text:""})});this.group.add(h);var p=[("horizontal"===r?i/2:6)+n[0]/2,0],d=this._shapes;d.indicator=s,d.indicatorLabel=h,d.indicatorLabelPoint=p,this._firstShowIndicator=!0},e.prototype._dragHandle=function(t,e,n,i){if(this._useHandle){if(this._dragging=!e,!e){var r=this._applyTransform([n,i],this._shapes.mainGroup,!0);this._updateInterval(t,r[1]),this._hideIndicator(),this._updateView()}e===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?!this._hovering&&this._clearHoverLinkToSeries():yt(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1)}},e.prototype._resetInterval=function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),n=t.getExtent(),i=[0,t.itemSize[1]];this._handleEnds=[dt(e[0],n,i,!0),dt(e[1],n,i,!0)]},e.prototype._updateInterval=function(t,e){e=e||0;var n=this.visualMapModel,i=this._handleEnds,r=[0,n.itemSize[1]];!function(t,e,n,i,r,o){t=t||0;var a=n[1]-n[0];if(null!=r&&(r=it(r,[0,a])),null!=o&&(o=Math.max(o,null!=r?r:0)),"all"===i){var s=Math.abs(e[1]-e[0]);s=it(s,[0,a]),r=o=it(s,[r,o]),i=0}e[0]=it(e[0],n),e[1]=it(e[1],n);var l=nt(e,i);e[i]+=t;var c,u=r||0,h=n.slice();l.sign<0?h[0]+=u:h[1]-=u,e[i]=it(e[i],h),c=nt(e,i),null!=r&&(c.sign!==l.sign||c.span<r)&&(e[1-i]=e[i]+l.sign*r),c=nt(e,i),null!=o&&c.span>o&&(e[1-i]=e[i]+c.sign*o)}(e,i,r,t,0);var o=n.getExtent();this._dataInterval=[dt(i[0],r,o,!0),dt(i[1],r,o,!0)]},e.prototype._updateView=function(t){var e=this.visualMapModel,n=e.getExtent(),i=this._shapes,r=[0,e.itemSize[1]],o=t?r:this._handleEnds,a=this._createBarVisual(this._dataInterval,n,o,"inRange"),s=this._createBarVisual(n,n,r,"outOfRange");i.inRange.setStyle({fill:a.barColor}).setShape("points",a.barPoints),i.outOfRange.setStyle({fill:s.barColor}).setShape("points",s.barPoints),this._updateHandle(o,a)},e.prototype._createBarVisual=function(t,e,n,i){var r={forceState:i,convertOpacityToAlpha:!0},o=this._makeColorGradient(t,r),a=[this.getControllerVisual(t[0],"symbolSize",r),this.getControllerVisual(t[1],"symbolSize",r)],s=this._createBarPoints(n,a);return{barColor:new W.Z(0,0,0,1,o),barPoints:s,handlesColor:[o[0].color,o[o.length-1].color]}},e.prototype._makeColorGradient=function(t,e){var n=[],i=(t[1]-t[0])/100;n.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var r=1;r<100;r++){var o=t[0]+i*r;if(o>t[1])break;n.push({color:this.getControllerVisual(o,"color",e),offset:r/100})}return n.push({color:this.getControllerVisual(t[1],"color",e),offset:1}),n},e.prototype._createBarPoints=function(t,e){var n=this.visualMapModel.itemSize;return[[n[0]-e[0],t[0]],[n[0],t[0]],[n[0],t[1]],[n[0]-e[1],t[1]]]},e.prototype._createBarGroup=function(t){var e=this._orient,n=this.visualMapModel.get("inverse");return new tt.Z("horizontal"!==e||n?"horizontal"===e&&n?{scaleX:"bottom"===t?-1:1,rotation:-Math.PI/2}:"vertical"!==e||n?{scaleX:"left"===t?1:-1}:{scaleX:"left"===t?1:-1,scaleY:-1}:{scaleX:"bottom"===t?1:-1,rotation:Math.PI/2})},e.prototype._updateHandle=function(t,e){if(this._useHandle){var n=this._shapes,i=this.visualMapModel,r=n.handleThumbs,o=n.handleLabels,a=i.itemSize,s=i.getExtent();ft([0,1],(function(l){var c=r[l];c.setStyle("fill",e.handlesColor[l]),c.y=t[l];var u=dt(t[l],[0,a[1]],s,!0),h=this.getControllerVisual(u,"symbolSize");c.scaleX=c.scaleY=h/a[0],c.x=a[0]-h/2;var p=$.applyTransform(n.handleLabelPoints[l],$.getTransform(c,this.group));o[l].setStyle({x:p[0],y:p[1],text:i.formatValueText(this._dataInterval[l]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",n.mainGroup):"center"})}),this)}},e.prototype._showIndicator=function(t,e,n,i){var r=this.visualMapModel,o=r.getExtent(),a=r.itemSize,s=[0,a[1]],l=this._shapes,c=l.indicator;if(c){c.attr("invisible",!1);var u=this.getControllerVisual(t,"color",{convertOpacityToAlpha:!0}),h=this.getControllerVisual(t,"symbolSize"),p=dt(t,o,s,!0),d=a[0]-h/2,f={x:c.x,y:c.y};c.y=p,c.x=d;var m=$.applyTransform(l.indicatorLabelPoint,$.getTransform(c,this.group)),g=l.indicatorLabel;g.attr("invisible",!1);var v=this._applyTransform("left",l.mainGroup),y="horizontal"===this._orient;g.setStyle({text:(n||"")+r.formatValueText(e),verticalAlign:y?v:"middle",align:y?"center":v});var _={x:d,y:p,style:{fill:u}},x={style:{x:m[0],y:m[1]}};if(r.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var b={duration:100,easing:"cubicInOut",additive:!0};c.x=f.x,c.y=f.y,c.animateTo(_,b),g.animateTo(x,b)}else c.attr(_),g.attr(x);this._firstShowIndicator=!1;var w=this._shapes.handleLabels;if(w)for(var S=0;S<w.length;S++)this._api.enterBlur(w[S])}},e.prototype._enableHoverLinkToSeries=function(){var t=this;this._shapes.mainGroup.on("mousemove",(function(e){if(t._hovering=!0,!t._dragging){var n=t.visualMapModel.itemSize,i=t._applyTransform([e.offsetX,e.offsetY],t._shapes.mainGroup,!0,!0);i[1]=mt(gt(0,i[1]),n[1]),t._doHoverLinkToSeries(i[1],0<=i[0]&&i[0]<=n[0])}})).on("mouseout",(function(){t._hovering=!1,!t._dragging&&t._clearHoverLinkToSeries()}))},e.prototype._enableHoverLinkFromSeries=function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},e.prototype._doHoverLinkToSeries=function(t,e){var n=this.visualMapModel,i=n.itemSize;if(n.option.hoverLink){var r=[0,i[1]],o=n.getExtent();t=mt(gt(r[0],t),r[1]);var a=function(t,e,n){var i=6,r=t.get("hoverLinkDataSize");return r&&(i=dt(r,e,n,!0)/2),i}(n,o,r),s=[t-a,t+a],l=dt(t,r,o,!0),c=[dt(s[0],r,o,!0),dt(s[1],r,o,!0)];s[0]<r[0]&&(c[0]=-1/0),s[1]>r[1]&&(c[1]=1/0),e&&(c[0]===-1/0?this._showIndicator(l,c[1],"< ",a):c[1]===1/0?this._showIndicator(l,c[0],"> ",a):this._showIndicator(l,l," ",a));var u=this._hoverLinkDataIndices,h=[];(e||yt(n))&&(h=this._hoverLinkDataIndices=n.findTargetDataIndices(c));var p=I.XI(u,h);this._dispatchHighDown("downplay",at(p[0],n)),this._dispatchHighDown("highlight",at(p[1],n))}},e.prototype._hoverLinkFromSeriesMouseOver=function(t){var e=t.target,n=this.visualMapModel;if(e&&null!=(0,ht.A)(e).dataIndex){var i=(0,ht.A)(e),r=this.ecModel.getSeriesByIndex(i.seriesIndex);if(n.isTargetSeries(r)){var o=r.getData(i.dataType),a=o.getStore().get(n.getDataDimensionIndex(o),i.dataIndex);isNaN(a)||this._showIndicator(a,a)}}},e.prototype._hideIndicator=function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0);var e=this._shapes.handleLabels;if(e)for(var n=0;n<e.length;n++)this._api.leaveBlur(e[n])},e.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",at(t,this.visualMapModel)),t.length=0},e.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},e.prototype._applyTransform=function(t,e,n,i){var r=$.getTransform(e,i?null:this.group);return o.kJ(t)?$.applyTransform(t,r,n):$.transformDirection(t,r,n)},e.prototype._dispatchHighDown=function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})},e.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},e.type="visualMap.continuous",e}(K);var bt={type:"selectDataRange",event:"dataRangeSelected",update:"update"},wt=function(t,e){e.eachComponent({mainType:"visualMap",query:t},(function(e){e.setSelected(t.selected)}))},St=[{createOnAllSeries:!0,reset:function(t,e){var n=[];return e.eachComponent("visualMap",(function(e){var i,r,a,s,l,c=t.pipelineContext;!e.isTargetSeries(t)||c&&c.large||n.push((i=e.stateList,r=e.targetVisuals,a=o.ak(e.getValueState,e),s=e.getDataDimensionIndex(t.getData()),l={},o.S6(i,(function(t){var e=T.prepareVisualTypes(r[t]);l[t]=e})),{progress:function(t,e){var n,i;function o(t){return(0,E.Or)(e,i,t)}function c(t,n){(0,E.LZ)(e,i,t,n)}null!=s&&(n=e.getDimensionIndex(s));for(var u=e.getStore();null!=(i=t.next());){var h=e.getRawDataItem(i);if(!h||!1!==h.visualMap)for(var p=null!=s?u.get(n,i):i,d=a(p),f=r[d],m=l[d],g=0,v=m.length;g<v;g++){var y=m[g];f[y]&&f[y].applyVisual(p,o,c)}}}}))})),n}},{createOnAllSeries:!0,reset:function(t,e){var n=t.getData(),i=[];e.eachComponent("visualMap",(function(e){if(e.isTargetSeries(t)){var r=e.getVisualMeta(o.ak(Mt,null,t,e))||{stops:[],outerColors:[]},a=e.getDataDimensionIndex(n);a>=0&&(r.dimension=a,i.push(r))}})),t.getData().setVisual("visualMeta",i)}}];function Mt(t,e,n,i){for(var r=e.targetVisuals[i],o=T.prepareVisualTypes(r),a={color:(0,E.UL)(t.getData(),"color")},s=0,l=o.length;s<l;s++){var c=o[s],u=r["opacity"===c?"__alphaForOpacity":c];u&&u.applyVisual(n,h,p)}return a.color;function h(t){return a[t]}function p(t,e){a[t]=e}}var Tt=o.S6;function Et(t){var e=t&&t.visualMap;o.kJ(e)||(e=e?[e]:[]),Tt(e,(function(t){if(t){At(t,"splitList")&&!At(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList);var e=t.pieces;e&&o.kJ(e)&&Tt(e,(function(t){o.Kn(t)&&(At(t,"start")&&!At(t,"min")&&(t.min=t.start),At(t,"end")&&!At(t,"max")&&(t.max=t.end))}))}}))}function At(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}var Ct=!1;function Lt(t){Ct||(Ct=!0,t.registerSubTypeDefaulter("visualMap",(function(t){return t.categories||(t.pieces?t.pieces.length>0:t.splitNumber>0)&&!t.calculable?"piecewise":"continuous"})),t.registerAction(bt,wt),(0,o.S6)(St,(function(e){t.registerVisual(t.PRIORITY.VISUAL.COMPONENT,e)})),t.registerPreprocessor(Et))}function It(t){t.registerComponentModel(j),t.registerComponentView(xt),Lt(t)}var Dt=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n._pieceList=[],n}return(0,r.ZT)(e,t),e.prototype.optionUpdated=function(e,n){t.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var i=this._mode=this._determineMode();this._pieceList=[],Pt[this._mode].call(this,this._pieceList),this._resetSelected(e,n);var r=this.option.categories;this.resetVisual((function(t,e){"categories"===i?(t.mappingMethod="category",t.categories=o.d9(r)):(t.dataExtent=this.getExtent(),t.mappingMethod="piecewise",t.pieceList=o.UI(this._pieceList,(function(t){return t=o.d9(t),"inRange"!==e&&(t.visual=null),t})))}))},e.prototype.completeVisualOption=function(){var e=this.option,n={},i=T.listVisualTypes(),r=this.isCategory();function a(t,e,n){return t&&t[e]&&t[e].hasOwnProperty(n)}o.S6(e.pieces,(function(t){o.S6(i,(function(e){t.hasOwnProperty(e)&&(n[e]=1)}))})),o.S6(n,(function(t,n){var i=!1;o.S6(this.stateList,(function(t){i=i||a(e,t,n)||a(e.target,t,n)}),this),!i&&o.S6(this.stateList,(function(t){(e[t]||(e[t]={}))[n]=l.get(n,"inRange"===t?"active":"inactive",r)}))}),this),t.prototype.completeVisualOption.apply(this,arguments)},e.prototype._resetSelected=function(t,e){var n=this.option,i=this._pieceList,r=(e?n:t).selected||{};if(n.selected=r,o.S6(i,(function(t,e){var n=this.getSelectedMapKey(t);r.hasOwnProperty(n)||(r[n]=!0)}),this),"single"===n.selectedMode){var a=!1;o.S6(i,(function(t,e){var n=this.getSelectedMapKey(t);r[n]&&(a?r[n]=!1:a=!0)}),this)}},e.prototype.getItemSymbol=function(){return this.get("itemSymbol")},e.prototype.getSelectedMapKey=function(t){return"categories"===this._mode?t.value+"":t.index+""},e.prototype.getPieceList=function(){return this._pieceList},e.prototype._determineMode=function(){var t=this.option;return t.pieces&&t.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},e.prototype.setSelected=function(t){this.option.selected=o.d9(t)},e.prototype.getValueState=function(t){var e=T.findPieceIndex(t,this._pieceList);return null!=e&&this.option.selected[this.getSelectedMapKey(this._pieceList[e])]?"inRange":"outOfRange"},e.prototype.findTargetDataIndices=function(t){var e=[],n=this._pieceList;return this.eachTargetSeries((function(i){var r=[],o=i.getData();o.each(this.getDataDimensionIndex(o),(function(e,i){T.findPieceIndex(e,n)===t&&r.push(i)}),this),e.push({seriesId:i.id,dataIndex:r})}),this),e},e.prototype.getRepresentValue=function(t){var e;if(this.isCategory())e=t.value;else if(null!=t.value)e=t.value;else{var n=t.interval||[];e=n[0]===-1/0&&n[1]===1/0?0:(n[0]+n[1])/2}return e},e.prototype.getVisualMeta=function(t){if(!this.isCategory()){var e=[],n=["",""],i=this,r=this._pieceList.slice();if(r.length){var a=r[0].interval[0];a!==-1/0&&r.unshift({interval:[-1/0,a]}),(a=r[r.length-1].interval[1])!==1/0&&r.push({interval:[a,1/0]})}else r.push({interval:[-1/0,1/0]});var s=-1/0;return o.S6(r,(function(t){var e=t.interval;e&&(e[0]>s&&l([s,e[0]],"outOfRange"),l(e.slice()),s=e[1])}),this),{stops:e,outerColors:n}}function l(r,o){var a=i.getRepresentValue({interval:r});o||(o=i.getValueState(a));var s=t(a,o);r[0]===-1/0?n[0]=s:r[1]===1/0?n[1]=s:e.push({value:r[0],color:s},{value:r[1],color:s})}},e.type="visualMap.piecewise",e.defaultOption=(0,U.ZL)(F.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),e}(F),Pt={splitNumber:function(t){var e=this.option,n=Math.min(e.precision,20),i=this.getExtent(),r=e.splitNumber;r=Math.max(parseInt(r,10),1),e.splitNumber=r;for(var a=(i[1]-i[0])/r;+a.toFixed(n)!==a&&n<5;)n++;e.precision=n,a=+a.toFixed(n),e.minOpen&&t.push({interval:[-1/0,i[0]],close:[0,0]});for(var s=0,l=i[0];s<r;l+=a,s++){var c=s===r-1?i[1]:l+a;t.push({interval:[l,c],close:[1,1]})}e.maxOpen&&t.push({interval:[i[1],1/0],close:[0,0]}),(0,u.nR)(t),o.S6(t,(function(t,e){t.index=e,t.text=this.formatValueText(t.interval)}),this)},categories:function(t){var e=this.option;o.S6(e.categories,(function(e){t.push({text:this.formatValueText(e,!0),value:e})}),this),Rt(e,t)},pieces:function(t){var e=this.option;o.S6(e.pieces,(function(e,n){o.Kn(e)||(e={value:e});var i={text:"",index:n};if(null!=e.label&&(i.text=e.label),e.hasOwnProperty("value")){var r=i.value=e.value;i.interval=[r,r],i.close=[1,1]}else{for(var a=i.interval=[],s=i.close=[0,0],l=[1,0,1],c=[-1/0,1/0],u=[],h=0;h<2;h++){for(var p=[["gte","gt","min"],["lte","lt","max"]][h],d=0;d<3&&null==a[h];d++)a[h]=e[p[d]],s[h]=l[d],u[h]=2===d;null==a[h]&&(a[h]=c[h])}u[0]&&a[1]===1/0&&(s[0]=0),u[1]&&a[0]===-1/0&&(s[1]=0),a[0]===a[1]&&s[0]&&s[1]&&(i.value=a[0])}i.visual=T.retrieveVisuals(e),t.push(i)}),this),Rt(e,t),(0,u.nR)(t),o.S6(t,(function(t){var e=t.close,n=[["<",""][e[1]],[">",""][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,n)}),this)}};function Rt(t,e){var n=t.inverse;("vertical"===t.orient?!n:n)&&e.reverse()}const Ot=Dt,kt=function(t){function e(){var n=null!==t&&t.apply(this,arguments)||this;return n.type=e.type,n}return(0,r.ZT)(e,t),e.prototype.doRender=function(){var t=this.group;t.removeAll();var e=this.visualMapModel,n=e.get("textGap"),i=e.textStyleModel,r=i.getFont(),a=i.getTextColor(),s=this._getItemAlign(),l=e.itemSize,c=this._getViewData(),u=c.endsText,h=o.Jv(e.get("showLabel",!0),!u);u&&this._renderEndsText(t,u[0],l,h,s),o.S6(c.viewPieceList,(function(i){var c=i.piece,u=new tt.Z;u.onclick=o.ak(this._onItemClick,this,c),this._enableHoverLink(u,i.indexInModelPieceList);var p=e.getRepresentValue(c);if(this._createItemSymbol(u,p,[0,0,l[0],l[1]]),h){var d=this.visualMapModel.getValueState(p);u.add(new Q.ZP({style:{x:"right"===s?-n:l[0]+n,y:l[1]/2,text:c.text,verticalAlign:"middle",align:s,font:r,fill:a,opacity:"outOfRange"===d?.5:1}}))}t.add(u)}),this),u&&this._renderEndsText(t,u[1],l,h,s),Y.BZ(e.get("orient"),t,e.get("itemGap")),this.renderBackground(t),this.positionGroup(t)},e.prototype._enableHoverLink=function(t,e){var n=this;t.on("mouseover",(function(){return i("highlight")})).on("mouseout",(function(){return i("downplay")}));var i=function(t){var i=n.visualMapModel;i.option.hoverLink&&n.api.dispatchAction({type:t,batch:at(i.findTargetDataIndices(e),i)})}},e.prototype._getItemAlign=function(){var t=this.visualMapModel,e=t.option;if("vertical"===e.orient)return ot(t,this.api,t.itemSize);var n=e.align;return n&&"auto"!==n||(n="left"),n},e.prototype._renderEndsText=function(t,e,n,i,r){if(e){var o=new tt.Z,a=this.visualMapModel.textStyleModel;o.add(new Q.ZP({style:(0,pt.Lr)(a,{x:i?"right"===r?n[0]:0:n[0]/2,y:n[1]/2,verticalAlign:"middle",align:i?r:"center",text:e})})),t.add(o)}},e.prototype._getViewData=function(){var t=this.visualMapModel,e=o.UI(t.getPieceList(),(function(t,e){return{piece:t,indexInModelPieceList:e}})),n=t.get("text"),i=t.get("orient"),r=t.get("inverse");return("horizontal"===i?r:!r)?e.reverse():n&&(n=n.slice().reverse()),{viewPieceList:e,endsText:n}},e.prototype._createItemSymbol=function(t,e,n){t.add((0,ct.th)(this.getControllerVisual(e,"symbol"),n[0],n[1],n[2],n[3],this.getControllerVisual(e,"color")))},e.prototype._onItemClick=function(t){var e=this.visualMapModel,n=e.option,i=o.d9(n.selected),r=e.getSelectedMapKey(t);"single"===n.selectedMode?(i[r]=!0,o.S6(i,(function(t,e){i[e]=e===r}))):i[r]=!i[r],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:i})},e.type="visualMap.piecewise",e}(K);function Nt(t){t.registerComponentModel(Ot),t.registerComponentView(kt),Lt(t)}function zt(t){(0,i.D)(It),(0,i.D)(Nt)}},2950:(t,e,n)=>{"use strict";n.d(e,{Z:()=>v});var i=n(3051),r=n(5669),o=n(423),a=n(2234),s=n(5254),l=(0,a.Yf)();function c(t,e){var n,r,o=u(t,"labels"),a=(0,s.rk)(e);return h(o,a)||(i.mf(a)?n=f(t,a):(r="auto"===a?function(t){var e=l(t).autoInterval;return null!=e?e:l(t).autoInterval=t.calculateCategoryInterval()}(t):a,n=d(t,r)),p(o,a,{labels:n,labelCategoryInterval:r}))}function u(t,e){return l(t)[e]||(l(t)[e]=[])}function h(t,e){for(var n=0;n<t.length;n++)if(t[n].key===e)return t[n].value}function p(t,e,n){return t.push({key:e,value:n}),n}function d(t,e,n){var i=(0,s.J9)(t),r=t.scale,o=r.getExtent(),a=t.getLabelModel(),l=[],c=Math.max((e||0)+1,1),u=o[0],h=r.count();0!==u&&c>1&&h/c>2&&(u=Math.round(Math.ceil(u/c)*c));var p=(0,s.WY)(t),d=a.get("showMinLabel")||p,f=a.get("showMaxLabel")||p;d&&u!==o[0]&&g(o[0]);for(var m=u;m<=o[1];m+=c)g(m);function g(t){var e={value:t};l.push(n?t:{formattedLabel:i(e),rawLabel:r.getLabel(e),tickValue:t})}return f&&m-c!==o[1]&&g(o[1]),l}function f(t,e,n){var r=t.scale,o=(0,s.J9)(t),a=[];return i.S6(r.getTicks(),(function(t){var i=r.getLabel(t),s=t.value;e(t.value,i)&&a.push(n?s:{formattedLabel:o(t),rawLabel:i,tickValue:s})})),a}var m=[0,1];function g(t,e){var n=(t[1]-t[0])/e/2;t[0]+=n,t[1]-=n}const v=function(){function t(t,e,n){this.onBand=!1,this.inverse=!1,this.dim=t,this.scale=e,this._extent=n||[0,0]}return t.prototype.contain=function(t){var e=this._extent,n=Math.min(e[0],e[1]),i=Math.max(e[0],e[1]);return t>=n&&t<=i},t.prototype.containData=function(t){return this.scale.contain(t)},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.getPixelPrecision=function(t){return(0,r.M9)(t||this.scale.getExtent(),this._extent)},t.prototype.setExtent=function(t,e){var n=this._extent;n[0]=t,n[1]=e},t.prototype.dataToCoord=function(t,e){var n=this._extent,i=this.scale;return t=i.normalize(t),this.onBand&&"ordinal"===i.type&&g(n=n.slice(),i.count()),(0,r.NU)(t,m,n,e)},t.prototype.coordToData=function(t,e){var n=this._extent,i=this.scale;this.onBand&&"ordinal"===i.type&&g(n=n.slice(),i.count());var o=(0,r.NU)(t,n,m,e);return this.scale.scale(o)},t.prototype.pointToData=function(t,e){},t.prototype.getTicksCoords=function(t){var e=(t=t||{}).tickModel||this.getTickModel(),n=function(t,e){return"category"===t.type?function(t,e){var n,r,o=u(t,"ticks"),a=(0,s.rk)(e),l=h(o,a);if(l)return l;if(e.get("show")&&!t.scale.isBlank()||(n=[]),i.mf(a))n=f(t,a,!0);else if("auto"===a){var m=c(t,t.getLabelModel());r=m.labelCategoryInterval,n=i.UI(m.labels,(function(t){return t.tickValue}))}else n=d(t,r=a,!0);return p(o,a,{ticks:n,tickCategoryInterval:r})}(t,e):{ticks:i.UI(t.scale.getTicks(),(function(t){return t.value}))}}(this,e).ticks,o=(0,i.UI)(n,(function(t){return{coord:this.dataToCoord("ordinal"===this.scale.type?this.scale.getRawOrdinalNumber(t):t),tickValue:t}}),this);return function(t,e,n,o){var a=e.length;if(t.onBand&&!n&&a){var s,l,c=t.getExtent();if(1===a)e[0].coord=c[0],s=e[1]={coord:c[0]};else{var u=e[a-1].tickValue-e[0].tickValue,h=(e[a-1].coord-e[0].coord)/u;(0,i.S6)(e,(function(t){t.coord-=h/2})),l=1+t.scale.getExtent()[1]-e[a-1].tickValue,s={coord:e[a-1].coord+h*l},e.push(s)}var p=c[0]>c[1];d(e[0].coord,c[0])&&(o?e[0].coord=c[0]:e.shift()),o&&d(c[0],e[0].coord)&&e.unshift({coord:c[0]}),d(c[1],s.coord)&&(o?s.coord=c[1]:e.pop()),o&&d(s.coord,c[1])&&e.push({coord:c[1]})}function d(t,e){return t=(0,r.NM)(t),e=(0,r.NM)(e),p?t>e:t<e}}(this,o,e.get("alignWithLabel"),t.clamp),o},t.prototype.getMinorTicksCoords=function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick").get("splitNumber");t>0&&t<100||(t=5);var e=this.scale.getMinorTicks(t);return(0,i.UI)(e,(function(t){return(0,i.UI)(t,(function(t){return{coord:this.dataToCoord(t),tickValue:t}}),this)}),this)},t.prototype.getViewLabels=function(){return(t=this,"category"===t.type?function(t){var e=t.getLabelModel(),n=c(t,e);return!e.get("show")||t.scale.isBlank()?{labels:[],labelCategoryInterval:n.labelCategoryInterval}:n}(t):function(t){var e=t.scale.getTicks(),n=(0,s.J9)(t);return{labels:i.UI(e,(function(e,i){return{level:e.level,formattedLabel:n(e,i),rawLabel:t.scale.getLabel(e),tickValue:e.value}}))}}(t)).labels;var t},t.prototype.getLabelModel=function(){return this.model.getModel("axisLabel")},t.prototype.getTickModel=function(){return this.model.getModel("axisTick")},t.prototype.getBandWidth=function(){var t=this._extent,e=this.scale.getExtent(),n=e[1]-e[0]+(this.onBand?1:0);0===n&&(n=1);var i=Math.abs(t[1]-t[0]);return Math.abs(i)/n},t.prototype.calculateCategoryInterval=function(){return function(t){var e=function(t){var e=t.getLabelModel();return{axisRotate:t.getRotate?t.getRotate():t.isHorizontal&&!t.isHorizontal()?90:0,labelRotate:e.get("rotate")||0,font:e.getFont()}}(t),n=(0,s.J9)(t),i=(e.axisRotate-e.labelRotate)/180*Math.PI,r=t.scale,a=r.getExtent(),c=r.count();if(a[1]-a[0]<1)return 0;var u=1;c>40&&(u=Math.max(1,Math.floor(c/40)));for(var h=a[0],p=t.dataToCoord(h+1)-t.dataToCoord(h),d=Math.abs(p*Math.cos(i)),f=Math.abs(p*Math.sin(i)),m=0,g=0;h<=a[1];h+=u){var v,y,_=o.lP(n({value:h}),e.font,"center","top");v=1.3*_.width,y=1.3*_.height,m=Math.max(m,v,7),g=Math.max(g,y,7)}var x=m/d,b=g/f;isNaN(x)&&(x=1/0),isNaN(b)&&(b=1/0);var w=Math.max(0,Math.floor(Math.min(x,b))),S=l(t.model),M=t.getExtent(),T=S.lastAutoInterval,E=S.lastTickCount;return null!=T&&null!=E&&Math.abs(T-w)<=1&&Math.abs(E-c)<=1&&T>w&&S.axisExtent0===M[0]&&S.axisExtent1===M[1]?w=T:(S.lastTickCount=c,S.lastAutoInterval=w,S.axisExtent0=M[0],S.axisExtent1=M[1]),w}(this)},t}()},1073:(t,e,n)=>{"use strict";function i(t,e){return t.type===e}n.d(e,{H:()=>i})},8259:(t,e,n)=>{"use strict";n.d(e,{z:()=>l});var i=n(5669),r=n(103),o=n(5254),a=n(5021),s=Math.log;function l(t,e,n){var l=r.Z.prototype,c=l.getTicks.call(n),u=l.getTicks.call(n,!0),h=c.length-1,p=l.getInterval.call(n),d=(0,o.Xv)(t,e),f=d.extent,m=d.fixMin,g=d.fixMax;if("log"===t.type){var v=s(t.base);f=[s(f[0])/v,s(f[1])/v]}t.setExtent(f[0],f[1]),t.calcNiceExtent({splitNumber:h,fixMin:m,fixMax:g});var y=l.getExtent.call(t);m&&(f[0]=y[0]),g&&(f[1]=y[1]);var _=l.getInterval.call(t),x=f[0],b=f[1];if(m&&g)_=(b-x)/h;else if(m)for(b=f[0]+_*h;b<f[1]&&isFinite(b)&&isFinite(f[1]);)_=(0,a.r1)(_),b=f[0]+_*h;else if(g)for(x=f[1]-_*h;x>f[0]&&isFinite(x)&&isFinite(f[0]);)_=(0,a.r1)(_),x=f[1]-_*h;else{t.getTicks().length-1>h&&(_=(0,a.r1)(_));var w=_*h;b=Math.ceil(f[1]/_)*_,(x=(0,i.NM)(b-w))<0&&f[0]>=0?(x=0,b=(0,i.NM)(w)):b>0&&f[1]<=0&&(b=0,x=-(0,i.NM)(w))}var S=(c[0].value-u[0].value)/p,M=(c[h].value-u[h].value)/p;l.setExtent.call(t,x+_*S,b+_*M),l.setInterval.call(t,_),(S||M)&&l.setNiceExtent.call(t,x+_,b-_)}},6484:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(3051),r={show:!0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#6E7079",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#E0E6F1"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.2)","rgba(210,219,238,0.2)"]}}},o=i.TS({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},r),a=i.TS({boundaryGap:[0,0],axisLine:{show:"auto"},axisTick:{show:"auto"},splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#F4F7FD",width:1}}},r);const s={category:o,value:a,time:i.TS({splitNumber:6,axisLabel:{showMinLabel:!1,showMaxLabel:!1,rich:{primary:{fontWeight:"bold"}}},splitLine:{show:!1}},a),log:i.ce({logBase:10},a)}},5254:(t,e,n)=>{"use strict";n.d(e,{aG:()=>G,Do:()=>q,DX:()=>Z,PY:()=>J,rk:()=>X,Xv:()=>H,Yb:()=>j,J9:()=>W,Jk:()=>V,WY:()=>Y});var i=n(3051),r=n(8299),o=n(379),a=n(1401),s=n(5021),l=function(t){function e(e){var n=t.call(this,e)||this;n.type="ordinal";var r=n.getSetting("ordinalMeta");return r||(r=new a.Z({})),(0,i.kJ)(r)&&(r=new a.Z({categories:(0,i.UI)(r,(function(t){return(0,i.Kn)(t)?t.value:t}))})),n._ordinalMeta=r,n._extent=n.getSetting("extent")||[0,r.categories.length-1],n}return(0,r.ZT)(e,t),e.prototype.parse=function(t){return null==t?NaN:(0,i.HD)(t)?this._ordinalMeta.getOrdinal(t):Math.round(t)},e.prototype.contain=function(t){return t=this.parse(t),s.XS(t,this._extent)&&null!=this._ordinalMeta.categories[t]},e.prototype.normalize=function(t){return t=this._getTickNumber(this.parse(t)),s.Fv(t,this._extent)},e.prototype.scale=function(t){return t=Math.round(s.bA(t,this._extent)),this.getRawOrdinalNumber(t)},e.prototype.getTicks=function(){for(var t=[],e=this._extent,n=e[0];n<=e[1];)t.push({value:n}),n++;return t},e.prototype.getMinorTicks=function(t){},e.prototype.setSortInfo=function(t){if(null!=t){for(var e=t.ordinalNumbers,n=this._ordinalNumbersByTick=[],i=this._ticksByOrdinalNumber=[],r=0,o=this._ordinalMeta.categories.length,a=Math.min(o,e.length);r<a;++r){var s=e[r];n[r]=s,i[s]=r}for(var l=0;r<o;++r){for(;null!=i[l];)l++;n.push(l),i[l]=r}}else this._ordinalNumbersByTick=this._ticksByOrdinalNumber=null},e.prototype._getTickNumber=function(t){var e=this._ticksByOrdinalNumber;return e&&t>=0&&t<e.length?e[t]:t},e.prototype.getRawOrdinalNumber=function(t){var e=this._ordinalNumbersByTick;return e&&t>=0&&t<e.length?e[t]:t},e.prototype.getLabel=function(t){if(!this.isBlank()){var e=this.getRawOrdinalNumber(t.value),n=this._ordinalMeta.categories[e];return null==n?"":n+""}},e.prototype.count=function(){return this._extent[1]-this._extent[0]+1},e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},e.prototype.isInExtentRange=function(t){return t=this._getTickNumber(t),this._extent[0]<=t&&this._extent[1]>=t},e.prototype.getOrdinalMeta=function(){return this._ordinalMeta},e.prototype.calcNiceTicks=function(){},e.prototype.calcNiceExtent=function(){},e.type="ordinal",e}(o.Z);o.Z.registerClass(l);const c=l;var u=n(103),h=n(3382),p=n(479),d=n(5669),f=n(5015),m=function(t){function e(e){var n=t.call(this,e)||this;return n.type="time",n}return(0,r.ZT)(e,t),e.prototype.getLabel=function(t){var e=this.getSetting("useUTC");return(0,f.WU)(t.value,f.V8[(0,f.xC)((0,f.Tj)(this._minLevelUnit))]||f.V8.second,e,this.getSetting("locale"))},e.prototype.getFormattedLabel=function(t,e,n){var i=this.getSetting("useUTC"),r=this.getSetting("locale");return(0,f.k7)(t,e,n,r,i)},e.prototype.getTicks=function(){var t=this._interval,e=this._extent,n=[];if(!t)return n;n.push({value:e[0],level:0});var r=this.getSetting("useUTC"),o=function(t,e,n,r){var o=f.FW,a=0;function s(t,e,n,i,o,a,s){for(var l=new Date(e),c=e,u=l[i]();c<n&&c<=r[1];)s.push({value:c}),u+=t,l[o](u),c=l.getTime();s.push({value:c,notAdd:!0})}function l(t,i,o){var a=[],l=!i.length;if(!function(t,e,n,i){var r=d.sG(e),o=d.sG(n),a=function(t){return(0,f.q5)(r,t,i)===(0,f.q5)(o,t,i)},s=function(){return a("year")},l=function(){return s()&&a("month")},c=function(){return l()&&a("day")},u=function(){return c()&&a("hour")},h=function(){return u()&&a("minute")},p=function(){return h()&&a("second")};switch(t){case"year":return s();case"month":return l();case"day":return c();case"hour":return u();case"minute":return h();case"second":return p();case"millisecond":return p()&&a("millisecond")}}((0,f.Tj)(t),r[0],r[1],n)){l&&(i=[{value:w(new Date(r[0]),t,n)},{value:r[1]}]);for(var c=0;c<i.length-1;c++){var u=i[c].value,h=i[c+1].value;if(u!==h){var p=void 0,m=void 0,g=void 0;switch(t){case"year":p=Math.max(1,Math.round(e/f.s2/365)),m=(0,f.sx)(n),g=(0,f.xL)(n);break;case"half-year":case"quarter":case"month":p=y(e),m=(0,f.CW)(n),g=(0,f.vh)(n);break;case"week":case"half-week":case"day":p=v(e),m=(0,f.xz)(n),g=(0,f.f5)(n),!0;break;case"half-day":case"quarter-day":case"hour":p=_(e),m=(0,f.Wp)(n),g=(0,f.En)(n);break;case"minute":p=x(e,!0),m=(0,f.fn)(n),g=(0,f.eN)(n);break;case"second":p=x(e,!1),m=(0,f.MV)(n),g=(0,f.rM)(n);break;case"millisecond":p=b(e),m=(0,f.RZ)(n),g=(0,f.cb)(n)}s(p,u,h,m,g,0,a),"year"===t&&o.length>1&&0===c&&o.unshift({value:o[0].value-p})}}for(c=0;c<a.length;c++)o.push(a[c]);return a}}for(var c=[],u=[],h=0,p=0,m=0;m<o.length&&a++<1e4;++m){var g=(0,f.Tj)(o[m]);if((0,f.$K)(o[m])&&(l(o[m],c[c.length-1]||[],u),g!==(o[m+1]?(0,f.Tj)(o[m+1]):null))){if(u.length){p=h,u.sort((function(t,e){return t.value-e.value}));for(var S=[],M=0;M<u.length;++M){var T=u[M].value;0!==M&&u[M-1].value===T||(S.push(u[M]),T>=r[0]&&T<=r[1]&&h++)}var E=(r[1]-r[0])/e;if(h>1.5*E&&p>E/1.5)break;if(c.push(S),h>E||t===o[m])break}u=[]}}var A=(0,i.hX)((0,i.UI)(c,(function(t){return(0,i.hX)(t,(function(t){return t.value>=r[0]&&t.value<=r[1]&&!t.notAdd}))})),(function(t){return t.length>0})),C=[],L=A.length-1;for(m=0;m<A.length;++m)for(var I=A[m],D=0;D<I.length;++D)C.push({value:I[D].value,level:L-m});C.sort((function(t,e){return t.value-e.value}));var P=[];for(m=0;m<C.length;++m)0!==m&&C[m].value===C[m-1].value||P.push(C[m]);return P}(this._minLevelUnit,this._approxInterval,r,e);return(n=n.concat(o)).push({value:e[1],level:0}),n},e.prototype.calcNiceExtent=function(t){var e=this._extent;if(e[0]===e[1]&&(e[0]-=f.s2,e[1]+=f.s2),e[1]===-1/0&&e[0]===1/0){var n=new Date;e[1]=+new Date(n.getFullYear(),n.getMonth(),n.getDate()),e[0]=e[1]-f.s2}this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval)},e.prototype.calcNiceTicks=function(t,e,n){t=t||10;var i=this._extent,r=i[1]-i[0];this._approxInterval=r/t,null!=e&&this._approxInterval<e&&(this._approxInterval=e),null!=n&&this._approxInterval>n&&(this._approxInterval=n);var o=g.length,a=Math.min(function(t,e,n,i){for(;n<i;){var r=n+i>>>1;t[r][1]<e?n=r+1:i=r}return n}(g,this._approxInterval,0,o),o-1);this._interval=g[a][1],this._minLevelUnit=g[Math.max(a-1,0)][0]},e.prototype.parse=function(t){return(0,i.hj)(t)?t:+d.sG(t)},e.prototype.contain=function(t){return s.XS(this.parse(t),this._extent)},e.prototype.normalize=function(t){return s.Fv(this.parse(t),this._extent)},e.prototype.scale=function(t){return s.bA(t,this._extent)},e.type="time",e}(u.Z),g=[["second",f.WT],["minute",f.yR],["hour",f.dV],["quarter-day",6*f.dV],["half-day",12*f.dV],["day",1.2*f.s2],["half-week",3.5*f.s2],["week",7*f.s2],["month",31*f.s2],["quarter",95*f.s2],["half-year",f.P5/2],["year",f.P5]];function v(t,e){return(t/=f.s2)>16?16:t>7.5?7:t>3.5?4:t>1.5?2:1}function y(t){return(t/=30*f.s2)>6?6:t>3?3:t>2?2:1}function _(t){return(t/=f.dV)>12?12:t>6?6:t>3.5?4:t>2?2:1}function x(t,e){return(t/=e?f.yR:f.WT)>30?30:t>20?20:t>15?15:t>10?10:t>5?5:t>2?2:1}function b(t){return d.kx(t,!0)}function w(t,e,n){var i=new Date(t);switch((0,f.Tj)(e)){case"year":case"month":i[(0,f.vh)(n)](0);case"day":i[(0,f.f5)(n)](1);case"hour":i[(0,f.En)(n)](0);case"minute":i[(0,f.eN)(n)](0);case"second":i[(0,f.rM)(n)](0),i[(0,f.cb)(n)](0)}return i.getTime()}o.Z.registerClass(m);const S=m;var M=o.Z.prototype,T=u.Z.prototype,E=d.NM,A=Math.floor,C=Math.ceil,L=Math.pow,I=Math.log,D=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="log",e.base=10,e._originalScale=new u.Z,e._interval=0,e}return(0,r.ZT)(e,t),e.prototype.getTicks=function(t){var e=this._originalScale,n=this._extent,r=e.getExtent(),o=T.getTicks.call(this,t);return i.UI(o,(function(t){var e=t.value,i=d.NM(L(this.base,e));return i=e===n[0]&&this._fixMin?R(i,r[0]):i,{value:i=e===n[1]&&this._fixMax?R(i,r[1]):i}}),this)},e.prototype.setExtent=function(t,e){var n=this.base;t=I(t)/I(n),e=I(e)/I(n),T.setExtent.call(this,t,e)},e.prototype.getExtent=function(){var t=this.base,e=M.getExtent.call(this);e[0]=L(t,e[0]),e[1]=L(t,e[1]);var n=this._originalScale.getExtent();return this._fixMin&&(e[0]=R(e[0],n[0])),this._fixMax&&(e[1]=R(e[1],n[1])),e},e.prototype.unionExtent=function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=I(t[0])/I(e),t[1]=I(t[1])/I(e),M.unionExtent.call(this,t)},e.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},e.prototype.calcNiceTicks=function(t){t=t||10;var e=this._extent,n=e[1]-e[0];if(!(n===1/0||n<=0)){var i=d.Xd(n);for(t/n*i<=.5&&(i*=10);!isNaN(i)&&Math.abs(i)<1&&Math.abs(i)>0;)i*=10;var r=[d.NM(C(e[0]/i)*i),d.NM(A(e[1]/i)*i)];this._interval=i,this._niceExtent=r}},e.prototype.calcNiceExtent=function(t){T.calcNiceExtent.call(this,t),this._fixMin=t.fixMin,this._fixMax=t.fixMax},e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return t=I(t)/I(this.base),s.XS(t,this._extent)},e.prototype.normalize=function(t){return t=I(t)/I(this.base),s.Fv(t,this._extent)},e.prototype.scale=function(t){return t=s.bA(t,this._extent),L(this.base,t)},e.type="log",e}(o.Z),P=D.prototype;function R(t,e){return E(t,d.p8(e))}P.getMinorTicks=T.getMinorTicks,P.getLabel=T.getLabel,o.Z.registerClass(D);const O=D;var k=n(9936),N=n(423),z=function(){function t(t,e,n){this._prepareParams(t,e,n)}return t.prototype._prepareParams=function(t,e,n){n[1]<n[0]&&(n=[NaN,NaN]),this._dataMin=n[0],this._dataMax=n[1];var r=this._isOrdinal="ordinal"===t.type;this._needCrossZero="interval"===t.type&&e.getNeedCrossZero&&e.getNeedCrossZero();var o=this._modelMinRaw=e.get("min",!0);(0,i.mf)(o)?this._modelMinNum=U(t,o({min:n[0],max:n[1]})):"dataMin"!==o&&(this._modelMinNum=U(t,o));var a=this._modelMaxRaw=e.get("max",!0);if((0,i.mf)(a)?this._modelMaxNum=U(t,a({min:n[0],max:n[1]})):"dataMax"!==a&&(this._modelMaxNum=U(t,a)),r)this._axisDataLen=e.getCategories().length;else{var s=e.get("boundaryGap"),l=(0,i.kJ)(s)?s:[s||0,s||0];"boolean"==typeof l[0]||"boolean"==typeof l[1]?this._boundaryGapInner=[0,0]:this._boundaryGapInner=[(0,N.GM)(l[0],1),(0,N.GM)(l[1],1)]}},t.prototype.calculate=function(){var t=this._isOrdinal,e=this._dataMin,n=this._dataMax,r=this._axisDataLen,o=this._boundaryGapInner,a=t?null:n-e||Math.abs(e),s="dataMin"===this._modelMinRaw?e:this._modelMinNum,l="dataMax"===this._modelMaxRaw?n:this._modelMaxNum,c=null!=s,u=null!=l;null==s&&(s=t?r?0:NaN:e-o[0]*a),null==l&&(l=t?r?r-1:NaN:n+o[1]*a),(null==s||!isFinite(s))&&(s=NaN),(null==l||!isFinite(l))&&(l=NaN);var h=(0,i.Bu)(s)||(0,i.Bu)(l)||t&&!r;this._needCrossZero&&(s>0&&l>0&&!c&&(s=0),s<0&&l<0&&!u&&(l=0));var p=this._determinedMin,d=this._determinedMax;return null!=p&&(s=p,c=!0),null!=d&&(l=d,u=!0),{min:s,max:l,minFixed:c,maxFixed:u,isBlank:h}},t.prototype.modifyDataMinMax=function(t,e){this[F[t]]=e},t.prototype.setDeterminedMinMax=function(t,e){this[B[t]]=e},t.prototype.freeze=function(){this.frozen=!0},t}(),B={min:"_determinedMin",max:"_determinedMax"},F={min:"_dataMin",max:"_dataMax"};function U(t,e){return null==e?null:(0,i.Bu)(e)?NaN:t.parse(e)}function H(t,e){var n=t.type,r=function(t,e,n){var i=t.rawExtentInfo;return i||(i=new z(t,e,n),t.rawExtentInfo=i,i)}(t,e,t.getExtent()).calculate();t.setBlank(r.isBlank);var o=r.min,a=r.max,s=e.ecModel;if(s&&"time"===n){var l=(0,h.Ge)("bar",s),c=!1;if(i.S6(l,(function(t){c=c||t.getBaseAxis()===e.axis})),c){var u=(0,h.My)(l),p=function(t,e,n,r){var o=n.axis.getExtent(),a=o[1]-o[0],s=(0,h.G_)(r,n.axis);if(void 0===s)return{min:t,max:e};var l=1/0;i.S6(s,(function(t){l=Math.min(t.offset,l)}));var c=-1/0;i.S6(s,(function(t){c=Math.max(t.offset+t.width,c)})),l=Math.abs(l),c=Math.abs(c);var u=l+c,p=e-t,d=p/(1-(l+c)/a)-p;return{min:t-=d*(l/u),max:e+=d*(c/u)}}(o,a,e,u);o=p.min,a=p.max}}return{extent:[o,a],fixMin:r.minFixed,fixMax:r.maxFixed}}function V(t,e){var n=e,i=H(t,n),r=i.extent,o=n.get("splitNumber");t instanceof O&&(t.base=n.get("logBase"));var a=t.type,s=n.get("interval"),l="interval"===a||"time"===a;t.setExtent(r[0],r[1]),t.calcNiceExtent({splitNumber:o,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:l?n.get("minInterval"):null,maxInterval:l?n.get("maxInterval"):null}),null!=s&&t.setInterval&&t.setInterval(s)}function G(t,e){if(e=e||t.get("type"))switch(e){case"category":return new c({ordinalMeta:t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),extent:[1/0,-1/0]});case"time":return new S({locale:t.ecModel.getLocaleModel(),useUTC:t.ecModel.get("useUTC")});default:return new(o.Z.getClass(e)||u.Z)}}function j(t){var e=t.scale.getExtent(),n=e[0],i=e[1];return!(n>0&&i>0||n<0&&i<0)}function W(t){var e,n,r=t.getLabelModel().get("formatter"),o="category"===t.type?t.scale.getExtent()[0]:null;return"time"===t.scale.type?(n=r,function(e,i){return t.scale.getFormattedLabel(e,i,n)}):i.HD(r)?function(e){return function(n){var i=t.scale.getLabel(n);return e.replace("{value}",null!=i?i:"")}}(r):i.mf(r)?(e=r,function(n,i){return null!=o&&(i=n.value-o),e(Z(t,n),i,null!=n.level?{level:n.level}:null)}):function(e){return t.scale.getLabel(e)}}function Z(t,e){return"category"===t.type?t.scale.getLabel(e):e.value}function q(t){var e=t.model,n=t.scale;if(e.get(["axisLabel","show"])&&!n.isBlank()){var i,r,o=n.getExtent();r=n instanceof c?n.count():(i=n.getTicks()).length;var a,s,l,u,h,d,f,m=t.getLabelModel(),g=W(t),v=1;r>40&&(v=Math.ceil(r/40));for(var y=0;y<r;y+=v){var _=g(i?i[y]:{value:o[0]+y},y),x=(s=m.getTextRect(_),void 0,void 0,void 0,void 0,void 0,l=(m.get("rotate")||0)*Math.PI/180,u=s.width,h=s.height,d=u*Math.abs(Math.cos(l))+Math.abs(h*Math.sin(l)),f=u*Math.abs(Math.sin(l))+Math.abs(h*Math.cos(l)),new p.Z(s.x,s.y,d,f));a?a.union(x):a=x}return a}}function X(t){var e=t.get("interval");return null==e?"auto":e}function Y(t){return"category"===t.type&&0===X(t.getLabelModel())}function J(t,e){var n={};return i.S6(t.mapDimensionsAll(e),(function(e){n[(0,k.IR)(t,e)]=!0})),i.XP(n)}},6650:(t,e,n)=>{"use strict";n.d(e,{W:()=>i});var i=function(){function t(){}return t.prototype.getNeedCrossZero=function(){return!this.option.scale},t.prototype.getCoordSysModel=function(){},t}()},9069:(t,e,n)=>{"use strict";n.d(e,{Mk:()=>s,Yh:()=>a,bK:()=>o});var i=n(3051),r=n(2234);function o(t,e,n){n=n||{};var r=t.coordinateSystem,o=e.axis,a={},s=o.getAxesOnZeroOf()[0],l=o.position,c=s?"onZero":l,u=o.dim,h=r.getRect(),p=[h.x,h.x+h.width,h.y,h.y+h.height],d={left:0,right:1,top:0,bottom:1,onZero:2},f=e.get("offset")||0,m="x"===u?[p[2]-f,p[3]+f]:[p[0]-f,p[1]+f];if(s){var g=s.toGlobalCoord(s.dataToCoord(0));m[d.onZero]=Math.max(Math.min(g,m[1]),m[0])}a.position=["y"===u?m[d[c]]:p[0],"x"===u?m[d[c]]:p[3]],a.rotation=Math.PI/2*("x"===u?0:1),a.labelDirection=a.tickDirection=a.nameDirection={top:-1,bottom:1,left:-1,right:1}[l],a.labelOffset=s?m[d[l]]-m[d.onZero]:0,e.get(["axisTick","inside"])&&(a.tickDirection=-a.tickDirection),i.Jv(n.labelInside,e.get(["axisLabel","inside"]))&&(a.labelDirection=-a.labelDirection);var v=e.get(["axisLabel","rotate"]);return a.labelRotate="top"===c?-v:v,a.z2=1,a}function a(t){return"cartesian2d"===t.get("coordinateSystem")}function s(t){var e={xAxisModel:null,yAxisModel:null};return i.S6(e,(function(n,i){var o=i.replace(/Model$/,""),a=t.getReferringComponents(o,r.C6).models[0];e[i]=a})),e}},4267:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(3051),r={};const o=function(){function t(){this._coordinateSystems=[]}return t.prototype.create=function(t,e){var n=[];i.S6(r,(function(i,r){var o=i.create(t,e);n=n.concat(o||[])})),this._coordinateSystems=n},t.prototype.update=function(t,e){i.S6(this._coordinateSystems,(function(n){n.update&&n.update(t,e)}))},t.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},t.register=function(t,e){r[t]=e},t.get=function(t){return r[t]},t}()},52:(t,e,n)=>{"use strict";n.d(e,{Hr:()=>Le,S1:()=>vn,zl:()=>Mn,RS:()=>Tn,qR:()=>En,yn:()=>In,je:()=>Dn,sq:()=>bn,Br:()=>wn,ds:()=>_n,Pu:()=>xn,OB:()=>Pn,YK:()=>Sn,Og:()=>An});var i=n(8299),r=n(9448),o=n(3051),a=n(6387),s=n(9455),l=n(3510),c=n(2234),u=n(1497),h=n(8071),p="";"undefined"!=typeof navigator&&(p=navigator.platform||"");var d="rgba(0, 0, 0, 0.2)";const f={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:d,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:d,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:d,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:d,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:d,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:d,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:p.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var m,g,v,y=n(1772),_=(0,o.kW)(),x=n(5494),b=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype.init=function(t,e,n,i,r,o){i=i||{},this.option=null,this._theme=new u.Z(i),this._locale=new u.Z(r),this._optionManager=o},e.prototype.setOption=function(t,e,n){var i=M(e);this._optionManager.setOption(t,n,i),this._resetOption(null,i)},e.prototype.resetOption=function(t,e){return this._resetOption(t,M(e))},e.prototype._resetOption=function(t,e){var n=!1,i=this._optionManager;if(!t||"recreate"===t){var r=i.mountOption("recreate"===t);this.option&&"recreate"!==t?(this.restoreData(),this._mergeOption(r,e)):v(this,r),n=!0}if("timeline"!==t&&"media"!==t||this.restoreData(),!t||"recreate"===t||"timeline"===t){var a=i.getTimelineOption(this);a&&(n=!0,this._mergeOption(a,e))}if(!t||"recreate"===t||"media"===t){var s=i.getMediaOption(this);s.length&&(0,o.S6)(s,(function(t){n=!0,this._mergeOption(t,e)}),this)}return n},e.prototype.mergeOption=function(t){this._mergeOption(t,null)},e.prototype._mergeOption=function(t,e){var n=this.option,i=this._componentsMap,r=this._componentsCount,a=[],s=(0,o.kW)(),l=e&&e.replaceMergeMainTypeMap;(0,y.md)(this),(0,o.S6)(t,(function(t,e){null!=t&&(h.Z.hasClass(e)?e&&(a.push(e),s.set(e,!0)):n[e]=null==n[e]?(0,o.d9)(t):(0,o.TS)(n[e],t,!0))})),l&&l.each((function(t,e){h.Z.hasClass(e)&&!s.get(e)&&(a.push(e),s.set(e,!0))})),h.Z.topologicalTravel(a,h.Z.getAllClassMainTypes(),(function(e){var a=function(t,e,n){var i=_.get(e);if(!i)return n;var r=i(t);return r?n.concat(r):n}(this,e,c.kF(t[e])),s=i.get(e),u=s?l&&l.get(e)?"replaceMerge":"normalMerge":"replaceAll",p=c.ab(s,a,u);c.O0(p,e,h.Z),n[e]=null,i.set(e,null),r.set(e,0);var d,f=[],g=[],v=0;(0,o.S6)(p,(function(t,n){var i=t.existing,r=t.newOption;if(r){var a="series"===e,s=h.Z.getClass(e,t.keyInfo.subType,!a);if(!s)return;if("tooltip"===e){if(d)return;d=!0}if(i&&i.constructor===s)i.name=t.keyInfo.name,i.mergeOption(r,this),i.optionUpdated(r,!1);else{var l=(0,o.l7)({componentIndex:n},t.keyInfo);i=new s(r,this,this,l),(0,o.l7)(i,l),t.brandNew&&(i.__requireNewView=!0),i.init(r,this,this),i.optionUpdated(null,!0)}}else i&&(i.mergeOption({},this),i.optionUpdated({},!1));i?(f.push(i.option),g.push(i),v++):(f.push(void 0),g.push(void 0))}),this),n[e]=f,i.set(e,g),r.set(e,v),"series"===e&&m(this)}),this),this._seriesIndices||m(this)},e.prototype.getOption=function(){var t=(0,o.d9)(this.option);return(0,o.S6)(t,(function(e,n){if(h.Z.hasClass(n)){for(var i=c.kF(e),r=i.length,o=!1,a=r-1;a>=0;a--)i[a]&&!c.lY(i[a])?o=!0:(i[a]=null,!o&&r--);i.length=r,t[n]=i}})),delete t["\0_ec_inner"],t},e.prototype.getTheme=function(){return this._theme},e.prototype.getLocaleModel=function(){return this._locale},e.prototype.setUpdatePayload=function(t){this._payload=t},e.prototype.getUpdatePayload=function(){return this._payload},e.prototype.getComponent=function(t,e){var n=this._componentsMap.get(t);if(n){var i=n[e||0];if(i)return i;if(null==e)for(var r=0;r<n.length;r++)if(n[r])return n[r]}},e.prototype.queryComponents=function(t){var e=t.mainType;if(!e)return[];var n,i=t.index,r=t.id,a=t.name,s=this._componentsMap.get(e);return s&&s.length?(null!=i?(n=[],(0,o.S6)(c.kF(i),(function(t){s[t]&&n.push(s[t])}))):n=null!=r?w("id",r,s):null!=a?w("name",a,s):(0,o.hX)(s,(function(t){return!!t})),S(n,t)):[]},e.prototype.findComponents=function(t){var e,n,i,r,a,s=t.query,l=t.mainType,c=(n=l+"Index",i=l+"Id",r=l+"Name",!(e=s)||null==e[n]&&null==e[i]&&null==e[r]?null:{mainType:l,index:e[n],id:e[i],name:e[r]});return a=S(c?this.queryComponents(c):(0,o.hX)(this._componentsMap.get(l),(function(t){return!!t})),t),t.filter?(0,o.hX)(a,t.filter):a},e.prototype.eachComponent=function(t,e,n){var i=this._componentsMap;if((0,o.mf)(t)){var r=e,a=t;i.each((function(t,e){for(var n=0;t&&n<t.length;n++){var i=t[n];i&&a.call(r,e,i,i.componentIndex)}}))}else for(var s=(0,o.HD)(t)?i.get(t):(0,o.Kn)(t)?this.findComponents(t):null,l=0;s&&l<s.length;l++){var c=s[l];c&&e.call(n,c,c.componentIndex)}},e.prototype.getSeriesByName=function(t){var e=c.U5(t,null);return(0,o.hX)(this._componentsMap.get("series"),(function(t){return!!t&&null!=e&&t.name===e}))},e.prototype.getSeriesByIndex=function(t){return this._componentsMap.get("series")[t]},e.prototype.getSeriesByType=function(t){return(0,o.hX)(this._componentsMap.get("series"),(function(e){return!!e&&e.subType===t}))},e.prototype.getSeries=function(){return(0,o.hX)(this._componentsMap.get("series"),(function(t){return!!t}))},e.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},e.prototype.eachSeries=function(t,e){g(this),(0,o.S6)(this._seriesIndices,(function(n){var i=this._componentsMap.get("series")[n];t.call(e,i,n)}),this)},e.prototype.eachRawSeries=function(t,e){(0,o.S6)(this._componentsMap.get("series"),(function(n){n&&t.call(e,n,n.componentIndex)}))},e.prototype.eachSeriesByType=function(t,e,n){g(this),(0,o.S6)(this._seriesIndices,(function(i){var r=this._componentsMap.get("series")[i];r.subType===t&&e.call(n,r,i)}),this)},e.prototype.eachRawSeriesByType=function(t,e,n){return(0,o.S6)(this.getSeriesByType(t),e,n)},e.prototype.isSeriesFiltered=function(t){return g(this),null==this._seriesIndicesMap.get(t.componentIndex)},e.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},e.prototype.filterSeries=function(t,e){g(this);var n=[];(0,o.S6)(this._seriesIndices,(function(i){var r=this._componentsMap.get("series")[i];t.call(e,r,i)&&n.push(i)}),this),this._seriesIndices=n,this._seriesIndicesMap=(0,o.kW)(n)},e.prototype.restoreData=function(t){m(this);var e=this._componentsMap,n=[];e.each((function(t,e){h.Z.hasClass(e)&&n.push(e)})),h.Z.topologicalTravel(n,h.Z.getAllClassMainTypes(),(function(n){(0,o.S6)(e.get(n),(function(e){!e||"series"===n&&function(t,e){if(e){var n=e.seriesIndex,i=e.seriesId,r=e.seriesName;return null!=n&&t.componentIndex!==n||null!=i&&t.id!==i||null!=r&&t.name!==r}}(e,t)||e.restoreData()}))}))},e.internalField=(m=function(t){var e=t._seriesIndices=[];(0,o.S6)(t._componentsMap.get("series"),(function(t){t&&e.push(t.componentIndex)})),t._seriesIndicesMap=(0,o.kW)(e)},g=function(t){},void(v=function(t,e){t.option={},t.option["\0_ec_inner"]=1,t._componentsMap=(0,o.kW)({series:[]}),t._componentsCount=(0,o.kW)();var n=e.aria;(0,o.Kn)(n)&&null==n.enabled&&(n.enabled=!0),function(t,e){var n=t.color&&!t.colorLayer;(0,o.S6)(e,(function(e,i){"colorLayer"===i&&n||h.Z.hasClass(i)||("object"==typeof e?t[i]=t[i]?(0,o.TS)(t[i],e,!1):(0,o.d9)(e):null==t[i]&&(t[i]=e))}))}(e,t._theme.option),(0,o.TS)(e,f,!1),t._mergeOption(e,null)})),e}(u.Z);function w(t,e,n){if((0,o.kJ)(e)){var i=(0,o.kW)();return(0,o.S6)(e,(function(t){null!=t&&null!=c.U5(t,null)&&i.set(t,!0)})),(0,o.hX)(n,(function(e){return e&&i.get(e[t])}))}var r=c.U5(e,null);return(0,o.hX)(n,(function(e){return e&&null!=r&&e[t]===r}))}function S(t,e){return e.hasOwnProperty("subType")?(0,o.hX)(t,(function(t){return t&&t.subType===e.subType})):t}function M(t){var e=(0,o.kW)();return t&&(0,o.S6)(c.kF(t.replaceMerge),(function(t){e.set(t,!0)})),{replaceMergeMainTypeMap:e}}(0,o.jB)(b,x._);const T=b;var E=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"];const A=function(t){o.S6(E,(function(e){this[e]=o.ak(t[e],t)}),this)};var C=n(4267),L=/^(min|max)?(.+)$/,I=function(){function t(t){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=t}return t.prototype.setOption=function(t,e,n){t&&((0,o.S6)((0,c.kF)(t.series),(function(t){t&&t.data&&(0,o.fU)(t.data)&&(0,o.s7)(t.data)})),(0,o.S6)((0,c.kF)(t.dataset),(function(t){t&&t.source&&(0,o.fU)(t.source)&&(0,o.s7)(t.source)}))),t=(0,o.d9)(t);var i=this._optionBackup,r=function(t,e,n){var i,r,a=[],s=t.baseOption,l=t.timeline,c=t.options,u=t.media,h=!!t.media,p=!!(c||l||s&&s.timeline);function d(t){(0,o.S6)(e,(function(e){e(t,n)}))}return s?(r=s).timeline||(r.timeline=l):((p||h)&&(t.options=t.media=null),r=t),h&&(0,o.kJ)(u)&&(0,o.S6)(u,(function(t){t&&t.option&&(t.query?a.push(t):i||(i=t))})),d(r),(0,o.S6)(c,(function(t){return d(t)})),(0,o.S6)(a,(function(t){return d(t.option)})),{baseOption:r,timelineOptions:c||[],mediaDefault:i,mediaList:a}}(t,e,!i);this._newBaseOption=r.baseOption,i?(r.timelineOptions.length&&(i.timelineOptions=r.timelineOptions),r.mediaList.length&&(i.mediaList=r.mediaList),r.mediaDefault&&(i.mediaDefault=r.mediaDefault)):this._optionBackup=r},t.prototype.mountOption=function(t){var e=this._optionBackup;return this._timelineOptions=e.timelineOptions,this._mediaList=e.mediaList,this._mediaDefault=e.mediaDefault,this._currentMediaIndices=[],(0,o.d9)(t?e.baseOption:this._newBaseOption)},t.prototype.getTimelineOption=function(t){var e,n=this._timelineOptions;if(n.length){var i=t.getComponent("timeline");i&&(e=(0,o.d9)(n[i.getCurrentIndex()]))}return e},t.prototype.getMediaOption=function(t){var e,n,i=this._api.getWidth(),r=this._api.getHeight(),a=this._mediaList,s=this._mediaDefault,l=[],c=[];if(!a.length&&!s)return c;for(var u=0,h=a.length;u<h;u++)D(a[u].query,i,r)&&l.push(u);return!l.length&&s&&(l=[-1]),l.length&&(e=l,n=this._currentMediaIndices,e.join(",")!==n.join(","))&&(c=(0,o.UI)(l,(function(t){return(0,o.d9)(-1===t?s.option:a[t].option)}))),this._currentMediaIndices=l,c},t}();function D(t,e,n){var i={width:e,height:n,aspectratio:e/n},r=!0;return(0,o.S6)(t,(function(t,e){var n=e.match(L);if(n&&n[1]&&n[2]){var o=n[1],a=n[2].toLowerCase();(function(t,e,n){return"min"===n?t>=e:"max"===n?t<=e:t===e})(i[a],t,o)||(r=!1)}})),r}const P=I;var R=o.S6,O=o.Kn,k=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function N(t){var e=t&&t.itemStyle;if(e)for(var n=0,i=k.length;n<i;n++){var r=k[n],a=e.normal,s=e.emphasis;a&&a[r]&&(t[r]=t[r]||{},t[r].normal?o.TS(t[r].normal,a[r]):t[r].normal=a[r],a[r]=null),s&&s[r]&&(t[r]=t[r]||{},t[r].emphasis?o.TS(t[r].emphasis,s[r]):t[r].emphasis=s[r],s[r]=null)}}function z(t,e,n){if(t&&t[e]&&(t[e].normal||t[e].emphasis)){var i=t[e].normal,r=t[e].emphasis;i&&(n?(t[e].normal=t[e].emphasis=null,o.ce(t[e],i)):t[e]=i),r&&(t.emphasis=t.emphasis||{},t.emphasis[e]=r,r.focus&&(t.emphasis.focus=r.focus),r.blurScope&&(t.emphasis.blurScope=r.blurScope))}}function B(t){z(t,"itemStyle"),z(t,"lineStyle"),z(t,"areaStyle"),z(t,"label"),z(t,"labelLine"),z(t,"upperLabel"),z(t,"edgeLabel")}function F(t,e){var n=O(t)&&t[e],i=O(n)&&n.textStyle;if(i)for(var r=0,o=c.Td.length;r<o;r++){var a=c.Td[r];i.hasOwnProperty(a)&&(n[a]=i[a])}}function U(t){t&&(B(t),F(t,"label"),t.emphasis&&F(t.emphasis,"label"))}function H(t){return o.kJ(t)?t:t?[t]:[]}function V(t){return(o.kJ(t)?t[0]:t)||{}}function G(t){t&&(0,o.S6)(j,(function(e){e[0]in t&&!(e[1]in t)&&(t[e[1]]=t[e[0]])}))}var j=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],W=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Z=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function q(t){var e=t&&t.itemStyle;if(e)for(var n=0;n<Z.length;n++){var i=Z[n][1],r=Z[n][0];null!=e[i]&&(e[r]=e[i])}}function X(t){t&&"edge"===t.alignTo&&null!=t.margin&&null==t.edgeDistance&&(t.edgeDistance=t.margin)}function Y(t){t&&t.downplay&&!t.blur&&(t.blur=t.downplay)}function J(t,e){if(t)for(var n=0;n<t.length;n++)e(t[n]),t[n]&&J(t[n].children,e)}function K(t,e){(function(t,e){R(H(t.series),(function(t){O(t)&&function(t){if(O(t)){N(t),B(t),F(t,"label"),F(t,"upperLabel"),F(t,"edgeLabel"),t.emphasis&&(F(t.emphasis,"label"),F(t.emphasis,"upperLabel"),F(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(N(e),U(e));var n=t.markLine;n&&(N(n),U(n));var i=t.markArea;i&&U(i);var r=t.data;if("graph"===t.type){r=r||t.nodes;var a=t.links||t.edges;if(a&&!o.fU(a))for(var s=0;s<a.length;s++)U(a[s]);o.S6(t.categories,(function(t){B(t)}))}if(r&&!o.fU(r))for(s=0;s<r.length;s++)U(r[s]);if((e=t.markPoint)&&e.data){var l=e.data;for(s=0;s<l.length;s++)U(l[s])}if((n=t.markLine)&&n.data){var c=n.data;for(s=0;s<c.length;s++)o.kJ(c[s])?(U(c[s][0]),U(c[s][1])):U(c[s])}"gauge"===t.type?(F(t,"axisLabel"),F(t,"title"),F(t,"detail")):"treemap"===t.type?(z(t.breadcrumb,"itemStyle"),o.S6(t.levels,(function(t){B(t)}))):"tree"===t.type&&B(t.leaves)}}(t)}));var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];e&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),R(n,(function(e){R(H(t[e]),(function(t){t&&(F(t,"axisLabel"),F(t.axisPointer,"label"))}))})),R(H(t.parallel),(function(t){var e=t&&t.parallelAxisDefault;F(e,"axisLabel"),F(e&&e.axisPointer,"label")})),R(H(t.calendar),(function(t){z(t,"itemStyle"),F(t,"dayLabel"),F(t,"monthLabel"),F(t,"yearLabel")})),R(H(t.radar),(function(t){F(t,"name"),t.name&&null==t.axisName&&(t.axisName=t.name,delete t.name),null!=t.nameGap&&null==t.axisNameGap&&(t.axisNameGap=t.nameGap,delete t.nameGap)})),R(H(t.geo),(function(t){O(t)&&(U(t),R(H(t.regions),(function(t){U(t)})))})),R(H(t.timeline),(function(t){U(t),z(t,"label"),z(t,"itemStyle"),z(t,"controlStyle",!0);var e=t.data;o.kJ(e)&&o.S6(e,(function(t){o.Kn(t)&&(z(t,"label"),z(t,"itemStyle"))}))})),R(H(t.toolbox),(function(t){z(t,"iconStyle"),R(t.feature,(function(t){z(t,"iconStyle")}))})),F(V(t.axisPointer),"label"),F(V(t.tooltip).axisPointer,"label")})(t,e),t.series=(0,c.kF)(t.series),(0,o.S6)(t.series,(function(t){if((0,o.Kn)(t)){var e=t.type;if("line"===e)null!=t.clipOverflow&&(t.clip=t.clipOverflow);else if("pie"===e||"gauge"===e){if(null!=t.clockWise&&(t.clockwise=t.clockWise),X(t.label),(r=t.data)&&!(0,o.fU)(r))for(var n=0;n<r.length;n++)X(r[n]);null!=t.hoverOffset&&(t.emphasis=t.emphasis||{},(t.emphasis.scaleSize=null)&&(t.emphasis.scaleSize=t.hoverOffset))}else if("gauge"===e){var i=function(t,e){for(var n="pointer.color".split(","),i=t,r=0;r<n.length&&null!=(i=i&&i[n[r]]);r++);return i}(t);null!=i&&function(t,e,n,i){for(var r,o="itemStyle.color".split(","),a=t,s=0;s<o.length-1;s++)null==a[r=o[s]]&&(a[r]={}),a=a[r];null==a[o[s]]&&(a[o[s]]=n)}(t,0,i)}else if("bar"===e){var r;if(q(t),q(t.backgroundStyle),q(t.emphasis),(r=t.data)&&!(0,o.fU)(r))for(n=0;n<r.length;n++)"object"==typeof r[n]&&(q(r[n]),q(r[n]&&r[n].emphasis))}else if("sunburst"===e){var a=t.highlightPolicy;a&&(t.emphasis=t.emphasis||{},t.emphasis.focus||(t.emphasis.focus=a)),Y(t),J(t.data,Y)}else"graph"===e||"sankey"===e?function(t){t&&null!=t.focusNodeAdjacency&&(t.emphasis=t.emphasis||{},null==t.emphasis.focus&&(t.emphasis.focus="adjacency"))}(t):"map"===e&&(t.mapType&&!t.map&&(t.map=t.mapType),t.mapLocation&&(0,o.ce)(t,t.mapLocation));null!=t.hoverAnimation&&(t.emphasis=t.emphasis||{},t.emphasis&&null==t.emphasis.scale&&(t.emphasis.scale=t.hoverAnimation)),G(t)}})),t.dataRange&&(t.visualMap=t.dataRange),(0,o.S6)(W,(function(e){var n=t[e];n&&((0,o.kJ)(n)||(n=[n]),(0,o.S6)(n,(function(t){G(t)})))}))}var $=n(5669);function Q(t){(0,o.S6)(t,(function(e,n){var i=[],r=[NaN,NaN],o=[e.stackResultDimension,e.stackedOverDimension],a=e.data,s=e.isStackedByIndex;a.modify(o,(function(o,l,c){var u,h,p=a.get(e.stackedDimension,c);if(isNaN(p))return r;s?h=a.getRawIndex(c):u=a.get(e.stackedByDimension,c);for(var d=NaN,f=n-1;f>=0;f--){var m=t[f];if(s||(h=m.data.rawIndexOf(m.stackedByDimension,u)),h>=0){var g=m.data.getByRawIndex(m.stackResultDimension,h);if(p>=0&&g>0||p<=0&&g<0){p=(0,$.S$)(p,g),d=g;break}}}return i[0]=p,i[1]=d,i}))}))}var tt=n(9779),et=n(3166),nt=n(5797),it=n(3622),rt=n(4535),ot=n(9266),at=n(6134),st=n(106),lt=n(6357),ct=n(270),ut=n(9066),ht=n(9887),pt=n(7515),dt=(0,c.Yf)(),ft={itemStyle:(0,ut.Z)(ht.t,!0),lineStyle:(0,ut.Z)(pt.v,!0)},mt={lineStyle:"stroke",itemStyle:"fill"};function gt(t,e){return t.visualStyleMapper||ft[e]||(console.warn("Unkown style type '"+e+"'."),ft.itemStyle)}function vt(t,e){return t.visualDrawType||mt[e]||(console.warn("Unkown style type '"+e+"'."),"fill")}var yt={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData(),i=t.visualStyleAccessPath||"itemStyle",r=t.getModel(i),a=gt(t,i)(r),s=r.getShallow("decal");s&&(n.setVisual("decal",s),s.dirty=!0);var l=vt(t,i),c=a[l],u=(0,o.mf)(c)?c:null,h="auto"===a.fill||"auto"===a.stroke;if(!a[l]||u||h){var p=t.getColorFromPalette(t.name,null,e.getSeriesCount());a[l]||(a[l]=p,n.setVisual("colorFromPalette",!0)),a.fill="auto"===a.fill||(0,o.mf)(a.fill)?p:a.fill,a.stroke="auto"===a.stroke||(0,o.mf)(a.stroke)?p:a.stroke}if(n.setVisual("style",a),n.setVisual("drawType",l),!e.isSeriesFiltered(t)&&u)return n.setVisual("colorFromPalette",!1),{dataEach:function(e,n){var i=t.getDataParams(n),r=(0,o.l7)({},a);r[l]=u(i),e.setItemVisual(n,"style",r)}}}},_t=new u.Z,xt={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(!t.ignoreStyleOnData&&!e.isSeriesFiltered(t)){var n=t.getData(),i=t.visualStyleAccessPath||"itemStyle",r=gt(t,i),a=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(t,e){var n=t.getRawDataItem(e);if(n&&n[i]){_t.option=n[i];var s=r(_t),l=t.ensureUniqueItemVisual(e,"style");(0,o.l7)(l,s),_t.option.decal&&(t.setItemVisual(e,"decal",_t.option.decal),_t.option.decal.dirty=!0),a in s&&t.setItemVisual(e,"colorFromPalette",!1)}}:null}}}},bt={performRawSeries:!0,overallReset:function(t){var e=(0,o.kW)();t.eachSeries((function(t){var n=t.getColorBy();if(!t.isColorBySeries()){var i=t.type+"-"+n,r=e.get(i);r||(r={},e.set(i,r)),dt(t).scope=r}})),t.eachSeries((function(e){if(!e.isColorBySeries()&&!t.isSeriesFiltered(e)){var n=e.getRawData(),i={},r=e.getData(),o=dt(e).scope,a=e.visualStyleAccessPath||"itemStyle",s=vt(e,a);r.each((function(t){var e=r.getRawIndex(t);i[e]=t})),n.each((function(t){var a=i[t];if(r.getItemVisual(a,"colorFromPalette")){var l=r.ensureUniqueItemVisual(a,"style"),c=n.getName(t)||t+"",u=n.count();l[s]=e.getColorFromPalette(c,o,u)}}))}}))}},wt=n(8154),St=n(9074),Mt=n(4826),Tt=Math.PI,Et=n(8674),At=n(2151),Ct=function(){function t(t,e,n,i){this._stageTaskMap=(0,o.kW)(),this.ecInstance=t,this.api=e,n=this._dataProcessorHandlers=n.slice(),i=this._visualHandlers=i.slice(),this._allHandlers=n.concat(i)}return t.prototype.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each((function(t){var e=t.overallTask;e&&e.dirty()}))},t.prototype.getPerformArgs=function(t,e){if(t.__pipeline){var n=this._pipelineMap.get(t.__pipeline.id),i=n.context,r=!e&&n.progressiveEnabled&&(!i||i.progressiveRender)&&t.__idxInPipeline>n.blockIndex?n.step:null,o=i&&i.modDataCount;return{step:r,modBy:null!=o?Math.ceil(o/r):null,modDataCount:o}}},t.prototype.getPipeline=function(t){return this._pipelineMap.get(t)},t.prototype.updateStreamModes=function(t,e){var n=this._pipelineMap.get(t.uid),i=t.getData().count(),r=n.progressiveEnabled&&e.incrementalPrepareRender&&i>=n.threshold,o=t.get("large")&&i>=t.get("largeThreshold"),a="mod"===t.get("progressiveChunkMode")?i:null;t.pipelineContext=n.context={progressiveRender:r,modDataCount:a,large:o}},t.prototype.restorePipelines=function(t){var e=this,n=e._pipelineMap=(0,o.kW)();t.eachSeries((function(t){var i=t.getProgressive(),r=t.uid;n.set(r,{id:r,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:i&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(i||700),count:0}),e._pipe(t,t.dataTask)}))},t.prototype.prepareStageTasks=function(){var t=this._stageTaskMap,e=this.api.getModel(),n=this.api;(0,o.S6)(this._allHandlers,(function(i){var r=t.get(i.uid)||t.set(i.uid,{});(0,o.hu)(!(i.reset&&i.overallReset),""),i.reset&&this._createSeriesStageTask(i,r,e,n),i.overallReset&&this._createOverallStageTask(i,r,e,n)}),this)},t.prototype.prepareView=function(t,e,n,i){var r=t.renderTask,o=r.context;o.model=e,o.ecModel=n,o.api=i,r.__block=!t.incrementalPrepareRender,this._pipe(e,r)},t.prototype.performDataProcessorTasks=function(t,e){this._performStageTasks(this._dataProcessorHandlers,t,e,{block:!0})},t.prototype.performVisualTasks=function(t,e,n){this._performStageTasks(this._visualHandlers,t,e,n)},t.prototype._performStageTasks=function(t,e,n,i){i=i||{};var r=!1,a=this;function s(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}(0,o.S6)(t,(function(t,o){if(!i.visualType||i.visualType===t.visualType){var l=a._stageTaskMap.get(t.uid),c=l.seriesTaskMap,u=l.overallTask;if(u){var h,p=u.agentStubMap;p.each((function(t){s(i,t)&&(t.dirty(),h=!0)})),h&&u.dirty(),a.updatePayload(u,n);var d=a.getPerformArgs(u,i.block);p.each((function(t){t.perform(d)})),u.perform(d)&&(r=!0)}else c&&c.each((function(o,l){s(i,o)&&o.dirty();var c=a.getPerformArgs(o,i.block);c.skip=!t.performRawSeries&&e.isSeriesFiltered(o.context.model),a.updatePayload(o,n),o.perform(c)&&(r=!0)}))}})),this.unfinished=r||this.unfinished},t.prototype.performSeriesTasks=function(t){var e;t.eachSeries((function(t){e=t.dataTask.perform()||e})),this.unfinished=e||this.unfinished},t.prototype.plan=function(){this._pipelineMap.each((function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}e=e.getUpstream()}while(e)}))},t.prototype.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)},t.prototype._createSeriesStageTask=function(t,e,n,i){var r=this,a=e.seriesTaskMap,s=e.seriesTaskMap=(0,o.kW)(),l=t.seriesType,c=t.getTargetSeries;function u(e){var o=e.uid,l=s.set(o,a&&a.get(o)||(0,Et.v)({plan:Rt,reset:Ot,count:zt}));l.context={model:e,ecModel:n,api:i,useClearVisual:t.isVisual&&!t.isLayout,plan:t.plan,reset:t.reset,scheduler:r},r._pipe(e,l)}t.createOnAllSeries?n.eachRawSeries(u):l?n.eachRawSeriesByType(l,u):c&&c(n,i).each(u)},t.prototype._createOverallStageTask=function(t,e,n,i){var r=this,a=e.overallTask=e.overallTask||(0,Et.v)({reset:Lt});a.context={ecModel:n,api:i,overallReset:t.overallReset,scheduler:r};var s=a.agentStubMap,l=a.agentStubMap=(0,o.kW)(),c=t.seriesType,u=t.getTargetSeries,h=!0,p=!1;function d(t){var e=t.uid,n=l.set(e,s&&s.get(e)||(p=!0,(0,Et.v)({reset:It,onDirty:Pt})));n.context={model:t,overallProgress:h},n.agent=a,n.__block=h,r._pipe(t,n)}(0,o.hu)(!t.createOnAllSeries,""),c?n.eachRawSeriesByType(c,d):u?u(n,i).each(d):(h=!1,(0,o.S6)(n.getSeries(),d)),p&&a.dirty()},t.prototype._pipe=function(t,e){var n=t.uid,i=this._pipelineMap.get(n);!i.head&&(i.head=e),i.tail&&i.tail.pipe(e),i.tail=e,e.__idxInPipeline=i.count++,e.__pipeline=i},t.wrapStageHandler=function(t,e){return(0,o.mf)(t)&&(t={overallReset:t,seriesType:Bt(t)}),t.uid=(0,At.Kr)("stageHandler"),e&&(t.visualType=e),t},t}();function Lt(t){t.overallReset(t.ecModel,t.api,t.payload)}function It(t){return t.overallProgress&&Dt}function Dt(){this.agent.dirty(),this.getDownstream().dirty()}function Pt(){this.agent&&this.agent.dirty()}function Rt(t){return t.plan?t.plan(t.model,t.ecModel,t.api,t.payload):null}function Ot(t){t.useClearVisual&&t.data.clearAllVisual();var e=t.resetDefines=(0,c.kF)(t.reset(t.model,t.ecModel,t.api,t.payload));return e.length>1?(0,o.UI)(e,(function(t,e){return Nt(e)})):kt}var kt=Nt(0);function Nt(t){return function(e,n){var i=n.data,r=n.resetDefines[t];if(r&&r.dataEach)for(var o=e.start;o<e.end;o++)r.dataEach(i,o);else r&&r.progress&&r.progress(e,i)}}function zt(t){return t.data.count()}function Bt(t){Ft=null;try{t(Ut,Ht)}catch(t){}return Ft}var Ft,Ut={},Ht={};function Vt(t,e){for(var n in e.prototype)t[n]=o.ZT}Vt(Ut,T),Vt(Ht,A),Ut.eachSeriesByType=Ut.eachRawSeriesByType=function(t){Ft=t},Ut.eachComponent=function(t){"series"===t.mainType&&t.subType&&(Ft=t.subType)};const Gt=Ct;var jt=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const Wt={color:jt,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],jt]};var Zt="#B9B8CE",qt="#100C2A",Xt=function(){return{axisLine:{lineStyle:{color:Zt}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},Yt=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],Jt={darkMode:!0,color:Yt,backgroundColor:qt,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:Zt}},textStyle:{color:Zt},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:Zt}},dataZoom:{borderColor:"#71708A",textStyle:{color:Zt},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:Zt}},timeline:{lineStyle:{color:Zt},label:{color:Zt},controlStyle:{color:Zt,borderColor:Zt}},calendar:{itemStyle:{color:qt},dayLabel:{color:Zt},monthLabel:{color:Zt},yearLabel:{color:Zt}},timeAxis:Xt(),logAxis:Xt(),valueAxis:Xt(),categoryAxis:Xt(),line:{symbol:"circle"},graph:{color:Yt},gauge:{title:{color:Zt},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:Zt},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};Jt.categoryAxis.splitLine.show=!1;const Kt=Jt;var $t=n(4251),Qt=function(){function t(){}return t.prototype.normalizeQuery=function(t){var e={},n={},i={};if(o.HD(t)){var r=(0,$t.u9)(t);e.mainType=r.main||null,e.subType=r.sub||null}else{var a=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1};o.S6(t,(function(t,r){for(var o=!1,l=0;l<a.length;l++){var c=a[l],u=r.lastIndexOf(c);if(u>0&&u===r.length-c.length){var h=r.slice(0,u);"data"!==h&&(e.mainType=h,e[c.toLowerCase()]=t,o=!0)}}s.hasOwnProperty(r)&&(n[r]=t,o=!0),o||(i[r]=t)}))}return{cptQuery:e,dataQuery:n,otherQuery:i}},t.prototype.filter=function(t,e){var n=this.eventInfo;if(!n)return!0;var i=n.targetEl,r=n.packedEvent,o=n.model,a=n.view;if(!o||!a)return!0;var s=e.cptQuery,l=e.dataQuery;return c(s,o,"mainType")&&c(s,o,"subType")&&c(s,o,"index","componentIndex")&&c(s,o,"name")&&c(s,o,"id")&&c(l,r,"name")&&c(l,r,"dataIndex")&&c(l,r,"dataType")&&(!a.filterForExposedEvent||a.filterForExposedEvent(t,e.otherQuery,i,r));function c(t,e,n,i){return null==t[n]||e[i||n]===t[n]}},t.prototype.afterTrigger=function(){this.eventInfo=null},t}(),te=["symbol","symbolSize","symbolRotate","symbolOffset"],ee=te.concat(["symbolKeepAspect"]),ne={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){var n=t.getData();if(t.legendIcon&&n.setVisual("legendIcon",t.legendIcon),t.hasSymbolVisual){for(var i={},r={},a=!1,s=0;s<te.length;s++){var l=te[s],c=t.get(l);(0,o.mf)(c)?(a=!0,r[l]=c):i[l]=c}if(i.symbol=i.symbol||t.defaultSymbol,n.setVisual((0,o.l7)({legendIcon:t.legendIcon||i.symbol,symbolKeepAspect:t.get("symbolKeepAspect")},i)),!e.isSeriesFiltered(t)){var u=(0,o.XP)(r);return{dataEach:a?function(e,n){for(var i=t.getRawValue(n),o=t.getDataParams(n),a=0;a<u.length;a++){var s=u[a];e.setItemVisual(n,s,r[s](i,o))}}:null}}}}},ie={createOnAllSeries:!0,performRawSeries:!0,reset:function(t,e){if(t.hasSymbolVisual&&!e.isSeriesFiltered(t))return{dataEach:t.getData().hasItemOption?function(t,e){for(var n=t.getItemModel(e),i=0;i<ee.length;i++){var r=ee[i],o=n.getShallow(r,!0);null!=o&&t.setItemVisual(e,r,o)}}:null}}},re=n(6211),oe=n(175);function ae(t,e,n,i,r){var a=t+e;n.isSilent(a)||i.eachComponent({mainType:"series",subType:"pie"},(function(t){for(var e=t.seriesIndex,i=t.option.selectedMap,s=r.selected,l=0;l<s.length;l++)if(s[l].seriesIndex===e){var u=t.getData(),h=(0,c.gO)(u,r.fromActionPayload);n.trigger(a,{type:a,seriesId:t.id,name:(0,o.kJ)(h)?u.getName(h[0]):u.getName(h),selected:(0,o.HD)(i)?i:(0,o.l7)({},i)})}}))}var se=n(437),le=n(3917),ce=n(8310),ue=Math.round(9*Math.random()),he="function"==typeof Object.defineProperty;const pe=function(){function t(){this._id="__ec_inner_"+ue++}return t.prototype.get=function(t){return this._guard(t)[this._id]},t.prototype.set=function(t,e){var n=this._guard(t);return he?Object.defineProperty(n,this._id,{value:e,enumerable:!1,configurable:!0}):n[this._id]=e,this},t.prototype.delete=function(t){return!!this.has(t)&&(delete this._guard(t)[this._id],!0)},t.prototype.has=function(t){return!!this._guard(t)[this._id]},t.prototype._guard=function(t){if(t!==Object(t))throw TypeError("Value of WeakMap is not a non-null object.");return t},t}();var de=n(2528),fe=n(1525),me=n(8712),ge=n(3132),ve=new pe,ye=new de.ZP(100),_e=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function xe(t,e){if("none"===t)return null;var n=e.getDevicePixelRatio(),i=e.getZr(),r="svg"===i.painter.type;t.dirty&&ve.delete(t);var a=ve.get(t);if(a)return a;var s=(0,o.ce)(t,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});"none"===s.backgroundColor&&(s.backgroundColor=null);var l={repeat:"repeat"};return function(t){for(var e,a=[n],l=!0,c=0;c<_e.length;++c){var u=s[_e[c]];if(null!=u&&!(0,o.kJ)(u)&&!(0,o.HD)(u)&&!(0,o.hj)(u)&&"boolean"!=typeof u){l=!1;break}a.push(u)}if(l){e=a.join(",")+(r?"-svg":"");var h=ye.get(e);h&&(r?t.svgElement=h:t.image=h)}var p,d,f=we(s.dashArrayX),m=function(t){if(!t||"object"==typeof t&&0===t.length)return[0,0];if((0,o.hj)(t)){var e=Math.ceil(t);return[e,e]}var n=(0,o.UI)(t,(function(t){return Math.ceil(t)}));return t.length%2?n.concat(n):n}(s.dashArrayY),g=be(s.symbol),v=(d=f,(0,o.UI)(d,(function(t){return Se(t)}))),y=Se(m),_=!r&&ge.qW.createCanvas(),x=r&&{tag:"g",attrs:{},key:"dcl",children:[]},b=function(){for(var t=1,e=0,n=v.length;e<n;++e)t=(0,$.nl)(t,v[e]);var i=1;for(e=0,n=g.length;e<n;++e)i=(0,$.nl)(i,g[e].length);t*=i;var r=y*v.length*g.length;return{width:Math.max(1,Math.min(t,s.maxTileWidth)),height:Math.max(1,Math.min(r,s.maxTileHeight))}}();_&&(_.width=b.width*n,_.height=b.height*n,p=_.getContext("2d")),function(){p&&(p.clearRect(0,0,_.width,_.height),s.backgroundColor&&(p.fillStyle=s.backgroundColor,p.fillRect(0,0,_.width,_.height)));for(var t=0,e=0;e<m.length;++e)t+=m[e];if(!(t<=0))for(var o=-y,a=0,l=0,c=0;o<b.height;){if(a%2==0){for(var u=l/2%g.length,h=0,d=0,v=0;h<2*b.width;){var w=0;for(e=0;e<f[c].length;++e)w+=f[c][e];if(w<=0)break;if(d%2==0){var S=.5*(1-s.symbolSize),M=h+f[c][d]*S,T=o+m[a]*S,E=f[c][d]*s.symbolSize,A=m[a]*s.symbolSize,C=v/2%g[u].length;L(M,T,E,A,g[u][C])}h+=f[c][d],++v,++d===f[c].length&&(d=0)}++c===f.length&&(c=0)}o+=m[a],++l,++a===m.length&&(a=0)}function L(t,e,o,a,l){var c=r?1:n,u=(0,fe.th)(l,t*c,e*c,o*c,a*c,s.color,s.symbolKeepAspect);if(r){var h=i.painter.renderOneToVNode(u);h&&x.children.push(h)}else(0,me.RV)(p,u)}}(),l&&ye.put(e,_||x),t.image=_,t.svgElement=x,t.svgWidth=b.width,t.svgHeight=b.height}(l),l.rotation=s.rotation,l.scaleX=l.scaleY=r?1:1/n,ve.set(t,l),t.dirty=!1,l}function be(t){if(!t||0===t.length)return[["rect"]];if((0,o.HD)(t))return[[t]];for(var e=!0,n=0;n<t.length;++n)if(!(0,o.HD)(t[n])){e=!1;break}if(e)return be([t]);var i=[];for(n=0;n<t.length;++n)(0,o.HD)(t[n])?i.push([t[n]]):i.push(t[n]);return i}function we(t){if(!t||0===t.length)return[[0,0]];if((0,o.hj)(t))return[[r=Math.ceil(t),r]];for(var e=!0,n=0;n<t.length;++n)if(!(0,o.hj)(t[n])){e=!1;break}if(e)return we([t]);var i=[];for(n=0;n<t.length;++n)if((0,o.hj)(t[n])){var r=Math.ceil(t[n]);i.push([r,r])}else(r=(0,o.UI)(t[n],(function(t){return Math.ceil(t)}))).length%2==1?i.push(r.concat(r)):i.push(r);return i}function Se(t){for(var e=0,n=0;n<t.length;++n)e+=t[n];return t.length%2==1?2*e:e}const Me=new l.Z;var Te=n(9428),Ee="undefined"!=typeof window,Ae=2e3,Ce=4500,Le={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:Ae,CHART:3e3,POST_CHART_LAYOUT:4600,COMPONENT:4e3,BRUSH:5e3,CHART_ITEM:Ce,ARIA:6e3,DECAL:7e3}},Ie=/^[a-zA-Z0-9_]+$/,De="__connectUpdateStatus";function Pe(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(!this.isDisposed())return Oe(this,t,e);on(this.id)}}function Re(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return Oe(this,t,e)}}function Oe(t,e,n){return n[0]=n[0]&&n[0].toLowerCase(),l.Z.prototype[e].apply(t,n)}var ke,Ne,ze,Be,Fe,Ue,He,Ve,Ge,je,We,Ze,qe,Xe,Ye,Je,Ke,$e,Qe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e}(l.Z),tn=Qe.prototype;tn.on=Re("on"),tn.off=Re("off");var en=function(t){function e(e,n,i){var a=t.call(this,new Qt)||this;a._chartsViews=[],a._chartsMap={},a._componentsViews=[],a._componentsMap={},a._pendingActions=[],i=i||{},(0,o.HD)(n)&&(n=hn[n]),a._dom=e;var l=a._zr=r.S1(e,{renderer:i.renderer||"canvas",devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height,ssr:i.ssr,useDirtyRect:null!=i.useDirtyRect&&i.useDirtyRect});a._ssr=i.ssr,a._throttledZrFlush=(0,ct.P2)((0,o.ak)(l.flush,l),17),(n=(0,o.d9)(n))&&K(n,!0),a._theme=n,a._locale=(0,le.D0)(i.locale||le.sO),a._coordSysMgr=new C.Z;var c=a._api=Ye(a);function u(t,e){return t.__prio-e.__prio}return(0,s.Z)(un,u),(0,s.Z)(ln,u),a._scheduler=new Gt(a,c,ln,un),a._messageCenter=new Qe,a._initEvents(),a.resize=(0,o.ak)(a.resize,a),l.animation.on("frame",a._onframe,a),je(l,a),We(l,a),(0,o.s7)(a),a}return(0,i.ZT)(e,t),e.prototype._onframe=function(){if(!this._disposed){$e(this);var t=this._scheduler;if(this.__pendingUpdate){var e=this.__pendingUpdate.silent;this.__flagInMainProcess=!0;try{ke(this),Be.update.call(this,null,this.__pendingUpdate.updateParams)}catch(t){throw this.__flagInMainProcess=!1,this.__pendingUpdate=null,t}this._zr.flush(),this.__flagInMainProcess=!1,this.__pendingUpdate=null,Ve.call(this,e),Ge.call(this,e)}else if(t.unfinished){var n=1,i=this._model,r=this._api;t.unfinished=!1;do{var o=+new Date;t.performSeriesTasks(i),t.performDataProcessorTasks(i),Ue(this,i),t.performVisualTasks(i),Xe(this,this._model,r,"remain",{}),n-=+new Date-o}while(n>0&&t.unfinished);t.unfinished||this._zr.flush()}}},e.prototype.getDom=function(){return this._dom},e.prototype.getId=function(){return this.id},e.prototype.getZr=function(){return this._zr},e.prototype.isSSR=function(){return this._ssr},e.prototype.setOption=function(t,e,n){if(!this.__flagInMainProcess)if(this._disposed)on(this.id);else{var i,r,a;if((0,o.Kn)(e)&&(n=e.lazyUpdate,i=e.silent,r=e.replaceMerge,a=e.transition,e=e.notMerge),this.__flagInMainProcess=!0,!this._model||e){var s=new P(this._api),l=this._theme,c=this._model=new T;c.scheduler=this._scheduler,c.ssr=this._ssr,c.init(null,null,null,l,this._locale,s)}this._model.setOption(t,{replaceMerge:r},cn);var u={seriesTransition:a,optionChanged:!0};if(n)this.__pendingUpdate={silent:i,updateParams:u},this.__flagInMainProcess=!1,this.getZr().wakeUp();else{try{ke(this),Be.update.call(this,null,u)}catch(t){throw this.__pendingUpdate=null,this.__flagInMainProcess=!1,t}this._ssr||this._zr.flush(),this.__pendingUpdate=null,this.__flagInMainProcess=!1,Ve.call(this,i),Ge.call(this,i)}}},e.prototype.setTheme=function(){(0,oe.Sh)("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},e.prototype.getModel=function(){return this._model},e.prototype.getOption=function(){return this._model&&this._model.getOption()},e.prototype.getWidth=function(){return this._zr.getWidth()},e.prototype.getHeight=function(){return this._zr.getHeight()},e.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||Ee&&window.devicePixelRatio||1},e.prototype.getRenderedCanvas=function(t){return this.renderToCanvas(t)},e.prototype.renderToCanvas=function(t){return t=t||{},this._zr.painter.getRenderedCanvas({backgroundColor:t.backgroundColor||this._model.get("backgroundColor"),pixelRatio:t.pixelRatio||this.getDevicePixelRatio()})},e.prototype.renderToSVGString=function(t){return t=t||{},this._zr.painter.renderToString({useViewBox:t.useViewBox})},e.prototype.getSvgDataURL=function(){if(a.Z.svgSupported){var t=this._zr,e=t.storage.getDisplayList();return(0,o.S6)(e,(function(t){t.stopAnimation(null,!0)})),t.painter.toDataURL()}},e.prototype.getDataURL=function(t){if(!this._disposed){var e=(t=t||{}).excludeComponents,n=this._model,i=[],r=this;(0,o.S6)(e,(function(t){n.eachComponent({mainType:t},(function(t){var e=r._componentsMap[t.__viewId];e.group.ignore||(i.push(e),e.group.ignore=!0)}))}));var a="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.renderToCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return(0,o.S6)(i,(function(t){t.group.ignore=!1})),a}on(this.id)},e.prototype.getConnectedDataURL=function(t){if(!this._disposed){var e="svg"===t.type,n=this.group,i=Math.min,a=Math.max,s=1/0;if(fn[n]){var l=s,c=s,u=-1/0,h=-1/0,p=[],d=t&&t.pixelRatio||this.getDevicePixelRatio();(0,o.S6)(dn,(function(r,s){if(r.group===n){var d=e?r.getZr().painter.getSvgDom().innerHTML:r.renderToCanvas((0,o.d9)(t)),f=r.getDom().getBoundingClientRect();l=i(f.left,l),c=i(f.top,c),u=a(f.right,u),h=a(f.bottom,h),p.push({dom:d,left:f.left,top:f.top})}}));var f=(u*=d)-(l*=d),m=(h*=d)-(c*=d),g=ge.qW.createCanvas(),v=r.S1(g,{renderer:e?"svg":"canvas"});if(v.resize({width:f,height:m}),e){var y="";return(0,o.S6)(p,(function(t){var e=t.left-l,n=t.top-c;y+='<g transform="translate('+e+","+n+')">'+t.dom+"</g>"})),v.painter.getSvgRoot().innerHTML=y,t.connectedBackgroundColor&&v.painter.setBackgroundColor(t.connectedBackgroundColor),v.refreshImmediately(),v.painter.toDataURL()}return t.connectedBackgroundColor&&v.add(new it.Z({shape:{x:0,y:0,width:f,height:m},style:{fill:t.connectedBackgroundColor}})),(0,o.S6)(p,(function(t){var e=new rt.ZP({style:{x:t.left*d-l,y:t.top*d-c,image:t.dom}});v.add(e)})),v.refreshImmediately(),g.toDataURL("image/"+(t&&t.type||"png"))}return this.getDataURL(t)}on(this.id)},e.prototype.convertToPixel=function(t,e){return Fe(this,"convertToPixel",t,e)},e.prototype.convertFromPixel=function(t,e){return Fe(this,"convertFromPixel",t,e)},e.prototype.containPixel=function(t,e){if(!this._disposed){var n,i=this._model,r=c.pm(i,t);return(0,o.S6)(r,(function(t,i){i.indexOf("Models")>=0&&(0,o.S6)(t,(function(t){var r=t.coordinateSystem;if(r&&r.containPoint)n=n||!!r.containPoint(e);else if("seriesModels"===i){var o=this._chartsMap[t.__viewId];o&&o.containPoint&&(n=n||o.containPoint(e,t))}}),this)}),this),!!n}on(this.id)},e.prototype.getVisual=function(t,e){var n=this._model,i=c.pm(n,t,{defaultMainType:"series"}),r=i.seriesModel.getData(),o=i.hasOwnProperty("dataIndexInside")?i.dataIndexInside:i.hasOwnProperty("dataIndex")?r.indexOfRawIndex(i.dataIndex):null;return null!=o?(0,re.Or)(r,o,e):(0,re.UL)(r,e)},e.prototype.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},e.prototype.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]},e.prototype._initEvents=function(){var t,e,n,i=this;(0,o.S6)(rn,(function(t){var e=function(e){var n,r=i.getModel(),a=e.target;if("globalout"===t?n={}:a&&(0,ce.o)(a,(function(t){var e=(0,st.A)(t);if(e&&null!=e.dataIndex){var i=e.dataModel||r.getSeriesByIndex(e.seriesIndex);return n=i&&i.getDataParams(e.dataIndex,e.dataType)||{},!0}if(e.eventData)return n=(0,o.l7)({},e.eventData),!0}),!0),n){var s=n.componentType,l=n.componentIndex;"markLine"!==s&&"markPoint"!==s&&"markArea"!==s||(s="series",l=n.seriesIndex);var c=s&&null!=l&&r.getComponent(s,l),u=c&&i["series"===c.mainType?"_chartsMap":"_componentsMap"][c.__viewId];n.event=e,n.type=t,i._$eventProcessor.eventInfo={targetEl:a,packedEvent:n,model:c,view:u},i.trigger(t,n)}};e.zrEventfulCallAtLast=!0,i._zr.on(t,e,i)})),(0,o.S6)(sn,(function(t,e){i._messageCenter.on(e,(function(t){this.trigger(e,t)}),i)})),(0,o.S6)(["selectchanged"],(function(t){i._messageCenter.on(t,(function(e){this.trigger(t,e)}),i)})),t=this._messageCenter,e=this,n=this._api,t.on("selectchanged",(function(t){var i=n.getModel();t.isFromClick?(ae("map","selectchanged",e,i,t),ae("pie","selectchanged",e,i,t)):"select"===t.fromAction?(ae("map","selected",e,i,t),ae("pie","selected",e,i,t)):"unselect"===t.fromAction&&(ae("map","unselected",e,i,t),ae("pie","unselected",e,i,t))}))},e.prototype.isDisposed=function(){return this._disposed},e.prototype.clear=function(){this._disposed?on(this.id):this.setOption({series:[]},!0)},e.prototype.dispose=function(){if(this._disposed)on(this.id);else{this._disposed=!0,this.getDom()&&c.P$(this.getDom(),gn,"");var t=this,e=t._api,n=t._model;(0,o.S6)(t._componentsViews,(function(t){t.dispose(n,e)})),(0,o.S6)(t._chartsViews,(function(t){t.dispose(n,e)})),t._zr.dispose(),t._dom=t._model=t._chartsMap=t._componentsMap=t._chartsViews=t._componentsViews=t._scheduler=t._api=t._zr=t._throttledZrFlush=t._theme=t._coordSysMgr=t._messageCenter=null,delete dn[t.id]}},e.prototype.resize=function(t){if(!this.__flagInMainProcess)if(this._disposed)on(this.id);else{this._zr.resize(t);var e=this._model;if(this._loadingFX&&this._loadingFX.resize(),e){var n=e.resetOption("media"),i=t&&t.silent;this.__pendingUpdate&&(null==i&&(i=this.__pendingUpdate.silent),n=!0,this.__pendingUpdate=null),this.__flagInMainProcess=!0;try{n&&ke(this),Be.update.call(this,{type:"resize",animation:(0,o.l7)({duration:0},t&&t.animation)})}catch(t){throw this.__flagInMainProcess=!1,t}this.__flagInMainProcess=!1,Ve.call(this,i),Ge.call(this,i)}}},e.prototype.showLoading=function(t,e){if(this._disposed)on(this.id);else if((0,o.Kn)(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),pn[t]){var n=pn[t](this._api,e),i=this._zr;this._loadingFX=n,i.add(n)}},e.prototype.hideLoading=function(){this._disposed?on(this.id):(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},e.prototype.makeActionFromEvent=function(t){var e=(0,o.l7)({},t);return e.type=sn[t.type],e},e.prototype.dispatchAction=function(t,e){if(this._disposed)on(this.id);else if((0,o.Kn)(e)||(e={silent:!!e}),an[t.type]&&this._model)if(this.__flagInMainProcess)this._pendingActions.push(t);else{var n=e.silent;He.call(this,t,n);var i=e.flush;i?this._zr.flush():!1!==i&&a.Z.browser.weChat&&this._throttledZrFlush(),Ve.call(this,n),Ge.call(this,n)}},e.prototype.updateLabelLayout=function(){Me.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},e.prototype.appendData=function(t){if(this._disposed)on(this.id);else{var e=t.seriesIndex;this.getModel().getSeriesByIndex(e).appendData(t),this._scheduler.unfinished=!0,this.getZr().wakeUp()}},e.internalField=function(){function t(t){t.clearColorPalette(),t.eachSeries((function(t){t.clearColorPalette()}))}function e(t){for(var e=[],n=t.currentStates,i=0;i<n.length;i++){var r=n[i];"emphasis"!==r&&"blur"!==r&&"select"!==r&&e.push(r)}t.selected&&t.states.select&&e.push("select"),t.hoverState===lt.wU&&t.states.emphasis?e.push("emphasis"):t.hoverState===lt.CX&&t.states.blur&&e.push("blur"),t.useStates(e)}function n(t,e){if(!t.preventAutoZ){var n=t.get("z")||0,i=t.get("zlevel")||0;e.eachRendered((function(t){return r(t,n,i,-1/0),!0}))}}function r(t,e,n,i){var o=t.getTextContent(),a=t.getTextGuideLine();if(t.isGroup)for(var s=t.childrenRef(),l=0;l<s.length;l++)i=Math.max(r(s[l],e,n,i),i);else t.z=e,t.zlevel=n,i=Math.max(t.z2,i);if(o&&(o.z=e,o.zlevel=n,isFinite(i)&&(o.z2=i+2)),a){var c=t.textGuideLineConfig;a.z=e,a.zlevel=n,isFinite(i)&&(a.z2=i+(c&&c.showAbove?1:-1))}return i}function l(t,e){e.eachRendered((function(t){if(!ot.eq(t)){var e=t.getTextContent(),n=t.getTextGuideLine();t.stateTransition&&(t.stateTransition=null),e&&e.stateTransition&&(e.stateTransition=null),n&&n.stateTransition&&(n.stateTransition=null),t.hasState()?(t.prevStates=t.currentStates,t.clearStates()):t.prevStates&&(t.prevStates=null)}}))}function u(t,n){var i=t.getModel("stateAnimation"),r=t.isAnimationEnabled(),o=i.get("duration"),a=o>0?{duration:o,delay:i.get("delay"),easing:i.get("easing")}:null;n.eachRendered((function(t){if(t.states&&t.states.emphasis){if(ot.eq(t))return;if(t instanceof at.ZP&&(0,lt.e9)(t),t.__dirty){var n=t.prevStates;n&&t.useStates(n)}if(r){t.stateTransition=a;var i=t.getTextContent(),o=t.getTextGuideLine();i&&(i.stateTransition=a),o&&(o.stateTransition=a)}t.__dirty&&e(t)}}))}ke=function(t){var e=t._scheduler;e.restorePipelines(t._model),e.prepareStageTasks(),Ne(t,!0),Ne(t,!1),e.plan()},Ne=function(t,e){for(var n=t._model,i=t._scheduler,r=e?t._componentsViews:t._chartsViews,o=e?t._componentsMap:t._chartsMap,a=t._zr,s=t._api,l=0;l<r.length;l++)r[l].__alive=!1;function c(t){var l=t.__requireNewView;t.__requireNewView=!1;var c="_ec_"+t.id+"_"+t.type,u=!l&&o[c];if(!u){var h=(0,$t.u9)(t.type);(u=new(e?et.Z.getClass(h.main,h.sub):nt.Z.getClass(h.sub))).init(n,s),o[c]=u,r.push(u),a.add(u.group)}t.__viewId=u.__id=c,u.__alive=!0,u.__model=t,u.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},!e&&i.prepareView(u,t,n,s)}for(e?n.eachComponent((function(t,e){"series"!==t&&c(e)})):n.eachSeries(c),l=0;l<r.length;){var u=r[l];u.__alive?l++:(!e&&u.renderTask.dispose(),a.remove(u.group),u.dispose(n,s),r.splice(l,1),o[u.__id]===u&&delete o[u.__id],u.__id=u.group.__ecComponentInfo=null)}},ze=function(t,e,n,i,r){var a=t._model;if(a.setUpdatePayload(n),i){var s={};s[i+"Id"]=n[i+"Id"],s[i+"Index"]=n[i+"Index"],s[i+"Name"]=n[i+"Name"];var l={mainType:i,query:s};r&&(l.subType=r);var u,h=n.excludeSeriesId;null!=h&&(u=(0,o.kW)(),(0,o.S6)(c.kF(h),(function(t){var e=c.U5(t,null);null!=e&&u.set(e,!0)}))),a&&a.eachComponent(l,(function(e){if(!u||null===u.get(e.id))if((0,lt.xp)(n))if(e instanceof tt.Z)n.type!==lt.Ki||n.notBlur||e.get(["emphasis","disabled"])||(0,lt.UL)(e,n,t._api);else{var i=(0,lt.oJ)(e.mainType,e.componentIndex,n.name,t._api),r=i.focusSelf,a=i.dispatchers;n.type===lt.Ki&&r&&!n.notBlur&&(0,lt.zI)(e.mainType,e.componentIndex,t._api),a&&(0,o.S6)(a,(function(t){n.type===lt.Ki?(0,lt.fD)(t):(0,lt.Mh)(t)}))}else(0,lt.aG)(n)&&e instanceof tt.Z&&((0,lt.og)(e,n,t._api),(0,lt.ci)(e),Ke(t))}),t),a&&a.eachComponent(l,(function(e){u&&null!==u.get(e.id)||p(t["series"===i?"_chartsMap":"_componentsMap"][e.__viewId])}),t)}else(0,o.S6)([].concat(t._componentsViews).concat(t._chartsViews),p);function p(i){i&&i.__alive&&i[e]&&i[e](i.__model,a,t._api,n)}},Be={prepareAndUpdate:function(t){ke(this),Be.update.call(this,t,{optionChanged:null!=t.newOption})},update:function(e,n){var i=this._model,r=this._api,o=this._zr,a=this._coordSysMgr,s=this._scheduler;if(i){i.setUpdatePayload(e),s.restoreData(i,e),s.performSeriesTasks(i),a.create(i,r),s.performDataProcessorTasks(i,e),Ue(this,i),a.update(i,r),t(i),s.performVisualTasks(i,e),Ze(this,i,r,e,n);var l=i.get("backgroundColor")||"transparent",c=i.get("darkMode");o.setBackgroundColor(l),null!=c&&"auto"!==c&&o.setDarkMode(c),Me.trigger("afterupdate",i,r)}},updateTransform:function(e){var n=this,i=this._model,r=this._api;if(i){i.setUpdatePayload(e);var a=[];i.eachComponent((function(t,o){if("series"!==t){var s=n.getViewOfComponentModel(o);if(s&&s.__alive)if(s.updateTransform){var l=s.updateTransform(o,i,r,e);l&&l.update&&a.push(s)}else a.push(s)}}));var s=(0,o.kW)();i.eachSeries((function(t){var o=n._chartsMap[t.__viewId];if(o.updateTransform){var a=o.updateTransform(t,i,r,e);a&&a.update&&s.set(t.uid,1)}else s.set(t.uid,1)})),t(i),this._scheduler.performVisualTasks(i,e,{setDirty:!0,dirtyMap:s}),Xe(this,i,r,e,{},s),Me.trigger("afterupdate",i,r)}},updateView:function(e){var n=this._model;n&&(n.setUpdatePayload(e),nt.Z.markUpdateMethod(e,"updateView"),t(n),this._scheduler.performVisualTasks(n,e,{setDirty:!0}),Ze(this,n,this._api,e,{}),Me.trigger("afterupdate",n,this._api))},updateVisual:function(e){var n=this,i=this._model;i&&(i.setUpdatePayload(e),i.eachSeries((function(t){t.getData().clearAllVisual()})),nt.Z.markUpdateMethod(e,"updateVisual"),t(i),this._scheduler.performVisualTasks(i,e,{visualType:"visual",setDirty:!0}),i.eachComponent((function(t,r){if("series"!==t){var o=n.getViewOfComponentModel(r);o&&o.__alive&&o.updateVisual(r,i,n._api,e)}})),i.eachSeries((function(t){n._chartsMap[t.__viewId].updateVisual(t,i,n._api,e)})),Me.trigger("afterupdate",i,this._api))},updateLayout:function(t){Be.update.call(this,t)}},Fe=function(t,e,n,i){if(t._disposed)on(t.id);else for(var r,o=t._model,a=t._coordSysMgr.getCoordinateSystems(),s=c.pm(o,n),l=0;l<a.length;l++){var u=a[l];if(u[e]&&null!=(r=u[e](o,s,i)))return r}},Ue=function(t,e){var n=t._chartsMap,i=t._scheduler;e.eachSeries((function(t){i.updateStreamModes(t,n[t.__viewId])}))},He=function(t,e){var n=this,i=this.getModel(),r=t.type,a=t.escapeConnect,s=an[r],l=s.actionInfo,u=(l.update||"update").split(":"),h=u.pop(),p=null!=u[0]&&(0,$t.u9)(u[0]);this.__flagInMainProcess=!0;var d=[t],f=!1;t.batch&&(f=!0,d=(0,o.UI)(t.batch,(function(e){return(e=(0,o.ce)((0,o.l7)({},e),t)).batch=null,e})));var m,g=[],v=(0,lt.aG)(t),y=(0,lt.xp)(t);if(y&&(0,lt.T5)(this._api),(0,o.S6)(d,(function(e){if((m=(m=s.action(e,n._model,n._api))||(0,o.l7)({},e)).type=l.event||m.type,g.push(m),y){var i=c.zH(t),r=i.queryOptionMap,a=i.mainTypeSpecified?r.keys()[0]:"series";ze(n,h,e,a),Ke(n)}else v?(ze(n,h,e,"series"),Ke(n)):p&&ze(n,h,e,p.main,p.sub)})),"none"!==h&&!y&&!v&&!p)try{this.__pendingUpdate?(ke(this),Be.update.call(this,t),this.__pendingUpdate=null):Be[h].call(this,t)}catch(t){throw this.__flagInMainProcess=!1,t}if(m=f?{type:l.event||r,escapeConnect:a,batch:g}:g[0],this.__flagInMainProcess=!1,!e){var _=this._messageCenter;if(_.trigger(m.type,m),v){var x={type:"selectchanged",escapeConnect:a,selected:(0,lt.C5)(i),isFromClick:t.isFromClick||!1,fromAction:t.type,fromActionPayload:t};_.trigger(x.type,x)}}},Ve=function(t){for(var e=this._pendingActions;e.length;){var n=e.shift();He.call(this,n,t)}},Ge=function(t){!t&&this.trigger("updated")},je=function(t,e){t.on("rendered",(function(n){e.trigger("rendered",n),!t.animation.isFinished()||e.__pendingUpdate||e._scheduler.unfinished||e._pendingActions.length||e.trigger("finished")}))},We=function(t,e){t.on("mouseover",(function(t){var n=t.target,i=(0,ce.o)(n,lt.Av);i&&((0,lt.$l)(i,t,e._api),Ke(e))})).on("mouseout",(function(t){var n=t.target,i=(0,ce.o)(n,lt.Av);i&&((0,lt.xr)(i,t,e._api),Ke(e))})).on("click",(function(t){var n=t.target,i=(0,ce.o)(n,(function(t){return null!=(0,st.A)(t).dataIndex}),!0);if(i){var r=i.selected?"unselect":"select",o=(0,st.A)(i);e._api.dispatchAction({type:r,dataType:o.dataType,dataIndexInside:o.dataIndex,seriesIndex:o.seriesIndex,isFromClick:!0})}}))},Ze=function(t,e,n,i,r){!function(t){var e=[],n=[],i=!1;if(t.eachComponent((function(t,r){var o=r.get("zlevel")||0,a=r.get("z")||0,s=r.getZLevelKey();i=i||!!s,("series"===t?n:e).push({zlevel:o,z:a,idx:r.componentIndex,type:t,key:s})})),i){var r,a,l=e.concat(n);(0,s.Z)(l,(function(t,e){return t.zlevel===e.zlevel?t.z-e.z:t.zlevel-e.zlevel})),(0,o.S6)(l,(function(e){var n=t.getComponent(e.type,e.idx),i=e.zlevel,o=e.key;null!=r&&(i=Math.max(r,i)),o?(i===r&&o!==a&&i++,a=o):a&&(i===r&&i++,a=""),r=i,n.setZLevel(i)}))}}(e),qe(t,e,n,i,r),(0,o.S6)(t._chartsViews,(function(t){t.__alive=!1})),Xe(t,e,n,i,r),(0,o.S6)(t._chartsViews,(function(t){t.__alive||t.remove(e,n)}))},qe=function(t,e,i,r,a,s){(0,o.S6)(s||t._componentsViews,(function(t){var o=t.__model;l(0,t),t.render(o,e,i,r),n(o,t),u(o,t)}))},Xe=function(t,e,i,r,s,c){var h=t._scheduler;s=(0,o.l7)(s||{},{updatedSeries:e.getSeries()}),Me.trigger("series:beforeupdate",e,i,s);var p=!1;e.eachSeries((function(e){var n=t._chartsMap[e.__viewId];n.__alive=!0;var i=n.renderTask;h.updatePayload(i,r),l(0,n),c&&c.get(e.uid)&&i.dirty(),i.perform(h.getPerformArgs(i))&&(p=!0),n.group.silent=!!e.get("silent"),function(t,e){var n=t.get("blendMode")||null;e.eachRendered((function(t){t.isGroup||(t.style.blend=n)}))}(e,n),(0,lt.ci)(e)})),h.unfinished=p||h.unfinished,Me.trigger("series:layoutlabels",e,i,s),Me.trigger("series:transition",e,i,s),e.eachSeries((function(e){var i=t._chartsMap[e.__viewId];n(e,i),u(e,i)})),function(t,e){var n=t._zr.storage,i=0;n.traverse((function(t){t.isGroup||i++})),i>e.get("hoverLayerThreshold")&&!a.Z.node&&!a.Z.worker&&e.eachSeries((function(e){if(!e.preventUsingHoverLayer){var n=t._chartsMap[e.__viewId];n.__alive&&n.eachRendered((function(t){t.states.emphasis&&(t.states.emphasis.hoverLayer=!0)}))}}))}(t,e),Me.trigger("series:afterupdate",e,i,s)},Ke=function(t){t.__needsUpdateStatus=!0,t.getZr().wakeUp()},$e=function(t){t.__needsUpdateStatus&&(t.getZr().storage.traverse((function(t){ot.eq(t)||e(t)})),t.__needsUpdateStatus=!1)},Ye=function(t){return new(function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.ZT)(n,e),n.prototype.getCoordinateSystems=function(){return t._coordSysMgr.getCoordinateSystems()},n.prototype.getComponentByElement=function(e){for(;e;){var n=e.__ecComponentInfo;if(null!=n)return t._model.getComponent(n.mainType,n.index);e=e.parent}},n.prototype.enterEmphasis=function(e,n){(0,lt.fD)(e,n),Ke(t)},n.prototype.leaveEmphasis=function(e,n){(0,lt.Mh)(e,n),Ke(t)},n.prototype.enterBlur=function(e){(0,lt.SX)(e),Ke(t)},n.prototype.leaveBlur=function(e){(0,lt.VP)(e),Ke(t)},n.prototype.enterSelect=function(e){(0,lt.XX)(e),Ke(t)},n.prototype.leaveSelect=function(e){(0,lt.SJ)(e),Ke(t)},n.prototype.getModel=function(){return t.getModel()},n.prototype.getViewOfComponentModel=function(e){return t.getViewOfComponentModel(e)},n.prototype.getViewOfSeriesModel=function(e){return t.getViewOfSeriesModel(e)},n}(A))(t)},Je=function(t){function e(t,e){for(var n=0;n<t.length;n++)t[n][De]=e}(0,o.S6)(sn,(function(n,i){t._messageCenter.on(i,(function(n){if(fn[t.group]&&0!==t[De]){if(n&&n.escapeConnect)return;var i=t.makeActionFromEvent(n),r=[];(0,o.S6)(dn,(function(e){e!==t&&e.group===t.group&&r.push(e)})),e(r,0),(0,o.S6)(r,(function(t){1!==t[De]&&t.dispatchAction(i)})),e(r,2)}}))}))}}(),e}(l.Z),nn=en.prototype;nn.on=Pe("on"),nn.off=Pe("off"),nn.one=function(t,e,n){var i=this;(0,oe.Sh)("ECharts#one is deprecated."),this.on.call(this,t,(function n(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];e&&e.apply&&e.apply(this,r),i.off(t,n)}),n)};var rn=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function on(t){}var an={},sn={},ln=[],cn=[],un=[],hn={},pn={},dn={},fn={},mn=+new Date-0,gn=(new Date,"_echarts_instance_");function vn(t,e,n){var i=!(n&&n.ssr);if(i){var r=function(t){return dn[c.IL(t,gn)]}(t);if(r)return r}var o=new en(t,e,n);return o.id="ec_"+mn++,dn[o.id]=o,i&&c.P$(t,gn,o.id),Je(o),Me.trigger("afterinit",o),o}function yn(t,e){hn[t]=e}function _n(t){(0,o.cq)(cn,t)<0&&cn.push(t)}function xn(t,e){Ln(ln,t,e,2e3)}function bn(t){Sn("afterinit",t)}function wn(t){Sn("afterupdate",t)}function Sn(t,e){Me.on(t,e)}function Mn(t,e,n){(0,o.mf)(e)&&(n=e,e="");var i=(0,o.Kn)(t)?t.type:[t,t={event:e}][0];t.event=(t.event||i).toLowerCase(),e=t.event,sn[e]||((0,o.hu)(Ie.test(i)&&Ie.test(e)),an[i]||(an[i]={action:n,actionInfo:t}),sn[e]=i)}function Tn(t,e){C.Z.register(t,e)}function En(t,e){Ln(un,t,e,1e3,"layout")}function An(t,e){Ln(un,t,e,3e3,"visual")}var Cn=[];function Ln(t,e,n,i,r){if(((0,o.mf)(e)||(0,o.Kn)(e))&&(n=e,e=i),!((0,o.cq)(Cn,n)>=0)){Cn.push(n);var a=Gt.wrapStageHandler(n,r);a.__prio=e,a.__raw=n,t.push(a)}}function In(t,e){pn[t]=e}function Dn(t,e,n){var i=(0,Te.C)("registerMap");i&&i(t,e,n)}var Pn=se.DA;An(Ae,yt),An(Ce,xt),An(Ce,bt),An(Ae,ne),An(Ce,ie),An(7e3,(function(t,e){t.eachRawSeries((function(n){if(!t.isSeriesFiltered(n)){var i=n.getData();i.hasItemVisual()&&i.each((function(t){var n=i.getItemVisual(t,"decal");n&&(i.ensureUniqueItemVisual(t,"style").decal=xe(n,e))}));var r=i.getVisual("decal");r&&(i.getVisual("style").decal=xe(r,e))}}))})),_n(K),xn(900,(function(t){var e=(0,o.kW)();t.eachSeries((function(t){var n=t.get("stack");if(n){var i=e.get(n)||e.set(n,[]),r=t.getData(),o={stackResultDimension:r.getCalculationInfo("stackResultDimension"),stackedOverDimension:r.getCalculationInfo("stackedOverDimension"),stackedDimension:r.getCalculationInfo("stackedDimension"),stackedByDimension:r.getCalculationInfo("stackedByDimension"),isStackedByIndex:r.getCalculationInfo("isStackedByIndex"),data:r,seriesModel:t};if(!o.stackedDimension||!o.isStackedByIndex&&!o.stackedByDimension)return;i.length&&r.setCalculationInfo("stackedOnSeries",i[i.length-1].seriesModel),i.push(o)}})),e.each(Q)})),In("default",(function(t,e){e=e||{},o.ce(e,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new wt.Z,i=new it.Z({style:{fill:e.maskColor},zlevel:e.zlevel,z:1e4});n.add(i);var r,a=new St.ZP({style:{text:e.text,fill:e.textColor,fontSize:e.fontSize,fontWeight:e.fontWeight,fontStyle:e.fontStyle,fontFamily:e.fontFamily},zlevel:e.zlevel,z:10001}),s=new it.Z({style:{fill:"none"},textContent:a,textConfig:{position:"right",distance:10},zlevel:e.zlevel,z:10001});return n.add(s),e.showSpinner&&((r=new Mt.Z({shape:{startAngle:-Tt/2,endAngle:-Tt/2+.1,r:e.spinnerRadius},style:{stroke:e.color,lineCap:"round",lineWidth:e.lineWidth},zlevel:e.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*Tt/2}).start("circularInOut"),r.animateShape(!0).when(1e3,{startAngle:3*Tt/2}).delay(300).start("circularInOut"),n.add(r)),n.resize=function(){var n=a.getBoundingRect().width,o=e.showSpinner?e.spinnerRadius:0,l=(t.getWidth()-2*o-(e.showSpinner&&n?10:0)-n)/2-(e.showSpinner&&n?0:5+n/2)+(e.showSpinner?0:n/2)+(n?0:o),c=t.getHeight()/2;e.showSpinner&&r.setShape({cx:l,cy:c}),s.setShape({x:l-o,y:c-o,width:2*o,height:2*o}),i.setShape({x:0,y:0,width:t.getWidth(),height:t.getHeight()})},n.resize(),n})),Mn({type:lt.Ki,event:lt.Ki,update:lt.Ki},o.ZT),Mn({type:lt.yx,event:lt.yx,update:lt.yx},o.ZT),Mn({type:lt.Hg,event:lt.Hg,update:lt.Hg},o.ZT),Mn({type:lt.JQ,event:lt.JQ,update:lt.JQ},o.ZT),Mn({type:lt.iK,event:lt.iK,update:lt.iK},o.ZT),yn("light",Wt),yn("dark",Kt)},9428:(t,e,n)=>{"use strict";n.d(e,{C:()=>o,M:()=>r});var i={};function r(t,e){i[t]=e}function o(t){return i[t]}},3917:(t,e,n)=>{"use strict";n.d(e,{sO:()=>u,D0:()=>p,Li:()=>f,G8:()=>d});var i=n(1497),r=n(6387),o=n(3051),a="ZH",s="EN",l={},c={},u=r.Z.domSupported&&(document.documentElement.lang||navigator.language||navigator.browserLanguage).toUpperCase().indexOf(a)>-1?a:"EN";function h(t,e){t=t.toUpperCase(),c[t]=new i.Z(e),l[t]=e}function p(t){if((0,o.HD)(t)){var e=l[t.toUpperCase()]||{};return t===a||t===s?(0,o.d9)(e):(0,o.TS)((0,o.d9)(e),(0,o.d9)(l.EN),!1)}return(0,o.TS)((0,o.d9)(t),(0,o.d9)(l.EN),!1)}function d(t){return c[t]}function f(){return c.EN}h(s,{time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}}),h(a,{time:{month:["","","","","","","","","","","",""],monthAbbr:["1","2","3","4","5","6","7","8","9","10","11","12"],dayOfWeek:["","","","","","",""],dayOfWeekAbbr:["","","","","","",""]},legend:{selector:{all:"",inverse:""}},toolbox:{brush:{title:{rect:"",polygon:"",lineX:"",lineY:"",keep:"",clear:""}},dataView:{title:"",lang:["","",""]},dataZoom:{title:{zoom:"",back:""}},magicType:{title:{line:"",bar:"",stack:"",tiled:""}},restore:{title:""},saveAsImage:{title:"",lang:[""]}},series:{typeNames:{pie:"",bar:"",line:"",scatter:"",effectScatter:"",radar:"",tree:"",treemap:"",boxplot:"",candlestick:"K",k:"K",heatmap:"",map:"",parallel:"",lines:"",graph:"",sankey:"",funnel:"",gauge:"",pictorialBar:"",themeRiver:"",sunburst:""}},aria:{general:{withTitle:"{title}",withoutTitle:""},series:{single:{prefix:"",withName:"{seriesType}{seriesName}",withoutName:"{seriesType}"},multiple:{prefix:"{seriesCount}",withName:"{seriesId}{seriesName}{seriesType}",withoutName:"{seriesId}{seriesType}",separator:{middle:"",end:""}}},data:{allData:"",partialData:"{displayCnt}",withName:"{name}{value}",withoutName:"{value}",separator:{middle:"",end:""}}}})},8674:(t,e,n)=>{"use strict";n.d(e,{v:()=>r});var i=n(3051);function r(t){return new o(t)}var o=function(){function t(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0}return t.prototype.perform=function(t){var e,n=this._upstream,r=t&&t.skip;if(this._dirty&&n){var o=this.context;o.data=o.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!r&&(e=this._plan(this.context));var a,s=h(this._modBy),l=this._modDataCount||0,c=h(t&&t.modBy),u=t&&t.modDataCount||0;function h(t){return!(t>=1)&&(t=1),t}s===c&&l===u||(e="reset"),(this._dirty||"reset"===e)&&(this._dirty=!1,a=this._doReset(r)),this._modBy=c,this._modDataCount=u;var p=t&&t.step;if(this._dueEnd=n?n._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var d=this._dueIndex,f=Math.min(null!=p?this._dueIndex+p:1/0,this._dueEnd);if(!r&&(a||d<f)){var m=this._progress;if((0,i.kJ)(m))for(var g=0;g<m.length;g++)this._doProgress(m[g],d,f,c,u);else this._doProgress(m,d,f,c,u)}this._dueIndex=f;var v=null!=this._settedOutputEnd?this._settedOutputEnd:f;this._outputDueEnd=v}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()},t.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},t.prototype._doProgress=function(t,e,n,i,r){a.reset(e,n,i,r),this._callingProgress=t,this._callingProgress({start:e,end:n,count:n-e,next:a.next},this.context)},t.prototype._doReset=function(t){var e,n;this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null,!t&&this._reset&&((e=this._reset(this.context))&&e.progress&&(n=e.forceFirstProgress,e=e.progress),(0,i.kJ)(e)&&!e.length&&(e=null)),this._progress=e,this._modBy=this._modDataCount=null;var r=this._downstream;return r&&r.dirty(),n},t.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},t.prototype.pipe=function(t){(this._downstream!==t||this._dirty)&&(this._downstream=t,t._upstream=this,t.dirty())},t.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},t.prototype.getUpstream=function(){return this._upstream},t.prototype.getDownstream=function(){return this._downstream},t.prototype.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t},t}(),a=function(){var t,e,n,i,r,o={reset:function(l,c,u,h){e=l,t=c,n=u,i=h,r=Math.ceil(i/n),o.next=n>1&&i>0?s:a}};return o;function a(){return e<t?e++:null}function s(){var o=e%r*n+Math.ceil(e/r),a=e>=t?null:o<i?o:e;return e++,a}}()},4130:(t,e,n)=>{"use strict";function i(t){return null==t?0:t.length||1}function r(t){return t}n.d(e,{Z:()=>o});const o=function(){function t(t,e,n,i,o,a){this._old=t,this._new=e,this._oldKeyGetter=n||r,this._newKeyGetter=i||r,this.context=o,this._diffModeMultiple="multiple"===a}return t.prototype.add=function(t){return this._add=t,this},t.prototype.update=function(t){return this._update=t,this},t.prototype.updateManyToOne=function(t){return this._updateManyToOne=t,this},t.prototype.updateOneToMany=function(t){return this._updateOneToMany=t,this},t.prototype.updateManyToMany=function(t){return this._updateManyToMany=t,this},t.prototype.remove=function(t){return this._remove=t,this},t.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},t.prototype._executeOneToOne=function(){var t=this._old,e=this._new,n={},r=new Array(t.length),o=new Array(e.length);this._initIndexMap(t,null,r,"_oldKeyGetter"),this._initIndexMap(e,n,o,"_newKeyGetter");for(var a=0;a<t.length;a++){var s=r[a],l=n[s],c=i(l);if(c>1){var u=l.shift();1===l.length&&(n[s]=l[0]),this._update&&this._update(u,a)}else 1===c?(n[s]=null,this._update&&this._update(l,a)):this._remove&&this._remove(a)}this._performRestAdd(o,n)},t.prototype._executeMultiple=function(){var t=this._old,e=this._new,n={},r={},o=[],a=[];this._initIndexMap(t,n,o,"_oldKeyGetter"),this._initIndexMap(e,r,a,"_newKeyGetter");for(var s=0;s<o.length;s++){var l=o[s],c=n[l],u=r[l],h=i(c),p=i(u);if(h>1&&1===p)this._updateManyToOne&&this._updateManyToOne(u,c),r[l]=null;else if(1===h&&p>1)this._updateOneToMany&&this._updateOneToMany(u,c),r[l]=null;else if(1===h&&1===p)this._update&&this._update(u,c),r[l]=null;else if(h>1&&p>1)this._updateManyToMany&&this._updateManyToMany(u,c),r[l]=null;else if(h>1)for(var d=0;d<h;d++)this._remove&&this._remove(c[d]);else this._remove&&this._remove(c)}this._performRestAdd(a,r)},t.prototype._performRestAdd=function(t,e){for(var n=0;n<t.length;n++){var r=t[n],o=e[r],a=i(o);if(a>1)for(var s=0;s<a;s++)this._add&&this._add(o[s]);else 1===a&&this._add&&this._add(o);e[r]=null}},t.prototype._initIndexMap=function(t,e,n,r){for(var o=this._diffModeMultiple,a=0;a<t.length;a++){var s="_ec_"+this[r](t[a],a);if(o||(n[a]=s),e){var l=e[s],c=i(l);0===c?(e[s]=a,o&&n.push(s)):1===c?e[s]=[l,a]:l.push(a)}}},t}()},3834:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>m,hG:()=>u});var i,r=n(3051),o=n(8407),a=n(9574),s="undefined",l=typeof Uint32Array===s?Array:Uint32Array,c=typeof Uint16Array===s?Array:Uint16Array,u=typeof Int32Array===s?Array:Int32Array,h=typeof Float64Array===s?Array:Float64Array,p={float:h,int:u,ordinal:Array,number:Array,time:h};function d(t){return t>65535?l:c}function f(t,e,n,i,r){var o=p[n||"float"];if(r){var a=t[e],s=a&&a.length;if(s!==i){for(var l=new o(i),c=0;c<s;c++)l[c]=a[c];t[e]=l}}else t[e]=new o(i)}const m=function(){function t(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=(0,r.kW)()}return t.prototype.initData=function(t,e,n){this._provider=t,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var o=t.getSource(),s=this.defaultDimValueGetter=i[o.sourceFormat];this._dimValueGetter=n||s,this._rawExtent=[],(0,a.QY)(o),this._dimensions=(0,r.UI)(e,(function(t){return{type:t.type,property:t.property}})),this._initDataFromProvider(0,t.count())},t.prototype.getProvider=function(){return this._provider},t.prototype.getSource=function(){return this._provider.getSource()},t.prototype.ensureCalculationDimension=function(t,e){var n=this._calcDimNameToIdx,i=this._dimensions,r=n.get(t);if(null!=r){if(i[r].type===e)return r}else r=i.length;return i[r]={type:e},n.set(t,r),this._chunks[r]=new p[e||"float"](this._rawCount),this._rawExtent[r]=[1/0,-1/0],r},t.prototype.collectOrdinalMeta=function(t,e){var n=this._chunks[t],i=this._dimensions[t],r=this._rawExtent,o=i.ordinalOffset||0,a=n.length;0===o&&(r[t]=[1/0,-1/0]);for(var s=r[t],l=o;l<a;l++){var c=n[l]=e.parseAndCollect(n[l]);isNaN(c)||(s[0]=Math.min(c,s[0]),s[1]=Math.max(c,s[1]))}i.ordinalMeta=e,i.ordinalOffset=a,i.type="ordinal"},t.prototype.getOrdinalMeta=function(t){return this._dimensions[t].ordinalMeta},t.prototype.getDimensionProperty=function(t){var e=this._dimensions[t];return e&&e.property},t.prototype.appendData=function(t){var e=this._provider,n=this.count();e.appendData(t);var i=e.count();return e.persistent||(i+=n),n<i&&this._initDataFromProvider(n,i,!0),[n,i]},t.prototype.appendValues=function(t,e){for(var n=this._chunks,r=this._dimensions,o=r.length,a=this._rawExtent,s=this.count(),l=s+Math.max(t.length,e||0),c=0;c<o;c++)f(n,c,(m=r[c]).type,l,!0);for(var u=[],h=s;h<l;h++)for(var p=h-s,d=0;d<o;d++){var m=r[d],g=i.arrayRows.call(this,t[p]||u,m.property,p,d);n[d][h]=g;var v=a[d];g<v[0]&&(v[0]=g),g>v[1]&&(v[1]=g)}return this._rawCount=this._count=l,{start:s,end:l}},t.prototype._initDataFromProvider=function(t,e,n){for(var i=this._provider,o=this._chunks,a=this._dimensions,s=a.length,l=this._rawExtent,c=(0,r.UI)(a,(function(t){return t.property})),u=0;u<s;u++){var h=a[u];l[u]||(l[u]=[1/0,-1/0]),f(o,u,h.type,e,n)}if(i.fillStorage)i.fillStorage(t,e,o,l);else for(var p=[],d=t;d<e;d++){p=i.getItem(d,p);for(var m=0;m<s;m++){var g=o[m],v=this._dimValueGetter(p,c[m],d,m);g[d]=v;var y=l[m];v<y[0]&&(y[0]=v),v>y[1]&&(y[1]=v)}}!i.persistent&&i.clean&&i.clean(),this._rawCount=this._count=e,this._extent=[]},t.prototype.count=function(){return this._count},t.prototype.get=function(t,e){if(!(e>=0&&e<this._count))return NaN;var n=this._chunks[t];return n?n[this.getRawIndex(e)]:NaN},t.prototype.getValues=function(t,e){var n=[],i=[];if(null==e){e=t,t=[];for(var r=0;r<this._dimensions.length;r++)i.push(r)}else i=t;r=0;for(var o=i.length;r<o;r++)n.push(this.get(i[r],e));return n},t.prototype.getByRawIndex=function(t,e){if(!(e>=0&&e<this._rawCount))return NaN;var n=this._chunks[t];return n?n[e]:NaN},t.prototype.getSum=function(t){var e=0;if(this._chunks[t])for(var n=0,i=this.count();n<i;n++){var r=this.get(t,n);isNaN(r)||(e+=r)}return e},t.prototype.getMedian=function(t){var e=[];this.each([t],(function(t){isNaN(t)||e.push(t)}));var n=e.sort((function(t,e){return t-e})),i=this.count();return 0===i?0:i%2==1?n[(i-1)/2]:(n[i/2]+n[i/2-1])/2},t.prototype.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,n=e[t];if(null!=n&&n<this._count&&n===t)return t;for(var i=0,r=this._count-1;i<=r;){var o=(i+r)/2|0;if(e[o]<t)i=o+1;else{if(!(e[o]>t))return o;r=o-1}}return-1},t.prototype.indicesOfNearest=function(t,e,n){var i=this._chunks[t],r=[];if(!i)return r;null==n&&(n=1/0);for(var o=1/0,a=-1,s=0,l=0,c=this.count();l<c;l++){var u=e-i[this.getRawIndex(l)],h=Math.abs(u);h<=n&&((h<o||h===o&&u>=0&&a<0)&&(o=h,a=u,s=0),u===a&&(r[s++]=l))}return r.length=s,r},t.prototype.getIndices=function(){var t,e=this._indices;if(e){var n=e.constructor,i=this._count;if(n===Array){t=new n(i);for(var r=0;r<i;r++)t[r]=e[r]}else t=new n(e.buffer,0,i)}else for(t=new(n=d(this._rawCount))(this.count()),r=0;r<t.length;r++)t[r]=r;return t},t.prototype.filter=function(t,e){if(!this._count)return this;for(var n=this.clone(),i=n.count(),r=new(d(n._rawCount))(i),o=[],a=t.length,s=0,l=t[0],c=n._chunks,u=0;u<i;u++){var h=void 0,p=n.getRawIndex(u);if(0===a)h=e(u);else if(1===a)h=e(c[l][p],u);else{for(var f=0;f<a;f++)o[f]=c[t[f]][p];o[f]=u,h=e.apply(null,o)}h&&(r[s++]=p)}return s<i&&(n._indices=r),n._count=s,n._extent=[],n._updateGetRawIdx(),n},t.prototype.selectRange=function(t){var e=this.clone(),n=e._count;if(!n)return this;var i=(0,r.XP)(t),o=i.length;if(!o)return this;var a=e.count(),s=new(d(e._rawCount))(a),l=0,c=i[0],u=t[c][0],h=t[c][1],p=e._chunks,f=!1;if(!e._indices){var m=0;if(1===o){for(var g=p[i[0]],v=0;v<n;v++)((b=g[v])>=u&&b<=h||isNaN(b))&&(s[l++]=m),m++;f=!0}else if(2===o){g=p[i[0]];var y=p[i[1]],_=t[i[1]][0],x=t[i[1]][1];for(v=0;v<n;v++){var b=g[v],w=y[v];(b>=u&&b<=h||isNaN(b))&&(w>=_&&w<=x||isNaN(w))&&(s[l++]=m),m++}f=!0}}if(!f)if(1===o)for(v=0;v<a;v++){var S=e.getRawIndex(v);((b=p[i[0]][S])>=u&&b<=h||isNaN(b))&&(s[l++]=S)}else for(v=0;v<a;v++){for(var M=!0,T=(S=e.getRawIndex(v),0);T<o;T++){var E=i[T];((b=p[E][S])<t[E][0]||b>t[E][1])&&(M=!1)}M&&(s[l++]=e.getRawIndex(v))}return l<a&&(e._indices=s),e._count=l,e._extent=[],e._updateGetRawIdx(),e},t.prototype.map=function(t,e){var n=this.clone(t);return this._updateDims(n,t,e),n},t.prototype.modify=function(t,e){this._updateDims(this,t,e)},t.prototype._updateDims=function(t,e,n){for(var i=t._chunks,r=[],o=e.length,a=t.count(),s=[],l=t._rawExtent,c=0;c<e.length;c++)l[e[c]]=[1/0,-1/0];for(var u=0;u<a;u++){for(var h=t.getRawIndex(u),p=0;p<o;p++)s[p]=i[e[p]][h];s[o]=u;var d=n&&n.apply(null,s);if(null!=d)for("object"!=typeof d&&(r[0]=d,d=r),c=0;c<d.length;c++){var f=e[c],m=d[c],g=l[f],v=i[f];v&&(v[h]=m),m<g[0]&&(g[0]=m),m>g[1]&&(g[1]=m)}}},t.prototype.lttbDownSample=function(t,e){var n,i,r,o=this.clone([t],!0),a=o._chunks[t],s=this.count(),l=0,c=Math.floor(1/e),u=this.getRawIndex(0),h=new(d(this._rawCount))(Math.min(2*(Math.ceil(s/c)+2),s));h[l++]=u;for(var p=1;p<s-1;p+=c){for(var f=Math.min(p+c,s-1),m=Math.min(p+2*c,s),g=(m+f)/2,v=0,y=f;y<m;y++){var _=a[E=this.getRawIndex(y)];isNaN(_)||(v+=_)}v/=m-f;var x=p,b=Math.min(p+c,s),w=p-1,S=a[u];n=-1,r=x;var M=-1,T=0;for(y=x;y<b;y++){var E;_=a[E=this.getRawIndex(y)],isNaN(_)?(T++,M<0&&(M=E)):(i=Math.abs((w-g)*(_-S)-(w-y)*(v-S)))>n&&(n=i,r=E)}T>0&&T<b-x&&(h[l++]=Math.min(M,r),r=Math.max(M,r)),h[l++]=r,u=r}return h[l++]=this.getRawIndex(s-1),o._count=l,o._indices=h,o.getRawIndex=this._getRawIdx,o},t.prototype.downSample=function(t,e,n,i){for(var r=this.clone([t],!0),o=r._chunks,a=[],s=Math.floor(1/e),l=o[t],c=this.count(),u=r._rawExtent[t]=[1/0,-1/0],h=new(d(this._rawCount))(Math.ceil(c/s)),p=0,f=0;f<c;f+=s){s>c-f&&(s=c-f,a.length=s);for(var m=0;m<s;m++){var g=this.getRawIndex(f+m);a[m]=l[g]}var v=n(a),y=this.getRawIndex(Math.min(f+i(a,v)||0,c-1));l[y]=v,v<u[0]&&(u[0]=v),v>u[1]&&(u[1]=v),h[p++]=y}return r._count=p,r._indices=h,r._updateGetRawIdx(),r},t.prototype.each=function(t,e){if(this._count)for(var n=t.length,i=this._chunks,r=0,o=this.count();r<o;r++){var a=this.getRawIndex(r);switch(n){case 0:e(r);break;case 1:e(i[t[0]][a],r);break;case 2:e(i[t[0]][a],i[t[1]][a],r);break;default:for(var s=0,l=[];s<n;s++)l[s]=i[t[s]][a];l[s]=r,e.apply(null,l)}}},t.prototype.getDataExtent=function(t){var e=this._chunks[t],n=[1/0,-1/0];if(!e)return n;var i,r=this.count();if(!this._indices)return this._rawExtent[t].slice();if(i=this._extent[t])return i.slice();for(var o=(i=n)[0],a=i[1],s=0;s<r;s++){var l=e[this.getRawIndex(s)];l<o&&(o=l),l>a&&(a=l)}return i=[o,a],this._extent[t]=i,i},t.prototype.getRawDataItem=function(t){var e=this.getRawIndex(t);if(this._provider.persistent)return this._provider.getItem(e);for(var n=[],i=this._chunks,r=0;r<i.length;r++)n.push(i[r][e]);return n},t.prototype.clone=function(e,n){var i,o,a=new t,s=this._chunks,l=e&&(0,r.u4)(e,(function(t,e){return t[e]=!0,t}),{});if(l)for(var c=0;c<s.length;c++)a._chunks[c]=l[c]?(o=void 0,(o=(i=s[c]).constructor)===Array?i.slice():new o(i)):s[c];else a._chunks=s;return this._copyCommonProps(a),n||(a._indices=this._cloneIndices()),a._updateGetRawIdx(),a},t.prototype._copyCommonProps=function(t){t._count=this._count,t._rawCount=this._rawCount,t._provider=this._provider,t._dimensions=this._dimensions,t._extent=(0,r.d9)(this._extent),t._rawExtent=(0,r.d9)(this._rawExtent)},t.prototype._cloneIndices=function(){if(this._indices){var t=this._indices.constructor,e=void 0;if(t===Array){var n=this._indices.length;e=new t(n);for(var i=0;i<n;i++)e[i]=this._indices[i]}else e=new t(this._indices);return e}return null},t.prototype._getRawIdxIdentity=function(t){return t},t.prototype._getRawIdx=function(t){return t<this._count&&t>=0?this._indices[t]:-1},t.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},t.internalField=function(){function t(t,e,n,i){return(0,o.yQ)(t[i],this._dimensions[i])}i={arrayRows:t,objectRows:function(t,e,n,i){return(0,o.yQ)(t[e],this._dimensions[i])},keyedColumns:t,original:function(t,e,n,i){var r=t&&(null==t.value?t:t.value);return(0,o.yQ)(r instanceof Array?r[i]:r,this._dimensions[i])},typedArray:function(t,e,n,i){return t[i]}}}(),t}()},1401:(t,e,n)=>{"use strict";n.d(e,{Z:()=>a});var i=n(3051),r=0;function o(t){return(0,i.Kn)(t)&&null!=t.value?t.value:t+""}const a=function(){function t(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this.uid=++r}return t.createByAxisModel=function(e){var n=e.option,r=n.data,a=r&&(0,i.UI)(r,o);return new t({categories:a,needCollect:!a,deduplication:!1!==n.dedplication})},t.prototype.getOrdinal=function(t){return this._getOrCreateMap().get(t)},t.prototype.parseAndCollect=function(t){var e,n=this._needCollect;if(!(0,i.HD)(t)&&!n)return t;if(n&&!this._deduplication)return e=this.categories.length,this.categories[e]=t,e;var r=this._getOrCreateMap();return null==(e=r.get(t))&&(n?(e=this.categories.length,this.categories[e]=t,r.set(t,e)):e=NaN),e},t.prototype._getOrCreateMap=function(){return this._map||(this._map=(0,i.kW)(this.categories))},t}()},5101:(t,e,n)=>{"use strict";n.d(e,{Z:()=>A});var i,r,o,a,s,l,c,u=n(3051),h=n(1497),p=n(4130),d=n(8540),f=n(381),m=n(5440),g=n(4279),v=n(2234),y=n(106),_=n(9574),x=n(3834),b=n(1029),w=u.Kn,S=u.UI,M="undefined"==typeof Int32Array?Array:Int32Array,T=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],E=["_approximateExtent"];const A=function(){function t(t,e){var n;this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var i=!1;(0,b.bB)(t)?(n=t.dimensions,this._dimOmitted=t.isDimensionOmitted(),this._schema=t):(i=!0,n=t),n=n||["x","y"];for(var r={},o=[],a={},s=!1,l={},c=0;c<n.length;c++){var h=n[c],p=u.HD(h)?new m.Z({name:h}):h instanceof m.Z?h:new m.Z(h),d=p.name;p.type=p.type||"float",p.coordDim||(p.coordDim=d,p.coordDimIndex=0);var f=p.otherDims=p.otherDims||{};o.push(d),r[d]=p,null!=l[d]&&(s=!0),p.createInvertedIndices&&(a[d]=[]),0===f.itemName&&(this._nameDimIdx=c),0===f.itemId&&(this._idDimIdx=c),i&&(p.storeDimIndex=c)}if(this.dimensions=o,this._dimInfos=r,this._initGetDimensionInfo(s),this.hostModel=e,this._invertedIndicesMap=a,this._dimOmitted){var g=this._dimIdxToName=u.kW();u.S6(o,(function(t){g.set(r[t].storeDimIndex,t)}))}}return t.prototype.getDimension=function(t){var e=this._recognizeDimIndex(t);if(null==e)return t;if(e=t,!this._dimOmitted)return this.dimensions[e];var n=this._dimIdxToName.get(e);if(null!=n)return n;var i=this._schema.getSourceDimension(e);return i?i.name:void 0},t.prototype.getDimensionIndex=function(t){var e=this._recognizeDimIndex(t);if(null!=e)return e;if(null==t)return-1;var n=this._getDimInfo(t);return n?n.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(t):-1},t.prototype._recognizeDimIndex=function(t){if(u.hj(t)||null!=t&&!isNaN(t)&&!this._getDimInfo(t)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(t)<0))return+t},t.prototype._getStoreDimIndex=function(t){return this.getDimensionIndex(t)},t.prototype.getDimensionInfo=function(t){return this._getDimInfo(this.getDimension(t))},t.prototype._initGetDimensionInfo=function(t){var e=this._dimInfos;this._getDimInfo=t?function(t){return e.hasOwnProperty(t)?e[t]:void 0}:function(t){return e[t]}},t.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},t.prototype.mapDimension=function(t,e){var n=this._dimSummary;if(null==e)return n.encodeFirstDimNotExtra[t];var i=n.encode[t];return i?i[e]:null},t.prototype.mapDimensionsAll=function(t){return(this._dimSummary.encode[t]||[]).slice()},t.prototype.getStore=function(){return this._store},t.prototype.initData=function(t,e,n){var i,r=this;if(t instanceof x.ZP&&(i=t),!i){var o=this.dimensions,a=(0,_.Ld)(t)||u.zG(t)?new d.Pl(t,o.length):t;i=new x.ZP;var s=S(o,(function(t){return{type:r._dimInfos[t].type,property:t}}));i.initData(a,s,n)}this._store=i,this._nameList=(e||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,i.count()),this._dimSummary=(0,f.y)(this,this._schema),this.userOutput=this._dimSummary.userOutput},t.prototype.appendData=function(t){var e=this._store.appendData(t);this._doInit(e[0],e[1])},t.prototype.appendValues=function(t,e){var n=this._store.appendValues(t,e.length),i=n.start,r=n.end,o=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),e)for(var a=i;a<r;a++){var s=a-i;this._nameList[a]=e[s],o&&c(this,a)}},t.prototype._updateOrdinalMeta=function(){for(var t=this._store,e=this.dimensions,n=0;n<e.length;n++){var i=this._dimInfos[e[n]];i.ordinalMeta&&t.collectOrdinalMeta(i.storeDimIndex,i.ordinalMeta)}},t.prototype._shouldMakeIdFromName=function(){var t=this._store.getProvider();return null==this._idDimIdx&&t.getSource().sourceFormat!==g.J5&&!t.fillStorage},t.prototype._doInit=function(t,e){if(!(t>=e)){var n=this._store.getProvider();this._updateOrdinalMeta();var r=this._nameList,o=this._idList;if(n.getSource().sourceFormat===g.cy&&!n.pure)for(var a=[],s=t;s<e;s++){var l=n.getItem(s,a);if(!this.hasItemOption&&(0,v.Co)(l)&&(this.hasItemOption=!0),l){var u=l.name;null==r[s]&&null!=u&&(r[s]=(0,v.U5)(u,null));var h=l.id;null==o[s]&&null!=h&&(o[s]=(0,v.U5)(h,null))}}if(this._shouldMakeIdFromName())for(s=t;s<e;s++)c(this,s);i(this)}},t.prototype.getApproximateExtent=function(t){return this._approximateExtent[t]||this._store.getDataExtent(this._getStoreDimIndex(t))},t.prototype.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},t.prototype.getCalculationInfo=function(t){return this._calculationInfo[t]},t.prototype.setCalculationInfo=function(t,e){w(t)?u.l7(this._calculationInfo,t):this._calculationInfo[t]=e},t.prototype.getName=function(t){var e=this.getRawIndex(t),n=this._nameList[e];return null==n&&null!=this._nameDimIdx&&(n=o(this,this._nameDimIdx,e)),null==n&&(n=""),n},t.prototype._getCategory=function(t,e){var n=this._store.get(t,e),i=this._store.getOrdinalMeta(t);return i?i.categories[n]:n},t.prototype.getId=function(t){return r(this,this.getRawIndex(t))},t.prototype.count=function(){return this._store.count()},t.prototype.get=function(t,e){var n=this._store,i=this._dimInfos[t];if(i)return n.get(i.storeDimIndex,e)},t.prototype.getByRawIndex=function(t,e){var n=this._store,i=this._dimInfos[t];if(i)return n.getByRawIndex(i.storeDimIndex,e)},t.prototype.getIndices=function(){return this._store.getIndices()},t.prototype.getDataExtent=function(t){return this._store.getDataExtent(this._getStoreDimIndex(t))},t.prototype.getSum=function(t){return this._store.getSum(this._getStoreDimIndex(t))},t.prototype.getMedian=function(t){return this._store.getMedian(this._getStoreDimIndex(t))},t.prototype.getValues=function(t,e){var n=this,i=this._store;return u.kJ(t)?i.getValues(S(t,(function(t){return n._getStoreDimIndex(t)})),e):i.getValues(t)},t.prototype.hasValue=function(t){for(var e=this._dimSummary.dataDimIndicesOnCoord,n=0,i=e.length;n<i;n++)if(isNaN(this._store.get(e[n],t)))return!1;return!0},t.prototype.indexOfName=function(t){for(var e=0,n=this._store.count();e<n;e++)if(this.getName(e)===t)return e;return-1},t.prototype.getRawIndex=function(t){return this._store.getRawIndex(t)},t.prototype.indexOfRawIndex=function(t){return this._store.indexOfRawIndex(t)},t.prototype.rawIndexOf=function(t,e){var n=(t&&this._invertedIndicesMap[t])[e];return null==n||isNaN(n)?-1:n},t.prototype.indicesOfNearest=function(t,e,n){return this._store.indicesOfNearest(this._getStoreDimIndex(t),e,n)},t.prototype.each=function(t,e,n){u.mf(t)&&(n=e,e=t,t=[]);var i=n||this,r=S(a(t),this._getStoreDimIndex,this);this._store.each(r,i?u.ak(e,i):e)},t.prototype.filterSelf=function(t,e,n){u.mf(t)&&(n=e,e=t,t=[]);var i=n||this,r=S(a(t),this._getStoreDimIndex,this);return this._store=this._store.filter(r,i?u.ak(e,i):e),this},t.prototype.selectRange=function(t){var e=this,n={},i=u.XP(t),r=[];return u.S6(i,(function(i){var o=e._getStoreDimIndex(i);n[o]=t[i],r.push(o)})),this._store=this._store.selectRange(n),this},t.prototype.mapArray=function(t,e,n){u.mf(t)&&(n=e,e=t,t=[]),n=n||this;var i=[];return this.each(t,(function(){i.push(e&&e.apply(this,arguments))}),n),i},t.prototype.map=function(t,e,n,i){var r=n||i||this,o=S(a(t),this._getStoreDimIndex,this),s=l(this);return s._store=this._store.map(o,r?u.ak(e,r):e),s},t.prototype.modify=function(t,e,n,i){var r=n||i||this,o=S(a(t),this._getStoreDimIndex,this);this._store.modify(o,r?u.ak(e,r):e)},t.prototype.downSample=function(t,e,n,i){var r=l(this);return r._store=this._store.downSample(this._getStoreDimIndex(t),e,n,i),r},t.prototype.lttbDownSample=function(t,e){var n=l(this);return n._store=this._store.lttbDownSample(this._getStoreDimIndex(t),e),n},t.prototype.getRawDataItem=function(t){return this._store.getRawDataItem(t)},t.prototype.getItemModel=function(t){var e=this.hostModel,n=this.getRawDataItem(t);return new h.Z(n,e,e&&e.ecModel)},t.prototype.diff=function(t){var e=this;return new p.Z(t?t.getStore().getIndices():[],this.getStore().getIndices(),(function(e){return r(t,e)}),(function(t){return r(e,t)}))},t.prototype.getVisual=function(t){var e=this._visual;return e&&e[t]},t.prototype.setVisual=function(t,e){this._visual=this._visual||{},w(t)?u.l7(this._visual,t):this._visual[t]=e},t.prototype.getItemVisual=function(t,e){var n=this._itemVisuals[t],i=n&&n[e];return null==i?this.getVisual(e):i},t.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},t.prototype.ensureUniqueItemVisual=function(t,e){var n=this._itemVisuals,i=n[t];i||(i=n[t]={});var r=i[e];return null==r&&(r=this.getVisual(e),u.kJ(r)?r=r.slice():w(r)&&(r=u.l7({},r)),i[e]=r),r},t.prototype.setItemVisual=function(t,e,n){var i=this._itemVisuals[t]||{};this._itemVisuals[t]=i,w(e)?u.l7(i,e):i[e]=n},t.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},t.prototype.setLayout=function(t,e){w(t)?u.l7(this._layout,t):this._layout[t]=e},t.prototype.getLayout=function(t){return this._layout[t]},t.prototype.getItemLayout=function(t){return this._itemLayouts[t]},t.prototype.setItemLayout=function(t,e,n){this._itemLayouts[t]=n?u.l7(this._itemLayouts[t]||{},e):e},t.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},t.prototype.setItemGraphicEl=function(t,e){var n=this.hostModel&&this.hostModel.seriesIndex;(0,y.Q)(n,this.dataType,t,e),this._graphicEls[t]=e},t.prototype.getItemGraphicEl=function(t){return this._graphicEls[t]},t.prototype.eachItemGraphicEl=function(t,e){u.S6(this._graphicEls,(function(n,i){n&&t&&t.call(e,n,i)}))},t.prototype.cloneShallow=function(e){return e||(e=new t(this._schema?this._schema:S(this.dimensions,this._getDimInfo,this),this.hostModel)),s(e,this),e._store=this._store,e},t.prototype.wrapMethod=function(t,e){var n=this[t];u.mf(n)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=n.apply(this,arguments);return e.apply(this,[t].concat(u.tP(arguments)))})},t.internalField=(i=function(t){var e=t._invertedIndicesMap;u.S6(e,(function(n,i){var r=t._dimInfos[i],o=r.ordinalMeta,a=t._store;if(o){n=e[i]=new M(o.categories.length);for(var s=0;s<n.length;s++)n[s]=-1;for(s=0;s<a.count();s++)n[a.get(r.storeDimIndex,s)]=s}}))},o=function(t,e,n){return(0,v.U5)(t._getCategory(e,n),null)},r=function(t,e){var n=t._idList[e];return null==n&&null!=t._idDimIdx&&(n=o(t,t._idDimIdx,e)),null==n&&(n="e\0\0"+e),n},a=function(t){return u.kJ(t)||(t=null!=t?[t]:[]),t},l=function(e){var n=new t(e._schema?e._schema:S(e.dimensions,e._getDimInfo,e),e.hostModel);return s(n,e),n},s=function(t,e){u.S6(T.concat(e.__wrappedMethods||[]),(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t.__wrappedMethods=e.__wrappedMethods,u.S6(E,(function(n){t[n]=u.d9(e[n])})),t._calculationInfo=u.l7({},e._calculationInfo)},void(c=function(t,e){var n=t._nameList,i=t._idList,r=t._nameDimIdx,a=t._idDimIdx,s=n[e],l=i[e];if(null==s&&null!=r&&(n[e]=s=o(t,r,e)),null==l&&null!=a&&(i[e]=l=o(t,a,e)),null==l&&null!=s){var c=t._nameRepeatCount,u=c[s]=(c[s]||0)+1;l=s,u>1&&(l+="__ec__"+u),i[e]=l}})),t}()},5440:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(3051);const r=function(t){this.otherDims={},null!=t&&i.l7(this,t)}},9574:(t,e,n)=>{"use strict";n.d(e,{Kp:()=>p,Ld:()=>l,ML:()=>h,QY:()=>m,_P:()=>c,nx:()=>u});var i=n(3051),r=n(4279),o=n(2234),a=n(1772),s=function(t){this.data=t.data||(t.sourceFormat===r.hL?{}:[]),this.sourceFormat=t.sourceFormat||r.RA,this.seriesLayoutBy=t.seriesLayoutBy||r.fY,this.startIndex=t.startIndex||0,this.dimensionsDetectedCount=t.dimensionsDetectedCount,this.metaRawOption=t.metaRawOption;var e=this.dimensionsDefine=t.dimensionsDefine;if(e)for(var n=0;n<e.length;n++){var i=e[n];null==i.type&&(0,a.u7)(this,n)===a.Dq.Must&&(i.type="ordinal")}};function l(t){return t instanceof s}function c(t,e,n){n=n||p(t);var a=e.seriesLayoutBy,l=function(t,e,n,a,s){var l,c;if(!t)return{dimensionsDefine:d(s),startIndex:c,dimensionsDetectedCount:l};if(e===r.XD){var u=t;"auto"===a||null==a?f((function(t){null!=t&&"-"!==t&&((0,i.HD)(t)?null==c&&(c=1):c=0)}),n,u,10):c=(0,i.hj)(a)?a:a?1:0,s||1!==c||(s=[],f((function(t,e){s[e]=null!=t?t+"":""}),n,u,1/0)),l=s?s.length:n===r.Wc?u.length:u[0]?u[0].length:null}else if(e===r.qb)s||(s=function(t){for(var e,n=0;n<t.length&&!(e=t[n++]););if(e){var r=[];return(0,i.S6)(e,(function(t,e){r.push(e)})),r}}(t));else if(e===r.hL)s||(s=[],(0,i.S6)(t,(function(t,e){s.push(e)})));else if(e===r.cy){var h=(0,o.C4)(t[0]);l=(0,i.kJ)(h)&&h.length||1}else r.J5;return{startIndex:c,dimensionsDefine:d(s),dimensionsDetectedCount:l}}(t,n,a,e.sourceHeader,e.dimensions);return new s({data:t,sourceFormat:n,seriesLayoutBy:a,dimensionsDefine:l.dimensionsDefine,startIndex:l.startIndex,dimensionsDetectedCount:l.dimensionsDetectedCount,metaRawOption:(0,i.d9)(e)})}function u(t){return new s({data:t,sourceFormat:(0,i.fU)(t)?r.J5:r.cy})}function h(t){return new s({data:t.data,sourceFormat:t.sourceFormat,seriesLayoutBy:t.seriesLayoutBy,dimensionsDefine:(0,i.d9)(t.dimensionsDefine),startIndex:t.startIndex,dimensionsDetectedCount:t.dimensionsDetectedCount})}function p(t){var e=r.RA;if((0,i.fU)(t))e=r.J5;else if((0,i.kJ)(t)){0===t.length&&(e=r.XD);for(var n=0,o=t.length;n<o;n++){var a=t[n];if(null!=a){if((0,i.kJ)(a)){e=r.XD;break}if((0,i.Kn)(a)){e=r.qb;break}}}}else if((0,i.Kn)(t))for(var s in t)if((0,i.RI)(t,s)&&(0,i.zG)(t[s])){e=r.hL;break}return e}function d(t){if(t){var e=(0,i.kW)();return(0,i.UI)(t,(function(t,n){var r={name:(t=(0,i.Kn)(t)?t:{name:t}).name,displayName:t.displayName,type:t.type};if(null==r.name)return r;r.name+="",null==r.displayName&&(r.displayName=r.name);var o=e.get(r.name);return o?r.name+="-"+o.count++:e.set(r.name,{count:1}),r}))}}function f(t,e,n,i){if(e===r.Wc)for(var o=0;o<n.length&&o<i;o++)t(n[o]?n[o][0]:null,o);else{var a=n[0]||[];for(o=0;o<a.length&&o<i;o++)t(a[o],o)}}function m(t){var e=t.sourceFormat;return e===r.qb||e===r.hL}},1029:(t,e,n)=>{"use strict";n.d(e,{Eo:()=>l,Jj:()=>h,Jl:()=>p,bB:()=>c,v5:()=>u});var i=n(3051),r=n(2234),o=n(9574),a=(0,r.Yf)(),s={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},l=function(){function t(t){this.dimensions=t.dimensions,this._dimOmitted=t.dimensionOmitted,this.source=t.source,this._fullDimCount=t.fullDimensionCount,this._updateDimOmitted(t.dimensionOmitted)}return t.prototype.isDimensionOmitted=function(){return this._dimOmitted},t.prototype._updateDimOmitted=function(t){this._dimOmitted=t,t&&(this._dimNameMap||(this._dimNameMap=h(this.source)))},t.prototype.getSourceDimensionIndex=function(t){return(0,i.pD)(this._dimNameMap.get(t),-1)},t.prototype.getSourceDimension=function(t){var e=this.source.dimensionsDefine;if(e)return e[t]},t.prototype.makeStoreSchema=function(){for(var t=this._fullDimCount,e=(0,o.QY)(this.source),n=!p(t),i="",r=[],a=0,l=0;a<t;a++){var c=void 0,u=void 0,h=void 0,d=this.dimensions[l];if(d&&d.storeDimIndex===a)c=e?d.name:null,u=d.type,h=d.ordinalMeta,l++;else{var f=this.getSourceDimension(a);f&&(c=e?f.name:null,u=f.type)}r.push({property:c,type:u,ordinalMeta:h}),!e||null==c||d&&d.isCalculationCoord||(i+=n?c.replace(/\`/g,"`1").replace(/\$/g,"`2"):c),i+="$",i+=s[u]||"f",h&&(i+=h.uid),i+="$"}var m=this.source;return{dimensions:r,hash:[m.seriesLayoutBy,m.startIndex,i].join("$$")}},t.prototype.makeOutputDimensionNames=function(){for(var t=[],e=0,n=0;e<this._fullDimCount;e++){var i=void 0,r=this.dimensions[n];if(r&&r.storeDimIndex===e)r.isCalculationCoord||(i=r.name),n++;else{var o=this.getSourceDimension(e);o&&(i=o.name)}t.push(i)}return t},t.prototype.appendCalculationDimension=function(t){this.dimensions.push(t),t.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},t}();function c(t){return t instanceof l}function u(t){for(var e=(0,i.kW)(),n=0;n<(t||[]).length;n++){var r=t[n],o=(0,i.Kn)(r)?r.name:r;null!=o&&null==e.get(o)&&e.set(o,n)}return e}function h(t){var e=a(t);return e.dimNameMap||(e.dimNameMap=u(t.dimensionsDefine))}function p(t){return t>30}},5623:(t,e,n)=>{"use strict";n.d(e,{Z:()=>h});var i=n(4279),r=n(5440),o=n(3051),a=n(9574),s=n(3834),l=n(2234),c=n(1772),u=n(1029);function h(t,e){(0,a.Ld)(t)||(t=(0,a.nx)(t));var n=(e=e||{}).coordDimensions||[],h=e.dimensionsDefine||t.dimensionsDefine||[],d=(0,o.kW)(),f=[],m=function(t,e,n,i){var r=Math.max(t.dimensionsDetectedCount||1,e.length,n.length,i||0);return(0,o.S6)(e,(function(t){var e;(0,o.Kn)(t)&&(e=t.dimsDef)&&(r=Math.max(r,e.length))})),r}(t,n,h,e.dimensionsCount),g=e.canOmitUnusedDimensions&&(0,u.Jl)(m),v=h===t.dimensionsDefine,y=v?(0,u.Jj)(t):(0,u.v5)(h),_=e.encodeDefine;!_&&e.encodeDefaulter&&(_=e.encodeDefaulter(t,m));for(var x=(0,o.kW)(_),b=new s.hG(m),w=0;w<b.length;w++)b[w]=-1;function S(t){var e=b[t];if(e<0){var n=h[t],i=(0,o.Kn)(n)?n:{name:n},a=new r.Z,s=i.name;null!=s&&null!=y.get(s)&&(a.name=a.displayName=s),null!=i.type&&(a.type=i.type),null!=i.displayName&&(a.displayName=i.displayName);var l=f.length;return b[t]=l,a.storeDimIndex=t,f.push(a),a}return f[e]}if(!g)for(w=0;w<m;w++)S(w);x.each((function(t,e){var n=(0,l.kF)(t).slice();if(1===n.length&&!(0,o.HD)(n[0])&&n[0]<0)x.set(e,!1);else{var i=x.set(e,[]);(0,o.S6)(n,(function(t,n){var r=(0,o.HD)(t)?y.get(t):t;null!=r&&r<m&&(i[n]=r,T(S(r),e,n))}))}}));var M=0;function T(t,e,n){null!=i.f7.get(e)?t.otherDims[e]=n:(t.coordDim=e,t.coordDimIndex=n,d.set(e,!0))}(0,o.S6)(n,(function(t){var e,n,i,r;if((0,o.HD)(t))e=t,r={};else{e=(r=t).name;var a=r.ordinalMeta;r.ordinalMeta=null,(r=(0,o.l7)({},r)).ordinalMeta=a,n=r.dimsDef,i=r.otherDims,r.name=r.coordDim=r.coordDimIndex=r.dimsDef=r.otherDims=null}var s=x.get(e);if(!1!==s){if(!(s=(0,l.kF)(s)).length)for(var c=0;c<(n&&n.length||1);c++){for(;M<m&&null!=S(M).coordDim;)M++;M<m&&s.push(M++)}(0,o.S6)(s,(function(t,a){var s=S(t);if(v&&null!=r.type&&(s.type=r.type),T((0,o.ce)(s,r),e,a),null==s.name&&n){var l=n[a];!(0,o.Kn)(l)&&(l={name:l}),s.name=s.displayName=l.name,s.defaultTooltip=l.defaultTooltip}i&&(0,o.ce)(s.otherDims,i)}))}}));var E=e.generateCoord,A=e.generateCoordCount,C=null!=A;A=E?A||1:0;var L=E||"value";function I(t){null==t.name&&(t.name=t.coordDim)}if(g)(0,o.S6)(f,(function(t){I(t)})),f.sort((function(t,e){return t.storeDimIndex-e.storeDimIndex}));else for(var D=0;D<m;D++){var P=S(D);null==P.coordDim&&(P.coordDim=p(L,d,C),P.coordDimIndex=0,(!E||A<=0)&&(P.isExtraCoord=!0),A--),I(P),null!=P.type||(0,c.u7)(t,D)!==c.Dq.Must&&(!P.isExtraCoord||null==P.otherDims.itemName&&null==P.otherDims.seriesName)||(P.type="ordinal")}return function(t){for(var e=(0,o.kW)(),n=0;n<t.length;n++){var i=t[n],r=i.name,a=e.get(r)||0;a>0&&(i.name=r+(a-1)),a++,e.set(r,a)}}(f),new u.Eo({source:t,dimensions:f,fullDimensionCount:m,dimensionOmitted:g})}function p(t,e,n){var i=e.data;if(n||i.hasOwnProperty(t)){for(var r=0;i.hasOwnProperty(t+r);)r++;t+=r}return e.set(t,!0),t}},8540:(t,e,n)=>{"use strict";n.d(e,{Pl:()=>p,_j:()=>m,a:()=>y,hk:()=>S,tB:()=>b});var i,r,o,a,s,l=n(3051),c=n(2234),u=n(9574),h=n(4279),p=function(){function t(t,e){var n=(0,u.Ld)(t)?t:(0,u.nx)(t);this._source=n;var i=this._data=n.data;n.sourceFormat===h.J5&&(this._offset=0,this._dimSize=e,this._data=i),s(this,i,n)}var e;return t.prototype.getSource=function(){return this._source},t.prototype.count=function(){return 0},t.prototype.getItem=function(t,e){},t.prototype.appendData=function(t){},t.prototype.clean=function(){},t.protoInitialize=((e=t.prototype).pure=!1,void(e.persistent=!0)),t.internalField=function(){var t;s=function(t,r,o){var s=o.sourceFormat,c=o.seriesLayoutBy,u=o.startIndex,p=o.dimensionsDefine,d=a[w(s,c)];if((0,l.l7)(t,d),s===h.J5)t.getItem=e,t.count=i,t.fillStorage=n;else{var f=m(s,c);t.getItem=(0,l.ak)(f,null,r,u,p);var g=y(s,c);t.count=(0,l.ak)(g,null,r,u,p)}};var e=function(t,e){t-=this._offset,e=e||[];for(var n=this._data,i=this._dimSize,r=i*t,o=0;o<i;o++)e[o]=n[r+o];return e},n=function(t,e,n,i){for(var r=this._data,o=this._dimSize,a=0;a<o;a++){for(var s=i[a],l=null==s[0]?1/0:s[0],c=null==s[1]?-1/0:s[1],u=e-t,h=n[a],p=0;p<u;p++){var d=r[p*o+a];h[t+p]=d,d<l&&(l=d),d>c&&(c=d)}s[0]=l,s[1]=c}},i=function(){return this._data?this._data.length/this._dimSize:0};function r(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}(t={})[h.XD+"_"+h.fY]={pure:!0,appendData:r},t[h.XD+"_"+h.Wc]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},t[h.qb]={pure:!0,appendData:r},t[h.hL]={pure:!0,appendData:function(t){var e=this._data;(0,l.S6)(t,(function(t,n){for(var i=e[n]||(e[n]=[]),r=0;r<(t||[]).length;r++)i.push(t[r])}))}},t[h.cy]={appendData:r},t[h.J5]={persistent:!1,pure:!0,appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}},a=t}(),t}(),d=function(t,e,n,i){return t[i]},f=((i={})[h.XD+"_"+h.fY]=function(t,e,n,i){return t[i+e]},i[h.XD+"_"+h.Wc]=function(t,e,n,i,r){i+=e;for(var o=r||[],a=t,s=0;s<a.length;s++){var l=a[s];o[s]=l?l[i]:null}return o},i[h.qb]=d,i[h.hL]=function(t,e,n,i,r){for(var o=r||[],a=0;a<n.length;a++){var s=t[n[a].name];o[a]=s?s[i]:null}return o},i[h.cy]=d,i);function m(t,e){return f[w(t,e)]}var g=function(t,e,n){return t.length},v=((r={})[h.XD+"_"+h.fY]=function(t,e,n){return Math.max(0,t.length-e)},r[h.XD+"_"+h.Wc]=function(t,e,n){var i=t[0];return i?Math.max(0,i.length-e):0},r[h.qb]=g,r[h.hL]=function(t,e,n){var i=t[n[0].name];return i?i.length:0},r[h.cy]=g,r);function y(t,e){return v[w(t,e)]}var _=function(t,e,n){return t[e]},x=((o={})[h.XD]=_,o[h.qb]=function(t,e,n){return t[n]},o[h.hL]=_,o[h.cy]=function(t,e,n){var i=(0,c.C4)(t);return i instanceof Array?i[e]:i},o[h.J5]=_,o);function b(t){return x[t]}function w(t,e){return t===h.XD?t+"_"+e:t}function S(t,e,n){if(t){var i=t.getRawDataItem(e);if(null!=i){var r=t.getStore(),o=r.getSource().sourceFormat;if(null!=n){var a=t.getDimensionIndex(n),s=r.getDimensionProperty(a);return b(o)(i,a,s)}var l=i;return o===h.cy&&(l=(0,c.C4)(i)),l}}}},9936:(t,e,n)=>{"use strict";n.d(e,{BM:()=>o,IR:()=>s,M:()=>a});var i=n(3051),r=n(1029);function o(t,e,n){var o,a,s,l=(n=n||{}).byIndex,c=n.stackedCoordDimension;!function(t){return!(0,r.bB)(t.schema)}(e)?(a=e.schema,o=a.dimensions,s=e.store):o=e;var u,h,p,d,f=!(!t||!t.get("stack"));if((0,i.S6)(o,(function(t,e){(0,i.HD)(t)&&(o[e]=t={name:t}),f&&!t.isExtraCoord&&(l||u||!t.ordinalMeta||(u=t),h||"ordinal"===t.type||"time"===t.type||c&&c!==t.coordDim||(h=t))})),!h||l||u||(l=!0),h){p="__\0ecstackresult_"+t.id,d="__\0ecstackedover_"+t.id,u&&(u.createInvertedIndices=!0);var m=h.coordDim,g=h.type,v=0;(0,i.S6)(o,(function(t){t.coordDim===m&&v++}));var y={name:p,coordDim:m,coordDimIndex:v,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length},_={name:d,coordDim:d,coordDimIndex:v+1,type:g,isExtraCoord:!0,isCalculationCoord:!0,storeDimIndex:o.length+1};a?(s&&(y.storeDimIndex=s.ensureCalculationDimension(d,g),_.storeDimIndex=s.ensureCalculationDimension(p,g)),a.appendCalculationDimension(y),a.appendCalculationDimension(_)):(o.push(y),o.push(_))}return{stackedDimension:h&&h.name,stackedByDimension:u&&u.name,isStackedByIndex:l,stackedOverDimension:d,stackResultDimension:p}}function a(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function s(t,e){return a(t,e)?t.getCalculationInfo("stackResultDimension"):e}},8407:(t,e,n)=>{"use strict";n.d(e,{ID:()=>h,o2:()=>l,tR:()=>d,yQ:()=>a});var i=n(5669),r=n(3051),o=n(175);function a(t,e){var n=e&&e.type;return"ordinal"===n?t:("time"!==n||(0,r.hj)(t)||null==t||"-"===t||(t=+(0,i.sG)(t)),null==t||""===t?NaN:+t)}var s=(0,r.kW)({number:function(t){return parseFloat(t)},time:function(t){return+(0,i.sG)(t)},trim:function(t){return(0,r.HD)(t)?(0,r.fy)(t):t}});function l(t){return s.get(t)}var c={lt:function(t,e){return t<e},lte:function(t,e){return t<=e},gt:function(t,e){return t>e},gte:function(t,e){return t>=e}},u=function(){function t(t,e){(0,r.hj)(e)||(0,o._y)(""),this._opFn=c[t],this._rvalFloat=(0,i.FK)(e)}return t.prototype.evaluate=function(t){return(0,r.hj)(t)?this._opFn(t,this._rvalFloat):this._opFn((0,i.FK)(t),this._rvalFloat)},t}(),h=function(){function t(t,e){var n="desc"===t;this._resultLT=n?1:-1,null==e&&(e=n?"min":"max"),this._incomparable="min"===e?-1/0:1/0}return t.prototype.evaluate=function(t,e){var n=(0,r.hj)(t)?t:(0,i.FK)(t),o=(0,r.hj)(e)?e:(0,i.FK)(e),a=isNaN(n),s=isNaN(o);if(a&&(n=this._incomparable),s&&(o=this._incomparable),a&&s){var l=(0,r.HD)(t),c=(0,r.HD)(e);l&&(n=c?t:0),c&&(o=l?e:0)}return n<o?this._resultLT:n>o?-this._resultLT:0},t}(),p=function(){function t(t,e){this._rval=e,this._isEQ=t,this._rvalTypeof=typeof e,this._rvalFloat=(0,i.FK)(e)}return t.prototype.evaluate=function(t){var e=t===this._rval;if(!e){var n=typeof t;n===this._rvalTypeof||"number"!==n&&"number"!==this._rvalTypeof||(e=(0,i.FK)(t)===this._rvalFloat)}return this._isEQ?e:!e},t}();function d(t,e){return"eq"===t||"ne"===t?new p("eq"===t,e):(0,r.RI)(c,t)?new u(t,e):null}},381:(t,e,n)=>{"use strict";n.d(e,{T:()=>l,y:()=>a});var i=n(3051),r=n(4279),o=function(){function t(t,e){this._encode=t,this._schema=e}return t.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},t.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},t}();function a(t,e){var n={},a=n.encode={},l=(0,i.kW)(),c=[],u=[],h={};(0,i.S6)(t.dimensions,(function(e){var n,i=t.getDimensionInfo(e),o=i.coordDim;if(o){var p=i.coordDimIndex;s(a,o)[p]=e,i.isExtraCoord||(l.set(o,1),"ordinal"!==(n=i.type)&&"time"!==n&&(c[0]=e),s(h,o)[p]=t.getDimensionIndex(i.name)),i.defaultTooltip&&u.push(e)}r.f7.each((function(t,e){var n=s(a,e),r=i.otherDims[e];null!=r&&!1!==r&&(n[r]=i.name)}))}));var p=[],d={};l.each((function(t,e){var n=a[e];d[e]=n[0],p=p.concat(n)})),n.dataDimsOnCoord=p,n.dataDimIndicesOnCoord=(0,i.UI)(p,(function(e){return t.getDimensionInfo(e).storeDimIndex})),n.encodeFirstDimNotExtra=d;var f=a.label;f&&f.length&&(c=f.slice());var m=a.tooltip;return m&&m.length?u=m.slice():u.length||(u=c.slice()),a.defaultedLabel=c,a.defaultedTooltip=u,n.userOutput=new o(h,e),n}function s(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function l(t){return"category"===t?"ordinal":"time"===t?"time":"float"}},1772:(t,e,n)=>{"use strict";n.d(e,{Dq:()=>a,JT:()=>h,Wd:()=>u,md:()=>l,pY:()=>c,u7:()=>p});var i=n(2234),r=n(3051),o=n(4279),a={Must:1,Might:2,Not:3},s=(0,i.Yf)();function l(t){s(t).datasetMap=(0,r.kW)()}function c(t,e,n){var i={},o=u(e);if(!o||!t)return i;var a,l,c=[],h=[],p=e.ecModel,d=s(p).datasetMap,f=o.uid+"_"+n.seriesLayoutBy;t=t.slice(),(0,r.S6)(t,(function(e,n){var o=(0,r.Kn)(e)?e:t[n]={name:e};"ordinal"===o.type&&null==a&&(a=n,l=v(o)),i[o.name]=[]}));var m=d.get(f)||d.set(f,{categoryWayDim:l,valueWayDim:0});function g(t,e,n){for(var i=0;i<n;i++)t.push(e+i)}function v(t){var e=t.dimsDef;return e?e.length:1}return(0,r.S6)(t,(function(t,e){var n=t.name,r=v(t);if(null==a){var o=m.valueWayDim;g(i[n],o,r),g(h,o,r),m.valueWayDim+=r}else a===e?(g(i[n],0,r),g(c,0,r)):(o=m.categoryWayDim,g(i[n],o,r),g(h,o,r),m.categoryWayDim+=r)})),c.length&&(i.itemName=c),h.length&&(i.seriesName=h),i}function u(t){if(!t.get("data",!0))return(0,i.HZ)(t.ecModel,"dataset",{index:t.get("datasetIndex",!0),id:t.get("datasetId",!0)},i.C6).models[0]}function h(t){return t.get("transform",!0)||t.get("fromTransformResult",!0)?(0,i.HZ)(t.ecModel,"dataset",{index:t.get("fromDatasetIndex",!0),id:t.get("fromDatasetId",!0)},i.C6).models:[]}function p(t,e){return function(t,e,n,s,l,c){var u,h,p;if((0,r.fU)(t))return a.Not;if(s){var d=s[c];(0,r.Kn)(d)?(h=d.name,p=d.type):(0,r.HD)(d)&&(h=d)}if(null!=p)return"ordinal"===p?a.Must:a.Not;if(e===o.XD){var f=t;if(n===o.Wc){for(var m=f[c],g=0;g<(m||[]).length&&g<5;g++)if(null!=(u=S(m[l+g])))return u}else for(g=0;g<f.length&&g<5;g++){var v=f[l+g];if(v&&null!=(u=S(v[c])))return u}}else if(e===o.qb){var y=t;if(!h)return a.Not;for(g=0;g<y.length&&g<5;g++)if((b=y[g])&&null!=(u=S(b[h])))return u}else if(e===o.hL){var _=t;if(!h)return a.Not;if(!(m=_[h])||(0,r.fU)(m))return a.Not;for(g=0;g<m.length&&g<5;g++)if(null!=(u=S(m[g])))return u}else if(e===o.cy){var x=t;for(g=0;g<x.length&&g<5;g++){var b=x[g],w=(0,i.C4)(b);if(!(0,r.kJ)(w))return a.Not;if(null!=(u=S(w[c])))return u}}function S(t){var e=(0,r.HD)(t);return null!=t&&isFinite(t)&&""!==t?e?a.Might:a.Not:e&&"-"!==t?a.Must:void 0}return a.Not}(t.data,t.sourceFormat,t.seriesLayoutBy,t.dimensionsDefine,t.startIndex,e)}},6437:(t,e,n)=>{"use strict";n.d(e,{U:()=>u,t:()=>h});var i=n(3051),r=n(9574),o=n(4279),a=n(1772),s=n(437),l=n(3834),c=n(8540),u=function(){function t(t){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=t}return t.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},t.prototype._setLocalSource=function(t,e){this._sourceList=t,this._upstreamSignList=e,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},t.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},t.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},t.prototype._createSource=function(){this._setLocalSource([],[]);var t,e,n=this._sourceHost,a=this._getUpstreamSourceManagers(),s=!!a.length;if(p(n)){var l=n,c=void 0,u=void 0,h=void 0;if(s){var d=a[0];d.prepareSource(),c=(h=d.getSource()).data,u=h.sourceFormat,e=[d._getVersionSign()]}else c=l.get("data",!0),u=(0,i.fU)(c)?o.J5:o.cy,e=[];var f=this._getSourceMetaRawOption()||{},m=h&&h.metaRawOption||{},g=(0,i.pD)(f.seriesLayoutBy,m.seriesLayoutBy)||null,v=(0,i.pD)(f.sourceHeader,m.sourceHeader),y=(0,i.pD)(f.dimensions,m.dimensions);t=g!==m.seriesLayoutBy||!!v!=!!m.sourceHeader||y?[(0,r._P)(c,{seriesLayoutBy:g,sourceHeader:v,dimensions:y},u)]:[]}else{var _=n;if(s){var x=this._applyTransform(a);t=x.sourceList,e=x.upstreamSignList}else{var b=_.get("source",!0);t=[(0,r._P)(b,this._getSourceMetaRawOption(),null)],e=[]}}this._setLocalSource(t,e)},t.prototype._applyTransform=function(t){var e,n=this._sourceHost,o=n.get("transform",!0),a=n.get("fromTransformResult",!0);null!=a&&1!==t.length&&d("");var l=[],c=[];return(0,i.S6)(t,(function(t){t.prepareSource();var e=t.getSource(a||0);null==a||e||d(""),l.push(e),c.push(t._getVersionSign())})),o?e=(0,s.vK)(o,l,{datasetIndex:n.componentIndex}):null!=a&&(e=[(0,r.ML)(l[0])]),{sourceList:e,upstreamSignList:c}},t.prototype._isDirty=function(){if(this._dirty)return!0;for(var t=this._getUpstreamSourceManagers(),e=0;e<t.length;e++){var n=t[e];if(n._isDirty()||this._upstreamSignList[e]!==n._getVersionSign())return!0}},t.prototype.getSource=function(t){t=t||0;var e=this._sourceList[t];if(!e){var n=this._getUpstreamSourceManagers();return n[0]&&n[0].getSource(t)}return e},t.prototype.getSharedDataStore=function(t){var e=t.makeStoreSchema();return this._innerGetDataStore(e.dimensions,t.source,e.hash)},t.prototype._innerGetDataStore=function(t,e,n){var i=this._storeList,r=i[0];r||(r=i[0]={});var o=r[n];if(!o){var a=this._getUpstreamSourceManagers()[0];p(this._sourceHost)&&a?o=a._innerGetDataStore(t,e,n):(o=new l.ZP).initData(new c.Pl(e,t.length),t),r[n]=o}return o},t.prototype._getUpstreamSourceManagers=function(){var t=this._sourceHost;if(p(t)){var e=(0,a.Wd)(t);return e?[e.getSourceManager()]:[]}return(0,i.UI)((0,a.JT)(t),(function(t){return t.getSourceManager()}))},t.prototype._getSourceMetaRawOption=function(){var t,e,n,i=this._sourceHost;if(p(i))t=i.get("seriesLayoutBy",!0),e=i.get("sourceHeader",!0),n=i.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var r=i;t=r.get("seriesLayoutBy",!0),e=r.get("sourceHeader",!0),n=r.get("dimensions",!0)}return{seriesLayoutBy:t,sourceHeader:e,dimensions:n}},t}();function h(t){t.option.transform&&(0,i.s7)(t.option.transform)}function p(t){return"series"===t.mainType}function d(t){throw new Error(t)}},437:(t,e,n)=>{"use strict";n.d(e,{DA:()=>g,vK:()=>v});var i=n(4279),r=n(2234),o=n(3051),a=n(8540),s=n(8407),l=n(175),c=n(9574),u=function(){function t(){}return t.prototype.getRawData=function(){throw new Error("not supported")},t.prototype.getRawDataItem=function(t){throw new Error("not supported")},t.prototype.cloneRawData=function(){},t.prototype.getDimensionInfo=function(t){},t.prototype.cloneAllDimensionInfo=function(){},t.prototype.count=function(){},t.prototype.retrieveValue=function(t,e){},t.prototype.retrieveValueFromItem=function(t,e){},t.prototype.convertValue=function(t,e){return(0,s.yQ)(t,e)},t}();function h(t){return _(t.sourceFormat)||(0,l._y)(""),t.data}function p(t){var e=t.sourceFormat,n=t.data;if(_(e)||(0,l._y)(""),e===i.XD){for(var r=[],a=0,s=n.length;a<s;a++)r.push(n[a].slice());return r}if(e===i.qb){for(r=[],a=0,s=n.length;a<s;a++)r.push((0,o.l7)({},n[a]));return r}}function d(t,e,n){if(null!=n)return(0,o.hj)(n)||!isNaN(n)&&!(0,o.RI)(e,n)?t[n]:(0,o.RI)(e,n)?e[n]:void 0}function f(t){return(0,o.d9)(t)}var m=(0,o.kW)();function g(t){var e=(t=(0,o.d9)(t)).type;e||(0,l._y)("");var n=e.split(":");2!==n.length&&(0,l._y)("");var i=!1;"echarts"===n[0]&&(e=n[1],i=!0),t.__isBuiltIn=i,m.set(e,t)}function v(t,e,n){var i=(0,r.kF)(t),o=i.length;o||(0,l._y)("");for(var a=0,s=o;a<s;a++)e=y(i[a],e),a!==s-1&&(e.length=Math.max(e.length,1));return e}function y(t,e,n,s){e.length||(0,l._y)(""),(0,o.Kn)(t)||(0,l._y)("");var g=t.type,v=m.get(g);v||(0,l._y)("");var y=(0,o.UI)(e,(function(t){return function(t,e){var n=new u,r=t.data,s=n.sourceFormat=t.sourceFormat,c=t.startIndex;t.seriesLayoutBy!==i.fY&&(0,l._y)("");var m=[],g={},v=t.dimensionsDefine;if(v)(0,o.S6)(v,(function(t,e){var n=t.name,i={index:e,name:n,displayName:t.displayName};m.push(i),null!=n&&((0,o.RI)(g,n)&&(0,l._y)(""),g[n]=i)}));else for(var y=0;y<t.dimensionsDetectedCount;y++)m.push({index:y});var _=(0,a._j)(s,i.fY);e.__isBuiltIn&&(n.getRawDataItem=function(t){return _(r,c,m,t)},n.getRawData=(0,o.ak)(h,null,t)),n.cloneRawData=(0,o.ak)(p,null,t);var x=(0,a.a)(s,i.fY);n.count=(0,o.ak)(x,null,r,c,m);var b=(0,a.tB)(s);n.retrieveValue=function(t,e){var n=_(r,c,m,t);return w(n,e)};var w=n.retrieveValueFromItem=function(t,e){if(null!=t){var n=m[e];return n?b(t,e,n.name):void 0}};return n.getDimensionInfo=(0,o.ak)(d,null,m,g),n.cloneAllDimensionInfo=(0,o.ak)(f,null,m),n}(t,v)})),x=(0,r.kF)(v.transform({upstream:y[0],upstreamList:y,config:(0,o.d9)(t.config)}));return(0,o.UI)(x,(function(t,n){var r;(0,o.Kn)(t)||(0,l._y)(""),t.data||(0,l._y)(""),_((0,c.Kp)(t.data))||(0,l._y)("");var a=e[0];if(a&&0===n&&!t.dimensions){var s=a.startIndex;s&&(t.data=a.data.slice(0,s).concat(t.data)),r={seriesLayoutBy:i.fY,sourceHeader:s,dimensions:a.metaRawOption.dimensions}}else r={seriesLayoutBy:i.fY,sourceHeader:0,dimensions:t.dimensions};return(0,c._P)(t.data,r,null)}))}function _(t){return t===i.XD||t===i.qb}},8023:(t,e,n)=>{"use strict";n.d(e,{D:()=>d});var i=n(52),r=n(3166),o=n(5797),a=n(8071),s=n(9779),l=n(3051),c=n(9428),u=n(9448),h=[],p={registerPreprocessor:i.ds,registerProcessor:i.Pu,registerPostInit:i.sq,registerPostUpdate:i.Br,registerUpdateLifecycle:i.YK,registerAction:i.zl,registerCoordinateSystem:i.RS,registerLayout:i.qR,registerVisual:i.Og,registerTransform:i.OB,registerLoading:i.yn,registerMap:i.je,registerImpl:c.M,PRIORITY:i.Hr,ComponentModel:a.Z,ComponentView:r.Z,SeriesModel:s.Z,ChartView:o.Z,registerComponentModel:function(t){a.Z.registerClass(t)},registerComponentView:function(t){r.Z.registerClass(t)},registerSeriesModel:function(t){s.Z.registerClass(t)},registerChartView:function(t){o.Z.registerClass(t)},registerSubTypeDefaulter:function(t,e){a.Z.registerSubTypeDefaulter(t,e)},registerPainter:function(t,e){(0,u.wm)(t,e)}};function d(t){(0,l.kJ)(t)?(0,l.S6)(t,(function(t){d(t)})):(0,l.cq)(h,t)>=0||(h.push(t),(0,l.mf)(t)&&(t={install:t}),t.install(p))}},8394:(t,e,n)=>{"use strict";n.d(e,{T:()=>K});var i=n(2234),r=n(479),o=n(9266),a=n(106),s=n(5669),l=n(7411),c=n(1610),u=n(6134),h=n(2514),p=n(4014),d=n(3266),f=n(8554),m=n(3051),g=n(2892),v=n(5280),y=n(6357),_=2*Math.PI,x=p.Z.CMD,b=["top","right","bottom","left"];function w(t,e,n,i,r){var o=n.width,a=n.height;switch(t){case"top":i.set(n.x+o/2,n.y-e),r.set(0,-1);break;case"bottom":i.set(n.x+o/2,n.y+a+e),r.set(0,1);break;case"left":i.set(n.x-e,n.y+a/2),r.set(-1,0);break;case"right":i.set(n.x+o+e,n.y+a/2),r.set(1,0)}}function S(t,e,n,i,r,o,a,s,l){a-=t,s-=e;var c=Math.sqrt(a*a+s*s),u=(a/=c)*n+t,h=(s/=c)*n+e;if(Math.abs(i-r)%_<1e-4)return l[0]=u,l[1]=h,c-n;if(o){var p=i;i=(0,d.m)(r),r=(0,d.m)(p)}else i=(0,d.m)(i),r=(0,d.m)(r);i>r&&(r+=_);var f=Math.atan2(s,a);if(f<0&&(f+=_),f>=i&&f<=r||f+_>=i&&f+_<=r)return l[0]=u,l[1]=h,c-n;var m=n*Math.cos(i)+t,g=n*Math.sin(i)+e,v=n*Math.cos(r)+t,y=n*Math.sin(r)+e,x=(m-a)*(m-a)+(g-s)*(g-s),b=(v-a)*(v-a)+(y-s)*(y-s);return x<b?(l[0]=m,l[1]=g,Math.sqrt(x)):(l[0]=v,l[1]=y,Math.sqrt(b))}function M(t,e,n,i,r,o,a,s){var l=r-t,c=o-e,u=n-t,h=i-e,p=Math.sqrt(u*u+h*h),d=(l*(u/=p)+c*(h/=p))/p;s&&(d=Math.min(Math.max(d,0),1)),d*=p;var f=a[0]=t+d*u,m=a[1]=e+d*h;return Math.sqrt((f-r)*(f-r)+(m-o)*(m-o))}function T(t,e,n,i,r,o,a){n<0&&(t+=n,n=-n),i<0&&(e+=i,i=-i);var s=t+n,l=e+i,c=a[0]=Math.min(Math.max(r,t),s),u=a[1]=Math.min(Math.max(o,e),l);return Math.sqrt((c-r)*(c-r)+(u-o)*(u-o))}var E=[];function A(t,e,n){var i=T(e.x,e.y,e.width,e.height,t.x,t.y,E);return n.set(E[0],E[1]),i}function C(t,e,n){for(var i,r,o=0,a=0,s=0,l=0,c=1/0,u=e.data,h=t.x,p=t.y,d=0;d<u.length;){var m=u[d++];1===d&&(s=o=u[d],l=a=u[d+1]);var g=c;switch(m){case x.M:o=s=u[d++],a=l=u[d++];break;case x.L:g=M(o,a,u[d],u[d+1],h,p,E,!0),o=u[d++],a=u[d++];break;case x.C:g=(0,f.t1)(o,a,u[d++],u[d++],u[d++],u[d++],u[d],u[d+1],h,p,E),o=u[d++],a=u[d++];break;case x.Q:g=(0,f.Wr)(o,a,u[d++],u[d++],u[d],u[d+1],h,p,E),o=u[d++],a=u[d++];break;case x.A:var v=u[d++],y=u[d++],_=u[d++],b=u[d++],w=u[d++],A=u[d++];d+=1;var C=!!(1-u[d++]);i=Math.cos(w)*_+v,r=Math.sin(w)*b+y,d<=1&&(s=i,l=r),g=S(v,y,b,w,w+A,C,(h-v)*b/_+v,p,E),o=Math.cos(w+A)*_+v,a=Math.sin(w+A)*b+y;break;case x.R:g=T(s=o=u[d++],l=a=u[d++],u[d++],u[d++],h,p,E);break;case x.Z:g=M(o,a,s,l,h,p,E,!0),o=s,a=l}g<c&&(c=g,n.set(E[0],E[1]))}return c}var L=new c.Z,I=new c.Z,D=new c.Z,P=new c.Z,R=new c.Z;function O(t,e){if(t){var n=t.getTextGuideLine(),i=t.getTextContent();if(i&&n){var r=t.textGuideLineConfig||{},o=[[0,0],[0,0],[0,0]],a=r.candidates||b,s=i.getBoundingRect().clone();s.applyTransform(i.getComputedTransform());var l=1/0,h=r.anchor,p=t.getComputedTransform(),d=p&&(0,g.U_)([],p),f=e.get("length2")||0;h&&D.copy(h);for(var m=0;m<a.length;m++){w(a[m],0,s,L,P),c.Z.scaleAndAdd(I,L,P,f),I.transform(d);var v=t.getBoundingRect(),y=h?h.distance(I):t instanceof u.ZP?C(I,t.path,D):A(I,v,D);y<l&&(l=y,I.transform(p),D.transform(p),D.toArray(o[0]),I.toArray(o[1]),L.toArray(o[2]))}!function(t,e){if(e<=180&&e>0){e=e/180*Math.PI,L.fromArray(t[0]),I.fromArray(t[1]),D.fromArray(t[2]),c.Z.sub(P,L,I),c.Z.sub(R,D,I);var n=P.len(),i=R.len();if(!(n<.001||i<.001)){P.scale(1/n),R.scale(1/i);var r=P.dot(R);if(Math.cos(e)<r){var o=M(I.x,I.y,D.x,D.y,L.x,L.y,k,!1);N.fromArray(k),N.scaleAndAdd(R,o/Math.tan(Math.PI-e));var a=D.x!==I.x?(N.x-I.x)/(D.x-I.x):(N.y-I.y)/(D.y-I.y);if(isNaN(a))return;a<0?c.Z.copy(N,I):a>1&&c.Z.copy(N,D),N.toArray(t[1])}}}}(o,e.get("minTurnAngle")),n.setShape({points:o})}}}var k=[],N=new c.Z;function z(t,e,n,i){var r="normal"===n,o=r?t:t.ensureState(n);o.ignore=e;var a=i.get("smooth");a&&!0===a&&(a=.3),o.shape=o.shape||{},a>0&&(o.shape.smooth=a);var s=i.getModel("lineStyle").getLineStyle();r?t.useStyle(s):o.style=s}function B(t,e){var n=e.smooth,i=e.points;if(i)if(t.moveTo(i[0][0],i[0][1]),n>0&&i.length>=3){var r=v.TK(i[0],i[1]),o=v.TK(i[1],i[2]);if(!r||!o)return t.lineTo(i[1][0],i[1][1]),void t.lineTo(i[2][0],i[2][1]);var a=Math.min(r,o)*n,s=v.t7([],i[1],i[0],a/r),l=v.t7([],i[1],i[2],a/o),c=v.t7([],s,l,.5);t.bezierCurveTo(s[0],s[1],s[0],s[1],c[0],c[1]),t.bezierCurveTo(l[0],l[1],l[0],l[1],i[2][0],i[2][1])}else for(var u=1;u<i.length;u++)t.lineTo(i[u][0],i[u][1])}var F=n(4162),U=n(6006);function H(t){if(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n].slice());return e}}function V(t,e){var n=t.label,i=e&&e.getTextGuideLine();return{dataIndex:t.dataIndex,dataType:t.dataType,seriesIndex:t.seriesModel.seriesIndex,text:t.label.style.text,rect:t.hostRect,labelRect:t.rect,align:n.style.align,verticalAlign:n.style.verticalAlign,labelLinePoints:H(i&&i.shape.points)}}var G=["align","verticalAlign","width","height","fontSize"],j=new l.ZP,W=(0,i.Yf)(),Z=(0,i.Yf)();function q(t,e,n){for(var i=0;i<n.length;i++){var r=n[i];null!=e[r]&&(t[r]=e[r])}}var X=["x","y","rotation"];const Y=function(){function t(){this._labelList=[],this._chartViewList=[]}return t.prototype.clearLabels=function(){this._labelList=[],this._chartViewList=[]},t.prototype._addLabel=function(t,e,n,i,o){var a=i.style,s=i.__hostTarget.textConfig||{},l=i.getComputedTransform(),c=i.getBoundingRect().plain();r.Z.applyTransform(c,c,l),l?j.setLocalTransform(l):(j.x=j.y=j.rotation=j.originX=j.originY=0,j.scaleX=j.scaleY=1);var u,h=i.__hostTarget;if(h){u=h.getBoundingRect().plain();var p=h.getComputedTransform();r.Z.applyTransform(u,u,p)}var d=u&&h.getTextGuideLine();this._labelList.push({label:i,labelLine:d,seriesModel:n,dataIndex:t,dataType:e,layoutOption:o,computedLayoutOption:null,rect:c,hostRect:u,priority:u?u.width*u.height:0,defaultAttr:{ignore:i.ignore,labelGuideIgnore:d&&d.ignore,x:j.x,y:j.y,scaleX:j.scaleX,scaleY:j.scaleY,rotation:j.rotation,style:{x:a.x,y:a.y,align:a.align,verticalAlign:a.verticalAlign,width:a.width,height:a.height,fontSize:a.fontSize},cursor:i.cursor,attachedPos:s.position,attachedRot:s.rotation}})},t.prototype.addLabelsOfSeries=function(t){var e=this;this._chartViewList.push(t);var n=t.__model,i=n.get("labelLayout");((0,m.mf)(i)||(0,m.XP)(i).length)&&t.group.traverse((function(t){if(t.ignore)return!0;var r=t.getTextContent(),o=(0,a.A)(t);r&&!r.disableLabelLayout&&e._addLabel(o.dataIndex,o.dataType,n,r,i)}))},t.prototype.updateLayoutConfig=function(t){var e=t.getWidth(),n=t.getHeight();function i(t,e){return function(){O(t,e)}}for(var r=0;r<this._labelList.length;r++){var o=this._labelList[r],a=o.label,l=a.__hostTarget,c=o.defaultAttr,u=void 0;u=(u=(0,m.mf)(o.layoutOption)?o.layoutOption(V(o,l)):o.layoutOption)||{},o.computedLayoutOption=u;var h=Math.PI/180;l&&l.setTextConfig({local:!1,position:null!=u.x||null!=u.y?null:c.attachedPos,rotation:null!=u.rotate?u.rotate*h:c.attachedRot,offset:[u.dx||0,u.dy||0]});var p=!1;if(null!=u.x?(a.x=(0,s.GM)(u.x,e),a.setStyle("x",0),p=!0):(a.x=c.x,a.setStyle("x",c.style.x)),null!=u.y?(a.y=(0,s.GM)(u.y,n),a.setStyle("y",0),p=!0):(a.y=c.y,a.setStyle("y",c.style.y)),u.labelLinePoints){var d=l.getTextGuideLine();d&&(d.setShape({points:u.labelLinePoints}),p=!1)}W(a).needsUpdateLabelLine=p,a.rotation=null!=u.rotate?u.rotate*h:c.rotation,a.scaleX=c.scaleX,a.scaleY=c.scaleY;for(var f=0;f<G.length;f++){var g=G[f];a.setStyle(g,null!=u[g]?u[g]:c.style[g])}if(u.draggable){if(a.draggable=!0,a.cursor="move",l){var v=o.seriesModel;null!=o.dataIndex&&(v=o.seriesModel.getData(o.dataType).getItemModel(o.dataIndex)),a.on("drag",i(l,v.getModel("labelLine")))}}else a.off("drag"),a.cursor=c.cursor}},t.prototype.layout=function(t){var e=t.getWidth(),n=t.getHeight(),i=(0,F.VT)(this._labelList),r=(0,m.hX)(i,(function(t){return"shiftX"===t.layoutOption.moveOverlap})),o=(0,m.hX)(i,(function(t){return"shiftY"===t.layoutOption.moveOverlap}));(0,F.WE)(r,0,e),(0,F.GI)(o,0,n);var a=(0,m.hX)(i,(function(t){return t.layoutOption.hideOverlap}));(0,F.yl)(a)},t.prototype.processLabelsOverall=function(){var t=this;(0,m.S6)(this._chartViewList,(function(e){var n=e.__model,i=e.ignoreLabelLineUpdate,r=n.isAnimationEnabled();e.group.traverse((function(e){if(e.ignore&&!e.forceLabelAnimation)return!0;var o=!i,a=e.getTextContent();!o&&a&&(o=W(a).needsUpdateLabelLine),o&&t._updateLabelLine(e,n),r&&t._animateLabels(e,n)}))}))},t.prototype._updateLabelLine=function(t,e){var n=t.getTextContent(),i=(0,a.A)(t),r=i.dataIndex;if(n&&null!=r){var o=e.getData(i.dataType),s=o.getItemModel(r),l={},c=o.getItemVisual(r,"style"),u=o.getVisual("drawType");l.stroke=c[u];var p=s.getModel("labelLine");!function(t,e,n){var i=t.getTextGuideLine(),r=t.getTextContent();if(r){for(var o=e.normal,a=o.get("show"),s=r.ignore,l=0;l<y.qc.length;l++){var c=y.qc[l],u=e[c],p="normal"===c;if(u){var d=u.get("show");if((p?s:(0,m.pD)(r.states[c]&&r.states[c].ignore,s))||!(0,m.pD)(d,a)){var f=p?i:i&&i.states[c];f&&(f.ignore=!0);continue}i||(i=new h.Z,t.setTextGuideLine(i),p||!s&&a||z(i,!0,"normal",e.normal),t.stateProxy&&(i.stateProxy=t.stateProxy)),z(i,!1,c,u)}}if(i){(0,m.ce)(i.style,n),i.style.fill=null;var g=o.get("showAbove");(t.textGuideLineConfig=t.textGuideLineConfig||{}).showAbove=g||!1,i.buildPath=B}}else i&&t.removeTextGuideLine()}(t,function(t,e){e=e||"labelLine";for(var n={normal:t.getModel(e)},i=0;i<y.L1.length;i++){var r=y.L1[i];n[r]=t.getModel([r,e])}return n}(s),l),O(t,p)}},t.prototype._animateLabels=function(t,e){var n=t.getTextContent(),i=t.getTextGuideLine();if(n&&(t.forceLabelAnimation||!n.ignore&&!n.invisible&&!t.disableLabelAnimation&&!(0,o.eq)(t))){var r=(g=W(n)).oldLayout,s=(0,a.A)(t),l=s.dataIndex,c={x:n.x,y:n.y,rotation:n.rotation},u=e.getData(s.dataType);if(r){n.attr(r);var h=t.prevStates;h&&((0,m.cq)(h,"select")>=0&&n.attr(g.oldLayoutSelect),(0,m.cq)(h,"emphasis")>=0&&n.attr(g.oldLayoutEmphasis)),(0,o.D)(n,c,e,l)}else if(n.attr(c),!(0,U.qA)(n).valueAnimation){var p=(0,m.pD)(n.style.opacity,1);n.style.opacity=0,(0,o.KZ)(n,{style:{opacity:p}},e,l)}if(g.oldLayout=c,n.states.select){var d=g.oldLayoutSelect={};q(d,c,X),q(d,n.states.select,X)}if(n.states.emphasis){var f=g.oldLayoutEmphasis={};q(f,c,X),q(f,n.states.emphasis,X)}(0,U.tD)(n,l,u,e,e)}if(i&&!i.ignore&&!i.invisible){r=(g=Z(i)).oldLayout;var g,v={points:i.shape.points};r?(i.attr({shape:r}),(0,o.D)(i,{shape:v},e)):(i.setShape(v),i.style.strokePercent=0,(0,o.KZ)(i,{style:{strokePercent:1}},e)),g.oldLayout=v}},t}();var J=(0,i.Yf)();function K(t){t.registerUpdateLifecycle("series:beforeupdate",(function(t,e,n){var i=J(e).labelManager;i||(i=J(e).labelManager=new Y),i.clearLabels()})),t.registerUpdateLifecycle("series:layoutlabels",(function(t,e,n){var i=J(e).labelManager;n.updatedSeries.forEach((function(t){i.addLabelsOfSeries(e.getViewOfSeriesModel(t))})),i.updateLayoutConfig(e),i.layout(e),i.processLabelsOverall()}))}},4162:(t,e,n)=>{"use strict";n.d(e,{GI:()=>l,VT:()=>o,WE:()=>s,yl:()=>c});var i=n(1587),r=n(479);function o(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];if(!r.defaultAttr.ignore){var o=r.label,a=o.getComputedTransform(),s=o.getBoundingRect(),l=!a||a[1]<1e-5&&a[2]<1e-5,c=o.style.margin||0,u=s.clone();u.applyTransform(a),u.x-=c/2,u.y-=c/2,u.width+=c,u.height+=c;var h=l?new i.Z(s,a):null;e.push({label:o,labelLine:r.labelLine,rect:u,localRect:s,obb:h,priority:r.priority,defaultAttr:r.defaultAttr,layoutOption:r.computedLayoutOption,axisAligned:l,transform:a})}}return e}function a(t,e,n,i,r,o){var a=t.length;if(!(a<2)){t.sort((function(t,n){return t.rect[e]-n.rect[e]}));for(var s,l=0,c=!1,u=[],h=0,p=0;p<a;p++){var d=t[p],f=d.rect;(s=f[e]-l)<0&&(f[e]-=s,d.label[e]-=s,c=!0);var m=Math.max(-s,0);u.push(m),h+=m,l=f[e]+f[n]}h>0&&o&&w(-h/a,0,a);var g,v,y=t[0],_=t[a-1];return x(),g<0&&S(-g,.8),v<0&&S(v,.8),x(),b(g,v,1),b(v,g,-1),x(),g<0&&M(-g),v<0&&M(v),c}function x(){g=y.rect[e]-i,v=r-_.rect[e]-_.rect[n]}function b(t,e,n){if(t<0){var i=Math.min(e,-t);if(i>0){w(i*n,0,a);var r=i+t;r<0&&S(-r*n,1)}else S(-t*n,1)}}function w(n,i,r){0!==n&&(c=!0);for(var o=i;o<r;o++){var a=t[o];a.rect[e]+=n,a.label[e]+=n}}function S(i,r){for(var o=[],s=0,l=1;l<a;l++){var c=t[l-1].rect,u=Math.max(t[l].rect[e]-c[e]-c[n],0);o.push(u),s+=u}if(s){var h=Math.min(Math.abs(i)/s,r);if(i>0)for(l=0;l<a-1;l++)w(o[l]*h,0,l+1);else for(l=a-1;l>0;l--)w(-o[l-1]*h,l,a)}}function M(t){var e=t<0?-1:1;t=Math.abs(t);for(var n=Math.ceil(t/(a-1)),i=0;i<a-1;i++)if(e>0?w(n,0,i+1):w(-n,a-i-1,a),(t-=n)<=0)return}}function s(t,e,n,i){return a(t,"x","width",e,n,i)}function l(t,e,n,i){return a(t,"y","height",e,n,i)}function c(t){var e=[];t.sort((function(t,e){return e.priority-t.priority}));var n=new r.Z(0,0,0,0);function o(t){if(!t.ignore){var e=t.ensureState("emphasis");null==e.ignore&&(e.ignore=!1)}t.ignore=!0}for(var a=0;a<t.length;a++){var s=t[a],l=s.axisAligned,c=s.localRect,u=s.transform,h=s.label,p=s.labelLine;n.copy(s.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var d=s.obb,f=!1,m=0;m<e.length;m++){var g=e[m];if(n.intersect(g.rect)){if(l&&g.axisAligned){f=!0;break}if(g.obb||(g.obb=new i.Z(g.localRect,g.transform)),d||(d=new i.Z(c,u)),d.intersect(g.obb)){f=!0;break}}}f?(o(h),p&&o(p)):(h.attr("ignore",s.defaultAttr.ignore),p&&p.attr("ignore",s.defaultAttr.labelGuideIgnore),e.push(s))}}},6006:(t,e,n)=>{"use strict";n.d(e,{Lr:()=>d,k3:()=>p,ni:()=>h,pe:()=>b,qA:()=>x,qT:()=>_,tD:()=>w});var i=n(9074),r=n(3051),o=n(6357),a=n(2234),s=n(9266),l={};function c(t,e){for(var n=0;n<o.L1.length;n++){var i=o.L1[n],r=e[i],a=t.ensureState(i);a.style=a.style||{},a.style.text=r}var s=t.currentStates.slice();t.clearStates(!0),t.setStyle({text:e.normal}),t.useStates(s,!0)}function u(t,e,n){var i,a=t.labelFetcher,s=t.labelDataIndex,l=t.labelDimIndex,c=e.normal;a&&(i=a.getFormattedLabel(s,"normal",null,l,c&&c.get("formatter"),null!=n?{interpolatedValue:n}:null)),null==i&&(i=(0,r.mf)(t.defaultText)?t.defaultText(s,t,n):t.defaultText);for(var u={normal:i},h=0;h<o.L1.length;h++){var p=o.L1[h],d=e[p];u[p]=(0,r.pD)(a?a.getFormattedLabel(s,p,null,l,d&&d.get("formatter")):null,i)}return u}function h(t,e,n,a){n=n||l;for(var s=t instanceof i.ZP,h=!1,p=0;p<o.qc.length;p++)if((b=e[o.qc[p]])&&b.getShallow("show")){h=!0;break}var m=s?t:t.getTextContent();if(h){s||(m||(m=new i.ZP,t.setTextContent(m)),t.stateProxy&&(m.stateProxy=t.stateProxy));var g=u(n,e),v=e.normal,y=!!v.getShallow("show"),_=d(v,a&&a.normal,n,!1,!s);for(_.text=g.normal,s||t.setTextConfig(f(v,n,!1)),p=0;p<o.L1.length;p++){var b,w=o.L1[p];if(b=e[w]){var S=m.ensureState(w),M=!!(0,r.pD)(b.getShallow("show"),y);M!==y&&(S.ignore=!M),S.style=d(b,a&&a[w],n,!0,!s),S.style.text=g[w],s||(t.ensureState(w).textConfig=f(b,n,!0))}}m.silent=!!v.getShallow("silent"),null!=m.style.x&&(_.x=m.style.x),null!=m.style.y&&(_.y=m.style.y),m.ignore=!y,m.useStyle(_),m.dirty(),n.enableTextSetter&&(x(m).setLabelText=function(t){var i=u(n,e,t);c(m,i)})}else m&&(m.ignore=!0);t.dirty()}function p(t,e){e=e||"label";for(var n={normal:t.getModel(e)},i=0;i<o.L1.length;i++){var r=o.L1[i];n[r]=t.getModel([r,e])}return n}function d(t,e,n,i,o){var a={};return function(t,e,n,i,o){n=n||l;var a,s=e.ecModel,c=s&&s.option.textStyle,u=function(t){for(var e;t&&t!==t.ecModel;){var n=(t.option||l).rich;if(n){e=e||{};for(var i=(0,r.XP)(n),o=0;o<i.length;o++)e[i[o]]=1}t=t.parentModel}return e}(e);if(u)for(var h in a={},u)if(u.hasOwnProperty(h)){var p=e.getModel(["rich",h]);y(a[h]={},p,c,n,i,o,!1,!0)}a&&(t.rich=a);var d=e.get("overflow");d&&(t.overflow=d);var f=e.get("minMargin");null!=f&&(t.margin=f),y(t,e,c,n,i,o,!0,!1)}(a,t,n,i,o),e&&(0,r.l7)(a,e),a}function f(t,e,n){e=e||{};var i,o={},a=t.getShallow("rotate"),s=(0,r.pD)(t.getShallow("distance"),n?null:5),l=t.getShallow("offset");return"outside"===(i=t.getShallow("position")||(n?null:"inside"))&&(i=e.defaultOutsidePosition||"top"),null!=i&&(o.position=i),null!=l&&(o.offset=l),null!=a&&(a*=Math.PI/180,o.rotation=a),null!=s&&(o.distance=s),o.outsideFill="inherit"===t.get("color")?e.inheritColor||null:"auto",o}var m=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],g=["align","lineHeight","width","height","tag","verticalAlign"],v=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function y(t,e,n,i,o,a,s,c){n=!o&&n||l;var u=i&&i.inheritColor,h=e.getShallow("color"),p=e.getShallow("textBorderColor"),d=(0,r.pD)(e.getShallow("opacity"),n.opacity);"inherit"!==h&&"auto"!==h||(h=u||null),"inherit"!==p&&"auto"!==p||(p=u||null),a||(h=h||n.color,p=p||n.textBorderColor),null!=h&&(t.fill=h),null!=p&&(t.stroke=p);var f=(0,r.pD)(e.getShallow("textBorderWidth"),n.textBorderWidth);null!=f&&(t.lineWidth=f);var y=(0,r.pD)(e.getShallow("textBorderType"),n.textBorderType);null!=y&&(t.lineDash=y);var _=(0,r.pD)(e.getShallow("textBorderDashOffset"),n.textBorderDashOffset);null!=_&&(t.lineDashOffset=_),o||null!=d||c||(d=i&&i.defaultOpacity),null!=d&&(t.opacity=d),o||a||null==t.fill&&i.inheritColor&&(t.fill=i.inheritColor);for(var x=0;x<m.length;x++){var b=m[x];null!=(S=(0,r.pD)(e.getShallow(b),n[b]))&&(t[b]=S)}for(x=0;x<g.length;x++)b=g[x],null!=(S=e.getShallow(b))&&(t[b]=S);if(null==t.verticalAlign){var w=e.getShallow("baseline");null!=w&&(t.verticalAlign=w)}if(!s||!i.disableBox){for(x=0;x<v.length;x++){var S;b=v[x],null!=(S=e.getShallow(b))&&(t[b]=S)}var M=e.getShallow("borderType");null!=M&&(t.borderDash=M),"auto"!==t.backgroundColor&&"inherit"!==t.backgroundColor||!u||(t.backgroundColor=u),"auto"!==t.borderColor&&"inherit"!==t.borderColor||!u||(t.borderColor=u)}}function _(t,e){var n=e&&e.getModel("textStyle");return(0,r.fy)([t.fontStyle||n&&n.getShallow("fontStyle")||"",t.fontWeight||n&&n.getShallow("fontWeight")||"",(t.fontSize||n&&n.getShallow("fontSize")||12)+"px",t.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var x=(0,a.Yf)();function b(t,e,n,i){if(t){var r=x(t);r.prevValue=r.value,r.value=n;var o=e.normal;r.valueAnimation=o.get("valueAnimation"),r.valueAnimation&&(r.precision=o.get("precision"),r.defaultInterpolatedText=i,r.statesModels=e)}}function w(t,e,n,i,o){var l=x(t);if(l.valueAnimation&&l.prevValue!==l.value){var h=l.defaultInterpolatedText,p=(0,r.pD)(l.interpolatedValue,l.prevValue),d=l.value;t.percent=0,(null==l.prevValue?s.KZ:s.D)(t,{percent:1},i,e,null,(function(i){var r=(0,a.pk)(n,l.precision,p,d,i);l.interpolatedValue=1===i?null:r;var s=u({labelDataIndex:e,labelFetcher:o,defaultText:h?h(r):r+""},l.statesModels,r);c(t,s)}))}}},3382:(t,e,n)=>{"use strict";n.d(e,{Bk:()=>g,bK:()=>m,My:()=>d,Ge:()=>p,G_:()=>f});var i=n(3051),r=n(5669),o=n(9936),a=n(5682),s="undefined"!=typeof Float32Array,l=s?Float32Array:Array;function c(t){return(0,i.kJ)(t)?s?new Float32Array(t):t:new l(t)}function u(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function h(t){return t.dim+t.index}function p(t,e){var n=[];return e.eachSeriesByType(t,(function(t){v(t)&&n.push(t)})),n}function d(t){var e=function(t){var e={};(0,i.S6)(t,(function(t){var n=t.coordinateSystem.getBaseAxis();if("time"===n.type||"value"===n.type)for(var i=t.getData(),r=n.dim+"_"+n.index,o=i.getDimensionIndex(i.mapDimension(n.dim)),a=i.getStore(),s=0,l=a.count();s<l;++s){var c=a.get(o,s);e[r]?e[r].push(c):e[r]=[c]}}));var n={};for(var r in e)if(e.hasOwnProperty(r)){var o=e[r];if(o){o.sort((function(t,e){return t-e}));for(var a=null,s=1;s<o.length;++s){var l=o[s]-o[s-1];l>0&&(a=null===a?l:Math.min(a,l))}n[r]=a}}return n}(t),n=[];return(0,i.S6)(t,(function(t){var i,o=t.coordinateSystem.getBaseAxis(),a=o.getExtent();if("category"===o.type)i=o.getBandWidth();else if("value"===o.type||"time"===o.type){var s=o.dim+"_"+o.index,l=e[s],c=Math.abs(a[1]-a[0]),p=o.scale.getExtent(),d=Math.abs(p[1]-p[0]);i=l?c/d*l:c}else{var f=t.getData();i=Math.abs(a[1]-a[0])/f.count()}var m=(0,r.GM)(t.get("barWidth"),i),g=(0,r.GM)(t.get("barMaxWidth"),i),v=(0,r.GM)(t.get("barMinWidth")||(y(t)?.5:1),i),_=t.get("barGap"),x=t.get("barCategoryGap");n.push({bandWidth:i,barWidth:m,barMaxWidth:g,barMinWidth:v,barGap:_,barCategoryGap:x,axisKey:h(o),stackId:u(t)})})),function(t){var e={};(0,i.S6)(t,(function(t,n){var i=t.axisKey,r=t.bandWidth,o=e[i]||{bandWidth:r,remainedWidth:r,autoWidthCount:0,categoryGap:null,gap:"20%",stacks:{}},a=o.stacks;e[i]=o;var s=t.stackId;a[s]||o.autoWidthCount++,a[s]=a[s]||{width:0,maxWidth:0};var l=t.barWidth;l&&!a[s].width&&(a[s].width=l,l=Math.min(o.remainedWidth,l),o.remainedWidth-=l);var c=t.barMaxWidth;c&&(a[s].maxWidth=c);var u=t.barMinWidth;u&&(a[s].minWidth=u);var h=t.barGap;null!=h&&(o.gap=h);var p=t.barCategoryGap;null!=p&&(o.categoryGap=p)}));var n={};return(0,i.S6)(e,(function(t,e){n[e]={};var o=t.stacks,a=t.bandWidth,s=t.categoryGap;if(null==s){var l=(0,i.XP)(o).length;s=Math.max(35-4*l,15)+"%"}var c=(0,r.GM)(s,a),u=(0,r.GM)(t.gap,1),h=t.remainedWidth,p=t.autoWidthCount,d=(h-c)/(p+(p-1)*u);d=Math.max(d,0),(0,i.S6)(o,(function(t){var e=t.maxWidth,n=t.minWidth;if(t.width)i=t.width,e&&(i=Math.min(i,e)),n&&(i=Math.max(i,n)),t.width=i,h-=i+u*i,p--;else{var i=d;e&&e<i&&(i=Math.min(e,h)),n&&n>i&&(i=n),i!==d&&(t.width=i,h-=i+u*i,p--)}})),d=(h-c)/(p+(p-1)*u),d=Math.max(d,0);var f,m=0;(0,i.S6)(o,(function(t,e){t.width||(t.width=d),f=t,m+=t.width*(1+u)})),f&&(m-=f.width*u);var g=-m/2;(0,i.S6)(o,(function(t,i){n[e][i]=n[e][i]||{bandWidth:a,offset:g,width:t.width},g+=t.width*(1+u)}))})),n}(n)}function f(t,e,n){if(t&&e){var i=t[h(e)];return null!=i&&null!=n?i[u(n)]:i}}function m(t,e){var n=p(t,e),r=d(n);(0,i.S6)(n,(function(t){var e=t.getData(),n=t.coordinateSystem.getBaseAxis(),i=u(t),o=r[h(n)][i],a=o.offset,s=o.width;e.setLayout({bandWidth:o.bandWidth,offset:a,size:s})}))}function g(t){return{seriesType:t,plan:(0,a.Z)(),reset:function(t){if(v(t)){var e=t.getData(),n=t.coordinateSystem,i=n.getBaseAxis(),r=n.getOtherAxis(i),a=e.getDimensionIndex(e.mapDimension(r.dim)),s=e.getDimensionIndex(e.mapDimension(i.dim)),l=t.get("showBackground",!0),u=e.mapDimension(r.dim),h=e.getCalculationInfo("stackResultDimension"),p=(0,o.M)(e,u)&&!!e.getCalculationInfo("stackedOnSeries"),d=r.isHorizontal(),f=function(t,e){return e.toGlobalCoord(e.dataToCoord("log"===e.type?1:0))}(0,r),m=y(t),g=t.get("barMinHeight")||0,_=h&&e.getDimensionIndex(h),x=e.getLayout("size"),b=e.getLayout("offset");return{progress:function(t,e){for(var i,r=t.count,o=m&&c(3*r),u=m&&l&&c(3*r),h=m&&c(r),v=n.master.getRect(),y=d?v.width:v.height,w=e.getStore(),S=0;null!=(i=t.next());){var M=w.get(p?_:a,i),T=w.get(s,i),E=f,A=void 0;p&&(A=+M-w.get(a,i));var C=void 0,L=void 0,I=void 0,D=void 0;if(d){var P=n.dataToPoint([M,T]);p&&(E=n.dataToPoint([A,T])[0]),C=E,L=P[1]+b,I=P[0]-E,D=x,Math.abs(I)<g&&(I=(I<0?-1:1)*g)}else P=n.dataToPoint([T,M]),p&&(E=n.dataToPoint([T,A])[1]),C=P[0]+b,L=E,I=x,D=P[1]-E,Math.abs(D)<g&&(D=(D<=0?-1:1)*g);m?(o[S]=C,o[S+1]=L,o[S+2]=d?I:D,u&&(u[S]=d?v.x:C,u[S+1]=d?L:v.y,u[S+2]=y),h[i]=i):e.setItemLayout(i,{x:C,y:L,width:I,height:D}),S+=3}m&&e.setLayout({largePoints:o,largeDataIndices:h,largeBackgroundPoints:u,valueAxisHorizontal:d})}}}}}}function v(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function y(t){return t.pipelineContext&&t.pipelineContext.large}},8071:(t,e,n)=>{"use strict";n.d(e,{Z:()=>p});var i=n(8299),r=n(3051),o=n(1497),a=n(2151),s=n(4251),l=n(2234),c=n(6172),u=(0,l.Yf)(),h=function(t){function e(e,n,i){var r=t.call(this,e,n,i)||this;return r.uid=a.Kr("ec_cpt_model"),r}var n;return(0,i.ZT)(e,t),e.prototype.init=function(t,e,n){this.mergeDefaultAndTheme(t,n)},e.prototype.mergeDefaultAndTheme=function(t,e){var n=c.YD(this),i=n?c.tE(t):{},o=e.getTheme();r.TS(t,o.get(this.mainType)),r.TS(t,this.getDefaultOption()),n&&c.dt(t,i,n)},e.prototype.mergeOption=function(t,e){r.TS(this.option,t,!0);var n=c.YD(this);n&&c.dt(this.option,t,n)},e.prototype.optionUpdated=function(t,e){},e.prototype.getDefaultOption=function(){var t=this.constructor;if(!(0,s.PT)(t))return t.defaultOption;var e=u(this);if(!e.defaultOption){for(var n=[],i=t;i;){var o=i.prototype.defaultOption;o&&n.push(o),i=i.superClass}for(var a={},l=n.length-1;l>=0;l--)a=r.TS(a,n[l],!0);e.defaultOption=a}return e.defaultOption},e.prototype.getReferringComponents=function(t,e){var n=t+"Index",i=t+"Id";return(0,l.HZ)(this.ecModel,t,{index:this.get(n,!0),id:this.get(i,!0)},e)},e.prototype.getBoxLayoutParams=function(){var t=this;return{left:t.get("left"),top:t.get("top"),right:t.get("right"),bottom:t.get("bottom"),width:t.get("width"),height:t.get("height")}},e.prototype.getZLevelKey=function(){return""},e.prototype.setZLevel=function(t){this.option.zlevel=t},e.protoInitialize=((n=e.prototype).type="component",n.id="",n.name="",n.mainType="",n.subType="",void(n.componentIndex=0)),e}(o.Z);(0,s.pw)(h,o.Z),(0,s.au)(h),a.cj(h),a.jS(h,(function(t){var e=[];return r.S6(h.getClassesByMainType(t),(function(t){e=e.concat(t.dependencies||t.prototype.dependencies||[])})),e=r.UI(e,(function(t){return(0,s.u9)(t).main})),"dataset"!==t&&r.cq(e,"dataset")<=0&&e.unshift("dataset"),e}));const p=h},1497:(t,e,n)=>{"use strict";n.d(e,{Z:()=>v});var i=n(6387),r=n(4251),o=(0,n(9066).Z)([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),a=function(){function t(){}return t.prototype.getAreaStyle=function(t,e){return o(this,t,e)},t}(),s=n(6006),l=n(9074),c=["textStyle","color"],u=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],h=new l.ZP;const p=function(){function t(){}return t.prototype.getTextColor=function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(c):null)},t.prototype.getFont=function(){return(0,s.qT)({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},t.prototype.getTextRect=function(t){for(var e={text:t,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},n=0;n<u.length;n++)e[u[n]]=this.getShallow(u[n]);return h.useStyle(e),h.update(),h.getBoundingRect()},t}();var d=n(7515),f=n(9887),m=n(3051),g=function(){function t(t,e,n){this.parentModel=e,this.ecModel=n,this.option=t}return t.prototype.init=function(t,e,n){for(var i=[],r=3;r<arguments.length;r++)i[r-3]=arguments[r]},t.prototype.mergeOption=function(t,e){(0,m.TS)(this.option,t,!0)},t.prototype.get=function(t,e){return null==t?this.option:this._doGet(this.parsePath(t),!e&&this.parentModel)},t.prototype.getShallow=function(t,e){var n=this.option,i=null==n?n:n[t];if(null==i&&!e){var r=this.parentModel;r&&(i=r.getShallow(t))}return i},t.prototype.getModel=function(e,n){var i=null!=e,r=i?this.parsePath(e):null;return new t(i?this._doGet(r):this.option,n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(r)),this.ecModel)},t.prototype.isEmpty=function(){return null==this.option},t.prototype.restoreData=function(){},t.prototype.clone=function(){return new(0,this.constructor)((0,m.d9)(this.option))},t.prototype.parsePath=function(t){return"string"==typeof t?t.split("."):t},t.prototype.resolveParentPath=function(t){return t},t.prototype.isAnimationEnabled=function(){if(!i.Z.node&&this.option){if(null!=this.option.animation)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},t.prototype._doGet=function(t,e){var n=this.option;if(!t)return n;for(var i=0;i<t.length&&(!t[i]||null!=(n=n&&"object"==typeof n?n[t[i]]:null));i++);return null==n&&e&&(n=e._doGet(this.resolveParentPath(t),e.parentModel)),n},t}();(0,r.dm)(g),(0,r.Qj)(g),(0,m.jB)(g,d.K),(0,m.jB)(g,f.D),(0,m.jB)(g,a),(0,m.jB)(g,p);const v=g},9779:(t,e,n)=>{"use strict";n.d(e,{V:()=>y,Z:()=>A});var i=n(8299),r=n(3051),o=n(6387),a=n(2234),s=n(8071),l=n(5494),c=n(1219),u=n(6172),h=n(8674),p=n(4251),d=n(6437),f=n(5685),m=n(8540);var g=a.Yf();function v(t,e){return t.getName(e)||t.getId(e)}var y="__universalTransitionEnabled",_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._selectedDataIndicesMap={},e}var n;return(0,i.ZT)(e,t),e.prototype.init=function(t,e,n){this.seriesIndex=this.componentIndex,this.dataTask=(0,h.v)({count:b,reset:w}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,n),(g(this).sourceManager=new d.U(this)).prepareSource();var i=this.getInitialData(t,n);M(i,this),this.dataTask.context.data=i,g(this).dataBeforeProcessed=i,x(this),this._initSelectedMapFromData(i)},e.prototype.mergeDefaultAndTheme=function(t,e){var n=(0,u.YD)(this),i=n?(0,u.tE)(t):{},o=this.subType;s.Z.hasClass(o)&&(o+="Series"),r.TS(t,e.getTheme().get(this.subType)),r.TS(t,this.getDefaultOption()),a.Cc(t,"label",["show"]),this.fillDataTextStyle(t.data),n&&(0,u.dt)(t,i,n)},e.prototype.mergeOption=function(t,e){t=r.TS(this.option,t,!0),this.fillDataTextStyle(t.data);var n=(0,u.YD)(this);n&&(0,u.dt)(this.option,t,n);var i=g(this).sourceManager;i.dirty(),i.prepareSource();var o=this.getInitialData(t,e);M(o,this),this.dataTask.dirty(),this.dataTask.context.data=o,g(this).dataBeforeProcessed=o,x(this),this._initSelectedMapFromData(o)},e.prototype.fillDataTextStyle=function(t){if(t&&!r.fU(t))for(var e=["show"],n=0;n<t.length;n++)t[n]&&t[n].label&&a.Cc(t[n],"label",e)},e.prototype.getInitialData=function(t,e){},e.prototype.appendData=function(t){this.getRawData().appendData(t.data)},e.prototype.getData=function(t){var e=E(this);if(e){var n=e.context.data;return null==t?n:n.getLinkedData(t)}return g(this).data},e.prototype.getAllData=function(){var t=this.getData();return t&&t.getLinkedDataAll?t.getLinkedDataAll():[{data:t}]},e.prototype.setData=function(t){var e=E(this);if(e){var n=e.context;n.outputData=t,e!==this.dataTask&&(n.data=t)}g(this).data=t},e.prototype.getEncode=function(){var t=this.get("encode",!0);if(t)return r.kW(t)},e.prototype.getSourceManager=function(){return g(this).sourceManager},e.prototype.getSource=function(){return this.getSourceManager().getSource()},e.prototype.getRawData=function(){return g(this).dataBeforeProcessed},e.prototype.getColorBy=function(){return this.get("colorBy")||"series"},e.prototype.isColorBySeries=function(){return"series"===this.getColorBy()},e.prototype.getBaseAxis=function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},e.prototype.formatTooltip=function(t,e,n){return function(t){var e,n,i,o,s=t.series,l=t.dataIndex,c=t.multipleSeries,u=s.getData(),h=u.mapDimensionsAll("defaultedTooltip"),p=h.length,d=s.getRawValue(l),g=(0,r.kJ)(d),v=(0,f.jT)(s,l);if(p>1||g&&!p){var y=function(t,e,n,i,o){var a=e.getData(),s=(0,r.u4)(t,(function(t,e,n){var i=a.getDimensionInfo(n);return t||i&&!1!==i.tooltip&&null!=i.displayName}),!1),l=[],c=[],u=[];function h(t,e){var n=a.getDimensionInfo(e);n&&!1!==n.otherDims.tooltip&&(s?u.push((0,f.TX)("nameValue",{markerType:"subItem",markerColor:o,name:n.displayName,value:t,valueType:n.type})):(l.push(t),c.push(n.type)))}return i.length?(0,r.S6)(i,(function(t){h((0,m.hk)(a,n,t),t)})):(0,r.S6)(t,h),{inlineValues:l,inlineValueTypes:c,blocks:u}}(d,s,l,h,v);e=y.inlineValues,n=y.inlineValueTypes,i=y.blocks,o=y.inlineValues[0]}else if(p){var _=u.getDimensionInfo(h[0]);o=e=(0,m.hk)(u,l,h[0]),n=_.type}else o=e=g?d[0]:d;var x=(0,a.yu)(s),b=x&&s.name||"",w=u.getName(l),S=c?b:w;return(0,f.TX)("section",{header:b,noHeader:c||!x,sortParam:o,blocks:[(0,f.TX)("nameValue",{markerType:"item",markerColor:v,name:S,noName:!(0,r.fy)(S),value:e,valueType:n})].concat(i||[])})}({series:this,dataIndex:t,multipleSeries:e})},e.prototype.isAnimationEnabled=function(){var t=this.ecModel;if(o.Z.node&&(!t||!t.ssr))return!1;var e=this.getShallow("animation");return e&&this.getData().count()>this.getShallow("animationThreshold")&&(e=!1),!!e},e.prototype.restoreData=function(){this.dataTask.dirty()},e.prototype.getColorFromPalette=function(t,e,n){var i=this.ecModel,r=l._.prototype.getColorFromPalette.call(this,t,e,n);return r||(r=i.getColorFromPalette(t,e,n)),r},e.prototype.coordDimToDataDim=function(t){return this.getRawData().mapDimensionsAll(t)},e.prototype.getProgressive=function(){return this.get("progressive")},e.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},e.prototype.select=function(t,e){this._innerSelect(this.getData(e),t)},e.prototype.unselect=function(t,e){var n=this.option.selectedMap;if(n){var i=this.option.selectedMode,r=this.getData(e);if("series"===i||"all"===n)return this.option.selectedMap={},void(this._selectedDataIndicesMap={});for(var o=0;o<t.length;o++){var a=v(r,t[o]);n[a]=!1,this._selectedDataIndicesMap[a]=-1}}},e.prototype.toggleSelect=function(t,e){for(var n=[],i=0;i<t.length;i++)n[0]=t[i],this.isSelected(t[i],e)?this.unselect(n,e):this.select(n,e)},e.prototype.getSelectedDataIndices=function(){if("all"===this.option.selectedMap)return[].slice.call(this.getData().getIndices());for(var t=this._selectedDataIndicesMap,e=r.XP(t),n=[],i=0;i<e.length;i++){var o=t[e[i]];o>=0&&n.push(o)}return n},e.prototype.isSelected=function(t,e){var n=this.option.selectedMap;if(!n)return!1;var i=this.getData(e);return("all"===n||n[v(i,t)])&&!i.getItemModel(t).get(["select","disabled"])},e.prototype.isUniversalTransitionEnabled=function(){if(this[y])return!0;var t=this.option.universalTransition;return!!t&&(!0===t||t&&t.enabled)},e.prototype._innerSelect=function(t,e){var n,i,o=this.option,a=o.selectedMode,s=e.length;if(a&&s)if("series"===a)o.selectedMap="all";else if("multiple"===a){r.Kn(o.selectedMap)||(o.selectedMap={});for(var l=o.selectedMap,c=0;c<s;c++){var u=e[c];l[p=v(t,u)]=!0,this._selectedDataIndicesMap[p]=t.getRawIndex(u)}}else if("single"===a||!0===a){var h=e[s-1],p=v(t,h);o.selectedMap=((n={})[p]=!0,n),this._selectedDataIndicesMap=((i={})[p]=t.getRawIndex(h),i)}},e.prototype._initSelectedMapFromData=function(t){if(!this.option.selectedMap){var e=[];t.hasItemOption&&t.each((function(n){var i=t.getRawDataItem(n);i&&i.selected&&e.push(n)})),e.length>0&&this._innerSelect(t,e)}},e.registerClass=function(t){return s.Z.registerClass(t)},e.protoInitialize=((n=e.prototype).type="series.__base__",n.seriesIndex=0,n.ignoreStyleOnData=!1,n.hasSymbolVisual=!1,n.defaultSymbol="circle",n.visualStyleAccessPath="itemStyle",void(n.visualDrawType="fill")),e}(s.Z);function x(t){var e=t.name;a.yu(t)||(t.name=function(t){var e=t.getRawData(),n=e.mapDimensionsAll("seriesName"),i=[];return r.S6(n,(function(t){var n=e.getDimensionInfo(t);n.displayName&&i.push(n.displayName)})),i.join(" ")}(t)||e)}function b(t){return t.model.getRawData().count()}function w(t){var e=t.model;return e.setData(e.getRawData().cloneShallow()),S}function S(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function M(t,e){r.S6(r.WW(t.CHANGABLE_METHODS,t.DOWNSAMPLE_METHODS),(function(n){t.wrapMethod(n,r.WA(T,e))}))}function T(t,e){var n=E(t);return n&&n.setOutputEnd((e||this).count()),e}function E(t){var e=(t.ecModel||{}).scheduler,n=e&&e.getPipeline(t.uid);if(n){var i=n.currentTask;if(i){var r=i.agentStubMap;r&&(i=r.get(t.uid))}return i}}r.jB(_,c.X),r.jB(_,l._),(0,p.pw)(_,s.Z);const A=_},1219:(t,e,n)=>{"use strict";n.d(e,{X:()=>s,f:()=>l});var i=n(3051),r=n(8540),o=n(8988),a=/\{@(.+?)\}/g,s=function(){function t(){}return t.prototype.getDataParams=function(t,e){var n=this.getData(e),i=this.getRawValue(t,e),r=n.getRawIndex(t),o=n.getName(t),a=n.getRawDataItem(t),s=n.getItemVisual(t,"style"),l=s&&s[n.getItemVisual(t,"drawType")||"fill"],c=s&&s.stroke,u=this.mainType,h="series"===u,p=n.userOutput&&n.userOutput.get();return{componentType:u,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:o,dataIndex:r,data:a,dataType:e,value:i,color:l,borderColor:c,dimensionNames:p?p.fullDimensions:null,encode:p?p.encode:null,$vars:["seriesName","name","value"]}},t.prototype.getFormattedLabel=function(t,e,n,s,l,c){e=e||"normal";var u=this.getData(n),h=this.getDataParams(t,n);return c&&(h.value=c.interpolatedValue),null!=s&&i.kJ(h.value)&&(h.value=h.value[s]),l||(l=u.getItemModel(t).get("normal"===e?["label","formatter"]:[e,"label","formatter"])),i.mf(l)?(h.status=e,h.dimensionIndex=s,l(h)):i.HD(l)?(0,o.kF)(l,h).replace(a,(function(e,n){var o=n.length,a=n;"["===a.charAt(0)&&"]"===a.charAt(o-1)&&(a=+a.slice(1,o-1));var s=(0,r.hk)(u,t,a);if(c&&i.kJ(c.interpolatedValue)){var l=u.getDimensionIndex(a);l>=0&&(s=c.interpolatedValue[l])}return null!=s?s+"":""})):void 0},t.prototype.getRawValue=function(t,e){return(0,r.hk)(this.getData(e),t)},t.prototype.formatTooltip=function(t,e,n){},t}();function l(t){var e,n;return i.Kn(t)?t.type&&(n=t):e=t,{text:e,frag:n}}},9887:(t,e,n)=>{"use strict";n.d(e,{D:()=>a,t:()=>r});var i=n(9066),r=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],o=(0,i.Z)(r),a=function(){function t(){}return t.prototype.getItemStyle=function(t,e){return o(this,t,e)},t}()},7515:(t,e,n)=>{"use strict";n.d(e,{K:()=>a,v:()=>r});var i=n(9066),r=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],o=(0,i.Z)(r),a=function(){function t(){}return t.prototype.getLineStyle=function(t){return o(this,t)},t}()},9066:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(3051);function r(t,e){for(var n=0;n<t.length;n++)t[n][1]||(t[n][1]=t[n][0]);return e=e||!1,function(n,r,o){for(var a={},s=0;s<t.length;s++){var l=t[s][1];if(!(r&&i.cq(r,l)>=0||o&&i.cq(o,l)<0)){var c=n.getShallow(l,e);null!=c&&(a[t[s][0]]=c)}}return a}}},5494:(t,e,n)=>{"use strict";n.d(e,{_:()=>o});var i=n(2234),r=(0,i.Yf)(),o=((0,i.Yf)(),function(){function t(){}return t.prototype.getColorFromPalette=function(t,e,n){var o=(0,i.kF)(this.get("color",!0)),a=this.get("colorLayer",!0);return function(t,e,n,i,r,o,a){var s=e(o=o||t),l=s.paletteIdx||0,c=s.paletteNameMap=s.paletteNameMap||{};if(c.hasOwnProperty(r))return c[r];var u=null!=a&&i?function(t,e){for(var n=t.length,i=0;i<n;i++)if(t[i].length>e)return t[i];return t[n-1]}(i,a):n;if((u=u||n)&&u.length){var h=u[l];return r&&(c[r]=h),s.paletteIdx=(l+1)%u.length,h}}(this,r,o,a,t,e,n)},t.prototype.clearColorPalette=function(){var t;(t=r)(this).paletteIdx=0,t(this).paletteNameMap={}},t}())},12:(t,e,n)=>{"use strict";n.d(e,{N:()=>b});var i=n(4990),r=n(3051),o=n(4311),a=n(3510),s=n(5787),l=n(8712),c=n(479),u=n(4414),h=n(3132);function p(t,e,n){var i=h.qW.createCanvas(),r=e.getWidth(),o=e.getHeight(),a=i.style;return a&&(a.position="absolute",a.left="0",a.top="0",a.width=r+"px",a.height=o+"px",i.setAttribute("data-zr-dom-id",t)),i.width=r*n,i.height=o*n,i}const d=function(t){function e(e,n,o){var a,s=t.call(this)||this;s.motionBlur=!1,s.lastFrameAlpha=.7,s.dpr=1,s.virtual=!1,s.config={},s.incremental=!1,s.zlevel=0,s.maxRepaintRectCount=5,s.__dirty=!0,s.__firstTimePaint=!0,s.__used=!1,s.__drawIndex=0,s.__startIndex=0,s.__endIndex=0,s.__prevStartIndex=null,s.__prevEndIndex=null,o=o||i.KL,"string"==typeof e?a=p(e,n,o):r.Kn(e)&&(e=(a=e).id),s.id=e,s.dom=a;var l=a.style;return l&&(r.$j(a),a.onselectstart=function(){return!1},l.padding="0",l.margin="0",l.borderWidth="0"),s.painter=n,s.dpr=o,s}return(0,o.ZT)(e,t),e.prototype.getElementCount=function(){return this.__endIndex-this.__startIndex},e.prototype.afterBrush=function(){this.__prevStartIndex=this.__startIndex,this.__prevEndIndex=this.__endIndex},e.prototype.initContext=function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},e.prototype.setUnpainted=function(){this.__firstTimePaint=!0},e.prototype.createBackBuffer=function(){var t=this.dpr;this.domBack=p("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},e.prototype.createRepaintRects=function(t,e,n,i){if(this.__firstTimePaint)return this.__firstTimePaint=!1,null;var r,o=[],a=this.maxRepaintRectCount,s=!1,l=new c.Z(0,0,0,0);function h(t){if(t.isFinite()&&!t.isZero())if(0===o.length)(e=new c.Z(0,0,0,0)).copy(t),o.push(e);else{for(var e,n=!1,i=1/0,r=0,u=0;u<o.length;++u){var h=o[u];if(h.intersect(t)){var p=new c.Z(0,0,0,0);p.copy(h),p.union(t),o[u]=p,n=!0;break}if(s){l.copy(t),l.union(h);var d=t.width*t.height,f=h.width*h.height,m=l.width*l.height-d-f;m<i&&(i=m,r=u)}}s&&(o[r].union(t),n=!0),n||((e=new c.Z(0,0,0,0)).copy(t),o.push(e)),s||(s=o.length>=a)}}for(var p=this.__startIndex;p<this.__endIndex;++p)if(m=t[p]){var d=m.shouldBePainted(n,i,!0,!0);(g=m.__isRendered&&(m.__dirty&u.YV||!d)?m.getPrevPaintRect():null)&&h(g);var f=d&&(m.__dirty&u.YV||!m.__isRendered)?m.getPaintRect():null;f&&h(f)}for(p=this.__prevStartIndex;p<this.__prevEndIndex;++p){var m,g;d=(m=e[p]).shouldBePainted(n,i,!0,!0),!m||d&&m.__zr||!m.__isRendered||(g=m.getPrevPaintRect())&&h(g)}do{for(r=!1,p=0;p<o.length;)if(o[p].isZero())o.splice(p,1);else{for(var v=p+1;v<o.length;)o[p].intersect(o[v])?(r=!0,o[p].union(o[v]),o.splice(v,1)):v++;p++}}while(r);return this._paintRects=o,o},e.prototype.debugGetPaintRects=function(){return(this._paintRects||[]).slice()},e.prototype.resize=function(t,e){var n=this.dpr,i=this.dom,r=i.style,o=this.domBack;r&&(r.width=t+"px",r.height=e+"px"),i.width=t*n,i.height=e*n,o&&(o.width=t*n,o.height=e*n,1!==n&&this.ctxBack.scale(n,n))},e.prototype.clear=function(t,e,n){var i=this.dom,o=this.ctx,a=i.width,c=i.height;e=e||this.clearColor;var u=this.motionBlur&&!t,h=this.lastFrameAlpha,p=this.dpr,d=this;u&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(i,0,0,a/p,c/p));var f=this.domBack;function m(t,n,i,a){if(o.clearRect(t,n,i,a),e&&"transparent"!==e){var c=void 0;r.Qq(e)?(c=e.__canvasGradient||(0,s.ZF)(o,e,{x:0,y:0,width:i,height:a}),e.__canvasGradient=c):r.dL(e)&&(c=(0,l.RZ)(o,e,{dirty:function(){d.setUnpainted(),d.__painter.refresh()}})),o.save(),o.fillStyle=c||e,o.fillRect(t,n,i,a),o.restore()}u&&(o.save(),o.globalAlpha=h,o.drawImage(f,t,n,i,a),o.restore())}!n||u?m(0,0,a,c):n.length&&r.S6(n,(function(t){m(t.x*p,t.y*p,t.width*p,t.height*p)}))},e}(a.Z);var f=n(2795),m=n(6387),g=1e5,v=314159,y=.01,_=function(){function t(t,e,n,o){this.type="canvas",this._zlevelList=[],this._prevDisplayList=[],this._layers={},this._layerConfig={},this._needsManuallyCompositing=!1,this.type="canvas";var a=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=n=r.l7({},n||{}),this.dpr=n.devicePixelRatio||i.KL,this._singleCanvas=a,this.root=t,t.style&&(r.$j(t),t.innerHTML=""),this.storage=e;var l=this._zlevelList;this._prevDisplayList=[];var c=this._layers;if(a){var u=t,h=u.width,p=u.height;null!=n.width&&(h=n.width),null!=n.height&&(p=n.height),this.dpr=n.devicePixelRatio||1,u.width=h*this.dpr,u.height=p*this.dpr,this._width=h,this._height=p;var f=new d(u,this,this.dpr);f.__builtin__=!0,f.initContext(),c[314159]=f,f.zlevel=v,l.push(v),this._domRoot=t}else{this._width=(0,s.ap)(t,0,n),this._height=(0,s.ap)(t,1,n);var m=this._domRoot=function(t,e){var n=document.createElement("div");return n.style.cssText=["position:relative","width:"+t+"px","height:"+e+"px","padding:0","margin:0","border-width:0"].join(";")+";",n}(this._width,this._height);t.appendChild(m)}}return t.prototype.getType=function(){return"canvas"},t.prototype.isSingleCanvas=function(){return this._singleCanvas},t.prototype.getViewportRoot=function(){return this._domRoot},t.prototype.getViewportRootOffset=function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},t.prototype.refresh=function(t){var e=this.storage.getDisplayList(!0),n=this._prevDisplayList,i=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,n,t,this._redrawId);for(var r=0;r<i.length;r++){var o=i[r],a=this._layers[o];if(!a.__builtin__&&a.refresh){var s=0===r?this._backgroundColor:null;a.refresh(s)}}return this._opts.useDirtyRect&&(this._prevDisplayList=e.slice()),this},t.prototype.refreshHover=function(){this._paintHoverList(this.storage.getDisplayList(!1))},t.prototype._paintHoverList=function(t){var e=t.length,n=this._hoverlayer;if(n&&n.clear(),e){for(var i,r={inHover:!0,viewWidth:this._width,viewHeight:this._height},o=0;o<e;o++){var a=t[o];a.__inHover&&(n||(n=this._hoverlayer=this.getLayer(g)),i||(i=n.ctx).save(),(0,l.Dm)(i,a,r,o===e-1))}i&&i.restore()}},t.prototype.getHoverLayer=function(){return this.getLayer(g)},t.prototype.paintOne=function(t,e){(0,l.RV)(t,e)},t.prototype._paintList=function(t,e,n,i){if(this._redrawId===i){n=n||!1,this._updateLayerStatus(t);var r=this._doPaintList(t,e,n),o=r.finished,a=r.needsRefreshHover;if(this._needsManuallyCompositing&&this._compositeManually(),a&&this._paintHoverList(t),o)this.eachLayer((function(t){t.afterBrush&&t.afterBrush()}));else{var s=this;(0,f.Z)((function(){s._paintList(t,e,n,i)}))}}},t.prototype._compositeManually=function(){var t=this.getLayer(v).ctx,e=this._domRoot.width,n=this._domRoot.height;t.clearRect(0,0,e,n),this.eachBuiltinLayer((function(i){i.virtual&&t.drawImage(i.dom,0,0,e,n)}))},t.prototype._doPaintList=function(t,e,n){for(var i=this,o=[],a=this._opts.useDirtyRect,s=0;s<this._zlevelList.length;s++){var l=this._zlevelList[s],c=this._layers[l];c.__builtin__&&c!==this._hoverlayer&&(c.__dirty||n)&&o.push(c)}for(var u=!0,h=!1,p=function(r){var s,l=o[r],c=l.ctx,p=a&&l.createRepaintRects(t,e,d._width,d._height),f=n?l.__startIndex:l.__drawIndex,m=!n&&l.incremental&&Date.now,g=m&&Date.now(),v=l.zlevel===d._zlevelList[0]?d._backgroundColor:null;if(l.__startIndex===l.__endIndex)l.clear(!1,v,p);else if(f===l.__startIndex){var y=t[f];y.incremental&&y.notClear&&!n||l.clear(!1,v,p)}-1===f&&(console.error("For some unknown reason. drawIndex is -1"),f=l.__startIndex);var _=function(e){var n={inHover:!1,allClipped:!1,prevEl:null,viewWidth:i._width,viewHeight:i._height};for(s=f;s<l.__endIndex;s++){var r=t[s];if(r.__inHover&&(h=!0),i._doPaintEl(r,l,a,e,n,s===l.__endIndex-1),m&&Date.now()-g>15)break}n.prevElClipPaths&&c.restore()};if(p)if(0===p.length)s=l.__endIndex;else for(var x=d.dpr,b=0;b<p.length;++b){var w=p[b];c.save(),c.beginPath(),c.rect(w.x*x,w.y*x,w.width*x,w.height*x),c.clip(),_(w),c.restore()}else c.save(),_(),c.restore();l.__drawIndex=s,l.__drawIndex<l.__endIndex&&(u=!1)},d=this,f=0;f<o.length;f++)p(f);return m.Z.wxa&&r.S6(this._layers,(function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()})),{finished:u,needsRefreshHover:h}},t.prototype._doPaintEl=function(t,e,n,i,r,o){var a=e.ctx;if(n){var s=t.getPaintRect();(!i||s&&s.intersect(i))&&((0,l.Dm)(a,t,r,o),t.setPrevPaintRect(s))}else(0,l.Dm)(a,t,r,o)},t.prototype.getLayer=function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=v);var n=this._layers[t];return n||((n=new d("zr_"+t,this,this.dpr)).zlevel=t,n.__builtin__=!0,this._layerConfig[t]?r.TS(n,this._layerConfig[t],!0):this._layerConfig[t-y]&&r.TS(n,this._layerConfig[t-y],!0),e&&(n.virtual=e),this.insertLayer(t,n),n.initContext()),n},t.prototype.insertLayer=function(t,e){var n=this._layers,i=this._zlevelList,r=i.length,o=this._domRoot,a=null,s=-1;if(!n[t]&&function(t){return!!t&&(!!t.__builtin__||"function"==typeof t.resize&&"function"==typeof t.refresh)}(e)){if(r>0&&t>i[0]){for(s=0;s<r-1&&!(i[s]<t&&i[s+1]>t);s++);a=n[i[s]]}if(i.splice(s+1,0,t),n[t]=e,!e.virtual)if(a){var l=a.dom;l.nextSibling?o.insertBefore(e.dom,l.nextSibling):o.appendChild(e.dom)}else o.firstChild?o.insertBefore(e.dom,o.firstChild):o.appendChild(e.dom);e.__painter=this}},t.prototype.eachLayer=function(t,e){for(var n=this._zlevelList,i=0;i<n.length;i++){var r=n[i];t.call(e,this._layers[r],r)}},t.prototype.eachBuiltinLayer=function(t,e){for(var n=this._zlevelList,i=0;i<n.length;i++){var r=n[i],o=this._layers[r];o.__builtin__&&t.call(e,o,r)}},t.prototype.eachOtherLayer=function(t,e){for(var n=this._zlevelList,i=0;i<n.length;i++){var r=n[i],o=this._layers[r];o.__builtin__||t.call(e,o,r)}},t.prototype.getLayers=function(){return this._layers},t.prototype._updateLayerStatus=function(t){function e(t){a&&(a.__endIndex!==t&&(a.__dirty=!0),a.__endIndex=t)}if(this.eachBuiltinLayer((function(t,e){t.__dirty=t.__used=!1})),this._singleCanvas)for(var n=1;n<t.length;n++)if((l=t[n]).zlevel!==t[n-1].zlevel||l.incremental){this._needsManuallyCompositing=!0;break}var i,o,a=null,s=0;for(o=0;o<t.length;o++){var l,c=(l=t[o]).zlevel,h=void 0;i!==c&&(i=c,s=0),l.incremental?((h=this.getLayer(c+.001,this._needsManuallyCompositing)).incremental=!0,s=1):h=this.getLayer(c+(s>0?y:0),this._needsManuallyCompositing),h.__builtin__||r.H("ZLevel "+c+" has been used by unkown layer "+h.id),h!==a&&(h.__used=!0,h.__startIndex!==o&&(h.__dirty=!0),h.__startIndex=o,h.incremental?h.__drawIndex=-1:h.__drawIndex=o,e(o),a=h),l.__dirty&u.YV&&!l.__inHover&&(h.__dirty=!0,h.incremental&&h.__drawIndex<0&&(h.__drawIndex=o))}e(o),this.eachBuiltinLayer((function(t,e){!t.__used&&t.getElementCount()>0&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)}))},t.prototype.clear=function(){return this.eachBuiltinLayer(this._clearLayer),this},t.prototype._clearLayer=function(t){t.clear()},t.prototype.setBackgroundColor=function(t){this._backgroundColor=t,r.S6(this._layers,(function(t){t.setUnpainted()}))},t.prototype.configLayer=function(t,e){if(e){var n=this._layerConfig;n[t]?r.TS(n[t],e,!0):n[t]=e;for(var i=0;i<this._zlevelList.length;i++){var o=this._zlevelList[i];if(o===t||o===t+y){var a=this._layers[o];r.TS(a,n[t],!0)}}}},t.prototype.delLayer=function(t){var e=this._layers,n=this._zlevelList,i=e[t];i&&(i.dom.parentNode.removeChild(i.dom),delete e[t],n.splice(r.cq(n,t),1))},t.prototype.resize=function(t,e){if(this._domRoot.style){var n=this._domRoot;n.style.display="none";var i=this._opts,r=this.root;if(null!=t&&(i.width=t),null!=e&&(i.height=e),t=(0,s.ap)(r,0,i),e=(0,s.ap)(r,1,i),n.style.display="",this._width!==t||e!==this._height){for(var o in n.style.width=t+"px",n.style.height=e+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(t,e);this.refresh(!0)}this._width=t,this._height=e}else{if(null==t||null==e)return;this._width=t,this._height=e,this.getLayer(v).resize(t,e)}return this},t.prototype.clearLayer=function(t){var e=this._layers[t];e&&e.clear()},t.prototype.dispose=function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},t.prototype.getRenderedCanvas=function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[314159].dom;var e=new d("image",this,t.pixelRatio||this.dpr);e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor);var n=e.ctx;if(t.pixelRatio<=this.dpr){this.refresh();var i=e.dom.width,r=e.dom.height;this.eachLayer((function(t){t.__builtin__?n.drawImage(t.dom,0,0,i,r):t.renderToCanvas&&(n.save(),t.renderToCanvas(n),n.restore())}))}else for(var o={inHover:!1,viewWidth:this._width,viewHeight:this._height},a=this.storage.getDisplayList(!0),s=0,c=a.length;s<c;s++){var u=a[s];(0,l.Dm)(n,u,o,s===c-1)}return e.dom},t.prototype.getWidth=function(){return this._width},t.prototype.getHeight=function(){return this._height},t}();const x=_;function b(t){t.registerPainter("canvas",x)}},103:(t,e,n)=>{"use strict";n.d(e,{Z:()=>u});var i=n(8299),r=n(5669),o=n(8988),a=n(379),s=n(5021),l=r.NM,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="interval",e._interval=0,e._intervalPrecision=2,e}return(0,i.ZT)(e,t),e.prototype.parse=function(t){return t},e.prototype.contain=function(t){return s.XS(t,this._extent)},e.prototype.normalize=function(t){return s.Fv(t,this._extent)},e.prototype.scale=function(t){return s.bA(t,this._extent)},e.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=parseFloat(t)),isNaN(e)||(n[1]=parseFloat(e))},e.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),this.setExtent(e[0],e[1])},e.prototype.getInterval=function(){return this._interval},e.prototype.setInterval=function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=s.lb(t)},e.prototype.getTicks=function(t){var e=this._interval,n=this._extent,i=this._niceExtent,r=this._intervalPrecision,o=[];if(!e)return o;n[0]<i[0]&&(t?o.push({value:l(i[0]-e,r)}):o.push({value:n[0]}));for(var a=i[0];a<=i[1]&&(o.push({value:a}),(a=l(a+e,r))!==o[o.length-1].value);)if(o.length>1e4)return[];var s=o.length?o[o.length-1].value:i[1];return n[1]>s&&(t?o.push({value:l(s+e,r)}):o.push({value:n[1]})),o},e.prototype.getMinorTicks=function(t){for(var e=this.getTicks(!0),n=[],i=this.getExtent(),r=1;r<e.length;r++){for(var o=e[r],a=e[r-1],s=0,c=[],u=(o.value-a.value)/t;s<t-1;){var h=l(a.value+(s+1)*u);h>i[0]&&h<i[1]&&c.push(h),s++}n.push(c)}return n},e.prototype.getLabel=function(t,e){if(null==t)return"";var n=e&&e.precision;null==n?n=r.p8(t.value)||0:"auto"===n&&(n=this._intervalPrecision);var i=l(t.value,n,!0);return o.OD(i)},e.prototype.calcNiceTicks=function(t,e,n){t=t||5;var i=this._extent,r=i[1]-i[0];if(isFinite(r)){r<0&&(r=-r,i.reverse());var o=s.Qf(i,t,e,n);this._intervalPrecision=o.intervalPrecision,this._interval=o.interval,this._niceExtent=o.niceTickExtent}},e.prototype.calcNiceExtent=function(t){var e=this._extent;if(e[0]===e[1])if(0!==e[0]){var n=e[0];t.fixMax||(e[1]+=n/2),e[0]-=n/2}else e[1]=1;var i=e[1]-e[0];isFinite(i)||(e[0]=0,e[1]=1),this.calcNiceTicks(t.splitNumber,t.minInterval,t.maxInterval);var r=this._interval;t.fixMin||(e[0]=l(Math.floor(e[0]/r)*r)),t.fixMax||(e[1]=l(Math.ceil(e[1]/r)*r))},e.prototype.setNiceExtent=function(t,e){this._niceExtent=[t,e]},e.type="interval",e}(a.Z);a.Z.registerClass(c);const u=c},379:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=n(4251),r=function(){function t(t){this._setting=t||{},this._extent=[1/0,-1/0]}return t.prototype.getSetting=function(t){return this._setting[t]},t.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},t.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},t.prototype.getExtent=function(){return this._extent.slice()},t.prototype.setExtent=function(t,e){var n=this._extent;isNaN(t)||(n[0]=t),isNaN(e)||(n[1]=e)},t.prototype.isInExtentRange=function(t){return this._extent[0]<=t&&this._extent[1]>=t},t.prototype.isBlank=function(){return this._isBlank},t.prototype.setBlank=function(t){this._isBlank=t},t}();i.au(r);const o=r},5021:(t,e,n)=>{"use strict";n.d(e,{Fv:()=>u,Qf:()=>o,XS:()=>c,bA:()=>h,lM:()=>r,lb:()=>s,r1:()=>a});var i=n(5669);function r(t){return"interval"===t.type||"log"===t.type}function o(t,e,n,r){var o={},a=t[1]-t[0],c=o.interval=(0,i.kx)(a/e,!0);null!=n&&c<n&&(c=o.interval=n),null!=r&&c>r&&(c=o.interval=r);var u=o.intervalPrecision=s(c);return function(t,e){!isFinite(t[0])&&(t[0]=e[0]),!isFinite(t[1])&&(t[1]=e[1]),l(t,0,e),l(t,1,e),t[0]>t[1]&&(t[0]=t[1])}(o.niceTickExtent=[(0,i.NM)(Math.ceil(t[0]/c)*c,u),(0,i.NM)(Math.floor(t[1]/c)*c,u)],t),o}function a(t){var e=Math.pow(10,(0,i.xW)(t)),n=t/e;return n?2===n?n=3:3===n?n=5:n*=2:n=1,(0,i.NM)(n*e)}function s(t){return(0,i.p8)(t)+2}function l(t,e,n){t[e]=Math.max(Math.min(t[e],n[1]),n[0])}function c(t,e){return t>=e[0]&&t<=e[1]}function u(t,e){return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])}function h(t,e){return t*(e[1]-e[0])+e[0]}},4251:(t,e,n)=>{"use strict";n.d(e,{PT:()=>l,Qj:()=>p,au:()=>m,dm:()=>c,pw:()=>u,u9:()=>s});var i=n(8299),r=n(3051),o="___EC__COMPONENT__CONTAINER___",a="___EC__EXTENDED_CLASS___";function s(t){var e={main:"",sub:""};if(t){var n=t.split(".");e.main=n[0]||"",e.sub=n[1]||""}return e}function l(t){return!(!t||!t[a])}function c(t,e){t.$constructor=t,t.extend=function(t){var e,n,o=this;return n=o,r.mf(n)&&/^class\s/.test(Function.prototype.toString.call(n))?e=function(t){function e(){return t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e}(o):(e=function(){(t.$constructor||o).apply(this,arguments)},r.XW(e,this)),r.l7(e.prototype,t),e[a]=!0,e.extend=this.extend,e.superCall=d,e.superApply=f,e.superClass=o,e}}function u(t,e){t.extend=e.extend}var h=Math.round(10*Math.random());function p(t){var e=["__\0is_clz",h++].join("_");t.prototype[e]=!0,t.isInstance=function(t){return!(!t||!t[e])}}function d(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return this.superClass.prototype[e].apply(t,n)}function f(t,e,n){return this.superClass.prototype[e].apply(t,n)}function m(t){var e={};t.registerClass=function(t){var n,i=t.type||t.prototype.type;if(i){n=i,r.hu(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(n),'componentType "'+n+'" illegal'),t.prototype.type=i;var a=s(i);if(a.sub){if(a.sub!==o){var l=function(t){var n=e[t.main];return n&&n[o]||((n=e[t.main]={})[o]=!0),n}(a);l[a.sub]=t}}else e[a.main]=t}return t},t.getClass=function(t,n,i){var r=e[t];if(r&&r[o]&&(r=n?r[n]:null),i&&!r)throw new Error(n?"Component "+t+"."+(n||"")+" is used but not imported.":t+".type should be specified.");return r},t.getClassesByMainType=function(t){var n=s(t),i=[],a=e[n.main];return a&&a[o]?r.S6(a,(function(t,e){e!==o&&i.push(t)})):i.push(a),i},t.hasClass=function(t){var n=s(t);return!!e[n.main]},t.getAllClassMainTypes=function(){var t=[];return r.S6(e,(function(e,n){t.push(n)})),t},t.hasSubTypes=function(t){var n=s(t),i=e[n.main];return i&&i[o]}}},2151:(t,e,n)=>{"use strict";n.d(e,{Kr:()=>a,ZL:()=>c,cj:()=>s,jS:()=>l});var i=n(3051),r=n(4251),o=Math.round(10*Math.random());function a(t){return[t||"",o++].join("_")}function s(t){var e={};t.registerSubTypeDefaulter=function(t,n){var i=(0,r.u9)(t);e[i.main]=n},t.determineSubType=function(n,i){var o=i.type;if(!o){var a=(0,r.u9)(n).main;t.hasSubTypes(n)&&e[a]&&(o=e[a](i))}return o}}function l(t,e){function n(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}t.topologicalTravel=function(t,r,o,a){if(t.length){var s=function(t){var r={},o=[];return i.S6(t,(function(a){var s=n(r,a),l=function(t,e){var n=[];return i.S6(t,(function(t){i.cq(e,t)>=0&&n.push(t)})),n}(s.originalDeps=e(a),t);s.entryCount=l.length,0===s.entryCount&&o.push(a),i.S6(l,(function(t){i.cq(s.predecessor,t)<0&&s.predecessor.push(t);var e=n(r,t);i.cq(e.successor,t)<0&&e.successor.push(a)}))})),{graph:r,noEntryList:o}}(r),l=s.graph,c=s.noEntryList,u={};for(i.S6(t,(function(t){u[t]=!0}));c.length;){var h=c.pop(),p=l[h],d=!!u[h];d&&(o.call(a,h,p.originalDeps.slice()),delete u[h]),i.S6(p.successor,d?m:f)}i.S6(u,(function(){throw new Error("")}))}function f(t){l[t].entryCount--,0===l[t].entryCount&&c.push(t)}function m(t){u[t]=!0,f(t)}}}function c(t,e){return i.TS(i.TS({},t,!0),e,!0)}},8310:(t,e,n)=>{"use strict";function i(t,e,n){for(var i;t&&(!e(t)||(i=t,!n));)t=t.__hostTarget||t.parent;return i}n.d(e,{o:()=>i})},8988:(t,e,n)=>{"use strict";n.d(e,{A0:()=>g,F1:()=>h,Lz:()=>v,MI:()=>y,MY:()=>l,OD:()=>a,kF:()=>m,uX:()=>p,zW:()=>s});var i=n(3051),r=n(5669),o=n(5015);function a(t){if(!(0,r.kE)(t))return i.HD(t)?t:"-";var e=(t+"").split(".");return e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(e.length>1?"."+e[1]:"")}function s(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,(function(t,e){return e.toUpperCase()})),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var l=i.MY,c=/([&<>"'])/g,u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function h(t){return null==t?"":(t+"").replace(c,(function(t,e){return u[e]}))}function p(t,e,n){function s(t){return t&&i.fy(t)?t:"-"}function l(t){return!(null==t||isNaN(t)||!isFinite(t))}var c="time"===e,u=t instanceof Date;if(c||u){var h=c?(0,r.sG)(t):t;if(!isNaN(+h))return(0,o.WU)(h,"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}",n);if(u)return"-"}if("ordinal"===e)return i.cd(t)?s(t):i.hj(t)&&l(t)?t+"":"-";var p=(0,r.FK)(t);return l(p)?a(p):i.cd(t)?s(t):"boolean"==typeof t?t+"":"-"}var d=["a","b","c","d","e","f","g"],f=function(t,e){return"{"+t+(null==e?"":e)+"}"};function m(t,e,n){i.kJ(e)||(e=[e]);var r=e.length;if(!r)return"";for(var o=e[0].$vars||[],a=0;a<o.length;a++){var s=d[a];t=t.replace(f(s),f(s,0))}for(var l=0;l<r;l++)for(var c=0;c<o.length;c++){var u=e[l][o[c]];t=t.replace(f(d[c],l),n?h(u):u)}return t}function g(t,e){var n=i.HD(t)?{color:t,extraCssText:e}:t||{},r=n.color,o=n.type;e=n.extraCssText;var a=n.renderMode||"html";return r?"html"===a?"subItem"===o?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+h(r)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+h(r)+";"+(e||"")+'"></span>':{renderMode:a,content:"{"+(n.markerId||"markerX")+"|}  ",style:"subItem"===o?{width:4,height:4,borderRadius:2,backgroundColor:r}:{width:10,height:10,borderRadius:5,backgroundColor:r}}:""}function v(t,e){return e=e||"transparent",i.HD(t)?t:i.Kn(t)&&t.colorStops&&(t.colorStops[0]||{}).color||e}function y(t,e){if("_blank"===e||"blank"===e){var n=window.open();n.opener=null,n.location.href=t}else window.open(t,e)}},4592:(t,e,n)=>{"use strict";n.r(e),n.d(e,{Arc:()=>C.Z,BezierCurve:()=>A,BoundingRect:()=>P.Z,Circle:()=>h.Z,CompoundPath:()=>L,Ellipse:()=>m,Group:()=>c.Z,Image:()=>l.ZP,IncrementalDisplayable:()=>z,Line:()=>b.Z,LinearGradient:()=>I.Z,OrientedBoundingRect:()=>R.Z,Path:()=>a.ZP,Point:()=>O.Z,Polygon:()=>y.Z,Polyline:()=>_.Z,RadialGradient:()=>D,Rect:()=>x.Z,Ring:()=>v.Z,Sector:()=>g.C,Text:()=>u.ZP,applyTransform:()=>ot,clipPointsByRect:()=>ct,clipRectByRect:()=>ut,createIcon:()=>ht,extendPath:()=>q,extendShape:()=>W,getShapeClass:()=>Y,getTransform:()=>rt,groupTransition:()=>lt,initProps:()=>H.KZ,isElementRemoved:()=>H.eq,lineLineIntersect:()=>dt,linePolygonIntersect:()=>pt,makeImage:()=>K,makePath:()=>J,mergePath:()=>Q,registerShape:()=>X,removeElement:()=>H.bX,removeElementWithFadeOut:()=>H.XD,resizePath:()=>tt,setTooltipConfig:()=>mt,subPixelOptimize:()=>it,subPixelOptimizeLine:()=>et,subPixelOptimizeRect:()=>nt,transformDirection:()=>at,traverseElements:()=>vt,updateProps:()=>H.D});var i=n(7494),r=n(2892),o=n(5280),a=n(6134),s=n(7411),l=n(4535),c=n(8154),u=n(9074),h=n(9538),p=n(4311),d=function(){this.cx=0,this.cy=0,this.rx=0,this.ry=0},f=function(t){function e(e){return t.call(this,e)||this}return(0,p.ZT)(e,t),e.prototype.getDefaultShape=function(){return new d},e.prototype.buildPath=function(t,e){var n=.5522848,i=e.cx,r=e.cy,o=e.rx,a=e.ry,s=o*n,l=a*n;t.moveTo(i-o,r),t.bezierCurveTo(i-o,r-l,i-s,r-a,i,r-a),t.bezierCurveTo(i+s,r-a,i+o,r-l,i+o,r),t.bezierCurveTo(i+o,r+l,i+s,r+a,i,r+a),t.bezierCurveTo(i-s,r+a,i-o,r+l,i-o,r),t.closePath()},e}(a.ZP);f.prototype.type="ellipse";const m=f;var g=n(7214),v=n(5795),y=n(5094),_=n(2514),x=n(3622),b=n(2095),w=n(8554),S=[],M=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1};function T(t,e,n){var i=t.cpx2,r=t.cpy2;return null!=i||null!=r?[(n?w.X_:w.af)(t.x1,t.cpx1,t.cpx2,t.x2,e),(n?w.X_:w.af)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(n?w.AZ:w.Zm)(t.x1,t.cpx1,t.x2,e),(n?w.AZ:w.Zm)(t.y1,t.cpy1,t.y2,e)]}var E=function(t){function e(e){return t.call(this,e)||this}return(0,p.ZT)(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new M},e.prototype.buildPath=function(t,e){var n=e.x1,i=e.y1,r=e.x2,o=e.y2,a=e.cpx1,s=e.cpy1,l=e.cpx2,c=e.cpy2,u=e.percent;0!==u&&(t.moveTo(n,i),null==l||null==c?(u<1&&((0,w.Lx)(n,a,r,u,S),a=S[1],r=S[2],(0,w.Lx)(i,s,o,u,S),s=S[1],o=S[2]),t.quadraticCurveTo(a,s,r,o)):(u<1&&((0,w.Vz)(n,a,l,r,u,S),a=S[1],l=S[2],r=S[3],(0,w.Vz)(i,s,c,o,u,S),s=S[1],c=S[2],o=S[3]),t.bezierCurveTo(a,s,l,c,r,o)))},e.prototype.pointAt=function(t){return T(this.shape,t,!1)},e.prototype.tangentAt=function(t){var e=T(this.shape,t,!0);return o.Fv(e,e)},e}(a.ZP);E.prototype.type="bezier-curve";const A=E;var C=n(4826);const L=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.type="compound",e}return(0,p.ZT)(e,t),e.prototype._updatePathDirty=function(){for(var t=this.shape.paths,e=this.shapeChanged(),n=0;n<t.length;n++)e=e||t[n].shapeChanged();e&&this.dirtyShape()},e.prototype.beforeBrush=function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),n=0;n<t.length;n++)t[n].path||t[n].createPathProxy(),t[n].path.setScale(e[0],e[1],t[n].segmentIgnoreThreshold)},e.prototype.buildPath=function(t,e){for(var n=e.paths||[],i=0;i<n.length;i++)n[i].buildPath(t,n[i].shape,!0)},e.prototype.afterBrush=function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].pathUpdated()},e.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),a.ZP.prototype.getBoundingRect.call(this)},e}(a.ZP);var I=n(4438);const D=function(t){function e(e,n,i,r,o){var a=t.call(this,r)||this;return a.x=null==e?.5:e,a.y=null==n?.5:n,a.r=null==i?.5:i,a.type="radial",a.global=o||!1,a}return(0,p.ZT)(e,t),e}(n(1797).Z);var P=n(479),R=n(1587),O=n(1610),k=n(7719),N=[];const z=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.notClear=!0,e.incremental=!0,e._displayables=[],e._temporaryDisplayables=[],e._cursor=0,e}return(0,p.ZT)(e,t),e.prototype.traverse=function(t,e){t.call(e,this)},e.prototype.useStyle=function(){this.style={}},e.prototype.getCursor=function(){return this._cursor},e.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},e.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},e.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},e.prototype.addDisplayable=function(t,e){e?this._temporaryDisplayables.push(t):this._displayables.push(t),this.markRedraw()},e.prototype.addDisplayables=function(t,e){e=e||!1;for(var n=0;n<t.length;n++)this.addDisplayable(t[n],e)},e.prototype.getDisplayables=function(){return this._displayables},e.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},e.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},e.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++)(e=this._displayables[t]).parent=this,e.update(),e.parent=null;for(t=0;t<this._temporaryDisplayables.length;t++){var e;(e=this._temporaryDisplayables[t]).parent=this,e.update(),e.parent=null}},e.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new P.Z(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var n=this._displayables[e],i=n.getBoundingRect().clone();n.needLocalTransform()&&i.applyTransform(n.getLocalTransform(N)),t.union(i)}this._rect=t}return this._rect},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(n[0],n[1]))for(var i=0;i<this._displayables.length;i++)if(this._displayables[i].contain(t,e))return!0;return!1},e}(k.ZP);var B=n(4111),F=n(3051),U=n(106),H=n(9266),V=Math.max,G=Math.min,j={};function W(t){return a.ZP.extend(t)}var Z=i.Pc;function q(t,e){return Z(t,e)}function X(t,e){j[t]=e}function Y(t){if(j.hasOwnProperty(t))return j[t]}function J(t,e,n,r){var o=i.iR(t,e);return n&&("center"===r&&(n=$(n,o.getBoundingRect())),tt(o,n)),o}function K(t,e,n){var i=new l.ZP({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){if("center"===n){var r={width:t.width,height:t.height};i.setStyle($(e,r))}}});return i}function $(t,e){var n,i=e.width/e.height,r=t.height*i;return n=r<=t.width?t.height:(r=t.width)/i,{x:t.x+t.width/2-r/2,y:t.y+t.height/2-n/2,width:r,height:n}}var Q=i.AA;function tt(t,e){if(t.applyTransform){var n=t.getBoundingRect().calculateTransform(e);t.applyTransform(n)}}function et(t){return B._3(t.shape,t.shape,t.style),t}function nt(t){return B.Pw(t.shape,t.shape,t.style),t}var it=B.vu;function rt(t,e){for(var n=r.yR([]);t&&t!==e;)r.dC(n,t.getLocalTransform(),n),t=t.parent;return n}function ot(t,e,n){return e&&!(0,F.zG)(e)&&(e=s.ZP.getLocalTransform(e)),n&&(e=r.U_([],e)),o.Ne([],t,e)}function at(t,e,n){var i=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),r=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),o=["left"===t?-i:"right"===t?i:0,"top"===t?-r:"bottom"===t?r:0];return o=ot(o,e,n),Math.abs(o[0])>Math.abs(o[1])?o[0]>0?"right":"left":o[1]>0?"bottom":"top"}function st(t){return!t.isGroup}function lt(t,e,n){if(t&&e){var i,r=(i={},t.traverse((function(t){st(t)&&t.anid&&(i[t.anid]=t)})),i);e.traverse((function(t){if(st(t)&&t.anid){var e=r[t.anid];if(e){var i=o(t);t.attr(o(e)),(0,H.D)(t,i,n,(0,U.A)(t).dataIndex)}}}))}function o(t){var e={x:t.x,y:t.y,rotation:t.rotation};return function(t){return null!=t.shape}(t)&&(e.shape=(0,F.l7)({},t.shape)),e}}function ct(t,e){return(0,F.UI)(t,(function(t){var n=t[0];n=V(n,e.x),n=G(n,e.x+e.width);var i=t[1];return i=V(i,e.y),[n,i=G(i,e.y+e.height)]}))}function ut(t,e){var n=V(t.x,e.x),i=G(t.x+t.width,e.x+e.width),r=V(t.y,e.y),o=G(t.y+t.height,e.y+e.height);if(i>=n&&o>=r)return{x:n,y:r,width:i-n,height:o-r}}function ht(t,e,n){var i=(0,F.l7)({rectHover:!0},e),r=i.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(r.image=t.slice(8),(0,F.ce)(r,n),new l.ZP(i)):J(t.replace("path://",""),i,n,"center")}function pt(t,e,n,i,r){for(var o=0,a=r[r.length-1];o<r.length;o++){var s=r[o];if(dt(t,e,n,i,s[0],s[1],a[0],a[1]))return!0;a=s}}function dt(t,e,n,i,r,o,a,s){var l,c=n-t,u=i-e,h=a-r,p=s-o,d=ft(h,p,c,u);if((l=d)<=1e-6&&l>=-1e-6)return!1;var f=t-r,m=e-o,g=ft(f,m,c,u)/d;if(g<0||g>1)return!1;var v=ft(f,m,h,p)/d;return!(v<0||v>1)}function ft(t,e,n,i){return t*i-n*e}function mt(t){var e=t.itemTooltipOption,n=t.componentModel,i=t.itemName,r=(0,F.HD)(e)?{formatter:e}:e,o=n.mainType,a=n.componentIndex,s={componentType:o,name:i,$vars:["name"]};s[o+"Index"]=a;var l=t.formatterParamsExtra;l&&(0,F.S6)((0,F.XP)(l),(function(t){(0,F.RI)(s,t)||(s[t]=l[t],s.$vars.push(t))}));var c=(0,U.A)(t.el);c.componentMainType=o,c.componentIndex=a,c.tooltipConfig={name:i,option:(0,F.ce)({content:i,formatterParams:s},r)}}function gt(t,e){var n;t.isGroup&&(n=e(t)),n||t.traverse(e)}function vt(t,e){if(t)if((0,F.kJ)(t))for(var n=0;n<t.length;n++)gt(t[n],e);else gt(t,e)}X("circle",h.Z),X("ellipse",m),X("sector",g.C),X("ring",v.Z),X("polygon",y.Z),X("polyline",_.Z),X("rect",x.Z),X("line",b.Z),X("bezierCurve",A),X("arc",C.Z)},106:(t,e,n)=>{"use strict";n.d(e,{A:()=>i,Q:()=>r});var i=(0,n(2234).Yf)(),r=function(t,e,n,r){if(r){var o=i(r);o.dataIndex=n,o.dataType=e,o.seriesIndex=t,"group"===r.type&&r.traverse((function(r){var o=i(r);o.seriesIndex=t,o.dataIndex=n,o.dataType=e}))}}},6172:(t,e,n)=>{"use strict";n.d(e,{BZ:()=>h,ME:()=>p,YD:()=>f,dt:()=>m,p$:()=>d,tE:()=>g});var i=n(3051),r=n(479),o=n(5669),a=n(8988),s=i.S6,l=["left","right","top","bottom","width","height"],c=[["width","left","right"],["height","top","bottom"]];function u(t,e,n,i,r){var o=0,a=0;null==i&&(i=1/0),null==r&&(r=1/0);var s=0;e.eachChild((function(l,c){var u,h,p=l.getBoundingRect(),d=e.childAt(c+1),f=d&&d.getBoundingRect();if("horizontal"===t){var m=p.width+(f?-f.x+p.x:0);(u=o+m)>i||l.newline?(o=0,u=m,a+=s+n,s=p.height):s=Math.max(s,p.height)}else{var g=p.height+(f?-f.y+p.y:0);(h=a+g)>r||l.newline?(o+=s+n,a=0,h=g,s=p.width):s=Math.max(s,p.width)}l.newline||(l.x=o,l.y=a,l.markRedraw(),"horizontal"===t?o=u+n:a=h+n)}))}var h=u;function p(t,e,n){n=a.MY(n||0);var i=e.width,s=e.height,l=(0,o.GM)(t.left,i),c=(0,o.GM)(t.top,s),u=(0,o.GM)(t.right,i),h=(0,o.GM)(t.bottom,s),p=(0,o.GM)(t.width,i),d=(0,o.GM)(t.height,s),f=n[2]+n[0],m=n[1]+n[3],g=t.aspect;switch(isNaN(p)&&(p=i-u-m-l),isNaN(d)&&(d=s-h-f-c),null!=g&&(isNaN(p)&&isNaN(d)&&(g>i/s?p=.8*i:d=.8*s),isNaN(p)&&(p=g*d),isNaN(d)&&(d=p/g)),isNaN(l)&&(l=i-u-p-m),isNaN(c)&&(c=s-h-d-f),t.left||t.right){case"center":l=i/2-p/2-n[3];break;case"right":l=i-p-m}switch(t.top||t.bottom){case"middle":case"center":c=s/2-d/2-n[0];break;case"bottom":c=s-d-f}l=l||0,c=c||0,isNaN(p)&&(p=i-m-l-(u||0)),isNaN(d)&&(d=s-f-c-(h||0));var v=new r.Z(l+n[3],c+n[0],p,d);return v.margin=n,v}function d(t,e,n,o,a,s){var l,c=!a||!a.hv||a.hv[0],u=!a||!a.hv||a.hv[1],h=a&&a.boundingMode||"all";if((s=s||t).x=t.x,s.y=t.y,!c&&!u)return!1;if("raw"===h)l="group"===t.type?new r.Z(0,0,+e.width||0,+e.height||0):t.getBoundingRect();else if(l=t.getBoundingRect(),t.needLocalTransform()){var d=t.getLocalTransform();(l=l.clone()).applyTransform(d)}var f=p(i.ce({width:l.width,height:l.height},e),n,o),m=c?f.x-l.x:0,g=u?f.y-l.y:0;return"raw"===h?(s.x=m,s.y=g):(s.x+=m,s.y+=g),s===t&&t.markRedraw(),!0}function f(t){var e=t.layoutMode||t.constructor.layoutMode;return i.Kn(e)?e:e?{type:e}:null}function m(t,e,n){var r=n&&n.ignoreSize;!i.kJ(r)&&(r=[r,r]);var o=l(c[0],0),a=l(c[1],1);function l(n,i){var o={},a=0,l={},c=0;if(s(n,(function(e){l[e]=t[e]})),s(n,(function(t){u(e,t)&&(o[t]=l[t]=e[t]),h(o,t)&&a++,h(l,t)&&c++})),r[i])return h(e,n[1])?l[n[2]]=null:h(e,n[2])&&(l[n[1]]=null),l;if(2!==c&&a){if(a>=2)return o;for(var p=0;p<n.length;p++){var d=n[p];if(!u(o,d)&&u(t,d)){o[d]=t[d];break}}return o}return l}function u(t,e){return t.hasOwnProperty(e)}function h(t,e){return null!=t[e]&&"auto"!==t[e]}function p(t,e,n){s(t,(function(t){e[t]=n[t]}))}p(c[0],t,o),p(c[1],t,a)}function g(t){return function(t,e){return e&&t&&s(l,(function(n){e.hasOwnProperty(n)&&(t[n]=e[n])})),t}({},t)}i.WA(u,"vertical"),i.WA(u,"horizontal")},175:(t,e,n)=>{"use strict";n.d(e,{Sh:()=>a,ZK:()=>o,_y:()=>s});var i={},r="undefined"!=typeof console&&console.warn&&console.log;function o(t,e){!function(t,e,n){if(r){if(n){if(i[e])return;i[e]=!0}console[t]("[ECharts] "+e)}}("warn",t,e)}function a(t){}function s(t){throw new Error(t)}},2234:(t,e,n)=>{"use strict";n.d(e,{C4:()=>h,C6:()=>E,Cc:()=>c,Co:()=>p,HZ:()=>A,IL:()=>L,O0:()=>_,P$:()=>C,Td:()=>u,U5:()=>g,U9:()=>I,XI:()=>x,Yf:()=>w,ab:()=>d,gO:()=>b,kF:()=>l,lY:()=>y,pk:()=>D,pm:()=>M,yu:()=>v,zH:()=>T});var i=n(3051),r=n(6387),o=n(5669);function a(t,e,n){return(e-t)*n+t}var s="series\0";function l(t){return t instanceof Array?t:null==t?[]:[t]}function c(t,e,n){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var i=0,r=n.length;i<r;i++){var o=n[i];!t.emphasis[e].hasOwnProperty(o)&&t[e].hasOwnProperty(o)&&(t.emphasis[e][o]=t[e][o])}}}var u=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function h(t){return!(0,i.Kn)(t)||(0,i.kJ)(t)||t instanceof Date?t:t.value}function p(t){return(0,i.Kn)(t)&&!(t instanceof Array)}function d(t,e,n){var r="normalMerge"===n,o="replaceMerge"===n,a="replaceAll"===n;t=t||[],e=(e||[]).slice();var l=(0,i.kW)();(0,i.S6)(e,(function(t,n){(0,i.Kn)(t)||(e[n]=null)}));var c,u,h=function(t,e,n){var i=[];if("replaceAll"===n)return i;for(var r=0;r<t.length;r++){var o=t[r];o&&null!=o.id&&e.set(o.id,r),i.push({existing:"replaceMerge"===n||y(o)?null:o,newOption:null,keyInfo:null,brandNew:null})}return i}(t,l,n);return(r||o)&&function(t,e,n,r){(0,i.S6)(r,(function(o,a){if(o&&null!=o.id){var s=m(o.id),l=n.get(s);if(null!=l){var c=t[l];(0,i.hu)(!c.newOption,'Duplicated option on id "'+s+'".'),c.newOption=o,c.existing=e[l],r[a]=null}}}))}(h,t,l,e),r&&function(t,e){(0,i.S6)(e,(function(n,i){if(n&&null!=n.name)for(var r=0;r<t.length;r++){var o=t[r].existing;if(!t[r].newOption&&o&&(null==o.id||null==n.id)&&!y(n)&&!y(o)&&f("name",o,n))return t[r].newOption=n,void(e[i]=null)}}))}(h,e),r||o?function(t,e,n){(0,i.S6)(e,(function(e){if(e){for(var i,r=0;(i=t[r])&&(i.newOption||y(i.existing)||i.existing&&null!=e.id&&!f("id",e,i.existing));)r++;i?(i.newOption=e,i.brandNew=n):t.push({newOption:e,brandNew:n,existing:null,keyInfo:null}),r++}}))}(h,e,o):a&&function(t,e){(0,i.S6)(e,(function(e){t.push({newOption:e,brandNew:!0,existing:null,keyInfo:null})}))}(h,e),c=h,u=(0,i.kW)(),(0,i.S6)(c,(function(t){var e=t.existing;e&&u.set(e.id,t)})),(0,i.S6)(c,(function(t){var e=t.newOption;(0,i.hu)(!e||null==e.id||!u.get(e.id)||u.get(e.id)===t,"id duplicates: "+(e&&e.id)),e&&null!=e.id&&u.set(e.id,t),!t.keyInfo&&(t.keyInfo={})})),(0,i.S6)(c,(function(t,e){var n=t.existing,r=t.newOption,o=t.keyInfo;if((0,i.Kn)(r)){if(o.name=null!=r.name?m(r.name):n?n.name:s+e,n)o.id=m(n.id);else if(null!=r.id)o.id=m(r.id);else{var a=0;do{o.id="\0"+o.name+"\0"+a++}while(u.get(o.id))}u.set(o.id,t)}})),h}function f(t,e,n){var i=g(e[t],null),r=g(n[t],null);return null!=i&&null!=r&&i===r}function m(t){return g(t,"")}function g(t,e){return null==t?e:(0,i.HD)(t)?t:(0,i.hj)(t)||(0,i.cd)(t)?t+"":e}function v(t){var e=t.name;return!(!e||!e.indexOf(s))}function y(t){return t&&null!=t.id&&0===m(t.id).indexOf("\0_ec_\0")}function _(t,e,n){(0,i.S6)(t,(function(t){var r=t.newOption;(0,i.Kn)(r)&&(t.keyInfo.mainType=e,t.keyInfo.subType=function(t,e,n,i){return e.type?e.type:n?n.subType:i.determineSubType(t,e)}(e,r,t.existing,n))}))}function x(t,e){var n={},i={};return r(t||[],n),r(e||[],i,n),[o(n),o(i)];function r(t,e,n){for(var i=0,r=t.length;i<r;i++){var o=g(t[i].seriesId,null);if(null==o)return;for(var a=l(t[i].dataIndex),s=n&&n[o],c=0,u=a.length;c<u;c++){var h=a[c];s&&s[h]?s[h]=null:(e[o]||(e[o]={}))[h]=1}}}function o(t,e){var n=[];for(var i in t)if(t.hasOwnProperty(i)&&null!=t[i])if(e)n.push(+i);else{var r=o(t[i],!0);r.length&&n.push({seriesId:i,dataIndex:r})}return n}}function b(t,e){return null!=e.dataIndexInside?e.dataIndexInside:null!=e.dataIndex?(0,i.kJ)(e.dataIndex)?(0,i.UI)(e.dataIndex,(function(e){return t.indexOfRawIndex(e)})):t.indexOfRawIndex(e.dataIndex):null!=e.name?(0,i.kJ)(e.name)?(0,i.UI)(e.name,(function(e){return t.indexOfName(e)})):t.indexOfName(e.name):void 0}function w(){var t="__ec_inner_"+S++;return function(e){return e[t]||(e[t]={})}}var S=(0,o.jj)();function M(t,e,n){var i=T(e,n),r=i.mainTypeSpecified,o=i.queryOptionMap,a=i.others,s=n?n.defaultMainType:null;return!r&&s&&o.set(s,{}),o.each((function(e,i){var r=A(t,i,e,{useDefault:s===i,enableAll:!n||null==n.enableAll||n.enableAll,enableNone:!n||null==n.enableNone||n.enableNone});a[i+"Models"]=r.models,a[i+"Model"]=r.models[0]})),a}function T(t,e){var n;if((0,i.HD)(t)){var r={};r[t+"Index"]=0,n=r}else n=t;var o=(0,i.kW)(),a={},s=!1;return(0,i.S6)(n,(function(t,n){if("dataIndex"!==n&&"dataIndexInside"!==n){var r=n.match(/^(\w+)(Index|Id|Name)$/)||[],l=r[1],c=(r[2]||"").toLowerCase();!l||!c||e&&e.includeMainTypes&&(0,i.cq)(e.includeMainTypes,l)<0||(s=s||!!l,(o.get(l)||o.set(l,{}))[c]=t)}else a[n]=t})),{mainTypeSpecified:s,queryOptionMap:o,others:a}}var E={useDefault:!0,enableAll:!1,enableNone:!1};function A(t,e,n,r){r=r||E;var o=n.index,a=n.id,s=n.name,l={models:null,specified:null!=o||null!=a||null!=s};if(!l.specified){var c=void 0;return l.models=r.useDefault&&(c=t.getComponent(e))?[c]:[],l}return"none"===o||!1===o?((0,i.hu)(r.enableNone,'`"none"` or `false` is not a valid value on index option.'),l.models=[],l):("all"===o&&((0,i.hu)(r.enableAll,'`"all"` is not a valid value on index option.'),o=a=s=null),l.models=t.queryComponents({mainType:e,index:o,id:a,name:s}),l)}function C(t,e,n){t.setAttribute?t.setAttribute(e,n):t[e]=n}function L(t,e){return t.getAttribute?t.getAttribute(e):t[e]}function I(t){return"auto"===t?r.Z.domSupported?"html":"richText":t||"html"}function D(t,e,n,r,s){var l=null==e||"auto"===e;if(null==r)return r;if((0,i.hj)(r)){var c=a(n||0,r,s);return(0,o.NM)(c,l?Math.max((0,o.p8)(n||0),(0,o.p8)(r)):e)}if((0,i.HD)(r))return s<1?n:r;for(var u=[],h=n,p=r,d=Math.max(h?h.length:0,p.length),f=0;f<d;++f){var m=t.getDimensionInfo(f);if(m&&"ordinal"===m.type)u[f]=(s<1&&h?h:p)[f];else{var g=h&&h[f]?h[f]:0,v=p[f];c=a(g,v,s),u[f]=(0,o.NM)(c,l?Math.max((0,o.p8)(g),(0,o.p8)(v)):e)}}return u}},5669:(t,e,n)=>{"use strict";n.d(e,{FK:()=>_,GM:()=>o,M9:()=>c,NM:()=>a,NU:()=>r,S$:()=>u,Xd:()=>m,dt:()=>s,jj:()=>b,kE:()=>x,kx:()=>v,mW:()=>p,nR:()=>y,nl:()=>S,p8:()=>l,sG:()=>f,wW:()=>h,xW:()=>g});var i=n(3051);function r(t,e,n,i){var r=e[0],o=e[1],a=n[0],s=n[1],l=o-r,c=s-a;if(0===l)return 0===c?a:(a+s)/2;if(i)if(l>0){if(t<=r)return a;if(t>=o)return s}else{if(t>=r)return a;if(t<=o)return s}else{if(t===r)return a;if(t===o)return s}return(t-r)/l*c+a}function o(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return i.HD(t)?(n=t,n.replace(/^\s+|\s+$/g,"")).match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t;var n}function a(t,e,n){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),n?t:+t}function s(t){return t.sort((function(t,e){return t-e})),t}function l(t){if(t=+t,isNaN(t))return 0;if(t>1e-14)for(var e=1,n=0;n<15;n++,e*=10)if(Math.round(t*e)/e===t)return n;return function(t){var e=t.toString().toLowerCase(),n=e.indexOf("e"),i=n>0?+e.slice(n+1):0,r=n>0?n:e.length,o=e.indexOf("."),a=o<0?0:r-1-o;return Math.max(0,a-i)}(t)}function c(t,e){var n=Math.log,i=Math.LN10,r=Math.floor(n(t[1]-t[0])/i),o=Math.round(n(Math.abs(e[1]-e[0]))/i),a=Math.min(Math.max(-r+o,0),20);return isFinite(a)?a:20}function u(t,e){var n=Math.max(l(t),l(e)),i=t+e;return n>20?i:a(i,n)}function h(t){var e=2*Math.PI;return(t%e+e)%e}function p(t){return t>-1e-4&&t<1e-4}var d=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function f(t){if(t instanceof Date)return t;if(i.HD(t)){var e=d.exec(t);if(!e)return new Date(NaN);if(e[8]){var n=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(n-=+e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,n,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,e[7]?+e[7].substring(0,3):0)}return null==t?new Date(NaN):new Date(Math.round(t))}function m(t){return Math.pow(10,g(t))}function g(t){if(0===t)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return t/Math.pow(10,e)>=10&&e++,e}function v(t,e){var n=g(t),i=Math.pow(10,n),r=t/i;return t=(e?r<1.5?1:r<2.5?2:r<4?3:r<7?5:10:r<1?1:r<2?2:r<3?3:r<5?5:10)*i,n>=-20?+t.toFixed(n<0?-n:0):t}function y(t){t.sort((function(t,e){return s(t,e,0)?-1:1}));for(var e=-1/0,n=1,i=0;i<t.length;){for(var r=t[i].interval,o=t[i].close,a=0;a<2;a++)r[a]<=e&&(r[a]=e,o[a]=a?1:1-n),e=r[a],n=o[a];r[0]===r[1]&&o[0]*o[1]!=1?t.splice(i,1):i++}return t;function s(t,e,n){return t.interval[n]<e.interval[n]||t.interval[n]===e.interval[n]&&(t.close[n]-e.close[n]==(n?-1:1)||!n&&s(t,e,1))}}function _(t){var e=parseFloat(t);return e==t&&(0!==e||!i.HD(t)||t.indexOf("x")<=0)?e:NaN}function x(t){return!isNaN(_(t))}function b(){return Math.round(9*Math.random())}function w(t,e){return 0===e?t:w(e,t%e)}function S(t,e){return null==t?e:null==e?t:t*e/w(t,e)}},6357:(t,e,n)=>{"use strict";n.d(e,{$l:()=>J,Av:()=>st,C5:()=>tt,CX:()=>d,Hg:()=>_,JQ:()=>x,Ki:()=>v,L1:()=>m,Mh:()=>F,Nj:()=>at,RW:()=>lt,SJ:()=>G,SX:()=>U,T5:()=>W,UL:()=>X,VP:()=>H,WO:()=>ot,XX:()=>V,aG:()=>ct,ci:()=>Q,e9:()=>ht,fD:()=>B,iK:()=>b,k5:()=>nt,oJ:()=>Y,og:()=>$,qc:()=>g,vF:()=>et,wU:()=>f,xp:()=>ut,xr:()=>K,yx:()=>y,zI:()=>q});var i=n(2528),r=n(3051),o=n(106),a=n(1092),s=n(2234),l=n(6134),c=1,u={},h=(0,s.Yf)(),p=(0,s.Yf)(),d=1,f=2,m=["emphasis","blur","select"],g=["normal","emphasis","blur","select"],v="highlight",y="downplay",_="select",x="unselect",b="toggleSelect";function w(t){return null!=t&&"none"!==t}var S=new i.ZP(100);function M(t){if((0,r.HD)(t)){var e=S.get(t);return e||(e=a.xb(t,-.1),S.put(t,e)),e}if((0,r.Qq)(t)){var n=(0,r.l7)({},t);return n.colorStops=(0,r.UI)(t.colorStops,(function(t){return{offset:t.offset,color:a.xb(t.color,-.1)}})),n}return t}function T(t,e,n){t.onHoverStateChange&&(t.hoverState||0)!==n&&t.onHoverStateChange(e),t.hoverState=n}function E(t){T(t,"emphasis",f)}function A(t){t.hoverState===f&&T(t,"normal",0)}function C(t){T(t,"blur",d)}function L(t){t.hoverState===d&&T(t,"normal",0)}function I(t){t.selected=!0}function D(t){t.selected=!1}function P(t,e,n){e(t,n)}function R(t,e,n){P(t,e,n),t.isGroup&&t.traverse((function(t){P(t,e,n)}))}function O(t,e){var n=this.states[t];if(this.style){if("emphasis"===t)return function(t,e,n,i){var o=n&&(0,r.cq)(n,"select")>=0,a=!1;if(t instanceof l.ZP){var s=h(t),c=o&&s.selectFill||s.normalFill,u=o&&s.selectStroke||s.normalStroke;if(w(c)||w(u)){var p=(i=i||{}).style||{};"inherit"===p.fill?(a=!0,i=(0,r.l7)({},i),(p=(0,r.l7)({},p)).fill=c):!w(p.fill)&&w(c)?(a=!0,i=(0,r.l7)({},i),(p=(0,r.l7)({},p)).fill=M(c)):!w(p.stroke)&&w(u)&&(a||(i=(0,r.l7)({},i),p=(0,r.l7)({},p)),p.stroke=M(u)),i.style=p}}if(i&&null==i.z2){a||(i=(0,r.l7)({},i));var d=t.z2EmphasisLift;i.z2=t.z2+(null!=d?d:10)}return i}(this,0,e,n);if("blur"===t)return function(t,e,n){var i=(0,r.cq)(t.currentStates,e)>=0,o=t.style.opacity,a=i?null:function(t,e,n,i){for(var r=t.style,o={},a=0;a<e.length;a++){var s=e[a],l=r[s];o[s]=null==l?i&&i[s]:l}for(a=0;a<t.animators.length;a++){var c=t.animators[a];c.__fromStateTransition&&c.__fromStateTransition.indexOf(n)<0&&"style"===c.targetName&&c.saveTo(o,e)}return o}(t,["opacity"],e,{opacity:1}),s=(n=n||{}).style||{};return null==s.opacity&&(n=(0,r.l7)({},n),s=(0,r.l7)({opacity:i?o:.1*a.opacity},s),n.style=s),n}(this,t,n);if("select"===t)return function(t,e,n){if(n&&null==n.z2){n=(0,r.l7)({},n);var i=t.z2SelectLift;n.z2=t.z2+(null!=i?i:9)}return n}(this,0,n)}return n}function k(t){t.stateProxy=O;var e=t.getTextContent(),n=t.getTextGuideLine();e&&(e.stateProxy=O),n&&(n.stateProxy=O)}function N(t,e){!j(t,e)&&!t.__highByOuter&&R(t,E)}function z(t,e){!j(t,e)&&!t.__highByOuter&&R(t,A)}function B(t,e){t.__highByOuter|=1<<(e||0),R(t,E)}function F(t,e){!(t.__highByOuter&=~(1<<(e||0)))&&R(t,A)}function U(t){R(t,C)}function H(t){R(t,L)}function V(t){R(t,I)}function G(t){R(t,D)}function j(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function W(t){var e=t.getModel(),n=[],i=[];e.eachComponent((function(e,r){var o=p(r),a="series"===e,s=a?t.getViewOfSeriesModel(r):t.getViewOfComponentModel(r);!a&&i.push(s),o.isBlured&&(s.group.traverse((function(t){L(t)})),a&&n.push(r)),o.isBlured=!1})),(0,r.S6)(i,(function(t){t&&t.toggleBlurSeries&&t.toggleBlurSeries(n,!1,e)}))}function Z(t,e,n,i){var o=i.getModel();function a(t,e){for(var n=0;n<e.length;n++){var i=t.getItemGraphicEl(e[n]);i&&H(i)}}if(n=n||"coordinateSystem",null!=t&&e&&"none"!==e){var s=o.getSeriesByIndex(t),l=s.coordinateSystem;l&&l.master&&(l=l.master);var c=[];o.eachSeries((function(t){var o=s===t,u=t.coordinateSystem;if(u&&u.master&&(u=u.master),!("series"===n&&!o||"coordinateSystem"===n&&!(u&&l?u===l:o)||"series"===e&&o)){if(i.getViewOfSeriesModel(t).group.traverse((function(t){C(t)})),(0,r.zG)(e))a(t.getData(),e);else if((0,r.Kn)(e))for(var h=(0,r.XP)(e),d=0;d<h.length;d++)a(t.getData(h[d]),e[h[d]]);c.push(t),p(t).isBlured=!0}})),o.eachComponent((function(t,e){if("series"!==t){var n=i.getViewOfComponentModel(e);n&&n.toggleBlurSeries&&n.toggleBlurSeries(c,!0,o)}}))}}function q(t,e,n){if(null!=t&&null!=e){var i=n.getModel().getComponent(t,e);if(i){p(i).isBlured=!0;var r=n.getViewOfComponentModel(i);r&&r.focusBlurEnabled&&r.group.traverse((function(t){C(t)}))}}}function X(t,e,n){var i=t.seriesIndex,a=t.getData(e.dataType);if(a){var l=(0,s.gO)(a,e);l=((0,r.kJ)(l)?l[0]:l)||0;var c=a.getItemGraphicEl(l);if(!c)for(var u=a.count(),h=0;!c&&h<u;)c=a.getItemGraphicEl(h++);if(c){var p=(0,o.A)(c);Z(i,p.focus,p.blurScope,n)}else{var d=t.get(["emphasis","focus"]),f=t.get(["emphasis","blurScope"]);null!=d&&Z(i,d,f,n)}}}function Y(t,e,n,i){var r={focusSelf:!1,dispatchers:null};if(null==t||"series"===t||null==e||null==n)return r;var a=i.getModel().getComponent(t,e);if(!a)return r;var s=i.getViewOfComponentModel(a);if(!s||!s.findHighDownDispatchers)return r;for(var l,c=s.findHighDownDispatchers(n),u=0;u<c.length;u++)if("self"===(0,o.A)(c[u]).focus){l=!0;break}return{focusSelf:l,dispatchers:c}}function J(t,e,n){var i=(0,o.A)(t),a=Y(i.componentMainType,i.componentIndex,i.componentHighDownName,n),s=a.dispatchers,l=a.focusSelf;s?(l&&q(i.componentMainType,i.componentIndex,n),(0,r.S6)(s,(function(t){return N(t,e)}))):(Z(i.seriesIndex,i.focus,i.blurScope,n),"self"===i.focus&&q(i.componentMainType,i.componentIndex,n),N(t,e))}function K(t,e,n){W(n);var i=(0,o.A)(t),a=Y(i.componentMainType,i.componentIndex,i.componentHighDownName,n).dispatchers;a?(0,r.S6)(a,(function(t){return z(t,e)})):z(t,e)}function $(t,e,n){if(ct(e)){var i=e.dataType,o=t.getData(i),a=(0,s.gO)(o,e);(0,r.kJ)(a)||(a=[a]),t[e.type===b?"toggleSelect":e.type===_?"select":"unselect"](a,i)}}function Q(t){var e=t.getAllData();(0,r.S6)(e,(function(e){var n=e.data,i=e.type;n.eachItemGraphicEl((function(e,n){t.isSelected(n,i)?V(e):G(e)}))}))}function tt(t){var e=[];return t.eachSeries((function(t){var n=t.getAllData();(0,r.S6)(n,(function(n){n.data;var i=n.type,r=t.getSelectedDataIndices();if(r.length>0){var o={dataIndex:r,seriesIndex:t.seriesIndex};null!=i&&(o.dataType=i),e.push(o)}}))})),e}function et(t,e,n){at(t,!0),R(t,k),function(t,e,n){var i=(0,o.A)(t);null!=e?(i.focus=e,i.blurScope=n):i.focus&&(i.focus=null)}(t,e,n)}function nt(t,e,n,i){i?function(t){at(t,!1)}(t):et(t,e,n)}var it=["emphasis","blur","select"],rt={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function ot(t,e,n,i){n=n||"itemStyle";for(var r=0;r<it.length;r++){var o=it[r],a=e.getModel([o,n]);t.ensureState(o).style=i?i(a):a[rt[n]]()}}function at(t,e){var n=!1===e,i=t;t.highDownSilentOnTouch&&(i.__highDownSilentOnTouch=t.highDownSilentOnTouch),n&&!i.__highDownDispatcher||(i.__highByOuter=i.__highByOuter||0,i.__highDownDispatcher=!n)}function st(t){return!(!t||!t.__highDownDispatcher)}function lt(t){var e=u[t];return null==e&&c<=32&&(e=u[t]=c++),e}function ct(t){var e=t.type;return e===_||e===x||e===b}function ut(t){var e=t.type;return e===v||e===y}function ht(t){var e=h(t);e.normalFill=t.style.fill,e.normalStroke=t.style.stroke;var n=t.states.select||{};e.selectFill=n.style&&n.style.fill||null,e.selectStroke=n.style&&n.style.stroke||null}},1525:(t,e,n)=>{"use strict";n.d(e,{Cq:()=>S,th:()=>b,zp:()=>w});var i=n(3051),r=n(6134),o=n(2095),a=n(3622),s=n(9538),l=n(4592),c=n(479),u=n(423),h=n(5669),p=r.ZP.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=e.width/2,o=e.height/2;t.moveTo(n,i-o),t.lineTo(n+r,i+o),t.lineTo(n-r,i+o),t.closePath()}}),d=r.ZP.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var n=e.cx,i=e.cy,r=e.width/2,o=e.height/2;t.moveTo(n,i-o),t.lineTo(n+r,i),t.lineTo(n,i+o),t.lineTo(n-r,i),t.closePath()}}),f=r.ZP.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.x,i=e.y,r=e.width/5*3,o=Math.max(r,e.height),a=r/2,s=a*a/(o-a),l=i-o+a+s,c=Math.asin(s/a),u=Math.cos(c)*a,h=Math.sin(c),p=Math.cos(c),d=.6*a,f=.7*a;t.moveTo(n-u,l+s),t.arc(n,l,a,Math.PI-c,2*Math.PI+c),t.bezierCurveTo(n+u-h*d,l+s+p*d,n,i-f,n,i),t.bezierCurveTo(n,i-f,n-u+h*d,l+s+p*d,n-u,l+s),t.closePath()}}),m=r.ZP.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var n=e.height,i=e.width,r=e.x,o=e.y,a=i/3*2;t.moveTo(r,o),t.lineTo(r+a,o+n),t.lineTo(r,o+n/4*3),t.lineTo(r-a,o+n),t.lineTo(r,o),t.closePath()}}),g={line:o.Z,rect:a.Z,roundRect:a.Z,square:a.Z,circle:s.Z,diamond:d,pin:f,arrow:m,triangle:p},v={line:function(t,e,n,i,r){r.x1=t,r.y1=e+i/2,r.x2=t+n,r.y2=e+i/2},rect:function(t,e,n,i,r){r.x=t,r.y=e,r.width=n,r.height=i},roundRect:function(t,e,n,i,r){r.x=t,r.y=e,r.width=n,r.height=i,r.r=Math.min(n,i)/4},square:function(t,e,n,i,r){var o=Math.min(n,i);r.x=t,r.y=e,r.width=o,r.height=o},circle:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.r=Math.min(n,i)/2},diamond:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.width=n,r.height=i},pin:function(t,e,n,i,r){r.x=t+n/2,r.y=e+i/2,r.width=n,r.height=i},arrow:function(t,e,n,i,r){r.x=t+n/2,r.y=e+i/2,r.width=n,r.height=i},triangle:function(t,e,n,i,r){r.cx=t+n/2,r.cy=e+i/2,r.width=n,r.height=i}},y={};(0,i.S6)(g,(function(t,e){y[e]=new t}));var _=r.ZP.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,n){var i=(0,u.wI)(t,e,n),r=this.shape;return r&&"pin"===r.symbolType&&"inside"===e.position&&(i.y=n.y+.4*n.height),i},buildPath:function(t,e,n){var i=e.symbolType;if("none"!==i){var r=y[i];r||(r=y[i="rect"]),v[i](e.x,e.y,e.width,e.height,r.shape),r.buildPath(t,r.shape,n)}}});function x(t,e){if("image"!==this.type){var n=this.style;this.__isEmptyBrush?(n.stroke=t,n.fill=e||"#fff",n.lineWidth=2):"line"===this.shape.symbolType?n.stroke=t:n.fill=t,this.markRedraw()}}function b(t,e,n,i,r,o,a){var s,u=0===t.indexOf("empty");return u&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),(s=0===t.indexOf("image://")?l.makeImage(t.slice(8),new c.Z(e,n,i,r),a?"center":"cover"):0===t.indexOf("path://")?l.makePath(t.slice(7),{},new c.Z(e,n,i,r),a?"center":"cover"):new _({shape:{symbolType:t,x:e,y:n,width:i,height:r}})).__isEmptyBrush=u,s.setColor=x,o&&s.setColor(o),s}function w(t){return(0,i.kJ)(t)||(t=[+t,+t]),[t[0]||0,t[1]||0]}function S(t,e){if(null!=t)return(0,i.kJ)(t)||(t=[t,t]),[(0,h.GM)(t[0],e[0])||0,(0,h.GM)((0,i.pD)(t[1],t[0]),e[1])||0]}},270:(t,e,n)=>{"use strict";n.d(e,{P2:()=>a,T9:()=>s,ZH:()=>l});var i="\0__throttleOriginMethod",r="\0__throttleRate",o="\0__throttleType";function a(t,e,n){var i,r,o,a,s,l=0,c=0,u=null;function h(){c=(new Date).getTime(),u=null,t.apply(o,a||[])}e=e||0;var p=function(){for(var t=[],p=0;p<arguments.length;p++)t[p]=arguments[p];i=(new Date).getTime(),o=this,a=t;var d=s||e,f=s||n;s=null,r=i-(f?l:c)-d,clearTimeout(u),f?u=setTimeout(h,d):r>=0?h():u=setTimeout(h,-r),l=i};return p.clear=function(){u&&(clearTimeout(u),u=null)},p.debounceNextCall=function(t){s=t},p}function s(t,e,n,s){var l=t[e];if(l){var c=l[i]||l,u=l[o];if(l[r]!==n||u!==s){if(null==n||!s)return t[e]=c;(l=t[e]=a(c,n,"debounce"===s))[i]=c,l[o]=s,l[r]=n}return l}}function l(t,e){var n=t[e];n&&n[i]&&(n.clear&&n.clear(),t[e]=n[i])}},5015:(t,e,n)=>{"use strict";n.d(e,{$K:()=>y,CW:()=>T,En:()=>O,FW:()=>m,MV:()=>L,P5:()=>h,RZ:()=>I,Tj:()=>v,V8:()=>d,WT:()=>s,WU:()=>x,Wp:()=>A,cb:()=>z,dV:()=>c,eN:()=>k,f5:()=>R,fn:()=>C,k7:()=>b,q5:()=>S,rM:()=>N,s2:()=>u,sx:()=>M,vh:()=>P,xC:()=>_,xL:()=>D,xz:()=>E,yR:()=>l});var i=n(3051),r=n(5669),o=n(3917),a=n(1497),s=1e3,l=60*s,c=60*l,u=24*c,h=365*u,p={year:"{yyyy}",month:"{MMM}",day:"{d}",hour:"{HH}:{mm}",minute:"{HH}:{mm}",second:"{HH}:{mm}:{ss}",millisecond:"{HH}:{mm}:{ss} {SSS}",none:"{yyyy}-{MM}-{dd} {HH}:{mm}:{ss} {SSS}"},d={year:"{yyyy}",month:"{yyyy}-{MM}",day:"{yyyy}-{MM}-{dd}",hour:"{yyyy}-{MM}-{dd} "+p.hour,minute:"{yyyy}-{MM}-{dd} "+p.minute,second:"{yyyy}-{MM}-{dd} "+p.second,millisecond:p.none},f=["year","month","day","hour","minute","second","millisecond"],m=["year","half-year","quarter","month","week","half-week","day","half-day","quarter-day","hour","minute","second","millisecond"];function g(t,e){return"0000".substr(0,e-(t+="").length)+t}function v(t){switch(t){case"half-year":case"quarter":return"month";case"week":case"half-week":return"day";case"half-day":case"quarter-day":return"hour";default:return t}}function y(t){return t===v(t)}function _(t){switch(t){case"year":case"month":return"day";case"millisecond":return"millisecond";default:return"second"}}function x(t,e,n,i){var s=r.sG(t),l=s[M(n)](),c=s[T(n)]()+1,u=Math.floor((c-1)/4)+1,h=s[E(n)](),p=s["get"+(n?"UTC":"")+"Day"](),d=s[A(n)](),f=(d-1)%12+1,m=s[C(n)](),v=s[L(n)](),y=s[I(n)](),_=(i instanceof a.Z?i:(0,o.G8)(i||o.sO)||(0,o.Li)()).getModel("time"),x=_.get("month"),b=_.get("monthAbbr"),w=_.get("dayOfWeek"),S=_.get("dayOfWeekAbbr");return(e||"").replace(/{yyyy}/g,l+"").replace(/{yy}/g,l%100+"").replace(/{Q}/g,u+"").replace(/{MMMM}/g,x[c-1]).replace(/{MMM}/g,b[c-1]).replace(/{MM}/g,g(c,2)).replace(/{M}/g,c+"").replace(/{dd}/g,g(h,2)).replace(/{d}/g,h+"").replace(/{eeee}/g,w[p]).replace(/{ee}/g,S[p]).replace(/{e}/g,p+"").replace(/{HH}/g,g(d,2)).replace(/{H}/g,d+"").replace(/{hh}/g,g(f+"",2)).replace(/{h}/g,f+"").replace(/{mm}/g,g(m,2)).replace(/{m}/g,m+"").replace(/{ss}/g,g(v,2)).replace(/{s}/g,v+"").replace(/{SSS}/g,g(y,3)).replace(/{S}/g,y+"")}function b(t,e,n,r,o){var a=null;if(i.HD(n))a=n;else if(i.mf(n))a=n(t.value,e,{level:t.level});else{var s=i.l7({},p);if(t.level>0)for(var l=0;l<f.length;++l)s[f[l]]="{primary|"+s[f[l]]+"}";var c=n?!1===n.inherit?n:i.ce(n,s):s,u=w(t.value,o);if(c[u])a=c[u];else if(c.inherit){for(l=m.indexOf(u)-1;l>=0;--l)if(c[u]){a=c[u];break}a=a||s.none}if(i.kJ(a)){var h=null==t.level?0:t.level>=0?t.level:a.length+t.level;a=a[h=Math.min(h,a.length-1)]}}return x(new Date(t.value),a,o,r)}function w(t,e){var n=r.sG(t),i=n[T(e)]()+1,o=n[E(e)](),a=n[A(e)](),s=n[C(e)](),l=n[L(e)](),c=0===n[I(e)](),u=c&&0===l,h=u&&0===s,p=h&&0===a,d=p&&1===o;return d&&1===i?"year":d?"month":p?"day":h?"hour":u?"minute":c?"second":"millisecond"}function S(t,e,n){var o=i.hj(t)?r.sG(t):t;switch(e=e||w(t,n)){case"year":return o[M(n)]();case"half-year":return o[T(n)]()>=6?1:0;case"quarter":return Math.floor((o[T(n)]()+1)/4);case"month":return o[T(n)]();case"day":return o[E(n)]();case"half-day":return o[A(n)]()/24;case"hour":return o[A(n)]();case"minute":return o[C(n)]();case"second":return o[L(n)]();case"millisecond":return o[I(n)]()}}function M(t){return t?"getUTCFullYear":"getFullYear"}function T(t){return t?"getUTCMonth":"getMonth"}function E(t){return t?"getUTCDate":"getDate"}function A(t){return t?"getUTCHours":"getHours"}function C(t){return t?"getUTCMinutes":"getMinutes"}function L(t){return t?"getUTCSeconds":"getSeconds"}function I(t){return t?"getUTCMilliseconds":"getMilliseconds"}function D(t){return t?"setUTCFullYear":"setFullYear"}function P(t){return t?"setUTCMonth":"setMonth"}function R(t){return t?"setUTCDate":"setDate"}function O(t){return t?"setUTCHours":"setHours"}function k(t){return t?"setUTCMinutes":"setMinutes"}function N(t){return t?"setUTCSeconds":"setSeconds"}function z(t){return t?"setUTCMilliseconds":"setMilliseconds"}},4279:(t,e,n)=>{"use strict";n.d(e,{J5:()=>l,RA:()=>c,Wc:()=>h,XD:()=>o,cy:()=>r,f7:()=>i,fY:()=>u,hL:()=>s,qb:()=>a});var i=(0,n(3051).kW)(["tooltip","label","itemName","itemId","itemGroupId","seriesName"]),r="original",o="arrayRows",a="objectRows",s="keyedColumns",l="typedArray",c="unknown",u="column",h="row"},5797:(t,e,n)=>{"use strict";n.d(e,{Z:()=>x});var i=n(3051),r=n(8154),o=n(2151),a=n(4251),s=n(2234),l=n(6357),c=n(8674),u=n(5682),h=n(4592),p=s.Yf(),d=(0,u.Z)(),f=function(){function t(){this.group=new r.Z,this.uid=o.Kr("viewChart"),this.renderTask=(0,c.v)({plan:v,reset:y}),this.renderTask.context={view:this}}return t.prototype.init=function(t,e){},t.prototype.render=function(t,e,n,i){},t.prototype.highlight=function(t,e,n,i){var r=t.getData(i&&i.dataType);r&&g(r,i,"emphasis")},t.prototype.downplay=function(t,e,n,i){var r=t.getData(i&&i.dataType);r&&g(r,i,"normal")},t.prototype.remove=function(t,e){this.group.removeAll()},t.prototype.dispose=function(t,e){},t.prototype.updateView=function(t,e,n,i){this.render(t,e,n,i)},t.prototype.updateLayout=function(t,e,n,i){this.render(t,e,n,i)},t.prototype.updateVisual=function(t,e,n,i){this.render(t,e,n,i)},t.prototype.eachRendered=function(t){(0,h.traverseElements)(this.group,t)},t.markUpdateMethod=function(t,e){p(t).updateMethod=e},t.protoInitialize=void(t.prototype.type="chart"),t}();function m(t,e,n){t&&(0,l.Av)(t)&&("emphasis"===e?l.fD:l.Mh)(t,n)}function g(t,e,n){var r=s.gO(t,e),o=e&&null!=e.highlightKey?(0,l.RW)(e.highlightKey):null;null!=r?(0,i.S6)(s.kF(r),(function(e){m(t.getItemGraphicEl(e),n,o)})):t.eachItemGraphicEl((function(t){m(t,n,o)}))}function v(t){return d(t.model)}function y(t){var e=t.model,n=t.ecModel,i=t.api,r=t.payload,o=e.pipelineContext.progressiveRender,a=t.view,s=r&&p(r).updateMethod,l=o?"incrementalPrepareRender":s&&a[s]?s:"render";return"render"!==l&&a[l](e,n,i,r),_[l]}a.dm(f,["dispose"]),a.au(f);var _={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}};const x=f},3166:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(8154),r=n(2151),o=n(4251),a=function(){function t(){this.group=new i.Z,this.uid=r.Kr("viewComponent")}return t.prototype.init=function(t,e){},t.prototype.render=function(t,e,n,i){},t.prototype.dispose=function(t,e){},t.prototype.updateView=function(t,e,n,i){},t.prototype.updateLayout=function(t,e,n,i){},t.prototype.updateVisual=function(t,e,n,i){},t.prototype.toggleBlurSeries=function(t,e,n){},t.prototype.eachRendered=function(t){var e=this.group;e&&e.traverse(t)},t}();o.dm(a),o.au(a);const s=a},6211:(t,e,n)=>{"use strict";function i(t,e,n){switch(n){case"color":return t.getItemVisual(e,"style")[t.getVisual("drawType")];case"opacity":return t.getItemVisual(e,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getItemVisual(e,n)}}function r(t,e){switch(e){case"color":return t.getVisual("style")[t.getVisual("drawType")];case"opacity":return t.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return t.getVisual(e)}}function o(t,e,n,i){switch(n){case"color":t.ensureUniqueItemVisual(e,"style")[t.getVisual("drawType")]=i,t.setItemVisual(e,"colorFromPalette",!1);break;case"opacity":t.ensureUniqueItemVisual(e,"style").opacity=i;break;case"symbol":case"symbolSize":case"liftZ":t.setItemVisual(e,n,i)}}n.d(e,{LZ:()=>o,Or:()=>i,UL:()=>r})},8299:(t,e,n)=>{"use strict";n.d(e,{ZT:()=>r});var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)};function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create,Object.create},4075:function(t,e,n){var i,r,o;o=function(){var t,e={defaultRadius:40,defaultRenderer:"canvas2d",defaultGradient:{.25:"rgb(0,0,255)",.55:"rgb(0,255,0)",.85:"yellow",1:"rgb(255,0,0)"},defaultMaxOpacity:1,defaultMinOpacity:0,defaultBlur:.85,defaultXField:"x",defaultYField:"y",defaultValueField:"value",plugins:{}},n=function(){var t=function(t){this._coordinator={},this._data=[],this._radi=[],this._min=10,this._max=1,this._xField=t.xField||t.defaultXField,this._yField=t.yField||t.defaultYField,this._valueField=t.valueField||t.defaultValueField,t.radius&&(this._cfgRadius=t.radius)},n=e.defaultRadius;return t.prototype={_organiseData:function(t,e){var i=t[this._xField],r=t[this._yField],o=this._radi,a=this._data,s=this._max,l=this._min,c=t[this._valueField]||1,u=t.radius||this._cfgRadius||n;a[i]||(a[i]=[],o[i]=[]),a[i][r]?a[i][r]+=c:(a[i][r]=c,o[i][r]=u);var h=a[i][r];return h>s?(e?this.setDataMax(h):this._max=h,!1):h<l?(e?this.setDataMin(h):this._min=h,!1):{x:i,y:r,value:c,radius:u,min:l,max:s}},_unOrganizeData:function(){var t=[],e=this._data,n=this._radi;for(var i in e)for(var r in e[i])t.push({x:i,y:r,radius:n[i][r],value:e[i][r]});return{min:this._min,max:this._max,data:t}},_onExtremaChange:function(){this._coordinator.emit("extremachange",{min:this._min,max:this._max})},addData:function(){if(arguments[0].length>0)for(var t=arguments[0],e=t.length;e--;)this.addData.call(this,t[e]);else{var n=this._organiseData(arguments[0],!0);n&&(0===this._data.length&&(this._min=this._max=n.value),this._coordinator.emit("renderpartial",{min:this._min,max:this._max,data:[n]}))}return this},setData:function(t){var e=t.data,n=e.length;this._data=[],this._radi=[];for(var i=0;i<n;i++)this._organiseData(e[i],!1);return this._max=t.max,this._min=t.min||0,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},removeData:function(){},setDataMax:function(t){return this._max=t,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setDataMin:function(t){return this._min=t,this._onExtremaChange(),this._coordinator.emit("renderall",this._getInternalData()),this},setCoordinator:function(t){this._coordinator=t},_getInternalData:function(){return{max:this._max,min:this._min,data:this._data,radi:this._radi}},getData:function(){return this._unOrganizeData()}},t}(),i=function(){var t=function(t){var e=t.gradient||t.defaultGradient,n=document.createElement("canvas"),i=n.getContext("2d");n.width=256,n.height=1;var r=i.createLinearGradient(0,0,256,1);for(var o in e)r.addColorStop(o,e[o]);return i.fillStyle=r,i.fillRect(0,0,256,1),i.getImageData(0,0,256,1).data},e=function(t,e){var n=document.createElement("canvas"),i=n.getContext("2d"),r=t,o=t;if(n.width=n.height=2*t,1==e)i.beginPath(),i.arc(r,o,t,0,2*Math.PI,!1),i.fillStyle="rgba(0,0,0,1)",i.fill();else{var a=i.createRadialGradient(r,o,t*e,r,o,t);a.addColorStop(0,"rgba(0,0,0,1)"),a.addColorStop(1,"rgba(0,0,0,0)"),i.fillStyle=a,i.fillRect(0,0,2*t,2*t)}return n};function n(e){var n=e.container,i=this.shadowCanvas=document.createElement("canvas"),r=this.canvas=e.canvas||document.createElement("canvas"),o=(this._renderBoundaries=[1e4,1e4,0,0],getComputedStyle(e.container)||{});r.className="heatmap-canvas",this._width=r.width=i.width=e.width||+o.width.replace(/px/,""),this._height=r.height=i.height=e.height||+o.height.replace(/px/,""),this.shadowCtx=i.getContext("2d"),this.ctx=r.getContext("2d"),r.style.cssText=i.style.cssText="position:absolute;left:0;top:0;",n.style.position="relative",n.appendChild(r),this._palette=t(e),this._templates={},this._setStyles(e)}return n.prototype={renderPartial:function(t){t.data.length>0&&(this._drawAlpha(t),this._colorize())},renderAll:function(t){this._clear(),t.data.length>0&&(this._drawAlpha(function(t){for(var e=[],n=t.min,i=t.max,r=t.radi,o=(t=t.data,Object.keys(t)),a=o.length;a--;)for(var s=o[a],l=Object.keys(t[s]),c=l.length;c--;){var u=l[c],h=t[s][u],p=r[s][u];e.push({x:s,y:u,value:h,radius:p})}return{min:n,max:i,data:e}}(t)),this._colorize())},_updateGradient:function(e){this._palette=t(e)},updateConfig:function(t){t.gradient&&this._updateGradient(t),this._setStyles(t)},setDimensions:function(t,e){this._width=t,this._height=e,this.canvas.width=this.shadowCanvas.width=t,this.canvas.height=this.shadowCanvas.height=e},_clear:function(){this.shadowCtx.clearRect(0,0,this._width,this._height),this.ctx.clearRect(0,0,this._width,this._height)},_setStyles:function(t){this._blur=0==t.blur?0:t.blur||t.defaultBlur,t.backgroundColor&&(this.canvas.style.backgroundColor=t.backgroundColor),this._width=this.canvas.width=this.shadowCanvas.width=t.width||this._width,this._height=this.canvas.height=this.shadowCanvas.height=t.height||this._height,this._opacity=255*(t.opacity||0),this._maxOpacity=255*(t.maxOpacity||t.defaultMaxOpacity),this._minOpacity=255*(t.minOpacity||t.defaultMinOpacity),this._useGradientOpacity=!!t.useGradientOpacity},_drawAlpha:function(t){for(var n=this._min=t.min,i=this._max=t.max,r=(t=t.data||[]).length,o=1-this._blur;r--;){var a,s=t[r],l=s.x,c=s.y,u=s.radius,h=Math.min(s.value,i),p=l-u,d=c-u,f=this.shadowCtx;this._templates[u]?a=this._templates[u]:this._templates[u]=a=e(u,o);var m=(h-n)/(i-n);f.globalAlpha=m<.01?.01:m,f.drawImage(a,p,d),p<this._renderBoundaries[0]&&(this._renderBoundaries[0]=p),d<this._renderBoundaries[1]&&(this._renderBoundaries[1]=d),p+2*u>this._renderBoundaries[2]&&(this._renderBoundaries[2]=p+2*u),d+2*u>this._renderBoundaries[3]&&(this._renderBoundaries[3]=d+2*u)}},_colorize:function(){var t=this._renderBoundaries[0],e=this._renderBoundaries[1],n=this._renderBoundaries[2]-t,i=this._renderBoundaries[3]-e,r=this._width,o=this._height,a=this._opacity,s=this._maxOpacity,l=this._minOpacity,c=this._useGradientOpacity;t<0&&(t=0),e<0&&(e=0),t+n>r&&(n=r-t),e+i>o&&(i=o-e);for(var u=this.shadowCtx.getImageData(t,e,n,i),h=u.data,p=h.length,d=this._palette,f=3;f<p;f+=4){var m,g=h[f],v=4*g;v&&(m=a>0?a:g<s?g<l?l:g:s,h[f-3]=d[v],h[f-2]=d[v+1],h[f-1]=d[v+2],h[f]=c?d[v+3]:m)}u.data=h,this.ctx.putImageData(u,t,e),this._renderBoundaries=[1e3,1e3,0,0]},getValueAt:function(t){var e=this.shadowCtx.getImageData(t.x,t.y,1,1).data[3],n=this._max,i=this._min;return Math.abs(n-i)*(e/255)>>0},getDataURL:function(){return this.canvas.toDataURL()}},n}(),r=(t=!1,"canvas2d"===e.defaultRenderer&&(t=i),t),o=function(){for(var t={},e=arguments.length,n=0;n<e;n++){var i=arguments[n];for(var r in i)t[r]=i[r]}return t},a=function(){var t=function(){function t(){this.cStore={}}return t.prototype={on:function(t,e,n){var i=this.cStore;i[t]||(i[t]=[]),i[t].push((function(t){return e.call(n,t)}))},emit:function(t,e){var n=this.cStore;if(n[t])for(var i=n[t].length,r=0;r<i;r++)(0,n[t][r])(e)}},t}(),i=function(t){var e=t._renderer,n=t._coordinator,i=t._store;n.on("renderpartial",e.renderPartial,e),n.on("renderall",e.renderAll,e),n.on("extremachange",(function(e){t._config.onExtremaChange&&t._config.onExtremaChange({min:e.min,max:e.max,gradient:t._config.gradient||t._config.defaultGradient})})),i.setCoordinator(n)};function a(){var a=this._config=o(e,arguments[0]||{});if(this._coordinator=new t,a.plugin){var s=a.plugin;if(!e.plugins[s])throw new Error("Plugin '"+s+"' not found. Maybe it was not registered.");var l=e.plugins[s];this._renderer=new l.renderer(a),this._store=new l.store(a)}else this._renderer=new r(a),this._store=new n(a);i(this)}return a.prototype={addData:function(){return this._store.addData.apply(this._store,arguments),this},removeData:function(){return this._store.removeData&&this._store.removeData.apply(this._store,arguments),this},setData:function(){return this._store.setData.apply(this._store,arguments),this},setDataMax:function(){return this._store.setDataMax.apply(this._store,arguments),this},setDataMin:function(){return this._store.setDataMin.apply(this._store,arguments),this},configure:function(t){return this._config=o(this._config,t),this._renderer.updateConfig(this._config),this._coordinator.emit("renderall",this._store._getInternalData()),this},repaint:function(){return this._coordinator.emit("renderall",this._store._getInternalData()),this},getData:function(){return this._store.getData()},getDataURL:function(){return this._renderer.getDataURL()},getValueAt:function(t){return this._store.getValueAt?this._store.getValueAt(t):this._renderer.getValueAt?this._renderer.getValueAt(t):null}},a}();return{create:function(t){return new a(t)},register:function(t,n){e.plugins[t]=n}}},t.exports?t.exports=o():void 0===(r="function"==typeof(i=o)?i.call(e,n,e,t):i)||(t.exports=r)},3379:t=>{"use strict";var e=[];function n(t){for(var n=-1,i=0;i<e.length;i++)if(e[i].identifier===t){n=i;break}return n}function i(t,i){for(var o={},a=[],s=0;s<t.length;s++){var l=t[s],c=i.base?l[0]+i.base:l[0],u=o[c]||0,h="".concat(c," ").concat(u);o[c]=u+1;var p=n(h),d={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)e[p].references++,e[p].updater(d);else{var f=r(d,i);i.byIndex=s,e.splice(s,0,{identifier:h,updater:f,references:1})}a.push(h)}return a}function r(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,r){var o=i(t=t||[],r=r||{});return function(t){t=t||[];for(var a=0;a<o.length;a++){var s=n(o[a]);e[s].references--}for(var l=i(t,r),c=0;c<o.length;c++){var u=n(o[c]);0===e[u].references&&(e[u].updater(),e.splice(u,1))}o=l}}},569:t=>{"use strict";var e={};t.exports=function(t,n){var i=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},9216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},3565:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},7795:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,r&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(i,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},4589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},2212:(t,e,n)=>{"use strict";n.d(e,{$V:()=>mc,BKK:()=>Bn,CP7:()=>Br,D1R:()=>v,DvJ:()=>dn,F5T:()=>_e,FM8:()=>V,Ilk:()=>de,Kj0:()=>on,N$j:()=>ho,NMF:()=>C,OdW:()=>uo,OoA:()=>h,Ox3:()=>ul,PMe:()=>ol,Pa4:()=>Z,QmN:()=>r,ROQ:()=>Oo,RsA:()=>i,Syv:()=>A,TUv:()=>so,TlE:()=>be,Tme:()=>At,TyD:()=>p,UCm:()=>S,USm:()=>pt,UY4:()=>To,UlW:()=>R,Vj0:()=>On,Wid:()=>Ja,Wl3:()=>o,YLQ:()=>d,ZAu:()=>Ir,ZX$:()=>H,Zp0:()=>fl,ZzF:()=>Ht,_C8:()=>as,_fP:()=>G,aH4:()=>f,aLr:()=>jt,aNw:()=>Ss,blk:()=>Mo,cPb:()=>xn,cek:()=>sl,dUE:()=>ds,dpR:()=>Ds,ehD:()=>a,ejS:()=>So,fQA:()=>iu,hH6:()=>Ts,iKG:()=>ll,iLg:()=>ms,iMs:()=>pc,iUV:()=>sc,jSK:()=>s,jyz:()=>yn,kB5:()=>Vr,knz:()=>N,m7l:()=>ys,nls:()=>fo,pBf:()=>B,qyh:()=>g,rDY:()=>vn,rpg:()=>c,tEQ:()=>ws,u9r:()=>Ue,uWy:()=>u,vBJ:()=>xe,vmT:()=>nl,vpT:()=>Hr,wem:()=>m,wk1:()=>M,woe:()=>Io,x12:()=>xo,xsS:()=>Ct,yC1:()=>vs,yGw:()=>ct,z$h:()=>O}),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}),void 0===Math.sign&&(Math.sign=function(t){return t<0?-1:t>0?1:+t}),"name"in Function.prototype==0&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e});var i={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},r={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},o=0,a=2,s=2,l=100,c=1e3,u=1001,h=1002,p=1003,d=1004,f=1005,m=1006,g=1007,v=1008,y=1009,_=1012,x=1015,b=1016,w=1020,S=1022,M=1023,T=1026,E=1027,A=2300,C=2301,L=2302,I=2400,D=2401,P=2402,R=1,O=2,k=3e3,N=3001,z=7680;function B(){}Object.assign(B.prototype,{addEventListener:function(t,e){void 0===this._listeners&&(this._listeners={});var n=this._listeners;void 0===n[t]&&(n[t]=[]),-1===n[t].indexOf(e)&&n[t].push(e)},hasEventListener:function(t,e){if(void 0===this._listeners)return!1;var n=this._listeners;return void 0!==n[t]&&-1!==n[t].indexOf(e)},removeEventListener:function(t,e){if(void 0!==this._listeners){var n=this._listeners[t];if(void 0!==n){var i=n.indexOf(e);-1!==i&&n.splice(i,1)}}},dispatchEvent:function(t){if(void 0!==this._listeners){var e=this._listeners[t.type];if(void 0!==e){t.target=this;for(var n=e.slice(0),i=0,r=n.length;i<r;i++)n[i].call(this,t)}}}});for(var F=[],U=0;U<256;U++)F[U]=(U<16?"0":"")+U.toString(16);var H={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(F[255&t]+F[t>>8&255]+F[t>>16&255]+F[t>>24&255]+"-"+F[255&e]+F[e>>8&255]+"-"+F[e>>16&15|64]+F[e>>24&255]+"-"+F[63&n|128]+F[n>>8&255]+"-"+F[n>>16&255]+F[n>>24&255]+F[255&i]+F[i>>8&255]+F[i>>16&255]+F[i>>24&255]).toUpperCase()},clamp:function(t,e,n){return Math.max(e,Math.min(n,t))},euclideanModulo:function(t,e){return(t%e+e)%e},mapLinear:function(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)},lerp:function(t,e,n){return(1-n)*t+n*e},smoothstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*(3-2*t)},smootherstep:function(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e))*t*t*(t*(6*t-15)+10)},randInt:function(t,e){return t+Math.floor(Math.random()*(e-t+1))},randFloat:function(t,e){return t+Math.random()*(e-t)},randFloatSpread:function(t){return t*(.5-Math.random())},degToRad:function(t){return t*H.DEG2RAD},radToDeg:function(t){return t*H.RAD2DEG},isPowerOfTwo:function(t){return 0==(t&t-1)&&0!==t},ceilPowerOfTwo:function(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))},floorPowerOfTwo:function(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}};function V(t,e){this.x=t||0,this.y=e||0}function G(t,e,n,i){this._x=t||0,this._y=e||0,this._z=n||0,this._w=void 0!==i?i:1}Object.defineProperties(V.prototype,{width:{get:function(){return this.x},set:function(t){this.x=t}},height:{get:function(){return this.y},set:function(t){this.y=t}}}),Object.assign(V.prototype,{isVector2:!0,set:function(t,e){return this.x=t,this.y=e,this},setScalar:function(t){return this.x=t,this.y=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(t){return this.x=t.x,this.y=t.y,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)},addScalar:function(t){return this.x+=t,this.y+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)},subScalar:function(t){return this.x-=t,this.y-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this},multiply:function(t){return this.x*=t.x,this.y*=t.y,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return this.x/=t.x,this.y/=t.y,this},divideScalar:function(t){return this.multiplyScalar(1/t)},applyMatrix3:function(t){var e=this.x,n=this.y,i=t.elements;return this.x=i[0]*e+i[3]*n+i[6],this.y=i[1]*e+i[4]*n+i[7],this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this},clampScalar:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this},clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(t){return this.x*t.x+this.y*t.y},cross:function(t){return this.x*t.y-this.y*t.x},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var t=Math.atan2(this.y,this.x);return t<0&&(t+=2*Math.PI),t},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this},rotateAround:function(t,e){var n=Math.cos(e),i=Math.sin(e),r=this.x-t.x,o=this.y-t.y;return this.x=r*n-o*i+t.x,this.y=r*i+o*n+t.y,this}}),Object.assign(G,{slerp:function(t,e,n,i){return n.copy(t).slerp(e,i)},slerpFlat:function(t,e,n,i,r,o,a){var s=n[i+0],l=n[i+1],c=n[i+2],u=n[i+3],h=r[o+0],p=r[o+1],d=r[o+2],f=r[o+3];if(u!==f||s!==h||l!==p||c!==d){var m=1-a,g=s*h+l*p+c*d+u*f,v=g>=0?1:-1,y=1-g*g;if(y>Number.EPSILON){var _=Math.sqrt(y),x=Math.atan2(_,g*v);m=Math.sin(m*x)/_,a=Math.sin(a*x)/_}var b=a*v;if(s=s*m+h*b,l=l*m+p*b,c=c*m+d*b,u=u*m+f*b,m===1-a){var w=1/Math.sqrt(s*s+l*l+c*c+u*u);s*=w,l*=w,c*=w,u*=w}}t[e]=s,t[e+1]=l,t[e+2]=c,t[e+3]=u}}),Object.defineProperties(G.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},w:{get:function(){return this._w},set:function(t){this._w=t,this._onChangeCallback()}}}),Object.assign(G.prototype,{isQuaternion:!0,set:function(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._w=i,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this},setFromEuler:function(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var n=t._x,i=t._y,r=t._z,o=t.order,a=Math.cos,s=Math.sin,l=a(n/2),c=a(i/2),u=a(r/2),h=s(n/2),p=s(i/2),d=s(r/2);return"XYZ"===o?(this._x=h*c*u+l*p*d,this._y=l*p*u-h*c*d,this._z=l*c*d+h*p*u,this._w=l*c*u-h*p*d):"YXZ"===o?(this._x=h*c*u+l*p*d,this._y=l*p*u-h*c*d,this._z=l*c*d-h*p*u,this._w=l*c*u+h*p*d):"ZXY"===o?(this._x=h*c*u-l*p*d,this._y=l*p*u+h*c*d,this._z=l*c*d+h*p*u,this._w=l*c*u-h*p*d):"ZYX"===o?(this._x=h*c*u-l*p*d,this._y=l*p*u+h*c*d,this._z=l*c*d-h*p*u,this._w=l*c*u+h*p*d):"YZX"===o?(this._x=h*c*u+l*p*d,this._y=l*p*u+h*c*d,this._z=l*c*d-h*p*u,this._w=l*c*u-h*p*d):"XZY"===o&&(this._x=h*c*u-l*p*d,this._y=l*p*u-h*c*d,this._z=l*c*d+h*p*u,this._w=l*c*u+h*p*d),!1!==e&&this._onChangeCallback(),this},setFromAxisAngle:function(t,e){var n=e/2,i=Math.sin(n);return this._x=t.x*i,this._y=t.y*i,this._z=t.z*i,this._w=Math.cos(n),this._onChangeCallback(),this},setFromRotationMatrix:function(t){var e,n=t.elements,i=n[0],r=n[4],o=n[8],a=n[1],s=n[5],l=n[9],c=n[2],u=n[6],h=n[10],p=i+s+h;return p>0?(e=.5/Math.sqrt(p+1),this._w=.25/e,this._x=(u-l)*e,this._y=(o-c)*e,this._z=(a-r)*e):i>s&&i>h?(e=2*Math.sqrt(1+i-s-h),this._w=(u-l)/e,this._x=.25*e,this._y=(r+a)/e,this._z=(o+c)/e):s>h?(e=2*Math.sqrt(1+s-i-h),this._w=(o-c)/e,this._x=(r+a)/e,this._y=.25*e,this._z=(l+u)/e):(e=2*Math.sqrt(1+h-i-s),this._w=(a-r)/e,this._x=(o+c)/e,this._y=(l+u)/e,this._z=.25*e),this._onChangeCallback(),this},setFromUnitVectors:function(t,e){var n=t.dot(e)+1;return n<1e-6?(n=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=n):(this._x=0,this._y=-t.z,this._z=t.y,this._w=n)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=n),this.normalize()},angleTo:function(t){return 2*Math.acos(Math.abs(H.clamp(this.dot(t),-1,1)))},rotateTowards:function(t,e){var n=this.angleTo(t);if(0===n)return this;var i=Math.min(1,e/n);return this.slerp(t,i),this},inverse:function(){return this.conjugate()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this},dot:function(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)},premultiply:function(t){return this.multiplyQuaternions(t,this)},multiplyQuaternions:function(t,e){var n=t._x,i=t._y,r=t._z,o=t._w,a=e._x,s=e._y,l=e._z,c=e._w;return this._x=n*c+o*a+i*l-r*s,this._y=i*c+o*s+r*a-n*l,this._z=r*c+o*l+n*s-i*a,this._w=o*c-n*a-i*s-r*l,this._onChangeCallback(),this},slerp:function(t,e){if(0===e)return this;if(1===e)return this.copy(t);var n=this._x,i=this._y,r=this._z,o=this._w,a=o*t._w+n*t._x+i*t._y+r*t._z;if(a<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,a=-a):this.copy(t),a>=1)return this._w=o,this._x=n,this._y=i,this._z=r,this;var s=1-a*a;if(s<=Number.EPSILON){var l=1-e;return this._w=l*o+e*this._w,this._x=l*n+e*this._x,this._y=l*i+e*this._y,this._z=l*r+e*this._z,this.normalize(),this._onChangeCallback(),this}var c=Math.sqrt(s),u=Math.atan2(c,a),h=Math.sin((1-e)*u)/c,p=Math.sin(e*u)/c;return this._w=o*h+this._w*p,this._x=n*h+this._x*p,this._y=i*h+this._y*p,this._z=r*h+this._z*p,this._onChangeCallback(),this},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w},fromArray:function(t,e){return void 0===e&&(e=0),this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t},_onChange:function(t){return this._onChangeCallback=t,this},_onChangeCallback:function(){}});var j=new Z,W=new G;function Z(t,e,n){this.x=t||0,this.y=e||0,this.z=n||0}Object.assign(Z.prototype,{isVector3:!0,set:function(t,e,n){return this.x=t,this.y=e,this.z=n,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this},multiplyVectors:function(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this},applyEuler:function(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(W.setFromEuler(t))},applyAxisAngle:function(t,e){return this.applyQuaternion(W.setFromAxisAngle(t,e))},applyMatrix3:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[3]*n+r[6]*i,this.y=r[1]*e+r[4]*n+r[7]*i,this.z=r[2]*e+r[5]*n+r[8]*i,this},applyMatrix4:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements,o=1/(r[3]*e+r[7]*n+r[11]*i+r[15]);return this.x=(r[0]*e+r[4]*n+r[8]*i+r[12])*o,this.y=(r[1]*e+r[5]*n+r[9]*i+r[13])*o,this.z=(r[2]*e+r[6]*n+r[10]*i+r[14])*o,this},applyQuaternion:function(t){var e=this.x,n=this.y,i=this.z,r=t.x,o=t.y,a=t.z,s=t.w,l=s*e+o*i-a*n,c=s*n+a*e-r*i,u=s*i+r*n-o*e,h=-r*e-o*n-a*i;return this.x=l*s+h*-r+c*-a-u*-o,this.y=c*s+h*-o+u*-r-l*-a,this.z=u*s+h*-a+l*-o-c*-r,this},project:function(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)},unproject:function(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)},transformDirection:function(t){var e=this.x,n=this.y,i=this.z,r=t.elements;return this.x=r[0]*e+r[4]*n+r[8]*i,this.y=r[1]*e+r[5]*n+r[9]*i,this.z=r[2]*e+r[6]*n+r[10]*i,this.normalize()},divide:function(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this},divideScalar:function(t){return this.multiplyScalar(1/t)},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this},clampScalar:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this},clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},cross:function(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)},crossVectors:function(t,e){var n=t.x,i=t.y,r=t.z,o=e.x,a=e.y,s=e.z;return this.x=i*s-r*a,this.y=r*o-n*s,this.z=n*a-i*o,this},projectOnVector:function(t){var e=t.dot(this)/t.lengthSq();return this.copy(t).multiplyScalar(e)},projectOnPlane:function(t){return j.copy(this).projectOnVector(t),this.sub(j)},reflect:function(t){return this.sub(j.copy(t).multiplyScalar(2*this.dot(t)))},angleTo:function(t){var e=Math.sqrt(this.lengthSq()*t.lengthSq());0===e&&console.error("THREE.Vector3: angleTo() can't handle zero length vectors.");var n=this.dot(t)/e;return Math.acos(H.clamp(n,-1,1))},distanceTo:function(t){return Math.sqrt(this.distanceToSquared(t))},distanceToSquared:function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return e*e+n*n+i*i},manhattanDistanceTo:function(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)},setFromSpherical:function(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)},setFromSphericalCoords:function(t,e,n){var i=Math.sin(e)*t;return this.x=i*Math.sin(n),this.y=Math.cos(e)*t,this.z=i*Math.cos(n),this},setFromCylindrical:function(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)},setFromCylindricalCoords:function(t,e,n){return this.x=t*Math.sin(e),this.y=n,this.z=t*Math.cos(e),this},setFromMatrixPosition:function(t){var e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this},setFromMatrixScale:function(t){var e=this.setFromMatrixColumn(t,0).length(),n=this.setFromMatrixColumn(t,1).length(),i=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=n,this.z=i,this},setFromMatrixColumn:function(t,e){return this.fromArray(t.elements,4*e)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}});var q,X=new Z;function Y(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.assign(Y.prototype,{isMatrix3:!0,set:function(t,e,n,i,r,o,a,s,l){var c=this.elements;return c[0]=t,c[1]=i,c[2]=a,c[3]=e,c[4]=r,c[5]=s,c[6]=n,c[7]=o,c[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],this},setFromMatrix4:function(t){var e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this},applyToBufferAttribute:function(t){for(var e=0,n=t.count;e<n;e++)X.x=t.getX(e),X.y=t.getY(e),X.z=t.getZ(e),X.applyMatrix3(this),t.setXYZ(e,X.x,X.y,X.z);return t},multiply:function(t){return this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,i=e.elements,r=this.elements,o=n[0],a=n[3],s=n[6],l=n[1],c=n[4],u=n[7],h=n[2],p=n[5],d=n[8],f=i[0],m=i[3],g=i[6],v=i[1],y=i[4],_=i[7],x=i[2],b=i[5],w=i[8];return r[0]=o*f+a*v+s*x,r[3]=o*m+a*y+s*b,r[6]=o*g+a*_+s*w,r[1]=l*f+c*v+u*x,r[4]=l*m+c*y+u*b,r[7]=l*g+c*_+u*w,r[2]=h*f+p*v+d*x,r[5]=h*m+p*y+d*b,r[8]=h*g+p*_+d*w,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this},determinant:function(){var t=this.elements,e=t[0],n=t[1],i=t[2],r=t[3],o=t[4],a=t[5],s=t[6],l=t[7],c=t[8];return e*o*c-e*a*l-n*r*c+n*a*s+i*r*l-i*o*s},getInverse:function(t,e){t&&t.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var n=t.elements,i=this.elements,r=n[0],o=n[1],a=n[2],s=n[3],l=n[4],c=n[5],u=n[6],h=n[7],p=n[8],d=p*l-c*h,f=c*u-p*s,m=h*s-l*u,g=r*d+o*f+a*m;if(0===g){var v="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(v);return console.warn(v),this.identity()}var y=1/g;return i[0]=d*y,i[1]=(a*h-p*o)*y,i[2]=(c*o-a*l)*y,i[3]=f*y,i[4]=(p*r-a*u)*y,i[5]=(a*s-c*r)*y,i[6]=m*y,i[7]=(o*u-h*r)*y,i[8]=(l*r-o*s)*y,this},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this},getNormalMatrix:function(t){return this.setFromMatrix4(t).getInverse(this).transpose()},transposeIntoArray:function(t){var e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this},setUvTransform:function(t,e,n,i,r,o,a){var s=Math.cos(r),l=Math.sin(r);this.set(n*s,n*l,-n*(s*o+l*a)+o+t,-i*l,i*s,-i*(-l*o+s*a)+a+e,0,0,1)},scale:function(t,e){var n=this.elements;return n[0]*=t,n[3]*=t,n[6]*=t,n[1]*=e,n[4]*=e,n[7]*=e,this},rotate:function(t){var e=Math.cos(t),n=Math.sin(t),i=this.elements,r=i[0],o=i[3],a=i[6],s=i[1],l=i[4],c=i[7];return i[0]=e*r+n*s,i[3]=e*o+n*l,i[6]=e*a+n*c,i[1]=-n*r+e*s,i[4]=-n*o+e*l,i[7]=-n*a+e*c,this},translate:function(t,e){var n=this.elements;return n[0]+=t*n[2],n[3]+=t*n[5],n[6]+=t*n[8],n[1]+=e*n[2],n[4]+=e*n[5],n[7]+=e*n[8],this},equals:function(t){for(var e=this.elements,n=t.elements,i=0;i<9;i++)if(e[i]!==n[i])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<9;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t}});var J={getDataURL:function(t){var e;if("undefined"==typeof HTMLCanvasElement)return t.src;if(t instanceof HTMLCanvasElement)e=t;else{void 0===q&&(q=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),q.width=t.width,q.height=t.height;var n=q.getContext("2d");t instanceof ImageData?n.putImageData(t,0,0):n.drawImage(t,0,0,t.width,t.height),e=q}return e.width>2048||e.height>2048?e.toDataURL("image/jpeg",.6):e.toDataURL("image/png")}},K=0;function $(t,e,n,i,r,o,a,s,l,c){Object.defineProperty(this,"id",{value:K++}),this.uuid=H.generateUUID(),this.name="",this.image=void 0!==t?t:$.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==e?e:$.DEFAULT_MAPPING,this.wrapS=void 0!==n?n:u,this.wrapT=void 0!==i?i:u,this.magFilter=void 0!==r?r:m,this.minFilter=void 0!==o?o:v,this.anisotropy=void 0!==l?l:1,this.format=void 0!==a?a:M,this.type=void 0!==s?s:y,this.offset=new V(0,0),this.repeat=new V(1,1),this.center=new V(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Y,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==c?c:k,this.version=0,this.onUpdate=null}function Q(t,e,n,i){this.x=t||0,this.y=e||0,this.z=n||0,this.w=void 0!==i?i:1}function tt(t,e,n){this.width=t,this.height=e,this.scissor=new Q(0,0,t,e),this.scissorTest=!1,this.viewport=new Q(0,0,t,e),n=n||{},this.texture=new $(void 0,void 0,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.encoding),this.texture.image={},this.texture.image.width=t,this.texture.image.height=e,this.texture.generateMipmaps=void 0!==n.generateMipmaps&&n.generateMipmaps,this.texture.minFilter=void 0!==n.minFilter?n.minFilter:m,this.depthBuffer=void 0===n.depthBuffer||n.depthBuffer,this.stencilBuffer=void 0===n.stencilBuffer||n.stencilBuffer,this.depthTexture=void 0!==n.depthTexture?n.depthTexture:null}function et(t,e,n){tt.call(this,t,e,n),this.samples=4}$.DEFAULT_IMAGE=void 0,$.DEFAULT_MAPPING=300,$.prototype=Object.assign(Object.create(B.prototype),{constructor:$,isTexture:!0,updateMatrix:function(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this},toJSON:function(t){var e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];var n={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){var i=this.image;if(void 0===i.uuid&&(i.uuid=H.generateUUID()),!e&&void 0===t.images[i.uuid]){var r;if(Array.isArray(i)){r=[];for(var o=0,a=i.length;o<a;o++)r.push(J.getDataURL(i[o]))}else r=J.getDataURL(i);t.images[i.uuid]={uuid:i.uuid,url:r}}n.image=i.uuid}return e||(t.textures[this.uuid]=n),n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case c:t.x=t.x-Math.floor(t.x);break;case u:t.x=t.x<0?0:1;break;case h:1===Math.abs(Math.floor(t.x)%2)?t.x=Math.ceil(t.x)-t.x:t.x=t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case c:t.y=t.y-Math.floor(t.y);break;case u:t.y=t.y<0?0:1;break;case h:1===Math.abs(Math.floor(t.y)%2)?t.y=Math.ceil(t.y)-t.y:t.y=t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}}),Object.defineProperty($.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.defineProperties(Q.prototype,{width:{get:function(){return this.z},set:function(t){this.z=t}},height:{get:function(){return this.w},set:function(t){this.w=t}}}),Object.assign(Q.prototype,{isVector4:!0,set:function(t,e,n,i){return this.x=t,this.y=e,this.z=n,this.w=i,this},setScalar:function(t){return this.x=t,this.y=t,this.z=t,this.w=t,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setZ:function(t){return this.z=t,this},setW:function(t){return this.w=t,this},setComponent:function(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this},getComponent:function(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this},add:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)},addScalar:function(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this},addVectors:function(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this},addScaledVector:function(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this},sub:function(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)},subScalar:function(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this},subVectors:function(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this},multiplyScalar:function(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this},applyMatrix4:function(t){var e=this.x,n=this.y,i=this.z,r=this.w,o=t.elements;return this.x=o[0]*e+o[4]*n+o[8]*i+o[12]*r,this.y=o[1]*e+o[5]*n+o[9]*i+o[13]*r,this.z=o[2]*e+o[6]*n+o[10]*i+o[14]*r,this.w=o[3]*e+o[7]*n+o[11]*i+o[15]*r,this},divideScalar:function(t){return this.multiplyScalar(1/t)},setAxisAngleFromQuaternion:function(t){this.w=2*Math.acos(t.w);var e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this},setAxisAngleFromRotationMatrix:function(t){var e,n,i,r,o=.01,a=.1,s=t.elements,l=s[0],c=s[4],u=s[8],h=s[1],p=s[5],d=s[9],f=s[2],m=s[6],g=s[10];if(Math.abs(c-h)<o&&Math.abs(u-f)<o&&Math.abs(d-m)<o){if(Math.abs(c+h)<a&&Math.abs(u+f)<a&&Math.abs(d+m)<a&&Math.abs(l+p+g-3)<a)return this.set(1,0,0,0),this;e=Math.PI;var v=(l+1)/2,y=(p+1)/2,_=(g+1)/2,x=(c+h)/4,b=(u+f)/4,w=(d+m)/4;return v>y&&v>_?v<o?(n=0,i=.707106781,r=.707106781):(i=x/(n=Math.sqrt(v)),r=b/n):y>_?y<o?(n=.707106781,i=0,r=.707106781):(n=x/(i=Math.sqrt(y)),r=w/i):_<o?(n=.707106781,i=.707106781,r=0):(n=b/(r=Math.sqrt(_)),i=w/r),this.set(n,i,r,e),this}var S=Math.sqrt((m-d)*(m-d)+(u-f)*(u-f)+(h-c)*(h-c));return Math.abs(S)<.001&&(S=1),this.x=(m-d)/S,this.y=(u-f)/S,this.z=(h-c)/S,this.w=Math.acos((l+p+g-1)/2),this},min:function(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this},max:function(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this},clamp:function(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this},clampScalar:function(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this},clampLength:function(t,e){var n=this.length();return this.divideScalar(n||1).multiplyScalar(Math.max(t,Math.min(e,n)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(t){return this.normalize().multiplyScalar(t)},lerp:function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this},lerpVectors:function(t,e,n){return this.subVectors(e,t).multiplyScalar(n).add(t)},equals:function(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w},fromArray:function(t,e){return void 0===e&&(e=0),this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t},fromBufferAttribute:function(t,e,n){return void 0!==n&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}}),tt.prototype=Object.assign(Object.create(B.prototype),{constructor:tt,isWebGLRenderTarget:!0,setSize:function(t,e){this.width===t&&this.height===e||(this.width=t,this.height=e,this.texture.image.width=t,this.texture.image.height=e,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.width=t.width,this.height=t.height,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),et.prototype=Object.assign(Object.create(tt.prototype),{constructor:et,isWebGLMultisampleRenderTarget:!0,copy:function(t){return tt.prototype.copy.call(this,t),this.samples=t.samples,this}});var nt=new Z,it=new ct,rt=new Z(0,0,0),ot=new Z(1,1,1),at=new Z,st=new Z,lt=new Z;function ct(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}Object.assign(ct.prototype,{isMatrix4:!0,set:function(t,e,n,i,r,o,a,s,l,c,u,h,p,d,f,m){var g=this.elements;return g[0]=t,g[4]=e,g[8]=n,g[12]=i,g[1]=r,g[5]=o,g[9]=a,g[13]=s,g[2]=l,g[6]=c,g[10]=u,g[14]=h,g[3]=p,g[7]=d,g[11]=f,g[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new ct).fromArray(this.elements)},copy:function(t){var e=this.elements,n=t.elements;return e[0]=n[0],e[1]=n[1],e[2]=n[2],e[3]=n[3],e[4]=n[4],e[5]=n[5],e[6]=n[6],e[7]=n[7],e[8]=n[8],e[9]=n[9],e[10]=n[10],e[11]=n[11],e[12]=n[12],e[13]=n[13],e[14]=n[14],e[15]=n[15],this},copyPosition:function(t){var e=this.elements,n=t.elements;return e[12]=n[12],e[13]=n[13],e[14]=n[14],this},extractBasis:function(t,e,n){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),n.setFromMatrixColumn(this,2),this},makeBasis:function(t,e,n){return this.set(t.x,e.x,n.x,0,t.y,e.y,n.y,0,t.z,e.z,n.z,0,0,0,0,1),this},extractRotation:function(t){var e=this.elements,n=t.elements,i=1/nt.setFromMatrixColumn(t,0).length(),r=1/nt.setFromMatrixColumn(t,1).length(),o=1/nt.setFromMatrixColumn(t,2).length();return e[0]=n[0]*i,e[1]=n[1]*i,e[2]=n[2]*i,e[3]=0,e[4]=n[4]*r,e[5]=n[5]*r,e[6]=n[6]*r,e[7]=0,e[8]=n[8]*o,e[9]=n[9]*o,e[10]=n[10]*o,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromEuler:function(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var e=this.elements,n=t.x,i=t.y,r=t.z,o=Math.cos(n),a=Math.sin(n),s=Math.cos(i),l=Math.sin(i),c=Math.cos(r),u=Math.sin(r);if("XYZ"===t.order){var h=o*c,p=o*u,d=a*c,f=a*u;e[0]=s*c,e[4]=-s*u,e[8]=l,e[1]=p+d*l,e[5]=h-f*l,e[9]=-a*s,e[2]=f-h*l,e[6]=d+p*l,e[10]=o*s}else if("YXZ"===t.order){var m=s*c,g=s*u,v=l*c,y=l*u;e[0]=m+y*a,e[4]=v*a-g,e[8]=o*l,e[1]=o*u,e[5]=o*c,e[9]=-a,e[2]=g*a-v,e[6]=y+m*a,e[10]=o*s}else if("ZXY"===t.order)m=s*c,g=s*u,v=l*c,y=l*u,e[0]=m-y*a,e[4]=-o*u,e[8]=v+g*a,e[1]=g+v*a,e[5]=o*c,e[9]=y-m*a,e[2]=-o*l,e[6]=a,e[10]=o*s;else if("ZYX"===t.order)h=o*c,p=o*u,d=a*c,f=a*u,e[0]=s*c,e[4]=d*l-p,e[8]=h*l+f,e[1]=s*u,e[5]=f*l+h,e[9]=p*l-d,e[2]=-l,e[6]=a*s,e[10]=o*s;else if("YZX"===t.order){var _=o*s,x=o*l,b=a*s,w=a*l;e[0]=s*c,e[4]=w-_*u,e[8]=b*u+x,e[1]=u,e[5]=o*c,e[9]=-a*c,e[2]=-l*c,e[6]=x*u+b,e[10]=_-w*u}else"XZY"===t.order&&(_=o*s,x=o*l,b=a*s,w=a*l,e[0]=s*c,e[4]=-u,e[8]=l*c,e[1]=_*u+w,e[5]=o*c,e[9]=x*u-b,e[2]=b*u-x,e[6]=a*c,e[10]=w*u+_);return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this},makeRotationFromQuaternion:function(t){return this.compose(rt,t,ot)},lookAt:function(t,e,n){var i=this.elements;return lt.subVectors(t,e),0===lt.lengthSq()&&(lt.z=1),lt.normalize(),at.crossVectors(n,lt),0===at.lengthSq()&&(1===Math.abs(n.z)?lt.x+=1e-4:lt.z+=1e-4,lt.normalize(),at.crossVectors(n,lt)),at.normalize(),st.crossVectors(lt,at),i[0]=at.x,i[4]=st.x,i[8]=lt.x,i[1]=at.y,i[5]=st.y,i[9]=lt.y,i[2]=at.z,i[6]=st.z,i[10]=lt.z,this},multiply:function(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)},premultiply:function(t){return this.multiplyMatrices(t,this)},multiplyMatrices:function(t,e){var n=t.elements,i=e.elements,r=this.elements,o=n[0],a=n[4],s=n[8],l=n[12],c=n[1],u=n[5],h=n[9],p=n[13],d=n[2],f=n[6],m=n[10],g=n[14],v=n[3],y=n[7],_=n[11],x=n[15],b=i[0],w=i[4],S=i[8],M=i[12],T=i[1],E=i[5],A=i[9],C=i[13],L=i[2],I=i[6],D=i[10],P=i[14],R=i[3],O=i[7],k=i[11],N=i[15];return r[0]=o*b+a*T+s*L+l*R,r[4]=o*w+a*E+s*I+l*O,r[8]=o*S+a*A+s*D+l*k,r[12]=o*M+a*C+s*P+l*N,r[1]=c*b+u*T+h*L+p*R,r[5]=c*w+u*E+h*I+p*O,r[9]=c*S+u*A+h*D+p*k,r[13]=c*M+u*C+h*P+p*N,r[2]=d*b+f*T+m*L+g*R,r[6]=d*w+f*E+m*I+g*O,r[10]=d*S+f*A+m*D+g*k,r[14]=d*M+f*C+m*P+g*N,r[3]=v*b+y*T+_*L+x*R,r[7]=v*w+y*E+_*I+x*O,r[11]=v*S+y*A+_*D+x*k,r[15]=v*M+y*C+_*P+x*N,this},multiplyScalar:function(t){var e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this},applyToBufferAttribute:function(t){for(var e=0,n=t.count;e<n;e++)nt.x=t.getX(e),nt.y=t.getY(e),nt.z=t.getZ(e),nt.applyMatrix4(this),t.setXYZ(e,nt.x,nt.y,nt.z);return t},determinant:function(){var t=this.elements,e=t[0],n=t[4],i=t[8],r=t[12],o=t[1],a=t[5],s=t[9],l=t[13],c=t[2],u=t[6],h=t[10],p=t[14];return t[3]*(+r*s*u-i*l*u-r*a*h+n*l*h+i*a*p-n*s*p)+t[7]*(+e*s*p-e*l*h+r*o*h-i*o*p+i*l*c-r*s*c)+t[11]*(+e*l*u-e*a*p-r*o*u+n*o*p+r*a*c-n*l*c)+t[15]*(-i*a*c-e*s*u+e*a*h+i*o*u-n*o*h+n*s*c)},transpose:function(){var t,e=this.elements;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this},setPosition:function(t,e,n){var i=this.elements;return t.isVector3?(i[12]=t.x,i[13]=t.y,i[14]=t.z):(i[12]=t,i[13]=e,i[14]=n),this},getInverse:function(t,e){var n=this.elements,i=t.elements,r=i[0],o=i[1],a=i[2],s=i[3],l=i[4],c=i[5],u=i[6],h=i[7],p=i[8],d=i[9],f=i[10],m=i[11],g=i[12],v=i[13],y=i[14],_=i[15],x=d*y*h-v*f*h+v*u*m-c*y*m-d*u*_+c*f*_,b=g*f*h-p*y*h-g*u*m+l*y*m+p*u*_-l*f*_,w=p*v*h-g*d*h+g*c*m-l*v*m-p*c*_+l*d*_,S=g*d*u-p*v*u-g*c*f+l*v*f+p*c*y-l*d*y,M=r*x+o*b+a*w+s*S;if(0===M){var T="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===e)throw new Error(T);return console.warn(T),this.identity()}var E=1/M;return n[0]=x*E,n[1]=(v*f*s-d*y*s-v*a*m+o*y*m+d*a*_-o*f*_)*E,n[2]=(c*y*s-v*u*s+v*a*h-o*y*h-c*a*_+o*u*_)*E,n[3]=(d*u*s-c*f*s-d*a*h+o*f*h+c*a*m-o*u*m)*E,n[4]=b*E,n[5]=(p*y*s-g*f*s+g*a*m-r*y*m-p*a*_+r*f*_)*E,n[6]=(g*u*s-l*y*s-g*a*h+r*y*h+l*a*_-r*u*_)*E,n[7]=(l*f*s-p*u*s+p*a*h-r*f*h-l*a*m+r*u*m)*E,n[8]=w*E,n[9]=(g*d*s-p*v*s-g*o*m+r*v*m+p*o*_-r*d*_)*E,n[10]=(l*v*s-g*c*s+g*o*h-r*v*h-l*o*_+r*c*_)*E,n[11]=(p*c*s-l*d*s-p*o*h+r*d*h+l*o*m-r*c*m)*E,n[12]=S*E,n[13]=(p*v*a-g*d*a+g*o*f-r*v*f-p*o*y+r*d*y)*E,n[14]=(g*c*a-l*v*a-g*o*u+r*v*u+l*o*y-r*c*y)*E,n[15]=(l*d*a-p*c*a+p*o*u-r*d*u-l*o*f+r*c*f)*E,this},scale:function(t){var e=this.elements,n=t.x,i=t.y,r=t.z;return e[0]*=n,e[4]*=i,e[8]*=r,e[1]*=n,e[5]*=i,e[9]*=r,e[2]*=n,e[6]*=i,e[10]*=r,e[3]*=n,e[7]*=i,e[11]*=r,this},getMaxScaleOnAxis:function(){var t=this.elements,e=t[0]*t[0]+t[1]*t[1]+t[2]*t[2],n=t[4]*t[4]+t[5]*t[5]+t[6]*t[6],i=t[8]*t[8]+t[9]*t[9]+t[10]*t[10];return Math.sqrt(Math.max(e,n,i))},makeTranslation:function(t,e,n){return this.set(1,0,0,t,0,1,0,e,0,0,1,n,0,0,0,1),this},makeRotationX:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(1,0,0,0,0,e,-n,0,0,n,e,0,0,0,0,1),this},makeRotationY:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,0,n,0,0,1,0,0,-n,0,e,0,0,0,0,1),this},makeRotationZ:function(t){var e=Math.cos(t),n=Math.sin(t);return this.set(e,-n,0,0,n,e,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(t,e){var n=Math.cos(e),i=Math.sin(e),r=1-n,o=t.x,a=t.y,s=t.z,l=r*o,c=r*a;return this.set(l*o+n,l*a-i*s,l*s+i*a,0,l*a+i*s,c*a+n,c*s-i*o,0,l*s-i*a,c*s+i*o,r*s*s+n,0,0,0,0,1),this},makeScale:function(t,e,n){return this.set(t,0,0,0,0,e,0,0,0,0,n,0,0,0,0,1),this},makeShear:function(t,e,n){return this.set(1,e,n,0,t,1,n,0,t,e,1,0,0,0,0,1),this},compose:function(t,e,n){var i=this.elements,r=e._x,o=e._y,a=e._z,s=e._w,l=r+r,c=o+o,u=a+a,h=r*l,p=r*c,d=r*u,f=o*c,m=o*u,g=a*u,v=s*l,y=s*c,_=s*u,x=n.x,b=n.y,w=n.z;return i[0]=(1-(f+g))*x,i[1]=(p+_)*x,i[2]=(d-y)*x,i[3]=0,i[4]=(p-_)*b,i[5]=(1-(h+g))*b,i[6]=(m+v)*b,i[7]=0,i[8]=(d+y)*w,i[9]=(m-v)*w,i[10]=(1-(h+f))*w,i[11]=0,i[12]=t.x,i[13]=t.y,i[14]=t.z,i[15]=1,this},decompose:function(t,e,n){var i=this.elements,r=nt.set(i[0],i[1],i[2]).length(),o=nt.set(i[4],i[5],i[6]).length(),a=nt.set(i[8],i[9],i[10]).length();this.determinant()<0&&(r=-r),t.x=i[12],t.y=i[13],t.z=i[14],it.copy(this);var s=1/r,l=1/o,c=1/a;return it.elements[0]*=s,it.elements[1]*=s,it.elements[2]*=s,it.elements[4]*=l,it.elements[5]*=l,it.elements[6]*=l,it.elements[8]*=c,it.elements[9]*=c,it.elements[10]*=c,e.setFromRotationMatrix(it),n.x=r,n.y=o,n.z=a,this},makePerspective:function(t,e,n,i,r,o){void 0===o&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var a=this.elements,s=2*r/(e-t),l=2*r/(n-i),c=(e+t)/(e-t),u=(n+i)/(n-i),h=-(o+r)/(o-r),p=-2*o*r/(o-r);return a[0]=s,a[4]=0,a[8]=c,a[12]=0,a[1]=0,a[5]=l,a[9]=u,a[13]=0,a[2]=0,a[6]=0,a[10]=h,a[14]=p,a[3]=0,a[7]=0,a[11]=-1,a[15]=0,this},makeOrthographic:function(t,e,n,i,r,o){var a=this.elements,s=1/(e-t),l=1/(n-i),c=1/(o-r),u=(e+t)*s,h=(n+i)*l,p=(o+r)*c;return a[0]=2*s,a[4]=0,a[8]=0,a[12]=-u,a[1]=0,a[5]=2*l,a[9]=0,a[13]=-h,a[2]=0,a[6]=0,a[10]=-2*c,a[14]=-p,a[3]=0,a[7]=0,a[11]=0,a[15]=1,this},equals:function(t){for(var e=this.elements,n=t.elements,i=0;i<16;i++)if(e[i]!==n[i])return!1;return!0},fromArray:function(t,e){void 0===e&&(e=0);for(var n=0;n<16;n++)this.elements[n]=t[n+e];return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);var n=this.elements;return t[e]=n[0],t[e+1]=n[1],t[e+2]=n[2],t[e+3]=n[3],t[e+4]=n[4],t[e+5]=n[5],t[e+6]=n[6],t[e+7]=n[7],t[e+8]=n[8],t[e+9]=n[9],t[e+10]=n[10],t[e+11]=n[11],t[e+12]=n[12],t[e+13]=n[13],t[e+14]=n[14],t[e+15]=n[15],t}});var ut=new ct,ht=new G;function pt(t,e,n,i){this._x=t||0,this._y=e||0,this._z=n||0,this._order=i||pt.DefaultOrder}function dt(){this.mask=1}pt.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],pt.DefaultOrder="XYZ",Object.defineProperties(pt.prototype,{x:{get:function(){return this._x},set:function(t){this._x=t,this._onChangeCallback()}},y:{get:function(){return this._y},set:function(t){this._y=t,this._onChangeCallback()}},z:{get:function(){return this._z},set:function(t){this._z=t,this._onChangeCallback()}},order:{get:function(){return this._order},set:function(t){this._order=t,this._onChangeCallback()}}}),Object.assign(pt.prototype,{isEuler:!0,set:function(t,e,n,i){return this._x=t,this._y=e,this._z=n,this._order=i||this._order,this._onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this},setFromRotationMatrix:function(t,e,n){var i=H.clamp,r=t.elements,o=r[0],a=r[4],s=r[8],l=r[1],c=r[5],u=r[9],h=r[2],p=r[6],d=r[10];return"XYZ"===(e=e||this._order)?(this._y=Math.asin(i(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-u,d),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(p,c),this._z=0)):"YXZ"===e?(this._x=Math.asin(-i(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(s,d),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,o),this._z=0)):"ZXY"===e?(this._x=Math.asin(i(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,d),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,o))):"ZYX"===e?(this._y=Math.asin(-i(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,d),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,c))):"YZX"===e?(this._z=Math.asin(i(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(s,d))):"XZY"===e?(this._z=Math.asin(-i(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(s,o)):(this._x=Math.atan2(-u,d),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+e),this._order=e,!1!==n&&this._onChangeCallback(),this},setFromQuaternion:function(t,e,n){return ut.makeRotationFromQuaternion(t),this.setFromRotationMatrix(ut,e,n)},setFromVector3:function(t,e){return this.set(t.x,t.y,t.z,e||this._order)},reorder:function(t){return ht.setFromEuler(this),this.setFromQuaternion(ht,t)},equals:function(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order},fromArray:function(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t},toVector3:function(t){return t?t.set(this._x,this._y,this._z):new Z(this._x,this._y,this._z)},_onChange:function(t){return this._onChangeCallback=t,this},_onChangeCallback:function(){}}),Object.assign(dt.prototype,{set:function(t){this.mask=1<<t|0},enable:function(t){this.mask|=1<<t|0},enableAll:function(){this.mask=-1},toggle:function(t){this.mask^=1<<t|0},disable:function(t){this.mask&=~(1<<t|0)},disableAll:function(){this.mask=0},test:function(t){return 0!=(this.mask&t.mask)}});var ft=0,mt=new Z,gt=new G,vt=new ct,yt=new Z,_t=new Z,xt=new Z,bt=new G,wt=new Z(1,0,0),St=new Z(0,1,0),Mt=new Z(0,0,1),Tt={type:"added"},Et={type:"removed"};function At(){Object.defineProperty(this,"id",{value:ft++}),this.uuid=H.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=At.DefaultUp.clone();var t=new Z,e=new pt,n=new G,i=new Z(1,1,1);e._onChange((function(){n.setFromEuler(e,!1)})),n._onChange((function(){e.setFromQuaternion(n,void 0,!1)})),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:n},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new ct},normalMatrix:{value:new Y}}),this.matrix=new ct,this.matrixWorld=new ct,this.matrixAutoUpdate=At.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new dt,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function Ct(){At.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}At.DefaultUp=new Z(0,1,0),At.DefaultMatrixAutoUpdate=!0,At.prototype=Object.assign(Object.create(B.prototype),{constructor:At,isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(t){return this.quaternion.premultiply(t),this},setRotationFromAxisAngle:function(t,e){this.quaternion.setFromAxisAngle(t,e)},setRotationFromEuler:function(t){this.quaternion.setFromEuler(t,!0)},setRotationFromMatrix:function(t){this.quaternion.setFromRotationMatrix(t)},setRotationFromQuaternion:function(t){this.quaternion.copy(t)},rotateOnAxis:function(t,e){return gt.setFromAxisAngle(t,e),this.quaternion.multiply(gt),this},rotateOnWorldAxis:function(t,e){return gt.setFromAxisAngle(t,e),this.quaternion.premultiply(gt),this},rotateX:function(t){return this.rotateOnAxis(wt,t)},rotateY:function(t){return this.rotateOnAxis(St,t)},rotateZ:function(t){return this.rotateOnAxis(Mt,t)},translateOnAxis:function(t,e){return mt.copy(t).applyQuaternion(this.quaternion),this.position.add(mt.multiplyScalar(e)),this},translateX:function(t){return this.translateOnAxis(wt,t)},translateY:function(t){return this.translateOnAxis(St,t)},translateZ:function(t){return this.translateOnAxis(Mt,t)},localToWorld:function(t){return t.applyMatrix4(this.matrixWorld)},worldToLocal:function(t){return t.applyMatrix4(vt.getInverse(this.matrixWorld))},lookAt:function(t,e,n){t.isVector3?yt.copy(t):yt.set(t,e,n);var i=this.parent;this.updateWorldMatrix(!0,!1),_t.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?vt.lookAt(_t,yt,this.up):vt.lookAt(yt,_t,this.up),this.quaternion.setFromRotationMatrix(vt),i&&(vt.extractRotation(i.matrixWorld),gt.setFromRotationMatrix(vt),this.quaternion.premultiply(gt.inverse()))},add:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(Tt)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)},remove:function(t){if(arguments.length>1){for(var e=0;e<arguments.length;e++)this.remove(arguments[e]);return this}var n=this.children.indexOf(t);return-1!==n&&(t.parent=null,this.children.splice(n,1),t.dispatchEvent(Et)),this},attach:function(t){return this.updateWorldMatrix(!0,!1),vt.getInverse(this.matrixWorld),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),vt.multiply(t.parent.matrixWorld)),t.applyMatrix(vt),t.updateWorldMatrix(!1,!1),this.add(t),this},getObjectById:function(t){return this.getObjectByProperty("id",t)},getObjectByName:function(t){return this.getObjectByProperty("name",t)},getObjectByProperty:function(t,e){if(this[t]===e)return this;for(var n=0,i=this.children.length;n<i;n++){var r=this.children[n].getObjectByProperty(t,e);if(void 0!==r)return r}},getWorldPosition:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldPosition() target is now required"),t=new Z),this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldQuaternion() target is now required"),t=new G),this.updateMatrixWorld(!0),this.matrixWorld.decompose(_t,t,xt),t},getWorldScale:function(t){return void 0===t&&(console.warn("THREE.Object3D: .getWorldScale() target is now required"),t=new Z),this.updateMatrixWorld(!0),this.matrixWorld.decompose(_t,bt,t),t},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Object3D: .getWorldDirection() target is now required"),t=new Z),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()},raycast:function(){},traverse:function(t){t(this);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].traverse(t)},traverseVisible:function(t){if(!1!==this.visible){t(this);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].traverseVisible(t)}},traverseAncestors:function(t){var e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);for(var e=this.children,n=0,i=e.length;n<i;n++)e[n].updateMatrixWorld(t)},updateWorldMatrix:function(t,e){var n=this.parent;if(!0===t&&null!==n&&n.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e)for(var i=this.children,r=0,o=i.length;r<o;r++)i[r].updateWorldMatrix(!1,!0)},toJSON:function(t){var e=void 0===t||"string"==typeof t,n={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{}},n.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var i={};function r(e,n){return void 0===e[n.uuid]&&(e[n.uuid]=n.toJSON(t)),n.uuid}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),!0===this.castShadow&&(i.castShadow=!0),!0===this.receiveShadow&&(i.receiveShadow=!0),!1===this.visible&&(i.visible=!1),!1===this.frustumCulled&&(i.frustumCulled=!1),0!==this.renderOrder&&(i.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(i.matrixAutoUpdate=!1),this.isMesh&&0!==this.drawMode&&(i.drawMode=this.drawMode),this.isMesh||this.isLine||this.isPoints){i.geometry=r(t.geometries,this.geometry);var o=this.geometry.parameters;if(void 0!==o&&void 0!==o.shapes){var a=o.shapes;if(Array.isArray(a))for(var s=0,l=a.length;s<l;s++){var c=a[s];r(t.shapes,c)}else r(t.shapes,a)}}if(void 0!==this.material)if(Array.isArray(this.material)){var u=[];for(s=0,l=this.material.length;s<l;s++)u.push(r(t.materials,this.material[s]));i.material=u}else i.material=r(t.materials,this.material);if(this.children.length>0)for(i.children=[],s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(t).object);if(e){var h=m(t.geometries),p=m(t.materials),d=m(t.textures),f=m(t.images);a=m(t.shapes),h.length>0&&(n.geometries=h),p.length>0&&(n.materials=p),d.length>0&&(n.textures=d),f.length>0&&(n.images=f),a.length>0&&(n.shapes=a)}return n.object=i,n;function m(t){var e=[];for(var n in t){var i=t[n];delete i.metadata,e.push(i)}return e}},clone:function(t){return(new this.constructor).copy(this,t)},copy:function(t,e){if(void 0===e&&(e=!0),this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(var n=0;n<t.children.length;n++){var i=t.children[n];this.add(i.clone())}return this}}),Ct.prototype=Object.assign(Object.create(At.prototype),{constructor:Ct,isScene:!0,copy:function(t,e){return At.prototype.copy.call(this,t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this},toJSON:function(t){var e=At.prototype.toJSON.call(this,t);return null!==this.background&&(e.object.background=this.background.toJSON(t)),null!==this.fog&&(e.object.fog=this.fog.toJSON()),e},dispose:function(){this.dispatchEvent({type:"dispose"})}});var Lt=[new Z,new Z,new Z,new Z,new Z,new Z,new Z,new Z],It=new Z,Dt=new Z,Pt=new Z,Rt=new Z,Ot=new Z,kt=new Z,Nt=new Z,zt=new Z,Bt=new Z,Ft=new Z,Ut=new Z;function Ht(t,e){this.min=void 0!==t?t:new Z(1/0,1/0,1/0),this.max=void 0!==e?e:new Z(-1/0,-1/0,-1/0)}function Vt(t,e,n,i,r){var o,a;for(o=0,a=t.length-3;o<=a;o+=3){Ut.fromArray(t,o);var s=r.x*Math.abs(Ut.x)+r.y*Math.abs(Ut.y)+r.z*Math.abs(Ut.z),l=e.dot(Ut),c=n.dot(Ut),u=i.dot(Ut);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>s)return!1}return!0}Object.assign(Ht.prototype,{isBox3:!0,set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromArray:function(t){for(var e=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,a=-1/0,s=0,l=t.length;s<l;s+=3){var c=t[s],u=t[s+1],h=t[s+2];c<e&&(e=c),u<n&&(n=u),h<i&&(i=h),c>r&&(r=c),u>o&&(o=u),h>a&&(a=h)}return this.min.set(e,n,i),this.max.set(r,o,a),this},setFromBufferAttribute:function(t){for(var e=1/0,n=1/0,i=1/0,r=-1/0,o=-1/0,a=-1/0,s=0,l=t.count;s<l;s++){var c=t.getX(s),u=t.getY(s),h=t.getZ(s);c<e&&(e=c),u<n&&(n=u),h<i&&(i=h),c>r&&(r=c),u>o&&(o=u),h>a&&(a=h)}return this.min.set(e,n,i),this.max.set(r,o,a),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(t,e){var n=It.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this},setFromObject:function(t){return this.makeEmpty(),this.expandByObject(t)},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(t){return void 0===t&&(console.warn("THREE.Box3: .getCenter() target is now required"),t=new Z),this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn("THREE.Box3: .getSize() target is now required"),t=new Z),this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},expandByObject:function(t){var e,n;t.updateWorldMatrix(!1,!1);var i=t.geometry;if(void 0!==i)if(i.isGeometry){var r=i.vertices;for(e=0,n=r.length;e<n;e++)It.copy(r[e]),It.applyMatrix4(t.matrixWorld),this.expandByPoint(It)}else if(i.isBufferGeometry){var o=i.attributes.position;if(void 0!==o)for(e=0,n=o.count;e<n;e++)It.fromBufferAttribute(o,e).applyMatrix4(t.matrixWorld),this.expandByPoint(It)}var a=t.children;for(e=0,n=a.length;e<n;e++)this.expandByObject(a[e]);return this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z},getParameter:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .getParameter() target is now required"),e=new Z),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)},intersectsSphere:function(t){return this.clampPoint(t.center,It),It.distanceToSquared(t.center)<=t.radius*t.radius},intersectsPlane:function(t){var e,n;return t.normal.x>0?(e=t.normal.x*this.min.x,n=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,n=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,n+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,n+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,n+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,n+=t.normal.z*this.min.z),e<=-t.constant&&n>=-t.constant},intersectsTriangle:function(t){if(this.isEmpty())return!1;this.getCenter(zt),Bt.subVectors(this.max,zt),Dt.subVectors(t.a,zt),Pt.subVectors(t.b,zt),Rt.subVectors(t.c,zt),Ot.subVectors(Pt,Dt),kt.subVectors(Rt,Pt),Nt.subVectors(Dt,Rt);var e=[0,-Ot.z,Ot.y,0,-kt.z,kt.y,0,-Nt.z,Nt.y,Ot.z,0,-Ot.x,kt.z,0,-kt.x,Nt.z,0,-Nt.x,-Ot.y,Ot.x,0,-kt.y,kt.x,0,-Nt.y,Nt.x,0];return!!Vt(e,Dt,Pt,Rt,Bt)&&!!Vt(e=[1,0,0,0,1,0,0,0,1],Dt,Pt,Rt,Bt)&&(Ft.crossVectors(Ot,kt),Vt(e=[Ft.x,Ft.y,Ft.z],Dt,Pt,Rt,Bt))},clampPoint:function(t,e){return void 0===e&&(console.warn("THREE.Box3: .clampPoint() target is now required"),e=new Z),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(t){return It.copy(t).clamp(this.min,this.max).sub(t).length()},getBoundingSphere:function(t){return void 0===t&&console.error("THREE.Box3: .getBoundingSphere() target is now required"),this.getCenter(t.center),t.radius=.5*this.getSize(It).length(),t},intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},applyMatrix4:function(t){return this.isEmpty()||(Lt[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Lt[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Lt[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Lt[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Lt[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Lt[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Lt[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Lt[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Lt)),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}});var Gt=new Ht;function jt(t,e){this.center=void 0!==t?t:new Z,this.radius=void 0!==e?e:0}Object.assign(jt.prototype,{set:function(t,e){return this.center.copy(t),this.radius=e,this},setFromPoints:function(t,e){var n=this.center;void 0!==e?n.copy(e):Gt.setFromPoints(t).getCenter(n);for(var i=0,r=0,o=t.length;r<o;r++)i=Math.max(i,n.distanceToSquared(t[r]));return this.radius=Math.sqrt(i),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.center.copy(t.center),this.radius=t.radius,this},empty:function(){return this.radius<=0},containsPoint:function(t){return t.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(t){return t.distanceTo(this.center)-this.radius},intersectsSphere:function(t){var e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e},intersectsBox:function(t){return t.intersectsSphere(this)},intersectsPlane:function(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius},clampPoint:function(t,e){var n=this.center.distanceToSquared(t);return void 0===e&&(console.warn("THREE.Sphere: .clampPoint() target is now required"),e=new Z),e.copy(t),n>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e},getBoundingBox:function(t){return void 0===t&&(console.warn("THREE.Sphere: .getBoundingBox() target is now required"),t=new Ht),t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this},translate:function(t){return this.center.add(t),this},equals:function(t){return t.center.equals(this.center)&&t.radius===this.radius}});var Wt=new Z,Zt=new Z,qt=new Z,Xt=new Z,Yt=new Z,Jt=new Z,Kt=new Z;function $t(t,e){this.origin=void 0!==t?t:new Z,this.direction=void 0!==e?e:new Z}Object.assign($t.prototype,{set:function(t,e){return this.origin.copy(t),this.direction.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this},at:function(t,e){return void 0===e&&(console.warn("THREE.Ray: .at() target is now required"),e=new Z),e.copy(this.direction).multiplyScalar(t).add(this.origin)},lookAt:function(t){return this.direction.copy(t).sub(this.origin).normalize(),this},recast:function(t){return this.origin.copy(this.at(t,Wt)),this},closestPointToPoint:function(t,e){void 0===e&&(console.warn("THREE.Ray: .closestPointToPoint() target is now required"),e=new Z),e.subVectors(t,this.origin);var n=e.dot(this.direction);return n<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(t){return Math.sqrt(this.distanceSqToPoint(t))},distanceSqToPoint:function(t){var e=Wt.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(Wt.copy(this.direction).multiplyScalar(e).add(this.origin),Wt.distanceToSquared(t))},distanceSqToSegment:function(t,e,n,i){Zt.copy(t).add(e).multiplyScalar(.5),qt.copy(e).sub(t).normalize(),Xt.copy(this.origin).sub(Zt);var r,o,a,s,l=.5*t.distanceTo(e),c=-this.direction.dot(qt),u=Xt.dot(this.direction),h=-Xt.dot(qt),p=Xt.lengthSq(),d=Math.abs(1-c*c);if(d>0)if(o=c*u-h,s=l*d,(r=c*h-u)>=0)if(o>=-s)if(o<=s){var f=1/d;a=(r*=f)*(r+c*(o*=f)+2*u)+o*(c*r+o+2*h)+p}else o=l,a=-(r=Math.max(0,-(c*o+u)))*r+o*(o+2*h)+p;else o=-l,a=-(r=Math.max(0,-(c*o+u)))*r+o*(o+2*h)+p;else o<=-s?a=-(r=Math.max(0,-(-c*l+u)))*r+(o=r>0?-l:Math.min(Math.max(-l,-h),l))*(o+2*h)+p:o<=s?(r=0,a=(o=Math.min(Math.max(-l,-h),l))*(o+2*h)+p):a=-(r=Math.max(0,-(c*l+u)))*r+(o=r>0?l:Math.min(Math.max(-l,-h),l))*(o+2*h)+p;else o=c>0?-l:l,a=-(r=Math.max(0,-(c*o+u)))*r+o*(o+2*h)+p;return n&&n.copy(this.direction).multiplyScalar(r).add(this.origin),i&&i.copy(qt).multiplyScalar(o).add(Zt),a},intersectSphere:function(t,e){Wt.subVectors(t.center,this.origin);var n=Wt.dot(this.direction),i=Wt.dot(Wt)-n*n,r=t.radius*t.radius;if(i>r)return null;var o=Math.sqrt(r-i),a=n-o,s=n+o;return a<0&&s<0?null:a<0?this.at(s,e):this.at(a,e)},intersectsSphere:function(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius},distanceToPlane:function(t){var e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;var n=-(this.origin.dot(t.normal)+t.constant)/e;return n>=0?n:null},intersectPlane:function(t,e){var n=this.distanceToPlane(t);return null===n?null:this.at(n,e)},intersectsPlane:function(t){var e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0},intersectBox:function(t,e){var n,i,r,o,a,s,l=1/this.direction.x,c=1/this.direction.y,u=1/this.direction.z,h=this.origin;return l>=0?(n=(t.min.x-h.x)*l,i=(t.max.x-h.x)*l):(n=(t.max.x-h.x)*l,i=(t.min.x-h.x)*l),c>=0?(r=(t.min.y-h.y)*c,o=(t.max.y-h.y)*c):(r=(t.max.y-h.y)*c,o=(t.min.y-h.y)*c),n>o||r>i?null:((r>n||n!=n)&&(n=r),(o<i||i!=i)&&(i=o),u>=0?(a=(t.min.z-h.z)*u,s=(t.max.z-h.z)*u):(a=(t.max.z-h.z)*u,s=(t.min.z-h.z)*u),n>s||a>i?null:((a>n||n!=n)&&(n=a),(s<i||i!=i)&&(i=s),i<0?null:this.at(n>=0?n:i,e)))},intersectsBox:function(t){return null!==this.intersectBox(t,Wt)},intersectTriangle:function(t,e,n,i,r){Yt.subVectors(e,t),Jt.subVectors(n,t),Kt.crossVectors(Yt,Jt);var o,a=this.direction.dot(Kt);if(a>0){if(i)return null;o=1}else{if(!(a<0))return null;o=-1,a=-a}Xt.subVectors(this.origin,t);var s=o*this.direction.dot(Jt.crossVectors(Xt,Jt));if(s<0)return null;var l=o*this.direction.dot(Yt.cross(Xt));if(l<0)return null;if(s+l>a)return null;var c=-o*Xt.dot(Kt);return c<0?null:this.at(c/a,r)},applyMatrix4:function(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this},equals:function(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}});var Qt=new Z,te=new Z,ee=new Z,ne=new Z,ie=new Z,re=new Z,oe=new Z,ae=new Z,se=new Z,le=new Z;function ce(t,e,n){this.a=void 0!==t?t:new Z,this.b=void 0!==e?e:new Z,this.c=void 0!==n?n:new Z}Object.assign(ce,{getNormal:function(t,e,n,i){void 0===i&&(console.warn("THREE.Triangle: .getNormal() target is now required"),i=new Z),i.subVectors(n,e),Qt.subVectors(t,e),i.cross(Qt);var r=i.lengthSq();return r>0?i.multiplyScalar(1/Math.sqrt(r)):i.set(0,0,0)},getBarycoord:function(t,e,n,i,r){Qt.subVectors(i,e),te.subVectors(n,e),ee.subVectors(t,e);var o=Qt.dot(Qt),a=Qt.dot(te),s=Qt.dot(ee),l=te.dot(te),c=te.dot(ee),u=o*l-a*a;if(void 0===r&&(console.warn("THREE.Triangle: .getBarycoord() target is now required"),r=new Z),0===u)return r.set(-2,-1,-1);var h=1/u,p=(l*s-a*c)*h,d=(o*c-a*s)*h;return r.set(1-p-d,d,p)},containsPoint:function(t,e,n,i){return ce.getBarycoord(t,e,n,i,ne),ne.x>=0&&ne.y>=0&&ne.x+ne.y<=1},getUV:function(t,e,n,i,r,o,a,s){return this.getBarycoord(t,e,n,i,ne),s.set(0,0),s.addScaledVector(r,ne.x),s.addScaledVector(o,ne.y),s.addScaledVector(a,ne.z),s},isFrontFacing:function(t,e,n,i){return Qt.subVectors(n,e),te.subVectors(t,e),Qt.cross(te).dot(i)<0}}),Object.assign(ce.prototype,{set:function(t,e,n){return this.a.copy(t),this.b.copy(e),this.c.copy(n),this},setFromPointsAndIndices:function(t,e,n,i){return this.a.copy(t[e]),this.b.copy(t[n]),this.c.copy(t[i]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this},getArea:function(){return Qt.subVectors(this.c,this.b),te.subVectors(this.a,this.b),.5*Qt.cross(te).length()},getMidpoint:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getMidpoint() target is now required"),t=new Z),t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},getNormal:function(t){return ce.getNormal(this.a,this.b,this.c,t)},getPlane:function(t){return void 0===t&&(console.warn("THREE.Triangle: .getPlane() target is now required"),t=new Z),t.setFromCoplanarPoints(this.a,this.b,this.c)},getBarycoord:function(t,e){return ce.getBarycoord(t,this.a,this.b,this.c,e)},getUV:function(t,e,n,i,r){return ce.getUV(t,this.a,this.b,this.c,e,n,i,r)},containsPoint:function(t){return ce.containsPoint(t,this.a,this.b,this.c)},isFrontFacing:function(t){return ce.isFrontFacing(this.a,this.b,this.c,t)},intersectsBox:function(t){return t.intersectsTriangle(this)},closestPointToPoint:function(t,e){void 0===e&&(console.warn("THREE.Triangle: .closestPointToPoint() target is now required"),e=new Z);var n,i,r=this.a,o=this.b,a=this.c;ie.subVectors(o,r),re.subVectors(a,r),ae.subVectors(t,r);var s=ie.dot(ae),l=re.dot(ae);if(s<=0&&l<=0)return e.copy(r);se.subVectors(t,o);var c=ie.dot(se),u=re.dot(se);if(c>=0&&u<=c)return e.copy(o);var h=s*u-c*l;if(h<=0&&s>=0&&c<=0)return n=s/(s-c),e.copy(r).addScaledVector(ie,n);le.subVectors(t,a);var p=ie.dot(le),d=re.dot(le);if(d>=0&&p<=d)return e.copy(a);var f=p*l-s*d;if(f<=0&&l>=0&&d<=0)return i=l/(l-d),e.copy(r).addScaledVector(re,i);var m=c*d-p*u;if(m<=0&&u-c>=0&&p-d>=0)return oe.subVectors(a,o),i=(u-c)/(u-c+(p-d)),e.copy(o).addScaledVector(oe,i);var g=1/(m+f+h);return n=f*g,i=h*g,e.copy(r).addScaledVector(ie,n).addScaledVector(re,i)},equals:function(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}});var ue={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},he={h:0,s:0,l:0},pe={h:0,s:0,l:0};function de(t,e,n){return void 0===e&&void 0===n?this.set(t):this.setRGB(t,e,n)}function fe(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+6*(e-t)*n:n<.5?e:n<2/3?t+6*(e-t)*(2/3-n):t}function me(t){return t<.04045?.0773993808*t:Math.pow(.9478672986*t+.0521327014,2.4)}function ge(t){return t<.0031308?12.92*t:1.055*Math.pow(t,.41666)-.055}function ve(t,e,n,i,r,o){this.a=t,this.b=e,this.c=n,this.normal=i&&i.isVector3?i:new Z,this.vertexNormals=Array.isArray(i)?i:[],this.color=r&&r.isColor?r:new de,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=void 0!==o?o:0}Object.assign(de.prototype,{isColor:!0,r:1,g:1,b:1,set:function(t){return t&&t.isColor?this.copy(t):"number"==typeof t?this.setHex(t):"string"==typeof t&&this.setStyle(t),this},setScalar:function(t){return this.r=t,this.g=t,this.b=t,this},setHex:function(t){return t=Math.floor(t),this.r=(t>>16&255)/255,this.g=(t>>8&255)/255,this.b=(255&t)/255,this},setRGB:function(t,e,n){return this.r=t,this.g=e,this.b=n,this},setHSL:function(t,e,n){if(t=H.euclideanModulo(t,1),e=H.clamp(e,0,1),n=H.clamp(n,0,1),0===e)this.r=this.g=this.b=n;else{var i=n<=.5?n*(1+e):n+e-n*e,r=2*n-i;this.r=fe(r,i,t+1/3),this.g=fe(r,i,t),this.b=fe(r,i,t-1/3)}return this},setStyle:function(t){function e(e){void 0!==e&&parseFloat(e)<1&&console.warn("THREE.Color: Alpha component of "+t+" will be ignored.")}var n;if(n=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)){var i,r=n[1],o=n[2];switch(r){case"rgb":case"rgba":if(i=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,e(i[5]),this;if(i=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,e(i[5]),this;break;case"hsl":case"hsla":if(i=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(o)){var a=parseFloat(i[1])/360,s=parseInt(i[2],10)/100,l=parseInt(i[3],10)/100;return e(i[5]),this.setHSL(a,s,l)}}}else if(n=/^\#([A-Fa-f0-9]+)$/.exec(t)){var c,u=(c=n[1]).length;if(3===u)return this.r=parseInt(c.charAt(0)+c.charAt(0),16)/255,this.g=parseInt(c.charAt(1)+c.charAt(1),16)/255,this.b=parseInt(c.charAt(2)+c.charAt(2),16)/255,this;if(6===u)return this.r=parseInt(c.charAt(0)+c.charAt(1),16)/255,this.g=parseInt(c.charAt(2)+c.charAt(3),16)/255,this.b=parseInt(c.charAt(4)+c.charAt(5),16)/255,this}return t&&t.length>0&&(void 0!==(c=ue[t])?this.setHex(c):console.warn("THREE.Color: Unknown color "+t)),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(t){return this.r=t.r,this.g=t.g,this.b=t.b,this},copyGammaToLinear:function(t,e){return void 0===e&&(e=2),this.r=Math.pow(t.r,e),this.g=Math.pow(t.g,e),this.b=Math.pow(t.b,e),this},copyLinearToGamma:function(t,e){void 0===e&&(e=2);var n=e>0?1/e:1;return this.r=Math.pow(t.r,n),this.g=Math.pow(t.g,n),this.b=Math.pow(t.b,n),this},convertGammaToLinear:function(t){return this.copyGammaToLinear(this,t),this},convertLinearToGamma:function(t){return this.copyLinearToGamma(this,t),this},copySRGBToLinear:function(t){return this.r=me(t.r),this.g=me(t.g),this.b=me(t.b),this},copyLinearToSRGB:function(t){return this.r=ge(t.r),this.g=ge(t.g),this.b=ge(t.b),this},convertSRGBToLinear:function(){return this.copySRGBToLinear(this),this},convertLinearToSRGB:function(){return this.copyLinearToSRGB(this),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(t){void 0===t&&(console.warn("THREE.Color: .getHSL() target is now required"),t={h:0,s:0,l:0});var e,n,i=this.r,r=this.g,o=this.b,a=Math.max(i,r,o),s=Math.min(i,r,o),l=(s+a)/2;if(s===a)e=0,n=0;else{var c=a-s;switch(n=l<=.5?c/(a+s):c/(2-a-s),a){case i:e=(r-o)/c+(r<o?6:0);break;case r:e=(o-i)/c+2;break;case o:e=(i-r)/c+4}e/=6}return t.h=e,t.s=n,t.l=l,t},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(t,e,n){return this.getHSL(he),he.h+=t,he.s+=e,he.l+=n,this.setHSL(he.h,he.s,he.l),this},add:function(t){return this.r+=t.r,this.g+=t.g,this.b+=t.b,this},addColors:function(t,e){return this.r=t.r+e.r,this.g=t.g+e.g,this.b=t.b+e.b,this},addScalar:function(t){return this.r+=t,this.g+=t,this.b+=t,this},sub:function(t){return this.r=Math.max(0,this.r-t.r),this.g=Math.max(0,this.g-t.g),this.b=Math.max(0,this.b-t.b),this},multiply:function(t){return this.r*=t.r,this.g*=t.g,this.b*=t.b,this},multiplyScalar:function(t){return this.r*=t,this.g*=t,this.b*=t,this},lerp:function(t,e){return this.r+=(t.r-this.r)*e,this.g+=(t.g-this.g)*e,this.b+=(t.b-this.b)*e,this},lerpHSL:function(t,e){this.getHSL(he),t.getHSL(pe);var n=H.lerp(he.h,pe.h,e),i=H.lerp(he.s,pe.s,e),r=H.lerp(he.l,pe.l,e);return this.setHSL(n,i,r),this},equals:function(t){return t.r===this.r&&t.g===this.g&&t.b===this.b},fromArray:function(t,e){return void 0===e&&(e=0),this.r=t[e],this.g=t[e+1],this.b=t[e+2],this},toArray:function(t,e){return void 0===t&&(t=[]),void 0===e&&(e=0),t[e]=this.r,t[e+1]=this.g,t[e+2]=this.b,t},toJSON:function(){return this.getHex()}}),Object.assign(ve.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.a=t.a,this.b=t.b,this.c=t.c,this.normal.copy(t.normal),this.color.copy(t.color),this.materialIndex=t.materialIndex;for(var e=0,n=t.vertexNormals.length;e<n;e++)this.vertexNormals[e]=t.vertexNormals[e].clone();for(e=0,n=t.vertexColors.length;e<n;e++)this.vertexColors[e]=t.vertexColors[e].clone();return this}});var ye=0;function _e(){Object.defineProperty(this,"id",{value:ye++}),this.uuid=H.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=o,this.flatShading=!1,this.vertexTangents=!1,this.vertexColors=0,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=l,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=z,this.stencilZFail=z,this.stencilZPass=z,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.needsUpdate=!0}function xe(t){_e.call(this),this.type="MeshBasicMaterial",this.color=new de(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.setValues(t)}function be(t,e,n){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===n,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function we(t,e,n){be.call(this,new Int8Array(t),e,n)}function Se(t,e,n){be.call(this,new Uint8Array(t),e,n)}function Me(t,e,n){be.call(this,new Uint8ClampedArray(t),e,n)}function Te(t,e,n){be.call(this,new Int16Array(t),e,n)}function Ee(t,e,n){be.call(this,new Uint16Array(t),e,n)}function Ae(t,e,n){be.call(this,new Int32Array(t),e,n)}function Ce(t,e,n){be.call(this,new Uint32Array(t),e,n)}function Le(t,e,n){be.call(this,new Float32Array(t),e,n)}function Ie(t,e,n){be.call(this,new Float64Array(t),e,n)}function De(){this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Pe(t){if(0===t.length)return-1/0;for(var e=t[0],n=1,i=t.length;n<i;++n)t[n]>e&&(e=t[n]);return e}_e.prototype=Object.assign(Object.create(B.prototype),{constructor:_e,isMaterial:!0,onBeforeCompile:function(){},setValues:function(t){if(void 0!==t)for(var e in t){var n=t[e];if(void 0!==n)if("shading"!==e){var i=this[e];void 0!==i?i&&i.isColor?i.set(n):i&&i.isVector3&&n&&n.isVector3?i.copy(n):this[e]=n:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}else console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n;else console.warn("THREE.Material: '"+e+"' parameter is undefined.")}},toJSON:function(t){var e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});var n={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function i(t){var e=[];for(var n in t){var i=t[n];delete i.metadata,e.push(i)}return e}if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),this.color&&this.color.isColor&&(n.color=this.color.getHex()),void 0!==this.roughness&&(n.roughness=this.roughness),void 0!==this.metalness&&(n.metalness=this.metalness),this.sheen&&this.sheen.isColor&&(n.sheen=this.sheen.getHex()),this.emissive&&this.emissive.isColor&&(n.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(n.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(n.specular=this.specular.getHex()),void 0!==this.shininess&&(n.shininess=this.shininess),void 0!==this.clearcoat&&(n.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(n.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(n.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,n.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(n.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(n.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(n.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(n.lightMap=this.lightMap.toJSON(t).uuid),this.aoMap&&this.aoMap.isTexture&&(n.aoMap=this.aoMap.toJSON(t).uuid,n.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(n.bumpMap=this.bumpMap.toJSON(t).uuid,n.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(n.normalMap=this.normalMap.toJSON(t).uuid,n.normalMapType=this.normalMapType,n.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(n.displacementMap=this.displacementMap.toJSON(t).uuid,n.displacementScale=this.displacementScale,n.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(n.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(n.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(n.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(n.specularMap=this.specularMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(n.envMap=this.envMap.toJSON(t).uuid,n.reflectivity=this.reflectivity,n.refractionRatio=this.refractionRatio,void 0!==this.combine&&(n.combine=this.combine),void 0!==this.envMapIntensity&&(n.envMapIntensity=this.envMapIntensity)),this.gradientMap&&this.gradientMap.isTexture&&(n.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.size&&(n.size=this.size),void 0!==this.sizeAttenuation&&(n.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(n.blending=this.blending),!0===this.flatShading&&(n.flatShading=this.flatShading),this.side!==o&&(n.side=this.side),0!==this.vertexColors&&(n.vertexColors=this.vertexColors),this.opacity<1&&(n.opacity=this.opacity),!0===this.transparent&&(n.transparent=this.transparent),n.depthFunc=this.depthFunc,n.depthTest=this.depthTest,n.depthWrite=this.depthWrite,n.stencilWrite=this.stencilWrite,n.stencilWriteMask=this.stencilWriteMask,n.stencilFunc=this.stencilFunc,n.stencilRef=this.stencilRef,n.stencilFuncMask=this.stencilFuncMask,n.stencilFail=this.stencilFail,n.stencilZFail=this.stencilZFail,n.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(n.rotation=this.rotation),!0===this.polygonOffset&&(n.polygonOffset=!0),0!==this.polygonOffsetFactor&&(n.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(n.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(n.linewidth=this.linewidth),void 0!==this.dashSize&&(n.dashSize=this.dashSize),void 0!==this.gapSize&&(n.gapSize=this.gapSize),void 0!==this.scale&&(n.scale=this.scale),!0===this.dithering&&(n.dithering=!0),this.alphaTest>0&&(n.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(n.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(n.wireframe=this.wireframe),this.wireframeLinewidth>1&&(n.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(n.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(n.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(n.morphTargets=!0),!0===this.morphNormals&&(n.morphNormals=!0),!0===this.skinning&&(n.skinning=!0),!1===this.visible&&(n.visible=!1),!1===this.toneMapped&&(n.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),e){var r=i(t.textures),a=i(t.images);r.length>0&&(n.textures=r),a.length>0&&(n.images=a)}return n},clone:function(){return(new this.constructor).copy(this)},copy:function(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.flatShading=t.flatShading,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWrite=t.stencilWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this.clipShadows=t.clipShadows,this.clipIntersection=t.clipIntersection;var e=t.clippingPlanes,n=null;if(null!==e){var i=e.length;n=new Array(i);for(var r=0;r!==i;++r)n[r]=e[r].clone()}return this.clippingPlanes=n,this.shadowSide=t.shadowSide,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),xe.prototype=Object.create(_e.prototype),xe.prototype.constructor=xe,xe.prototype.isMeshBasicMaterial=!0,xe.prototype.copy=function(t){return _e.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this},Object.defineProperty(be.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(be.prototype,{isBufferAttribute:!0,onUploadCallback:function(){},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.itemSize,n*=e.itemSize;for(var i=0,r=this.itemSize;i<r;i++)this.array[t+i]=e.array[n+i];return this},copyArray:function(t){return this.array.set(t),this},copyColorsArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var o=t[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",i),o=new de),e[n++]=o.r,e[n++]=o.g,e[n++]=o.b}return this},copyVector2sArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var o=t[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",i),o=new V),e[n++]=o.x,e[n++]=o.y}return this},copyVector3sArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var o=t[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",i),o=new Z),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z}return this},copyVector4sArray:function(t){for(var e=this.array,n=0,i=0,r=t.length;i<r;i++){var o=t[i];void 0===o&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",i),o=new Q),e[n++]=o.x,e[n++]=o.y,e[n++]=o.z,e[n++]=o.w}return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},getX:function(t){return this.array[t*this.itemSize]},setX:function(t,e){return this.array[t*this.itemSize]=e,this},getY:function(t){return this.array[t*this.itemSize+1]},setY:function(t,e){return this.array[t*this.itemSize+1]=e,this},getZ:function(t){return this.array[t*this.itemSize+2]},setZ:function(t,e){return this.array[t*this.itemSize+2]=e,this},getW:function(t){return this.array[t*this.itemSize+3]},setW:function(t,e){return this.array[t*this.itemSize+3]=e,this},setXY:function(t,e,n){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this},setXYZ:function(t,e,n,i){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this},setXYZW:function(t,e,n,i,r){return t*=this.itemSize,this.array[t+0]=e,this.array[t+1]=n,this.array[t+2]=i,this.array[t+3]=r,this},onUpload:function(t){return this.onUploadCallback=t,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)},toJSON:function(){return{itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized}}}),we.prototype=Object.create(be.prototype),we.prototype.constructor=we,Se.prototype=Object.create(be.prototype),Se.prototype.constructor=Se,Me.prototype=Object.create(be.prototype),Me.prototype.constructor=Me,Te.prototype=Object.create(be.prototype),Te.prototype.constructor=Te,Ee.prototype=Object.create(be.prototype),Ee.prototype.constructor=Ee,Ae.prototype=Object.create(be.prototype),Ae.prototype.constructor=Ae,Ce.prototype=Object.create(be.prototype),Ce.prototype.constructor=Ce,Le.prototype=Object.create(be.prototype),Le.prototype.constructor=Le,Ie.prototype=Object.create(be.prototype),Ie.prototype.constructor=Ie,Object.assign(De.prototype,{computeGroups:function(t){for(var e,n=[],i=void 0,r=t.faces,o=0;o<r.length;o++){var a=r[o];a.materialIndex!==i&&(i=a.materialIndex,void 0!==e&&(e.count=3*o-e.start,n.push(e)),e={start:3*o,materialIndex:i})}void 0!==e&&(e.count=3*o-e.start,n.push(e)),this.groups=n},fromGeometry:function(t){var e,n=t.faces,i=t.vertices,r=t.faceVertexUvs,o=r[0]&&r[0].length>0,a=r[1]&&r[1].length>0,s=t.morphTargets,l=s.length;if(l>0){e=[];for(var c=0;c<l;c++)e[c]={name:s[c].name,data:[]};this.morphTargets.position=e}var u,h=t.morphNormals,p=h.length;if(p>0){for(u=[],c=0;c<p;c++)u[c]={name:h[c].name,data:[]};this.morphTargets.normal=u}var d=t.skinIndices,f=t.skinWeights,m=d.length===i.length,g=f.length===i.length;for(i.length>0&&0===n.length&&console.error("THREE.DirectGeometry: Faceless geometries are not supported."),c=0;c<n.length;c++){var v=n[c];this.vertices.push(i[v.a],i[v.b],i[v.c]);var y=v.vertexNormals;if(3===y.length)this.normals.push(y[0],y[1],y[2]);else{var _=v.normal;this.normals.push(_,_,_)}var x,b=v.vertexColors;if(3===b.length)this.colors.push(b[0],b[1],b[2]);else{var w=v.color;this.colors.push(w,w,w)}!0===o&&(void 0!==(x=r[0][c])?this.uvs.push(x[0],x[1],x[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",c),this.uvs.push(new V,new V,new V))),!0===a&&(void 0!==(x=r[1][c])?this.uvs2.push(x[0],x[1],x[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",c),this.uvs2.push(new V,new V,new V)));for(var S=0;S<l;S++){var M=s[S].vertices;e[S].data.push(M[v.a],M[v.b],M[v.c])}for(S=0;S<p;S++){var T=h[S].vertexNormals[c];u[S].data.push(T.a,T.b,T.c)}m&&this.skinIndices.push(d[v.a],d[v.b],d[v.c]),g&&this.skinWeights.push(f[v.a],f[v.b],f[v.c])}return this.computeGroups(t),this.verticesNeedUpdate=t.verticesNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this}});var Re=1,Oe=new ct,ke=new At,Ne=new Z,ze=new Ht,Be=new Ht,Fe=new Z;function Ue(){Object.defineProperty(this,"id",{value:Re+=2}),this.uuid=H.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}Ue.prototype=Object.assign(Object.create(B.prototype),{constructor:Ue,isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(t){Array.isArray(t)?this.index=new(Pe(t)>65535?Ce:Ee)(t,1):this.index=t},addAttribute:function(t,e){return e&&e.isBufferAttribute||e&&e.isInterleavedBufferAttribute?"index"===t?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(e),this):this.setAttribute(t,e):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(t,new be(arguments[1],arguments[2])))},getAttribute:function(t){return this.attributes[t]},setAttribute:function(t,e){return this.attributes[t]=e,this},removeAttribute:function(t){return delete this.attributes[t],this},addGroup:function(t,e,n){this.groups.push({start:t,count:e,materialIndex:void 0!==n?n:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(t,e){this.drawRange.start=t,this.drawRange.count=e},applyMatrix:function(t){var e=this.attributes.position;void 0!==e&&(t.applyToBufferAttribute(e),e.needsUpdate=!0);var n=this.attributes.normal;void 0!==n&&((new Y).getNormalMatrix(t).applyToBufferAttribute(n),n.needsUpdate=!0);var i=this.attributes.tangent;return void 0!==i&&((new Y).getNormalMatrix(t).applyToBufferAttribute(i),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(t){return Oe.makeRotationX(t),this.applyMatrix(Oe),this},rotateY:function(t){return Oe.makeRotationY(t),this.applyMatrix(Oe),this},rotateZ:function(t){return Oe.makeRotationZ(t),this.applyMatrix(Oe),this},translate:function(t,e,n){return Oe.makeTranslation(t,e,n),this.applyMatrix(Oe),this},scale:function(t,e,n){return Oe.makeScale(t,e,n),this.applyMatrix(Oe),this},lookAt:function(t){return ke.lookAt(t),ke.updateMatrix(),this.applyMatrix(ke.matrix),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ne).negate(),this.translate(Ne.x,Ne.y,Ne.z),this},setFromObject:function(t){var e=t.geometry;if(t.isPoints||t.isLine){var n=new Le(3*e.vertices.length,3),i=new Le(3*e.colors.length,3);if(this.addAttribute("position",n.copyVector3sArray(e.vertices)),this.addAttribute("color",i.copyColorsArray(e.colors)),e.lineDistances&&e.lineDistances.length===e.vertices.length){var r=new Le(e.lineDistances.length,1);this.addAttribute("lineDistance",r.copyArray(e.lineDistances))}null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone())}else t.isMesh&&e&&e.isGeometry&&this.fromGeometry(e);return this},setFromPoints:function(t){for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n];e.push(r.x,r.y,r.z||0)}return this.addAttribute("position",new Le(e,3)),this},updateFromObject:function(t){var e,n=t.geometry;if(t.isMesh){var i=n.__directGeometry;if(!0===n.elementsNeedUpdate&&(i=void 0,n.elementsNeedUpdate=!1),void 0===i)return this.fromGeometry(n);i.verticesNeedUpdate=n.verticesNeedUpdate,i.normalsNeedUpdate=n.normalsNeedUpdate,i.colorsNeedUpdate=n.colorsNeedUpdate,i.uvsNeedUpdate=n.uvsNeedUpdate,i.groupsNeedUpdate=n.groupsNeedUpdate,n.verticesNeedUpdate=!1,n.normalsNeedUpdate=!1,n.colorsNeedUpdate=!1,n.uvsNeedUpdate=!1,n.groupsNeedUpdate=!1,n=i}return!0===n.verticesNeedUpdate&&(void 0!==(e=this.attributes.position)&&(e.copyVector3sArray(n.vertices),e.needsUpdate=!0),n.verticesNeedUpdate=!1),!0===n.normalsNeedUpdate&&(void 0!==(e=this.attributes.normal)&&(e.copyVector3sArray(n.normals),e.needsUpdate=!0),n.normalsNeedUpdate=!1),!0===n.colorsNeedUpdate&&(void 0!==(e=this.attributes.color)&&(e.copyColorsArray(n.colors),e.needsUpdate=!0),n.colorsNeedUpdate=!1),n.uvsNeedUpdate&&(void 0!==(e=this.attributes.uv)&&(e.copyVector2sArray(n.uvs),e.needsUpdate=!0),n.uvsNeedUpdate=!1),n.lineDistancesNeedUpdate&&(void 0!==(e=this.attributes.lineDistance)&&(e.copyArray(n.lineDistances),e.needsUpdate=!0),n.lineDistancesNeedUpdate=!1),n.groupsNeedUpdate&&(n.computeGroups(t.geometry),this.groups=n.groups,n.groupsNeedUpdate=!1),this},fromGeometry:function(t){return t.__directGeometry=(new De).fromGeometry(t),this.fromDirectGeometry(t.__directGeometry)},fromDirectGeometry:function(t){var e=new Float32Array(3*t.vertices.length);if(this.addAttribute("position",new be(e,3).copyVector3sArray(t.vertices)),t.normals.length>0){var n=new Float32Array(3*t.normals.length);this.addAttribute("normal",new be(n,3).copyVector3sArray(t.normals))}if(t.colors.length>0){var i=new Float32Array(3*t.colors.length);this.addAttribute("color",new be(i,3).copyColorsArray(t.colors))}if(t.uvs.length>0){var r=new Float32Array(2*t.uvs.length);this.addAttribute("uv",new be(r,2).copyVector2sArray(t.uvs))}if(t.uvs2.length>0){var o=new Float32Array(2*t.uvs2.length);this.addAttribute("uv2",new be(o,2).copyVector2sArray(t.uvs2))}for(var a in this.groups=t.groups,t.morphTargets){for(var s=[],l=t.morphTargets[a],c=0,u=l.length;c<u;c++){var h=l[c],p=new Le(3*h.data.length,3);p.name=h.name,s.push(p.copyVector3sArray(h.data))}this.morphAttributes[a]=s}if(t.skinIndices.length>0){var d=new Le(4*t.skinIndices.length,4);this.addAttribute("skinIndex",d.copyVector4sArray(t.skinIndices))}if(t.skinWeights.length>0){var f=new Le(4*t.skinWeights.length,4);this.addAttribute("skinWeight",f.copyVector4sArray(t.skinWeights))}return null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Ht);var t=this.attributes.position,e=this.morphAttributes.position;if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(var n=0,i=e.length;n<i;n++){var r=e[n];ze.setFromBufferAttribute(r),this.boundingBox.expandByPoint(ze.min),this.boundingBox.expandByPoint(ze.max)}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new jt);var t=this.attributes.position,e=this.morphAttributes.position;if(t){var n=this.boundingSphere.center;if(ze.setFromBufferAttribute(t),e)for(var i=0,r=e.length;i<r;i++){var o=e[i];Be.setFromBufferAttribute(o),ze.expandByPoint(Be.min),ze.expandByPoint(Be.max)}ze.getCenter(n);var a=0;for(i=0,r=t.count;i<r;i++)Fe.fromBufferAttribute(t,i),a=Math.max(a,n.distanceToSquared(Fe));if(e)for(i=0,r=e.length;i<r;i++)for(var s=0,l=(o=e[i]).count;s<l;s++)Fe.fromBufferAttribute(o,s),a=Math.max(a,n.distanceToSquared(Fe));this.boundingSphere.radius=Math.sqrt(a),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}},computeFaceNormals:function(){},computeVertexNormals:function(){var t=this.index,e=this.attributes;if(e.position){var n=e.position.array;if(void 0===e.normal)this.addAttribute("normal",new be(new Float32Array(n.length),3));else for(var i=e.normal.array,r=0,o=i.length;r<o;r++)i[r]=0;var a,s,l,c=e.normal.array,u=new Z,h=new Z,p=new Z,d=new Z,f=new Z;if(t){var m=t.array;for(r=0,o=t.count;r<o;r+=3)a=3*m[r+0],s=3*m[r+1],l=3*m[r+2],u.fromArray(n,a),h.fromArray(n,s),p.fromArray(n,l),d.subVectors(p,h),f.subVectors(u,h),d.cross(f),c[a]+=d.x,c[a+1]+=d.y,c[a+2]+=d.z,c[s]+=d.x,c[s+1]+=d.y,c[s+2]+=d.z,c[l]+=d.x,c[l+1]+=d.y,c[l+2]+=d.z}else for(r=0,o=n.length;r<o;r+=9)u.fromArray(n,r),h.fromArray(n,r+3),p.fromArray(n,r+6),d.subVectors(p,h),f.subVectors(u,h),d.cross(f),c[r]=d.x,c[r+1]=d.y,c[r+2]=d.z,c[r+3]=d.x,c[r+4]=d.y,c[r+5]=d.z,c[r+6]=d.x,c[r+7]=d.y,c[r+8]=d.z;this.normalizeNormals(),e.normal.needsUpdate=!0}},merge:function(t,e){if(t&&t.isBufferGeometry){void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));var n=this.attributes;for(var i in n)if(void 0!==t.attributes[i])for(var r=n[i].array,o=t.attributes[i],a=o.array,s=o.itemSize*e,l=Math.min(a.length,r.length-s),c=0,u=s;c<l;c++,u++)r[u]=a[c];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t)},normalizeNormals:function(){for(var t=this.attributes.normal,e=0,n=t.count;e<n;e++)Fe.x=t.getX(e),Fe.y=t.getY(e),Fe.z=t.getZ(e),Fe.normalize(),t.setXYZ(e,Fe.x,Fe.y,Fe.z)},toNonIndexed:function(){function t(t,e){for(var n=t.array,i=t.itemSize,r=new n.constructor(e.length*i),o=0,a=0,s=0,l=e.length;s<l;s++){o=e[s]*i;for(var c=0;c<i;c++)r[a++]=n[o++]}return new be(r,i)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var e=new Ue,n=this.index.array,i=this.attributes;for(var r in i){var o=t(i[r],n);e.addAttribute(r,o)}var a=this.morphAttributes;for(r in a){for(var s=[],l=a[r],c=0,u=l.length;c<u;c++)o=t(l[c],n),s.push(o);e.morphAttributes[r]=s}for(var h=this.groups,p=(c=0,h.length);c<p;c++){var d=h[c];e.addGroup(d.start,d.count,d.materialIndex)}return e},toJSON:function(){var t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}t.data={attributes:{}};var i=this.index;null!==i&&(t.data.index={type:i.array.constructor.name,array:Array.prototype.slice.call(i.array)});var r=this.attributes;for(var n in r){var o=(p=r[n]).toJSON();""!==p.name&&(o.name=p.name),t.data.attributes[n]=o}var a={},s=!1;for(var n in this.morphAttributes){for(var l=this.morphAttributes[n],c=[],u=0,h=l.length;u<h;u++){var p;o=(p=l[u]).toJSON(),""!==p.name&&(o.name=p.name),c.push(o)}c.length>0&&(a[n]=c,s=!0)}s&&(t.data.morphAttributes=a);var d=this.groups;d.length>0&&(t.data.groups=JSON.parse(JSON.stringify(d)));var f=this.boundingSphere;return null!==f&&(t.data.boundingSphere={center:f.center.toArray(),radius:f.radius}),t},clone:function(){return(new Ue).copy(this)},copy:function(t){var e,n,i;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var r=t.index;null!==r&&this.setIndex(r.clone());var o=t.attributes;for(e in o){var a=o[e];this.addAttribute(e,a.clone())}var s=t.morphAttributes;for(e in s){var l=[],c=s[e];for(n=0,i=c.length;n<i;n++)l.push(c[n].clone());this.morphAttributes[e]=l}var u=t.groups;for(n=0,i=u.length;n<i;n++){var h=u[n];this.addGroup(h.start,h.count,h.materialIndex)}var p=t.boundingBox;null!==p&&(this.boundingBox=p.clone());var d=t.boundingSphere;return null!==d&&(this.boundingSphere=d.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});var He=new ct,Ve=new $t,Ge=new jt,je=new Z,We=new Z,Ze=new Z,qe=new Z,Xe=new Z,Ye=new Z,Je=new Z,Ke=new Z,$e=new Z,Qe=new V,tn=new V,en=new V,nn=new Z,rn=new Z;function on(t,e){At.call(this),this.type="Mesh",this.geometry=void 0!==t?t:new Ue,this.material=void 0!==e?e:new xe({color:16777215*Math.random()}),this.drawMode=0,this.updateMorphTargets()}function an(t,e,n,i,r,o,s,l){if(null===(1===e.side?i.intersectTriangle(s,o,r,!0,l):i.intersectTriangle(r,o,s,e.side!==a,l)))return null;rn.copy(l),rn.applyMatrix4(t.matrixWorld);var c=n.ray.origin.distanceTo(rn);return c<n.near||c>n.far?null:{distance:c,point:rn.clone(),object:t}}function sn(t,e,n,i,r,o,a,s,l,c,u){je.fromBufferAttribute(r,l),We.fromBufferAttribute(r,c),Ze.fromBufferAttribute(r,u);var h=t.morphTargetInfluences;if(e.morphTargets&&o&&h){Je.set(0,0,0),Ke.set(0,0,0),$e.set(0,0,0);for(var p=0,d=o.length;p<d;p++){var f=h[p],m=o[p];0!==f&&(qe.fromBufferAttribute(m,l),Xe.fromBufferAttribute(m,c),Ye.fromBufferAttribute(m,u),Je.addScaledVector(qe.sub(je),f),Ke.addScaledVector(Xe.sub(We),f),$e.addScaledVector(Ye.sub(Ze),f))}je.add(Je),We.add(Ke),Ze.add($e)}var g=an(t,e,n,i,je,We,Ze,nn);if(g){a&&(Qe.fromBufferAttribute(a,l),tn.fromBufferAttribute(a,c),en.fromBufferAttribute(a,u),g.uv=ce.getUV(nn,je,We,Ze,Qe,tn,en,new V)),s&&(Qe.fromBufferAttribute(s,l),tn.fromBufferAttribute(s,c),en.fromBufferAttribute(s,u),g.uv2=ce.getUV(nn,je,We,Ze,Qe,tn,en,new V));var v=new ve(l,c,u);ce.getNormal(je,We,Ze,v.normal),g.face=v}return g}on.prototype=Object.assign(Object.create(At.prototype),{constructor:on,isMesh:!0,setDrawMode:function(t){this.drawMode=t},copy:function(t){return At.prototype.copy.call(this,t),this.drawMode=t.drawMode,void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this},updateMorphTargets:function(){var t,e,n,i=this.geometry;if(i.isBufferGeometry){var r=i.morphAttributes,o=Object.keys(r);if(o.length>0){var a=r[o[0]];if(void 0!==a)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=a.length;t<e;t++)n=a[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}else{var s=i.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}},raycast:function(t,e){var n,i=this.geometry,r=this.material,o=this.matrixWorld;if(void 0!==r&&(null===i.boundingSphere&&i.computeBoundingSphere(),Ge.copy(i.boundingSphere),Ge.applyMatrix4(o),!1!==t.ray.intersectsSphere(Ge)&&(He.getInverse(o),Ve.copy(t.ray).applyMatrix4(He),null===i.boundingBox||!1!==Ve.intersectsBox(i.boundingBox))))if(i.isBufferGeometry){var a,s,l,c,u,h,p,d,f,m=i.index,g=i.attributes.position,v=i.morphAttributes.position,y=i.attributes.uv,_=i.attributes.uv2,x=i.groups,b=i.drawRange;if(null!==m)if(Array.isArray(r))for(c=0,h=x.length;c<h;c++)for(f=r[(d=x[c]).materialIndex],u=Math.max(d.start,b.start),p=Math.min(d.start+d.count,b.start+b.count);u<p;u+=3)a=m.getX(u),s=m.getX(u+1),l=m.getX(u+2),(n=sn(this,f,t,Ve,g,v,y,_,a,s,l))&&(n.faceIndex=Math.floor(u/3),n.face.materialIndex=d.materialIndex,e.push(n));else for(c=Math.max(0,b.start),h=Math.min(m.count,b.start+b.count);c<h;c+=3)a=m.getX(c),s=m.getX(c+1),l=m.getX(c+2),(n=sn(this,r,t,Ve,g,v,y,_,a,s,l))&&(n.faceIndex=Math.floor(c/3),e.push(n));else if(void 0!==g)if(Array.isArray(r))for(c=0,h=x.length;c<h;c++)for(f=r[(d=x[c]).materialIndex],u=Math.max(d.start,b.start),p=Math.min(d.start+d.count,b.start+b.count);u<p;u+=3)(n=sn(this,f,t,Ve,g,v,y,_,a=u,s=u+1,l=u+2))&&(n.faceIndex=Math.floor(u/3),n.face.materialIndex=d.materialIndex,e.push(n));else for(c=Math.max(0,b.start),h=Math.min(g.count,b.start+b.count);c<h;c+=3)(n=sn(this,r,t,Ve,g,v,y,_,a=c,s=c+1,l=c+2))&&(n.faceIndex=Math.floor(c/3),e.push(n))}else if(i.isGeometry){var w,S,M,T,E=Array.isArray(r),A=i.vertices,C=i.faces,L=i.faceVertexUvs[0];L.length>0&&(T=L);for(var I=0,D=C.length;I<D;I++){var P=C[I],R=E?r[P.materialIndex]:r;if(void 0!==R&&(w=A[P.a],S=A[P.b],M=A[P.c],n=an(this,R,t,Ve,w,S,M,nn))){if(T&&T[I]){var O=T[I];Qe.copy(O[0]),tn.copy(O[1]),en.copy(O[2]),n.uv=ce.getUV(nn,w,S,M,Qe,tn,en,new V)}n.face=P,n.faceIndex=I,e.push(n)}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var ln=0,cn=new ct,un=new At,hn=new Z;function pn(){Object.defineProperty(this,"id",{value:ln+=2}),this.uuid=H.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}pn.prototype=Object.assign(Object.create(B.prototype),{constructor:pn,isGeometry:!0,applyMatrix:function(t){for(var e=(new Y).getNormalMatrix(t),n=0,i=this.vertices.length;n<i;n++)this.vertices[n].applyMatrix4(t);for(n=0,i=this.faces.length;n<i;n++){var r=this.faces[n];r.normal.applyMatrix3(e).normalize();for(var o=0,a=r.vertexNormals.length;o<a;o++)r.vertexNormals[o].applyMatrix3(e).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(t){return cn.makeRotationX(t),this.applyMatrix(cn),this},rotateY:function(t){return cn.makeRotationY(t),this.applyMatrix(cn),this},rotateZ:function(t){return cn.makeRotationZ(t),this.applyMatrix(cn),this},translate:function(t,e,n){return cn.makeTranslation(t,e,n),this.applyMatrix(cn),this},scale:function(t,e,n){return cn.makeScale(t,e,n),this.applyMatrix(cn),this},lookAt:function(t){return un.lookAt(t),un.updateMatrix(),this.applyMatrix(un.matrix),this},fromBufferGeometry:function(t){var e=this,n=null!==t.index?t.index.array:void 0,i=t.attributes;if(void 0===i.position)return console.error("THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion."),this;var r=i.position.array,o=void 0!==i.normal?i.normal.array:void 0,a=void 0!==i.color?i.color.array:void 0,s=void 0!==i.uv?i.uv.array:void 0,l=void 0!==i.uv2?i.uv2.array:void 0;void 0!==l&&(this.faceVertexUvs[1]=[]);for(var c=0;c<r.length;c+=3)e.vertices.push((new Z).fromArray(r,c)),void 0!==a&&e.colors.push((new de).fromArray(a,c));function u(t,n,i,r){var c=void 0===a?[]:[e.colors[t].clone(),e.colors[n].clone(),e.colors[i].clone()],u=new ve(t,n,i,void 0===o?[]:[(new Z).fromArray(o,3*t),(new Z).fromArray(o,3*n),(new Z).fromArray(o,3*i)],c,r);e.faces.push(u),void 0!==s&&e.faceVertexUvs[0].push([(new V).fromArray(s,2*t),(new V).fromArray(s,2*n),(new V).fromArray(s,2*i)]),void 0!==l&&e.faceVertexUvs[1].push([(new V).fromArray(l,2*t),(new V).fromArray(l,2*n),(new V).fromArray(l,2*i)])}var h=t.groups;if(h.length>0)for(c=0;c<h.length;c++)for(var p=h[c],d=p.start,f=d,m=d+p.count;f<m;f+=3)void 0!==n?u(n[f],n[f+1],n[f+2],p.materialIndex):u(f,f+1,f+2,p.materialIndex);else if(void 0!==n)for(c=0;c<n.length;c+=3)u(n[c],n[c+1],n[c+2]);else for(c=0;c<r.length/3;c+=3)u(c,c+1,c+2);return this.computeFaceNormals(),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone()),null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),this},center:function(){return this.computeBoundingBox(),this.boundingBox.getCenter(hn).negate(),this.translate(hn.x,hn.y,hn.z),this},normalize:function(){this.computeBoundingSphere();var t=this.boundingSphere.center,e=this.boundingSphere.radius,n=0===e?1:1/e,i=new ct;return i.set(n,0,0,-n*t.x,0,n,0,-n*t.y,0,0,n,-n*t.z,0,0,0,1),this.applyMatrix(i),this},computeFaceNormals:function(){for(var t=new Z,e=new Z,n=0,i=this.faces.length;n<i;n++){var r=this.faces[n],o=this.vertices[r.a],a=this.vertices[r.b],s=this.vertices[r.c];t.subVectors(s,a),e.subVectors(o,a),t.cross(e),t.normalize(),r.normal.copy(t)}},computeVertexNormals:function(t){var e,n,i,r,o,a;for(void 0===t&&(t=!0),a=new Array(this.vertices.length),e=0,n=this.vertices.length;e<n;e++)a[e]=new Z;if(t){var s,l,c,u=new Z,h=new Z;for(i=0,r=this.faces.length;i<r;i++)o=this.faces[i],s=this.vertices[o.a],l=this.vertices[o.b],c=this.vertices[o.c],u.subVectors(c,l),h.subVectors(s,l),u.cross(h),a[o.a].add(u),a[o.b].add(u),a[o.c].add(u)}else for(this.computeFaceNormals(),i=0,r=this.faces.length;i<r;i++)a[(o=this.faces[i]).a].add(o.normal),a[o.b].add(o.normal),a[o.c].add(o.normal);for(e=0,n=this.vertices.length;e<n;e++)a[e].normalize();for(i=0,r=this.faces.length;i<r;i++){var p=(o=this.faces[i]).vertexNormals;3===p.length?(p[0].copy(a[o.a]),p[1].copy(a[o.b]),p[2].copy(a[o.c])):(p[0]=a[o.a].clone(),p[1]=a[o.b].clone(),p[2]=a[o.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var t,e,n;for(this.computeFaceNormals(),t=0,e=this.faces.length;t<e;t++){var i=(n=this.faces[t]).vertexNormals;3===i.length?(i[0].copy(n.normal),i[1].copy(n.normal),i[2].copy(n.normal)):(i[0]=n.normal.clone(),i[1]=n.normal.clone(),i[2]=n.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var t,e,n,i,r;for(n=0,i=this.faces.length;n<i;n++)for((r=this.faces[n]).__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]),t=0,e=r.vertexNormals.length;t<e;t++)r.__originalVertexNormals[t]?r.__originalVertexNormals[t].copy(r.vertexNormals[t]):r.__originalVertexNormals[t]=r.vertexNormals[t].clone();var o=new pn;for(o.faces=this.faces,t=0,e=this.morphTargets.length;t<e;t++){if(!this.morphNormals[t]){this.morphNormals[t]={},this.morphNormals[t].faceNormals=[],this.morphNormals[t].vertexNormals=[];var a=this.morphNormals[t].faceNormals,s=this.morphNormals[t].vertexNormals;for(n=0,i=this.faces.length;n<i;n++)l=new Z,c={a:new Z,b:new Z,c:new Z},a.push(l),s.push(c)}var l,c,u=this.morphNormals[t];for(o.vertices=this.morphTargets[t].vertices,o.computeFaceNormals(),o.computeVertexNormals(),n=0,i=this.faces.length;n<i;n++)r=this.faces[n],l=u.faceNormals[n],c=u.vertexNormals[n],l.copy(r.normal),c.a.copy(r.vertexNormals[0]),c.b.copy(r.vertexNormals[1]),c.c.copy(r.vertexNormals[2])}for(n=0,i=this.faces.length;n<i;n++)(r=this.faces[n]).normal=r.__originalFaceNormal,r.vertexNormals=r.__originalVertexNormals},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Ht),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new jt),this.boundingSphere.setFromPoints(this.vertices)},merge:function(t,e,n){if(t&&t.isGeometry){var i,r=this.vertices.length,o=this.vertices,a=t.vertices,s=this.faces,l=t.faces,c=this.colors,u=t.colors;void 0===n&&(n=0),void 0!==e&&(i=(new Y).getNormalMatrix(e));for(var h=0,p=a.length;h<p;h++){var d=a[h].clone();void 0!==e&&d.applyMatrix4(e),o.push(d)}for(h=0,p=u.length;h<p;h++)c.push(u[h].clone());for(h=0,p=l.length;h<p;h++){var f,m,g,v=l[h],y=v.vertexNormals,_=v.vertexColors;(f=new ve(v.a+r,v.b+r,v.c+r)).normal.copy(v.normal),void 0!==i&&f.normal.applyMatrix3(i).normalize();for(var x=0,b=y.length;x<b;x++)m=y[x].clone(),void 0!==i&&m.applyMatrix3(i).normalize(),f.vertexNormals.push(m);for(f.color.copy(v.color),x=0,b=_.length;x<b;x++)g=_[x],f.vertexColors.push(g.clone());f.materialIndex=v.materialIndex+n,s.push(f)}for(h=0,p=t.faceVertexUvs.length;h<p;h++){var w=t.faceVertexUvs[h];for(void 0===this.faceVertexUvs[h]&&(this.faceVertexUvs[h]=[]),x=0,b=w.length;x<b;x++){for(var S=w[x],M=[],T=0,E=S.length;T<E;T++)M.push(S[T].clone());this.faceVertexUvs[h].push(M)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",t)},mergeMesh:function(t){t&&t.isMesh?(t.matrixAutoUpdate&&t.updateMatrix(),this.merge(t.geometry,t.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",t)},mergeVertices:function(){var t,e,n,i,r,o,a,s,l={},c=[],u=[],h=Math.pow(10,4);for(n=0,i=this.vertices.length;n<i;n++)t=this.vertices[n],void 0===l[e=Math.round(t.x*h)+"_"+Math.round(t.y*h)+"_"+Math.round(t.z*h)]?(l[e]=n,c.push(this.vertices[n]),u[n]=c.length-1):u[n]=u[l[e]];var p=[];for(n=0,i=this.faces.length;n<i;n++){(r=this.faces[n]).a=u[r.a],r.b=u[r.b],r.c=u[r.c],o=[r.a,r.b,r.c];for(var d=0;d<3;d++)if(o[d]===o[(d+1)%3]){p.push(n);break}}for(n=p.length-1;n>=0;n--){var f=p[n];for(this.faces.splice(f,1),a=0,s=this.faceVertexUvs.length;a<s;a++)this.faceVertexUvs[a].splice(f,1)}var m=this.vertices.length-c.length;return this.vertices=c,m},setFromPoints:function(t){this.vertices=[];for(var e=0,n=t.length;e<n;e++){var i=t[e];this.vertices.push(new Z(i.x,i.y,i.z||0))}return this},sortFacesByMaterialIndex:function(){for(var t=this.faces,e=t.length,n=0;n<e;n++)t[n]._id=n;t.sort((function(t,e){return t.materialIndex-e.materialIndex}));var i,r,o=this.faceVertexUvs[0],a=this.faceVertexUvs[1];for(o&&o.length===e&&(i=[]),a&&a.length===e&&(r=[]),n=0;n<e;n++){var s=t[n]._id;i&&i.push(o[s]),r&&r.push(a[s])}i&&(this.faceVertexUvs[0]=i),r&&(this.faceVertexUvs[1]=r)},toJSON:function(){var t={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),void 0!==this.parameters){var e=this.parameters;for(var n in e)void 0!==e[n]&&(t[n]=e[n]);return t}for(var i=[],r=0;r<this.vertices.length;r++){var o=this.vertices[r];i.push(o.x,o.y,o.z)}var a=[],s=[],l={},c=[],u={},h=[],p={};for(r=0;r<this.faces.length;r++){var d=this.faces[r],f=void 0!==this.faceVertexUvs[0][r],m=d.normal.length()>0,g=d.vertexNormals.length>0,v=1!==d.color.r||1!==d.color.g||1!==d.color.b,y=d.vertexColors.length>0,_=0;if(_=S(_,0,0),_=S(_,1,!0),_=S(_,2,!1),_=S(_,3,f),_=S(_,4,m),_=S(_,5,g),_=S(_,6,v),_=S(_,7,y),a.push(_),a.push(d.a,d.b,d.c),a.push(d.materialIndex),f){var x=this.faceVertexUvs[0][r];a.push(E(x[0]),E(x[1]),E(x[2]))}if(m&&a.push(M(d.normal)),g){var b=d.vertexNormals;a.push(M(b[0]),M(b[1]),M(b[2]))}if(v&&a.push(T(d.color)),y){var w=d.vertexColors;a.push(T(w[0]),T(w[1]),T(w[2]))}}function S(t,e,n){return n?t|1<<e:t&~(1<<e)}function M(t){var e=t.x.toString()+t.y.toString()+t.z.toString();return void 0!==l[e]||(l[e]=s.length/3,s.push(t.x,t.y,t.z)),l[e]}function T(t){var e=t.r.toString()+t.g.toString()+t.b.toString();return void 0!==u[e]||(u[e]=c.length,c.push(t.getHex())),u[e]}function E(t){var e=t.x.toString()+t.y.toString();return void 0!==p[e]||(p[e]=h.length/2,h.push(t.x,t.y)),p[e]}return t.data={},t.data.vertices=i,t.data.normals=s,c.length>0&&(t.data.colors=c),h.length>0&&(t.data.uvs=[h]),t.data.faces=a,t},clone:function(){return(new pn).copy(this)},copy:function(t){var e,n,i,r,o,a;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=t.name;var s=t.vertices;for(e=0,n=s.length;e<n;e++)this.vertices.push(s[e].clone());var l=t.colors;for(e=0,n=l.length;e<n;e++)this.colors.push(l[e].clone());var c=t.faces;for(e=0,n=c.length;e<n;e++)this.faces.push(c[e].clone());for(e=0,n=t.faceVertexUvs.length;e<n;e++){var u=t.faceVertexUvs[e];for(void 0===this.faceVertexUvs[e]&&(this.faceVertexUvs[e]=[]),i=0,r=u.length;i<r;i++){var h=u[i],p=[];for(o=0,a=h.length;o<a;o++){var d=h[o];p.push(d.clone())}this.faceVertexUvs[e].push(p)}}var f=t.morphTargets;for(e=0,n=f.length;e<n;e++){var m={};if(m.name=f[e].name,void 0!==f[e].vertices)for(m.vertices=[],i=0,r=f[e].vertices.length;i<r;i++)m.vertices.push(f[e].vertices[i].clone());if(void 0!==f[e].normals)for(m.normals=[],i=0,r=f[e].normals.length;i<r;i++)m.normals.push(f[e].normals[i].clone());this.morphTargets.push(m)}var g=t.morphNormals;for(e=0,n=g.length;e<n;e++){var v={};if(void 0!==g[e].vertexNormals)for(v.vertexNormals=[],i=0,r=g[e].vertexNormals.length;i<r;i++){var y=g[e].vertexNormals[i],_={};_.a=y.a.clone(),_.b=y.b.clone(),_.c=y.c.clone(),v.vertexNormals.push(_)}if(void 0!==g[e].faceNormals)for(v.faceNormals=[],i=0,r=g[e].faceNormals.length;i<r;i++)v.faceNormals.push(g[e].faceNormals[i].clone());this.morphNormals.push(v)}var x=t.skinWeights;for(e=0,n=x.length;e<n;e++)this.skinWeights.push(x[e].clone());var b=t.skinIndices;for(e=0,n=b.length;e<n;e++)this.skinIndices.push(b[e].clone());var w=t.lineDistances;for(e=0,n=w.length;e<n;e++)this.lineDistances.push(w[e]);var S=t.boundingBox;null!==S&&(this.boundingBox=S.clone());var M=t.boundingSphere;return null!==M&&(this.boundingSphere=M.clone()),this.elementsNeedUpdate=t.elementsNeedUpdate,this.verticesNeedUpdate=t.verticesNeedUpdate,this.uvsNeedUpdate=t.uvsNeedUpdate,this.normalsNeedUpdate=t.normalsNeedUpdate,this.colorsNeedUpdate=t.colorsNeedUpdate,this.lineDistancesNeedUpdate=t.lineDistancesNeedUpdate,this.groupsNeedUpdate=t.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}});class dn extends pn{constructor(t,e,n,i,r,o){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:i,heightSegments:r,depthSegments:o},this.fromBufferGeometry(new fn(t,e,n,i,r,o)),this.mergeVertices()}}class fn extends Ue{constructor(t,e,n,i,r,o){super(),this.type="BoxBufferGeometry",this.parameters={width:t,height:e,depth:n,widthSegments:i,heightSegments:r,depthSegments:o};var a=this;t=t||1,e=e||1,n=n||1,i=Math.floor(i)||1,r=Math.floor(r)||1,o=Math.floor(o)||1;var s=[],l=[],c=[],u=[],h=0,p=0;function d(t,e,n,i,r,o,d,f,m,g,v){var y,_,x=o/m,b=d/g,w=o/2,S=d/2,M=f/2,T=m+1,E=g+1,A=0,C=0,L=new Z;for(_=0;_<E;_++){var I=_*b-S;for(y=0;y<T;y++){var D=y*x-w;L[t]=D*i,L[e]=I*r,L[n]=M,l.push(L.x,L.y,L.z),L[t]=0,L[e]=0,L[n]=f>0?1:-1,c.push(L.x,L.y,L.z),u.push(y/m),u.push(1-_/g),A+=1}}for(_=0;_<g;_++)for(y=0;y<m;y++){var P=h+y+T*_,R=h+y+T*(_+1),O=h+(y+1)+T*(_+1),k=h+(y+1)+T*_;s.push(P,R,k),s.push(R,O,k),C+=6}a.addGroup(p,C,v),p+=C,h+=A}d("z","y","x",-1,-1,n,e,t,o,r,0),d("z","y","x",1,-1,n,e,-t,o,r,1),d("x","z","y",1,1,t,n,e,i,o,2),d("x","z","y",1,-1,t,n,-e,i,o,3),d("x","y","z",1,-1,t,e,n,i,r,4),d("x","y","z",-1,-1,t,e,-n,i,r,5),this.setIndex(s),this.addAttribute("position",new Le(l,3)),this.addAttribute("normal",new Le(c,3)),this.addAttribute("uv",new Le(u,2))}}function mn(t){var e={};for(var n in t)for(var i in e[n]={},t[n]){var r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture)?e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}return e}function gn(t){for(var e={},n=0;n<t.length;n++){var i=mn(t[n]);for(var r in i)e[r]=i[r]}return e}var vn={clone:mn,merge:gn};function yn(t){_e.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}function _n(){At.call(this),this.type="Camera",this.matrixWorldInverse=new ct,this.projectionMatrix=new ct,this.projectionMatrixInverse=new ct}function xn(t,e,n,i){_n.call(this),this.type="PerspectiveCamera",this.fov=void 0!==t?t:50,this.zoom=1,this.near=void 0!==n?n:.1,this.far=void 0!==i?i:2e3,this.focus=10,this.aspect=void 0!==e?e:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}yn.prototype=Object.create(_e.prototype),yn.prototype.constructor=yn,yn.prototype.isShaderMaterial=!0,yn.prototype.copy=function(t){return _e.prototype.copy.call(this,t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=mn(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this.extensions=t.extensions,this},yn.prototype.toJSON=function(t){var e=_e.prototype.toJSON.call(this,t);for(var n in e.uniforms={},this.uniforms){var i=this.uniforms[n].value;i&&i.isTexture?e.uniforms[n]={type:"t",value:i.toJSON(t).uuid}:i&&i.isColor?e.uniforms[n]={type:"c",value:i.getHex()}:i&&i.isVector2?e.uniforms[n]={type:"v2",value:i.toArray()}:i&&i.isVector3?e.uniforms[n]={type:"v3",value:i.toArray()}:i&&i.isVector4?e.uniforms[n]={type:"v4",value:i.toArray()}:i&&i.isMatrix3?e.uniforms[n]={type:"m3",value:i.toArray()}:i&&i.isMatrix4?e.uniforms[n]={type:"m4",value:i.toArray()}:e.uniforms[n]={value:i}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;var r={};for(var o in this.extensions)!0===this.extensions[o]&&(r[o]=!0);return Object.keys(r).length>0&&(e.extensions=r),e},_n.prototype=Object.assign(Object.create(At.prototype),{constructor:_n,isCamera:!0,copy:function(t,e){return At.prototype.copy.call(this,t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this},getWorldDirection:function(t){void 0===t&&(console.warn("THREE.Camera: .getWorldDirection() target is now required"),t=new Z),this.updateMatrixWorld(!0);var e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()},updateMatrixWorld:function(t){At.prototype.updateMatrixWorld.call(this,t),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),xn.prototype=Object.assign(Object.create(_n.prototype),{constructor:xn,isPerspectiveCamera:!0,copy:function(t,e){return _n.prototype.copy.call(this,t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this},setFocalLength:function(t){var e=.5*this.getFilmHeight()/t;this.fov=2*H.RAD2DEG*Math.atan(e),this.updateProjectionMatrix()},getFocalLength:function(){var t=Math.tan(.5*H.DEG2RAD*this.fov);return.5*this.getFilmHeight()/t},getEffectiveFOV:function(){return 2*H.RAD2DEG*Math.atan(Math.tan(.5*H.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(t,e,n,i,r,o){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=this.near,e=t*Math.tan(.5*H.DEG2RAD*this.fov)/this.zoom,n=2*e,i=this.aspect*n,r=-.5*i,o=this.view;if(null!==this.view&&this.view.enabled){var a=o.fullWidth,s=o.fullHeight;r+=o.offsetX*i/a,e-=o.offsetY*n/s,i*=o.width/a,n*=o.height/s}var l=this.filmOffset;0!==l&&(r+=t*l/this.getFilmWidth()),this.projectionMatrix.makePerspective(r,r+i,e,e-n,t,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){var e=At.prototype.toJSON.call(this,t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}});var bn=90;function wn(t,e,n,i){At.call(this),this.type="CubeCamera";var r=new xn(bn,1,t,e);r.up.set(0,-1,0),r.lookAt(new Z(1,0,0)),this.add(r);var o=new xn(bn,1,t,e);o.up.set(0,-1,0),o.lookAt(new Z(-1,0,0)),this.add(o);var a=new xn(bn,1,t,e);a.up.set(0,0,1),a.lookAt(new Z(0,1,0)),this.add(a);var s=new xn(bn,1,t,e);s.up.set(0,0,-1),s.lookAt(new Z(0,-1,0)),this.add(s);var l=new xn(bn,1,t,e);l.up.set(0,-1,0),l.lookAt(new Z(0,0,1)),this.add(l);var c=new xn(bn,1,t,e);c.up.set(0,-1,0),c.lookAt(new Z(0,0,-1)),this.add(c),i=i||{format:S,magFilter:m,minFilter:m},this.renderTarget=new Sn(n,n,i),this.renderTarget.texture.name="CubeCamera",this.update=function(t,e){null===this.parent&&this.updateMatrixWorld();var n=t.getRenderTarget(),i=this.renderTarget,u=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,t.setRenderTarget(i,0),t.render(e,r),t.setRenderTarget(i,1),t.render(e,o),t.setRenderTarget(i,2),t.render(e,a),t.setRenderTarget(i,3),t.render(e,s),t.setRenderTarget(i,4),t.render(e,l),i.texture.generateMipmaps=u,t.setRenderTarget(i,5),t.render(e,c),t.setRenderTarget(n)},this.clear=function(t,e,n,i){for(var r=t.getRenderTarget(),o=this.renderTarget,a=0;a<6;a++)t.setRenderTarget(o,a),t.clear(e,n,i);t.setRenderTarget(r)}}function Sn(t,e,n){tt.call(this,t,e,n)}function Mn(t,e,n,i,r,o,a,s,l,c,u,h){$.call(this,null,o,a,s,l,c,i,r,u,h),this.image={data:t||null,width:e||1,height:n||1},this.magFilter=void 0!==l?l:p,this.minFilter=void 0!==c?c:p,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}wn.prototype=Object.create(At.prototype),wn.prototype.constructor=wn,Sn.prototype=Object.create(tt.prototype),Sn.prototype.constructor=Sn,Sn.prototype.isWebGLRenderTargetCube=!0,Sn.prototype.fromEquirectangularTexture=function(t,e){this.texture.type=e.type,this.texture.format=e.format,this.texture.encoding=e.encoding;var n=new Ct,i={uniforms:{tEquirect:{value:null}},vertexShader:["varying vec3 vWorldDirection;","vec3 transformDirection( in vec3 dir, in mat4 matrix ) {","\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );","}","void main() {","\tvWorldDirection = transformDirection( position, modelMatrix );","\t#include <begin_vertex>","\t#include <project_vertex>","}"].join("\n"),fragmentShader:["uniform sampler2D tEquirect;","varying vec3 vWorldDirection;","#define RECIPROCAL_PI 0.31830988618","#define RECIPROCAL_PI2 0.15915494","void main() {","\tvec3 direction = normalize( vWorldDirection );","\tvec2 sampleUV;","\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;","\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;","\tgl_FragColor = texture2D( tEquirect, sampleUV );","}"].join("\n")},r=new yn({type:"CubemapFromEquirect",uniforms:mn(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:1,blending:0});r.uniforms.tEquirect.value=e;var o=new on(new fn(5,5,5),r);n.add(o);var a=new wn(1,10,1);return a.renderTarget=this,a.renderTarget.texture.name="CubeCameraTexture",a.update(t,n),o.geometry.dispose(),o.material.dispose(),this},Mn.prototype=Object.create($.prototype),Mn.prototype.constructor=Mn,Mn.prototype.isDataTexture=!0;var Tn=new Z,En=new Z,An=new Y;function Cn(t,e){this.normal=void 0!==t?t:new Z(1,0,0),this.constant=void 0!==e?e:0}Object.assign(Cn.prototype,{isPlane:!0,set:function(t,e){return this.normal.copy(t),this.constant=e,this},setComponents:function(t,e,n,i){return this.normal.set(t,e,n),this.constant=i,this},setFromNormalAndCoplanarPoint:function(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this},setFromCoplanarPoints:function(t,e,n){var i=Tn.subVectors(n,e).cross(En.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(i,t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.normal.copy(t.normal),this.constant=t.constant,this},normalize:function(){var t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(t){return this.normal.dot(t)+this.constant},distanceToSphere:function(t){return this.distanceToPoint(t.center)-t.radius},projectPoint:function(t,e){return void 0===e&&(console.warn("THREE.Plane: .projectPoint() target is now required"),e=new Z),e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)},intersectLine:function(t,e){void 0===e&&(console.warn("THREE.Plane: .intersectLine() target is now required"),e=new Z);var n=t.delta(Tn),i=this.normal.dot(n);if(0===i)return 0===this.distanceToPoint(t.start)?e.copy(t.start):void 0;var r=-(t.start.dot(this.normal)+this.constant)/i;return r<0||r>1?void 0:e.copy(n).multiplyScalar(r).add(t.start)},intersectsLine:function(t){var e=this.distanceToPoint(t.start),n=this.distanceToPoint(t.end);return e<0&&n>0||n<0&&e>0},intersectsBox:function(t){return t.intersectsPlane(this)},intersectsSphere:function(t){return t.intersectsPlane(this)},coplanarPoint:function(t){return void 0===t&&(console.warn("THREE.Plane: .coplanarPoint() target is now required"),t=new Z),t.copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(t,e){var n=e||An.getNormalMatrix(t),i=this.coplanarPoint(Tn).applyMatrix4(t),r=this.normal.applyMatrix3(n).normalize();return this.constant=-i.dot(r),this},translate:function(t){return this.constant-=t.dot(this.normal),this},equals:function(t){return t.normal.equals(this.normal)&&t.constant===this.constant}});var Ln=new jt,In=new Z;function Dn(t,e,n,i,r,o){this.planes=[void 0!==t?t:new Cn,void 0!==e?e:new Cn,void 0!==n?n:new Cn,void 0!==i?i:new Cn,void 0!==r?r:new Cn,void 0!==o?o:new Cn]}Object.assign(Dn.prototype,{set:function(t,e,n,i,r,o){var a=this.planes;return a[0].copy(t),a[1].copy(e),a[2].copy(n),a[3].copy(i),a[4].copy(r),a[5].copy(o),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){for(var e=this.planes,n=0;n<6;n++)e[n].copy(t.planes[n]);return this},setFromMatrix:function(t){var e=this.planes,n=t.elements,i=n[0],r=n[1],o=n[2],a=n[3],s=n[4],l=n[5],c=n[6],u=n[7],h=n[8],p=n[9],d=n[10],f=n[11],m=n[12],g=n[13],v=n[14],y=n[15];return e[0].setComponents(a-i,u-s,f-h,y-m).normalize(),e[1].setComponents(a+i,u+s,f+h,y+m).normalize(),e[2].setComponents(a+r,u+l,f+p,y+g).normalize(),e[3].setComponents(a-r,u-l,f-p,y-g).normalize(),e[4].setComponents(a-o,u-c,f-d,y-v).normalize(),e[5].setComponents(a+o,u+c,f+d,y+v).normalize(),this},intersectsObject:function(t){var e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),Ln.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(Ln)},intersectsSprite:function(t){return Ln.center.set(0,0,0),Ln.radius=.7071067811865476,Ln.applyMatrix4(t.matrixWorld),this.intersectsSphere(Ln)},intersectsSphere:function(t){for(var e=this.planes,n=t.center,i=-t.radius,r=0;r<6;r++)if(e[r].distanceToPoint(n)<i)return!1;return!0},intersectsBox:function(t){for(var e=this.planes,n=0;n<6;n++){var i=e[n];if(In.x=i.normal.x>0?t.max.x:t.min.x,In.y=i.normal.y>0?t.max.y:t.min.y,In.z=i.normal.z>0?t.max.z:t.min.z,i.distanceToPoint(In)<0)return!1}return!0},containsPoint:function(t){for(var e=this.planes,n=0;n<6;n++)if(e[n].distanceToPoint(t)<0)return!1;return!0}});var Pn={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\tif( cutoffDistance > 0.0 ) {\n\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t}\n\treturn distanceFalloff;\n#else\n\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t}\n\treturn 1.0;\n#endif\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\n\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\n\treturn Fr * fresnel + F0;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\treturn specularColor * brdf.x + brdf.y;\n}\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\n\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\n\tvec3 FssEss = F * brdf.x + brdf.y;\n\tfloat Ess = brdf.x + brdf.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie(float roughness, float NoH) {\n\tfloat invAlpha  = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\n}\nfloat V_Neubelt(float NoV, float NoL) {\n\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\n}\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvarying vec3 vViewPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n  return m[ 2 ][ 3 ] == - 1.0;\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV( sampler2D envMap, vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\ttransformedNormal = mat3( instanceMatrix ) * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = normalMatrix * objectTangent;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t  vec3 reflectVec = reflect( -viewDir, normal );\n\t\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t#else\n\t\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, queryReflectVec, roughness );\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float fogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef REFLECTIVITY\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#endif\n#ifdef CLEARCOAT\n\tmaterial.clearcoat = saturate( clearcoat );\tmaterial.clearcoatRoughness = clamp( clearcoatRoughness, 0.04, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheen;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n#ifdef CLEARCOAT\n\tfloat clearcoat;\n\tfloat clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tvec3 sheenColor;\n#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = ccDotNL * directLight.color;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tccIrradiance *= PI;\n\t\t#endif\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\n\t\t\tmaterial.specularRoughness,\n\t\t\tdirectLight.direction,\n\t\t\tgeometry,\n\t\t\tmaterial.sheenColor\n\t\t);\n\t#else\n\t\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\n\t#endif\n\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef CLEARCOAT\n\t\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\n\t\tfloat ccDotNL = ccDotNV;\n\t\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\n\t#else\n\t\tfloat clearcoatDHR = 0.0;\n\t#endif\n\tfloat clearcoatInv = 1.0 - clearcoatDHR;\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\n#ifdef CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( pointLight.shadow, directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( spotLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectLight.color *= all( bvec3( directionalLight.shadow, directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\n\t#ifdef CLEARCOAT\n\t\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 1.0 ? log2( vFragDepth ) * logDepthBufFC * 0.5 : gl_FragCoord.z;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\t#ifdef USE_TANGENT\n\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( -vViewPosition, normal, normalScale, normalMap );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec2 normalScale, in sampler2D normalMap ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\n\t\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\n\t\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy *= normalScale;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tbool frontFacing = dot( cross( S, T ), N ) > 0.0;\n\t\t\tmapN.xy *= ( float( frontFacing ) * 2.0 - 1.0 );\n\t\t#else\n\t\t\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#endif\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 vTBN = mat3( tangent, bitangent, clearcoatNormal );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = clearcoatNormalScale * mapN.xy;\n\t\tclearcoatNormal = normalize( vTBN * mapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatNormalScale, clearcoatNormalMap );\n\t#endif\n#endif",clearcoat_normalmap_pars_fragment:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 encodeHalfRGBA ( vec2 v ) {\n\tvec4 encoded = vec4( 0.0 );\n\tconst vec2 offset = vec2( 1.0 / 255.0, 0.0 );\n\tencoded.xy = vec2( v.x, fract( v.x * 255.0 ) );\n\tencoded.xy = encoded.xy - ( encoded.yy * offset );\n\tencoded.zw = vec2( v.y, fract( v.y * 255.0 ) );\n\tencoded.zw = encoded.zw - ( encoded.ww * offset );\n\treturn encoded;\n}\nvec2 decodeHalfRGBA( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn decodeHalfRGBA( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = ( floor( uv * size - 0.5 ) + 0.5 ) * texelSize;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLight directionalLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= all( bvec2( directionalLight.shadow, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLight spotLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= all( bvec2( spotLight.shadow, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLight pointLight;\n\t#pragma unroll_loop\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= all( bvec2( pointLight.shadow, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\n}",uv_pars_fragment:"#ifdef USE_UV\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#ifndef FLAT_SHADED\n\t\tvNormal = normalize( transformedNormal );\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define REFLECTIVITY\n\t#define CLEARCOAT\n\t#define TRANSPARENCY\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef TRANSPARENCY\n\tuniform float transparency;\n#endif\n#ifdef REFLECTIVITY\n\tuniform float reflectivity;\n#endif\n#ifdef CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheen;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#ifdef TRANSPARENCY\n\t\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\n\t#endif\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},Rn={common:{diffuse:{value:new de(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new Y},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new V(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new de(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new de(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new Y}},sprite:{diffuse:{value:new de(15658734)},opacity:{value:1},center:{value:new V(.5,.5)},rotation:{value:0},map:{value:null},uvTransform:{value:new Y}}},On={basic:{uniforms:gn([Rn.common,Rn.specularmap,Rn.envmap,Rn.aomap,Rn.lightmap,Rn.fog]),vertexShader:Pn.meshbasic_vert,fragmentShader:Pn.meshbasic_frag},lambert:{uniforms:gn([Rn.common,Rn.specularmap,Rn.envmap,Rn.aomap,Rn.lightmap,Rn.emissivemap,Rn.fog,Rn.lights,{emissive:{value:new de(0)}}]),vertexShader:Pn.meshlambert_vert,fragmentShader:Pn.meshlambert_frag},phong:{uniforms:gn([Rn.common,Rn.specularmap,Rn.envmap,Rn.aomap,Rn.lightmap,Rn.emissivemap,Rn.bumpmap,Rn.normalmap,Rn.displacementmap,Rn.gradientmap,Rn.fog,Rn.lights,{emissive:{value:new de(0)},specular:{value:new de(1118481)},shininess:{value:30}}]),vertexShader:Pn.meshphong_vert,fragmentShader:Pn.meshphong_frag},standard:{uniforms:gn([Rn.common,Rn.envmap,Rn.aomap,Rn.lightmap,Rn.emissivemap,Rn.bumpmap,Rn.normalmap,Rn.displacementmap,Rn.roughnessmap,Rn.metalnessmap,Rn.fog,Rn.lights,{emissive:{value:new de(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:Pn.meshphysical_vert,fragmentShader:Pn.meshphysical_frag},matcap:{uniforms:gn([Rn.common,Rn.bumpmap,Rn.normalmap,Rn.displacementmap,Rn.fog,{matcap:{value:null}}]),vertexShader:Pn.meshmatcap_vert,fragmentShader:Pn.meshmatcap_frag},points:{uniforms:gn([Rn.points,Rn.fog]),vertexShader:Pn.points_vert,fragmentShader:Pn.points_frag},dashed:{uniforms:gn([Rn.common,Rn.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Pn.linedashed_vert,fragmentShader:Pn.linedashed_frag},depth:{uniforms:gn([Rn.common,Rn.displacementmap]),vertexShader:Pn.depth_vert,fragmentShader:Pn.depth_frag},normal:{uniforms:gn([Rn.common,Rn.bumpmap,Rn.normalmap,Rn.displacementmap,{opacity:{value:1}}]),vertexShader:Pn.normal_vert,fragmentShader:Pn.normal_frag},sprite:{uniforms:gn([Rn.sprite,Rn.fog]),vertexShader:Pn.sprite_vert,fragmentShader:Pn.sprite_frag},background:{uniforms:{uvTransform:{value:new Y},t2D:{value:null}},vertexShader:Pn.background_vert,fragmentShader:Pn.background_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Pn.cube_vert,fragmentShader:Pn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Pn.equirect_vert,fragmentShader:Pn.equirect_frag},distanceRGBA:{uniforms:gn([Rn.common,Rn.displacementmap,{referencePosition:{value:new Z},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Pn.distanceRGBA_vert,fragmentShader:Pn.distanceRGBA_frag},shadow:{uniforms:gn([Rn.lights,Rn.fog,{color:{value:new de(0)},opacity:{value:1}}]),vertexShader:Pn.shadow_vert,fragmentShader:Pn.shadow_frag}};function kn(){var t=null,e=!1,n=null;function i(r,o){!1!==e&&(n(r,o),t.requestAnimationFrame(i))}return{start:function(){!0!==e&&null!==n&&(t.requestAnimationFrame(i),e=!0)},stop:function(){e=!1},setAnimationLoop:function(t){n=t},setContext:function(e){t=e}}}function Nn(t){var e=new WeakMap;return{get:function(t){return t.isInterleavedBufferAttribute&&(t=t.data),e.get(t)},remove:function(n){n.isInterleavedBufferAttribute&&(n=n.data);var i=e.get(n);i&&(t.deleteBuffer(i.buffer),e.delete(n))},update:function(n,i){n.isInterleavedBufferAttribute&&(n=n.data);var r=e.get(n);void 0===r?e.set(n,function(e,n){var i=e.array,r=e.dynamic?35048:35044,o=t.createBuffer();t.bindBuffer(n,o),t.bufferData(n,i,r),e.onUploadCallback();var a=5126;return i instanceof Float32Array?a=5126:i instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):i instanceof Uint16Array?a=5123:i instanceof Int16Array?a=5122:i instanceof Uint32Array?a=5125:i instanceof Int32Array?a=5124:i instanceof Int8Array?a=5120:i instanceof Uint8Array&&(a=5121),{buffer:o,type:a,bytesPerElement:i.BYTES_PER_ELEMENT,version:e.version}}(n,i)):r.version<n.version&&(function(e,n,i){var r=n.array,o=n.updateRange;t.bindBuffer(i,e),!1===n.dynamic?t.bufferData(i,r,35044):-1===o.count?t.bufferSubData(i,0,r):0===o.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(t.bufferSubData(i,o.offset*r.BYTES_PER_ELEMENT,r.subarray(o.offset,o.offset+o.count)),o.count=-1)}(r.buffer,n,i),r.version=n.version)}}}function zn(t,e,n,i){pn.call(this),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:i},this.fromBufferGeometry(new Bn(t,e,n,i)),this.mergeVertices()}function Bn(t,e,n,i){Ue.call(this),this.type="PlaneBufferGeometry",this.parameters={width:t,height:e,widthSegments:n,heightSegments:i};var r,o,a=(t=t||1)/2,s=(e=e||1)/2,l=Math.floor(n)||1,c=Math.floor(i)||1,u=l+1,h=c+1,p=t/l,d=e/c,f=[],m=[],g=[],v=[];for(o=0;o<h;o++){var y=o*d-s;for(r=0;r<u;r++){var _=r*p-a;m.push(_,-y,0),g.push(0,0,1),v.push(r/l),v.push(1-o/c)}}for(o=0;o<c;o++)for(r=0;r<l;r++){var x=r+u*o,b=r+u*(o+1),w=r+1+u*(o+1),S=r+1+u*o;f.push(x,b,S),f.push(b,w,S)}this.setIndex(f),this.addAttribute("position",new Le(m,3)),this.addAttribute("normal",new Le(g,3)),this.addAttribute("uv",new Le(v,2))}function Fn(t,e,n,i){var r,a,s=new de(0),l=0,c=null,u=0;function h(t,n){e.buffers.color.setClear(t.r,t.g,t.b,n,i)}return{getClearColor:function(){return s},setClearColor:function(t,e){s.set(t),h(s,l=void 0!==e?e:1)},getClearAlpha:function(){return l},setClearAlpha:function(t){h(s,l=t)},render:function(e,i,p,d){var f=i.background,m=t.vr,g=m.getSession&&m.getSession();if(g&&"additive"===g.environmentBlendMode&&(f=null),null===f?(h(s,l),c=null,u=0):f&&f.isColor&&(h(f,1),d=!0,c=null,u=0),(t.autoClear||d)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),f&&(f.isCubeTexture||f.isWebGLRenderTargetCube)){void 0===a&&((a=new on(new fn(1,1,1),new yn({type:"BackgroundCubeMaterial",uniforms:mn(On.cube.uniforms),vertexShader:On.cube.vertexShader,fragmentShader:On.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),a.geometry.removeAttribute("uv"),a.onBeforeRender=function(t,e,n){this.matrixWorld.copyPosition(n.matrixWorld)},Object.defineProperty(a.material,"map",{get:function(){return this.uniforms.tCube.value}}),n.update(a));var v=f.isWebGLRenderTargetCube?f.texture:f;a.material.uniforms.tCube.value=v,a.material.uniforms.tFlip.value=f.isWebGLRenderTargetCube?1:-1,c===f&&u===v.version||(a.material.needsUpdate=!0,c=f,u=v.version),e.unshift(a,a.geometry,a.material,0,0,null)}else f&&f.isTexture&&(void 0===r&&((r=new on(new Bn(2,2),new yn({type:"BackgroundMaterial",uniforms:mn(On.background.uniforms),vertexShader:On.background.vertexShader,fragmentShader:On.background.fragmentShader,side:o,depthTest:!1,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),Object.defineProperty(r.material,"map",{get:function(){return this.uniforms.t2D.value}}),n.update(r)),r.material.uniforms.t2D.value=f,!0===f.matrixAutoUpdate&&f.updateMatrix(),r.material.uniforms.uvTransform.value.copy(f.matrix),c===f&&u===f.version||(r.material.needsUpdate=!0,c=f,u=f.version),e.unshift(r,r.geometry,r.material,0,0,null))}}}function Un(t,e,n,i){var r;this.setMode=function(t){r=t},this.render=function(e,i){t.drawArrays(r,e,i),n.update(i,r)},this.renderInstances=function(o,a,s,l){if(0!==l){var c,u;if(i.isWebGL2)c=t,u="drawArraysInstanced";else if(u="drawArraysInstancedANGLE",null===(c=e.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");c[u](r,a,s,l),n.update(s,r,l)}}}function Hn(t,e,n){var i;function r(e){if("highp"===e){if(t.getShaderPrecisionFormat(35633,36338).precision>0&&t.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";e="mediump"}return"mediump"===e&&t.getShaderPrecisionFormat(35633,36337).precision>0&&t.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}var o="undefined"!=typeof WebGL2RenderingContext&&t instanceof WebGL2RenderingContext,a=void 0!==n.precision?n.precision:"highp",s=r(a);s!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",s,"instead."),a=s);var l=!0===n.logarithmicDepthBuffer,c=t.getParameter(34930),u=t.getParameter(35660),h=t.getParameter(3379),p=t.getParameter(34076),d=t.getParameter(34921),f=t.getParameter(36347),m=t.getParameter(36348),g=t.getParameter(36349),v=u>0,y=o||!!e.get("OES_texture_float");return{isWebGL2:o,getMaxAnisotropy:function(){if(void 0!==i)return i;var n=e.get("EXT_texture_filter_anisotropic");return i=null!==n?t.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:r,precision:a,logarithmicDepthBuffer:l,maxTextures:c,maxVertexTextures:u,maxTextureSize:h,maxCubemapSize:p,maxAttributes:d,maxVertexUniforms:f,maxVaryings:m,maxFragmentUniforms:g,vertexTextures:v,floatFragmentTextures:y,floatVertexTextures:v&&y,maxSamples:o?t.getParameter(36183):0}}function Vn(){var t=this,e=null,n=0,i=!1,r=!1,o=new Cn,a=new Y,s={value:null,needsUpdate:!1};function l(){s.value!==e&&(s.value=e,s.needsUpdate=n>0),t.numPlanes=n,t.numIntersection=0}function c(e,n,i,r){var l=null!==e?e.length:0,c=null;if(0!==l){if(c=s.value,!0!==r||null===c){var u=i+4*l,h=n.matrixWorldInverse;a.getNormalMatrix(h),(null===c||c.length<u)&&(c=new Float32Array(u));for(var p=0,d=i;p!==l;++p,d+=4)o.copy(e[p]).applyMatrix4(h,a),o.normal.toArray(c,d),c[d+3]=o.constant}s.value=c,s.needsUpdate=!0}return t.numPlanes=l,c}this.uniform=s,this.numPlanes=0,this.numIntersection=0,this.init=function(t,r,o){var a=0!==t.length||r||0!==n||i;return i=r,e=c(t,o,0),n=t.length,a},this.beginShadows=function(){r=!0,c(null)},this.endShadows=function(){r=!1,l()},this.setState=function(t,o,a,u,h,p){if(!i||null===t||0===t.length||r&&!a)r?c(null):l();else{var d=r?0:n,f=4*d,m=h.clippingState||null;s.value=m,m=c(t,u,f,p);for(var g=0;g!==f;++g)m[g]=e[g];h.clippingState=m,this.numIntersection=o?this.numPlanes:0,this.numPlanes+=d}}}function Gn(t){var e={};return{get:function(n){if(void 0!==e[n])return e[n];var i;switch(n){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(n)}return null===i&&console.warn("THREE.WebGLRenderer: "+n+" extension not supported."),e[n]=i,i}}}function jn(t,e,n){var i=new WeakMap,r=new WeakMap;function o(t){var a=t.target,s=i.get(a);for(var l in null!==s.index&&e.remove(s.index),s.attributes)e.remove(s.attributes[l]);a.removeEventListener("dispose",o),i.delete(a);var c=r.get(s);c&&(e.remove(c),r.delete(s)),n.memory.geometries--}function a(t){var n=[],i=t.index,o=t.attributes.position,a=0;if(null!==i){var s=i.array;a=i.version;for(var l=0,c=s.length;l<c;l+=3){var u=s[l+0],h=s[l+1],p=s[l+2];n.push(u,h,h,p,p,u)}}else for(s=o.array,a=o.version,l=0,c=s.length/3-1;l<c;l+=3)u=l+0,h=l+1,p=l+2,n.push(u,h,h,p,p,u);var d=new(Pe(n)>65535?Ce:Ee)(n,1);d.version=a,e.update(d,34963);var f=r.get(t);f&&e.remove(f),r.set(t,d)}return{get:function(t,e){var r=i.get(e);return r||(e.addEventListener("dispose",o),e.isBufferGeometry?r=e:e.isGeometry&&(void 0===e._bufferGeometry&&(e._bufferGeometry=(new Ue).setFromObject(t)),r=e._bufferGeometry),i.set(e,r),n.memory.geometries++,r)},update:function(t){var n=t.index,i=t.attributes;for(var r in null!==n&&e.update(n,34963),i)e.update(i[r],34962);var o=t.morphAttributes;for(var r in o)for(var a=o[r],s=0,l=a.length;s<l;s++)e.update(a[s],34962)},getWireframeAttribute:function(t){var e=r.get(t);if(e){var n=t.index;null!==n&&e.version<n.version&&a(t)}else a(t);return r.get(t)}}}function Wn(t,e,n,i){var r,o,a;this.setMode=function(t){r=t},this.setIndex=function(t){o=t.type,a=t.bytesPerElement},this.render=function(e,i){t.drawElements(r,i,o,e*a),n.update(i,r)},this.renderInstances=function(s,l,c,u){if(0!==u){var h,p;if(i.isWebGL2)h=t,p="drawElementsInstanced";else if(p="drawElementsInstancedANGLE",null===(h=e.get("ANGLE_instanced_arrays")))return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");h[p](r,c,o,l*a,u),n.update(c,r,u)}}}function Zn(t){var e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(t,n,i){switch(i=i||1,e.calls++,n){case 4:e.triangles+=i*(t/3);break;case 5:case 6:e.triangles+=i*(t-2);break;case 1:e.lines+=i*(t/2);break;case 3:e.lines+=i*(t-1);break;case 2:e.lines+=i*t;break;case 0:e.points+=i*t;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",n)}}}}function qn(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Xn(t){var e={},n=new Float32Array(8);return{update:function(i,r,o,a){var s=i.morphTargetInfluences,l=s.length,c=e[r.id];if(void 0===c){c=[];for(var u=0;u<l;u++)c[u]=[u,0];e[r.id]=c}var h=o.morphTargets&&r.morphAttributes.position,p=o.morphNormals&&r.morphAttributes.normal;for(u=0;u<l;u++)0!==(d=c[u])[1]&&(h&&r.removeAttribute("morphTarget"+u),p&&r.removeAttribute("morphNormal"+u));for(u=0;u<l;u++)(d=c[u])[0]=u,d[1]=s[u];for(c.sort(qn),u=0;u<8;u++){var d;if(d=c[u]){var f=d[0],m=d[1];if(m){h&&r.addAttribute("morphTarget"+u,h[f]),p&&r.addAttribute("morphNormal"+u,p[f]),n[u]=m;continue}}n[u]=0}a.getUniforms().setValue(t,"morphTargetInfluences",n)}}}function Yn(t,e,n,i){var r={};return{update:function(t){var o=i.render.frame,a=t.geometry,s=e.get(t,a);return r[s.id]!==o&&(a.isGeometry&&s.updateFromObject(t),e.update(s),r[s.id]=o),t.isInstancedMesh&&n.update(t.instanceMatrix,34962),s},dispose:function(){r={}}}}function Jn(t,e,n,i,r,o,a,s,l,c){t=void 0!==t?t:[],e=void 0!==e?e:301,a=void 0!==a?a:S,$.call(this,t,e,n,i,r,o,a,s,l,c),this.flipY=!1}function Kn(t,e,n,i){$.call(this,null),this.image={data:t||null,width:e||1,height:n||1,depth:i||1},this.magFilter=p,this.minFilter=p,this.wrapR=u,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}function $n(t,e,n,i){$.call(this,null),this.image={data:t||null,width:e||1,height:n||1,depth:i||1},this.magFilter=p,this.minFilter=p,this.wrapR=u,this.generateMipmaps=!1,this.flipY=!1,this.needsUpdate=!0}On.physical={uniforms:gn([On.standard.uniforms,{transparency:{value:0},clearcoat:{value:0},clearcoatRoughness:{value:0},sheen:{value:new de(0)},clearcoatNormalScale:{value:new V(1,1)},clearcoatNormalMap:{value:null}}]),vertexShader:Pn.meshphysical_vert,fragmentShader:Pn.meshphysical_frag},zn.prototype=Object.create(pn.prototype),zn.prototype.constructor=zn,Bn.prototype=Object.create(Ue.prototype),Bn.prototype.constructor=Bn,Jn.prototype=Object.create($.prototype),Jn.prototype.constructor=Jn,Jn.prototype.isCubeTexture=!0,Object.defineProperty(Jn.prototype,"images",{get:function(){return this.image},set:function(t){this.image=t}}),Kn.prototype=Object.create($.prototype),Kn.prototype.constructor=Kn,Kn.prototype.isDataTexture2DArray=!0,$n.prototype=Object.create($.prototype),$n.prototype.constructor=$n,$n.prototype.isDataTexture3D=!0;var Qn=new $,ti=new Kn,ei=new $n,ni=new Jn,ii=[],ri=[],oi=new Float32Array(16),ai=new Float32Array(9),si=new Float32Array(4);function li(t,e,n){var i=t[0];if(i<=0||i>0)return t;var r=e*n,o=ii[r];if(void 0===o&&(o=new Float32Array(r),ii[r]=o),0!==e){i.toArray(o,0);for(var a=1,s=0;a!==e;++a)s+=n,t[a].toArray(o,s)}return o}function ci(t,e){if(t.length!==e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function ui(t,e){for(var n=0,i=e.length;n<i;n++)t[n]=e[n]}function hi(t,e){var n=ri[e];void 0===n&&(n=new Int32Array(e),ri[e]=n);for(var i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function pi(t,e){var n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function di(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y||(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ci(n,e))return;t.uniform2fv(this.addr,e),ui(n,e)}}function fi(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z||(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(void 0!==e.r)n[0]===e.r&&n[1]===e.g&&n[2]===e.b||(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(ci(n,e))return;t.uniform3fv(this.addr,e),ui(n,e)}}function mi(t,e){var n=this.cache;if(void 0!==e.x)n[0]===e.x&&n[1]===e.y&&n[2]===e.z&&n[3]===e.w||(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ci(n,e))return;t.uniform4fv(this.addr,e),ui(n,e)}}function gi(t,e){var n=this.cache,i=e.elements;if(void 0===i){if(ci(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),ui(n,e)}else{if(ci(n,i))return;si.set(i),t.uniformMatrix2fv(this.addr,!1,si),ui(n,i)}}function vi(t,e){var n=this.cache,i=e.elements;if(void 0===i){if(ci(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),ui(n,e)}else{if(ci(n,i))return;ai.set(i),t.uniformMatrix3fv(this.addr,!1,ai),ui(n,i)}}function yi(t,e){var n=this.cache,i=e.elements;if(void 0===i){if(ci(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),ui(n,e)}else{if(ci(n,i))return;oi.set(i),t.uniformMatrix4fv(this.addr,!1,oi),ui(n,i)}}function _i(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.safeSetTexture2D(e||Qn,r)}function xi(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||ti,r)}function bi(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||ei,r)}function wi(t,e,n){var i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.safeSetTextureCube(e||ni,r)}function Si(t,e){var n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Mi(t,e){var n=this.cache;ci(n,e)||(t.uniform2iv(this.addr,e),ui(n,e))}function Ti(t,e){var n=this.cache;ci(n,e)||(t.uniform3iv(this.addr,e),ui(n,e))}function Ei(t,e){var n=this.cache;ci(n,e)||(t.uniform4iv(this.addr,e),ui(n,e))}function Ai(t,e){t.uniform1fv(this.addr,e)}function Ci(t,e){t.uniform1iv(this.addr,e)}function Li(t,e){t.uniform2iv(this.addr,e)}function Ii(t,e){t.uniform3iv(this.addr,e)}function Di(t,e){t.uniform4iv(this.addr,e)}function Pi(t,e){var n=li(e,this.size,2);t.uniform2fv(this.addr,n)}function Ri(t,e){var n=li(e,this.size,3);t.uniform3fv(this.addr,n)}function Oi(t,e){var n=li(e,this.size,4);t.uniform4fv(this.addr,n)}function ki(t,e){var n=li(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Ni(t,e){var n=li(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function zi(t,e){var n=li(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Bi(t,e,n){var i=e.length,r=hi(n,i);t.uniform1iv(this.addr,r);for(var o=0;o!==i;++o)n.safeSetTexture2D(e[o]||Qn,r[o])}function Fi(t,e,n){var i=e.length,r=hi(n,i);t.uniform1iv(this.addr,r);for(var o=0;o!==i;++o)n.safeSetTextureCube(e[o]||ni,r[o])}function Ui(t,e,n){this.id=t,this.addr=n,this.cache=[],this.setValue=function(t){switch(t){case 5126:return pi;case 35664:return di;case 35665:return fi;case 35666:return mi;case 35674:return gi;case 35675:return vi;case 35676:return yi;case 35678:case 36198:return _i;case 35679:return bi;case 35680:return wi;case 36289:return xi;case 5124:case 35670:return Si;case 35667:case 35671:return Mi;case 35668:case 35672:return Ti;case 35669:case 35673:return Ei}}(e.type)}function Hi(t,e,n){this.id=t,this.addr=n,this.cache=[],this.size=e.size,this.setValue=function(t){switch(t){case 5126:return Ai;case 35664:return Pi;case 35665:return Ri;case 35666:return Oi;case 35674:return ki;case 35675:return Ni;case 35676:return zi;case 35678:return Bi;case 35680:return Fi;case 5124:case 35670:return Ci;case 35667:case 35671:return Li;case 35668:case 35672:return Ii;case 35669:case 35673:return Di}}(e.type)}function Vi(t){this.id=t,this.seq=[],this.map={}}Hi.prototype.updateCache=function(t){var e=this.cache;t instanceof Float32Array&&e.length!==t.length&&(this.cache=new Float32Array(t.length)),ui(e,t)},Vi.prototype.setValue=function(t,e,n){for(var i=this.seq,r=0,o=i.length;r!==o;++r){var a=i[r];a.setValue(t,e[a.id],n)}};var Gi=/([\w\d_]+)(\])?(\[|\.)?/g;function ji(t,e){t.seq.push(e),t.map[e.id]=e}function Wi(t,e,n){var i=t.name,r=i.length;for(Gi.lastIndex=0;;){var o=Gi.exec(i),a=Gi.lastIndex,s=o[1],l="]"===o[2],c=o[3];if(l&&(s|=0),void 0===c||"["===c&&a+2===r){ji(n,void 0===c?new Ui(s,t,e):new Hi(s,t,e));break}var u=n.map[s];void 0===u&&ji(n,u=new Vi(s)),n=u}}function Zi(t,e){this.seq=[],this.map={};for(var n=t.getProgramParameter(e,35718),i=0;i<n;++i){var r=t.getActiveUniform(e,i);Wi(r,t.getUniformLocation(e,r.name),this)}}function qi(t,e,n){var i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}Zi.prototype.setValue=function(t,e,n,i){var r=this.map[e];void 0!==r&&r.setValue(t,n,i)},Zi.prototype.setOptional=function(t,e,n){var i=e[n];void 0!==i&&this.setValue(t,n,i)},Zi.upload=function(t,e,n,i){for(var r=0,o=e.length;r!==o;++r){var a=e[r],s=n[a.id];!1!==s.needsUpdate&&a.setValue(t,s.value,i)}},Zi.seqWithValue=function(t,e){for(var n=[],i=0,r=t.length;i!==r;++i){var o=t[i];o.id in e&&n.push(o)}return n};var Xi=0;function Yi(t){switch(t){case k:return["Linear","( value )"];case N:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:throw new Error("unsupported encoding: "+t)}}function Ji(t,e,n){var i=t.getShaderParameter(e,35713),r=t.getShaderInfoLog(e).trim();return i&&""===r?"":"THREE.WebGLShader: gl.getShaderInfoLog() "+n+"\n"+r+function(t){for(var e=t.split("\n"),n=0;n<e.length;n++)e[n]=n+1+": "+e[n];return e.join("\n")}(t.getShaderSource(e))}function Ki(t,e){var n=Yi(e);return"vec4 "+t+"( vec4 value ) { return "+n[0]+"ToLinear"+n[1]+"; }"}function $i(t,e){var n;switch(e){case 1:n="Linear";break;case 2:n="Reinhard";break;case 3:n="Uncharted2";break;case 4:n="OptimizedCineon";break;case 5:n="ACESFilmic";break;default:throw new Error("unsupported toneMapping: "+e)}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Qi(t){return""!==t}function tr(t,e){return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function er(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}var nr=/^[ \t]*#include +<([\w\d./]+)>/gm;function ir(t){return t.replace(nr,rr)}function rr(t,e){var n=Pn[e];if(void 0===n)throw new Error("Can not resolve #include <"+e+">");return ir(n)}var or=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g;function ar(t){return t.replace(or,sr)}function sr(t,e,n,i){for(var r="",o=parseInt(e);o<parseInt(n);o++)r+=i.replace(/\[ i \]/g,"[ "+o+" ]").replace(/UNROLLED_LOOP_INDEX/g,o);return r}function lr(t){var e="precision "+t.precision+" float;\nprecision "+t.precision+" int;";return"highp"===t.precision?e+="\n#define HIGH_PRECISION":"mediump"===t.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===t.precision&&(e+="\n#define LOW_PRECISION"),e}function cr(t,e,n,i,r,o){var a,s,l,c,u=t.getContext(),h=i.defines,p=r.vertexShader,d=r.fragmentShader,f=function(t){var e="SHADOWMAP_TYPE_BASIC";return 1===t.shadowMapType?e="SHADOWMAP_TYPE_PCF":2===t.shadowMapType?e="SHADOWMAP_TYPE_PCF_SOFT":3===t.shadowMapType&&(e="SHADOWMAP_TYPE_VSM"),e}(o),m=function(t,e){var n="ENVMAP_TYPE_CUBE";if(t.envMap)switch(e.envMap.mapping){case 301:case 302:n="ENVMAP_TYPE_CUBE";break;case 306:case 307:n="ENVMAP_TYPE_CUBE_UV";break;case 303:case 304:n="ENVMAP_TYPE_EQUIREC";break;case 305:n="ENVMAP_TYPE_SPHERE"}return n}(o,i),g=function(t,e){var n="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(e.envMap.mapping){case 302:case 304:n="ENVMAP_MODE_REFRACTION"}return n}(o,i),v=function(t,e){var n="ENVMAP_BLENDING_MULTIPLY";if(t.envMap)switch(e.combine){case 0:n="ENVMAP_BLENDING_MULTIPLY";break;case 1:n="ENVMAP_BLENDING_MIX";break;case 2:n="ENVMAP_BLENDING_ADD"}return n}(o,i),y=t.gammaFactor>0?t.gammaFactor:1,_=o.isWebGL2?"":function(t,e,n){return[(t=t||{}).derivatives||e.envMapCubeUV||e.bumpMap||e.tangentSpaceNormalMap||e.clearcoatNormalMap||e.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(t.fragDepth||e.logarithmicDepthBuffer)&&n.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",t.drawBuffers&&n.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(t.shaderTextureLOD||e.envMap)&&n.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Qi).join("\n")}(i.extensions,o,e),x=function(t){var e=[];for(var n in t){var i=t[n];!1!==i&&e.push("#define "+n+" "+i)}return e.join("\n")}(h),b=u.createProgram(),w=t.getRenderTarget(),S=w&&w.isWebGLMultiviewRenderTarget?w.numViews:0;if(i.isRawShaderMaterial?((a=[x].filter(Qi).join("\n")).length>0&&(a+="\n"),(s=[_,x].filter(Qi).join("\n")).length>0&&(s+="\n")):(a=[lr(o),"#define SHADER_NAME "+r.name,x,o.instancing?"#define USE_INSTANCING":"",o.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+y,"#define MAX_BONES "+o.maxBones,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp2?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+g:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.normalMap&&o.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",o.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",o.displacementMap&&o.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.vertexTangents?"#define USE_TANGENT":"",o.vertexColors?"#define USE_COLOR":"",o.vertexUvs?"#define USE_UV":"",o.flatShading?"#define FLAT_SHADED":"",o.skinning?"#define USE_SKINNING":"",o.useVertexTexture?"#define BONE_TEXTURE":"",o.morphTargets?"#define USE_MORPHTARGETS":"",o.morphNormals&&!1===o.flatShading?"#define USE_MORPHNORMALS":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+f:"",o.sizeAttenuation?"#define USE_SIZEATTENUATION":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(o.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","#ifdef USE_INSTANCING"," attribute mat4 instanceMatrix;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Qi).join("\n"),s=[_,lr(o),"#define SHADER_NAME "+r.name,x,o.alphaTest?"#define ALPHATEST "+o.alphaTest+(o.alphaTest%1?"":".0"):"","#define GAMMA_FACTOR "+y,o.useFog&&o.fog?"#define USE_FOG":"",o.useFog&&o.fogExp2?"#define FOG_EXP2":"",o.map?"#define USE_MAP":"",o.matcap?"#define USE_MATCAP":"",o.envMap?"#define USE_ENVMAP":"",o.envMap?"#define "+m:"",o.envMap?"#define "+g:"",o.envMap?"#define "+v:"",o.lightMap?"#define USE_LIGHTMAP":"",o.aoMap?"#define USE_AOMAP":"",o.emissiveMap?"#define USE_EMISSIVEMAP":"",o.bumpMap?"#define USE_BUMPMAP":"",o.normalMap?"#define USE_NORMALMAP":"",o.normalMap&&o.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",o.normalMap&&o.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",o.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",o.specularMap?"#define USE_SPECULARMAP":"",o.roughnessMap?"#define USE_ROUGHNESSMAP":"",o.metalnessMap?"#define USE_METALNESSMAP":"",o.alphaMap?"#define USE_ALPHAMAP":"",o.sheen?"#define USE_SHEEN":"",o.vertexTangents?"#define USE_TANGENT":"",o.vertexColors?"#define USE_COLOR":"",o.vertexUvs?"#define USE_UV":"",o.gradientMap?"#define USE_GRADIENTMAP":"",o.flatShading?"#define FLAT_SHADED":"",o.doubleSided?"#define DOUBLE_SIDED":"",o.flipSided?"#define FLIP_SIDED":"",o.shadowMapEnabled?"#define USE_SHADOWMAP":"",o.shadowMapEnabled?"#define "+f:"",o.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",o.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",o.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",o.logarithmicDepthBuffer&&(o.isWebGL2||e.get("EXT_frag_depth"))?"#define USE_LOGDEPTHBUF_EXT":"",(i.extensions&&i.extensions.shaderTextureLOD||o.envMap)&&(o.isWebGL2||e.get("EXT_shader_texture_lod"))?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",0!==o.toneMapping?"#define TONE_MAPPING":"",0!==o.toneMapping?Pn.tonemapping_pars_fragment:"",0!==o.toneMapping?$i("toneMapping",o.toneMapping):"",o.dithering?"#define DITHERING":"",o.outputEncoding||o.mapEncoding||o.matcapEncoding||o.envMapEncoding||o.emissiveMapEncoding?Pn.encodings_pars_fragment:"",o.mapEncoding?Ki("mapTexelToLinear",o.mapEncoding):"",o.matcapEncoding?Ki("matcapTexelToLinear",o.matcapEncoding):"",o.envMapEncoding?Ki("envMapTexelToLinear",o.envMapEncoding):"",o.emissiveMapEncoding?Ki("emissiveMapTexelToLinear",o.emissiveMapEncoding):"",o.outputEncoding?("linearToOutputTexel",l=o.outputEncoding,c=Yi(l),"vec4 linearToOutputTexel( vec4 value ) { return LinearTo"+c[0]+c[1]+"; }"):"",o.depthPacking?"#define DEPTH_PACKING "+i.depthPacking:"","\n"].filter(Qi).join("\n")),p=er(p=tr(p=ir(p),o),o),d=er(d=tr(d=ir(d),o),o),p=ar(p),d=ar(d),o.isWebGL2&&!i.isRawShaderMaterial){var M=!1,T=/^\s*#version\s+300\s+es\s*\n/;i.isShaderMaterial&&null!==p.match(T)&&null!==d.match(T)&&(M=!0,p=p.replace(T,""),d=d.replace(T,"")),a=["#version 300 es\n","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+a,s=["#version 300 es\n","#define varying in",M?"":"out highp vec4 pc_fragColor;",M?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+s,S>0&&(a=(a=a.replace("#version 300 es\n",["#version 300 es\n","#extension GL_OVR_multiview2 : require","layout(num_views = "+S+") in;","#define VIEW_ID gl_ViewID_OVR"].join("\n"))).replace(["uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;"].join("\n"),["uniform mat4 modelViewMatrices["+S+"];","uniform mat4 projectionMatrices["+S+"];","uniform mat4 viewMatrices["+S+"];","uniform mat3 normalMatrices["+S+"];","#define modelViewMatrix modelViewMatrices[VIEW_ID]","#define projectionMatrix projectionMatrices[VIEW_ID]","#define viewMatrix viewMatrices[VIEW_ID]","#define normalMatrix normalMatrices[VIEW_ID]"].join("\n")),s=(s=s.replace("#version 300 es\n",["#version 300 es\n","#extension GL_OVR_multiview2 : require","#define VIEW_ID gl_ViewID_OVR"].join("\n"))).replace("uniform mat4 viewMatrix;",["uniform mat4 viewMatrices["+S+"];","#define viewMatrix viewMatrices[VIEW_ID]"].join("\n")))}var E,A,C=s+d,L=qi(u,35633,a+p),I=qi(u,35632,C);if(u.attachShader(b,L),u.attachShader(b,I),void 0!==i.index0AttributeName?u.bindAttribLocation(b,0,i.index0AttributeName):!0===o.morphTargets&&u.bindAttribLocation(b,0,"position"),u.linkProgram(b),t.debug.checkShaderErrors){var D=u.getProgramInfoLog(b).trim(),P=u.getShaderInfoLog(L).trim(),R=u.getShaderInfoLog(I).trim(),O=!0,k=!0;if(!1===u.getProgramParameter(b,35714)){O=!1;var N=Ji(u,L,"vertex"),z=Ji(u,I,"fragment");console.error("THREE.WebGLProgram: shader error: ",u.getError(),"35715",u.getProgramParameter(b,35715),"gl.getProgramInfoLog",D,N,z)}else""!==D?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",D):""!==P&&""!==R||(k=!1);k&&(this.diagnostics={runnable:O,material:i,programLog:D,vertexShader:{log:P,prefix:a},fragmentShader:{log:R,prefix:s}})}return u.deleteShader(L),u.deleteShader(I),this.getUniforms=function(){return void 0===E&&(E=new Zi(u,b)),E},this.getAttributes=function(){return void 0===A&&(A=function(t,e){for(var n={},i=t.getProgramParameter(e,35721),r=0;r<i;r++){var o=t.getActiveAttrib(e,r).name;n[o]=t.getAttribLocation(e,o)}return n}(u,b)),A},this.destroy=function(){u.deleteProgram(b),this.program=void 0},this.name=r.name,this.id=Xi++,this.code=n,this.usedTimes=1,this.program=b,this.vertexShader=L,this.fragmentShader=I,this.numMultiviewViews=S,this}function ur(t,e,n){var i=[],r={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},o=["precision","supportsVertexTextures","instancing","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoatNormalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","vertexTangents","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","sheen"];function s(t,e){var n;return t?t.isTexture?n=t.encoding:t.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),n=t.texture.encoding):n=k,n===k&&e&&(n=3007),n}this.getParameters=function(e,i,o,l,c,u,h){var p=r[e.type],d=h.isSkinnedMesh?function(t){var e=t.skeleton.bones;if(n.floatVertexTextures)return 1024;var i=n.maxVertexUniforms,r=Math.floor((i-20)/4),o=Math.min(r,e.length);return o<e.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+e.length+" bones. This GPU supports "+o+"."),0):o}(h):0,f=n.precision;null!==e.precision&&(f=n.getMaxPrecision(e.precision))!==e.precision&&console.warn("THREE.WebGLProgram.getParameters:",e.precision,"not supported, using",f,"instead.");var m=t.getRenderTarget();return{isWebGL2:n.isWebGL2,shaderID:p,precision:f,instancing:!0===h.isInstancedMesh,supportsVertexTextures:n.vertexTextures,outputEncoding:s(m?m.texture:null,t.gammaOutput),map:!!e.map,mapEncoding:s(e.map,t.gammaInput),matcap:!!e.matcap,matcapEncoding:s(e.matcap,t.gammaInput),envMap:!!e.envMap,envMapMode:e.envMap&&e.envMap.mapping,envMapEncoding:s(e.envMap,t.gammaInput),envMapCubeUV:!!e.envMap&&(306===e.envMap.mapping||307===e.envMap.mapping),lightMap:!!e.lightMap,aoMap:!!e.aoMap,emissiveMap:!!e.emissiveMap,emissiveMapEncoding:s(e.emissiveMap,t.gammaInput),bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,objectSpaceNormalMap:1===e.normalMapType,tangentSpaceNormalMap:0===e.normalMapType,clearcoatNormalMap:!!e.clearcoatNormalMap,displacementMap:!!e.displacementMap,roughnessMap:!!e.roughnessMap,metalnessMap:!!e.metalnessMap,specularMap:!!e.specularMap,alphaMap:!!e.alphaMap,gradientMap:!!e.gradientMap,sheen:!!e.sheen,combine:e.combine,vertexTangents:e.normalMap&&e.vertexTangents,vertexColors:e.vertexColors,vertexUvs:!!(e.map||e.bumpMap||e.normalMap||e.specularMap||e.alphaMap||e.emissiveMap||e.roughnessMap||e.metalnessMap||e.clearcoatNormalMap),fog:!!l,useFog:e.fog,fogExp2:l&&l.isFogExp2,flatShading:e.flatShading,sizeAttenuation:e.sizeAttenuation,logarithmicDepthBuffer:n.logarithmicDepthBuffer,skinning:e.skinning&&d>0,maxBones:d,useVertexTexture:n.floatVertexTextures,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:t.maxMorphTargets,maxMorphNormals:t.maxMorphNormals,numDirLights:i.directional.length,numPointLights:i.point.length,numSpotLights:i.spot.length,numRectAreaLights:i.rectArea.length,numHemiLights:i.hemi.length,numDirLightShadows:i.directionalShadowMap.length,numPointLightShadows:i.pointShadowMap.length,numSpotLightShadows:i.spotShadowMap.length,numClippingPlanes:c,numClipIntersection:u,dithering:e.dithering,shadowMapEnabled:t.shadowMap.enabled&&o.length>0,shadowMapType:t.shadowMap.type,toneMapping:e.toneMapped?t.toneMapping:0,physicallyCorrectLights:t.physicallyCorrectLights,premultipliedAlpha:e.premultipliedAlpha,alphaTest:e.alphaTest,doubleSided:e.side===a,flipSided:1===e.side,depthPacking:void 0!==e.depthPacking&&e.depthPacking}},this.getProgramCode=function(e,n){var i=[];if(n.shaderID?i.push(n.shaderID):(i.push(e.fragmentShader),i.push(e.vertexShader)),void 0!==e.defines)for(var r in e.defines)i.push(r),i.push(e.defines[r]);for(var a=0;a<o.length;a++)i.push(n[o[a]]);return i.push(e.onBeforeCompile.toString()),i.push(t.gammaOutput),i.push(t.gammaFactor),i.join()},this.acquireProgram=function(n,r,o,a){for(var s,l=0,c=i.length;l<c;l++){var u=i[l];if(u.code===a){++(s=u).usedTimes;break}}return void 0===s&&(s=new cr(t,e,a,n,r,o),i.push(s)),s},this.releaseProgram=function(t){if(0==--t.usedTimes){var e=i.indexOf(t);i[e]=i[i.length-1],i.pop(),t.destroy()}},this.programs=i}function hr(){var t=new WeakMap;return{get:function(e){var n=t.get(e);return void 0===n&&(n={},t.set(e,n)),n},remove:function(e){t.delete(e)},update:function(e,n,i){t.get(e)[n]=i},dispose:function(){t=new WeakMap}}}function pr(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.program!==e.program?t.program.id-e.program.id:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function dr(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function fr(){var t=[],e=0,n=[],i=[],r={id:-1};function o(n,i,o,a,s,l){var c=t[e];return void 0===c?(c={id:n.id,object:n,geometry:i,material:o,program:o.program||r,groupOrder:a,renderOrder:n.renderOrder,z:s,group:l},t[e]=c):(c.id=n.id,c.object=n,c.geometry=i,c.material=o,c.program=o.program||r,c.groupOrder=a,c.renderOrder=n.renderOrder,c.z=s,c.group=l),e++,c}return{opaque:n,transparent:i,init:function(){e=0,n.length=0,i.length=0},push:function(t,e,r,a,s,l){var c=o(t,e,r,a,s,l);(!0===r.transparent?i:n).push(c)},unshift:function(t,e,r,a,s,l){var c=o(t,e,r,a,s,l);(!0===r.transparent?i:n).unshift(c)},sort:function(){n.length>1&&n.sort(pr),i.length>1&&i.sort(dr)}}}function mr(){var t=new WeakMap;function e(n){var i=n.target;i.removeEventListener("dispose",e),t.delete(i)}return{get:function(n,i){var r,o=t.get(n);return void 0===o?(r=new fr,t.set(n,new WeakMap),t.get(n).set(i,r),n.addEventListener("dispose",e)):void 0===(r=o.get(i))&&(r=new fr,o.set(i,r)),r},dispose:function(){t=new WeakMap}}}function gr(){var t={};return{get:function(e){if(void 0!==t[e.id])return t[e.id];var n;switch(e.type){case"DirectionalLight":n={direction:new Z,color:new de,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new V};break;case"SpotLight":n={position:new Z,direction:new Z,color:new de,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new V};break;case"PointLight":n={position:new Z,color:new de,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new V,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":n={direction:new Z,skyColor:new de,groundColor:new de};break;case"RectAreaLight":n={color:new de,position:new Z,halfWidth:new Z,halfHeight:new Z}}return t[e.id]=n,n}}}var vr=0;function yr(t,e){return(e.castShadow?1:0)-(t.castShadow?1:0)}function _r(){for(var t=new gr,e={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},n=0;n<9;n++)e.probe.push(new Z);var i=new Z,r=new ct,o=new ct;return{setup:function(n,a,s){for(var l=0,c=0,u=0,h=0;h<9;h++)e.probe[h].set(0,0,0);var p=0,d=0,f=0,m=0,g=0,v=0,y=0,_=0,x=s.matrixWorldInverse;n.sort(yr),h=0;for(var b=n.length;h<b;h++){var w=n[h],S=w.color,M=w.intensity,T=w.distance,E=w.shadow&&w.shadow.map?w.shadow.map.texture:null;if(w.isAmbientLight)l+=S.r*M,c+=S.g*M,u+=S.b*M;else if(w.isLightProbe)for(var A=0;A<9;A++)e.probe[A].addScaledVector(w.sh.coefficients[A],M);else if(w.isDirectionalLight){if((L=t.get(w)).color.copy(w.color).multiplyScalar(w.intensity),L.direction.setFromMatrixPosition(w.matrixWorld),i.setFromMatrixPosition(w.target.matrixWorld),L.direction.sub(i),L.direction.transformDirection(x),L.shadow=w.castShadow,w.castShadow){var C=w.shadow;L.shadowBias=C.bias,L.shadowRadius=C.radius,L.shadowMapSize=C.mapSize,e.directionalShadowMap[p]=E,e.directionalShadowMatrix[p]=w.shadow.matrix,v++}e.directional[p]=L,p++}else if(w.isSpotLight)(L=t.get(w)).position.setFromMatrixPosition(w.matrixWorld),L.position.applyMatrix4(x),L.color.copy(S).multiplyScalar(M),L.distance=T,L.direction.setFromMatrixPosition(w.matrixWorld),i.setFromMatrixPosition(w.target.matrixWorld),L.direction.sub(i),L.direction.transformDirection(x),L.coneCos=Math.cos(w.angle),L.penumbraCos=Math.cos(w.angle*(1-w.penumbra)),L.decay=w.decay,L.shadow=w.castShadow,w.castShadow&&(C=w.shadow,L.shadowBias=C.bias,L.shadowRadius=C.radius,L.shadowMapSize=C.mapSize,e.spotShadowMap[f]=E,e.spotShadowMatrix[f]=w.shadow.matrix,_++),e.spot[f]=L,f++;else if(w.isRectAreaLight)(L=t.get(w)).color.copy(S).multiplyScalar(M),L.position.setFromMatrixPosition(w.matrixWorld),L.position.applyMatrix4(x),o.identity(),r.copy(w.matrixWorld),r.premultiply(x),o.extractRotation(r),L.halfWidth.set(.5*w.width,0,0),L.halfHeight.set(0,.5*w.height,0),L.halfWidth.applyMatrix4(o),L.halfHeight.applyMatrix4(o),e.rectArea[m]=L,m++;else if(w.isPointLight)(L=t.get(w)).position.setFromMatrixPosition(w.matrixWorld),L.position.applyMatrix4(x),L.color.copy(w.color).multiplyScalar(w.intensity),L.distance=w.distance,L.decay=w.decay,L.shadow=w.castShadow,w.castShadow&&(C=w.shadow,L.shadowBias=C.bias,L.shadowRadius=C.radius,L.shadowMapSize=C.mapSize,L.shadowCameraNear=C.camera.near,L.shadowCameraFar=C.camera.far,e.pointShadowMap[d]=E,e.pointShadowMatrix[d]=w.shadow.matrix,y++),e.point[d]=L,d++;else if(w.isHemisphereLight){var L;(L=t.get(w)).direction.setFromMatrixPosition(w.matrixWorld),L.direction.transformDirection(x),L.direction.normalize(),L.skyColor.copy(w.color).multiplyScalar(M),L.groundColor.copy(w.groundColor).multiplyScalar(M),e.hemi[g]=L,g++}}e.ambient[0]=l,e.ambient[1]=c,e.ambient[2]=u;var I=e.hash;I.directionalLength===p&&I.pointLength===d&&I.spotLength===f&&I.rectAreaLength===m&&I.hemiLength===g&&I.numDirectionalShadows===v&&I.numPointShadows===y&&I.numSpotShadows===_||(e.directional.length=p,e.spot.length=f,e.rectArea.length=m,e.point.length=d,e.hemi.length=g,e.directionalShadowMap.length=v,e.pointShadowMap.length=y,e.spotShadowMap.length=_,e.directionalShadowMatrix.length=v,e.pointShadowMatrix.length=y,e.spotShadowMatrix.length=_,I.directionalLength=p,I.pointLength=d,I.spotLength=f,I.rectAreaLength=m,I.hemiLength=g,I.numDirectionalShadows=v,I.numPointShadows=y,I.numSpotShadows=_,e.version=vr++)},state:e}}function xr(){var t=new _r,e=[],n=[];return{init:function(){e.length=0,n.length=0},state:{lightsArray:e,shadowsArray:n,lights:t},setupLights:function(i){t.setup(e,n,i)},pushLight:function(t){e.push(t)},pushShadow:function(t){n.push(t)}}}function br(){var t=new WeakMap;function e(n){var i=n.target;i.removeEventListener("dispose",e),t.delete(i)}return{get:function(n,i){var r;return!1===t.has(n)?(r=new xr,t.set(n,new WeakMap),t.get(n).set(i,r),n.addEventListener("dispose",e)):!1===t.get(n).has(i)?(r=new xr,t.get(n).set(i,r)):r=t.get(n).get(i),r},dispose:function(){t=new WeakMap}}}function wr(t){_e.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(t)}function Sr(t){_e.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new Z,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(t)}function Mr(t,e,n){var i=new Dn,r=new V,s=new V,l=new Q,c=new Array(4),u=new Array(4),h={},d={0:1,1:o,2:a},f=new yn({defines:{SAMPLE_RATE:2/8,HALF_SAMPLE_RATE:1/8},uniforms:{shadow_pass:{value:null},resolution:{value:new V},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n  float mean = 0.0;\n  float squared_mean = 0.0;\n  \n\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\n    #ifdef HORIZONAL_PASS\n      vec2 distribution = decodeHalfRGBA ( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\n      mean += distribution.x;\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n    #else\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\n      mean += depth;\n      squared_mean += depth * depth;\n    #endif\n  }\n  mean = mean * HALF_SAMPLE_RATE;\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\n  float std_dev = pow( squared_mean - mean * mean, 0.5 );\n  gl_FragColor = encodeHalfRGBA( vec2( mean, std_dev ) );\n}"}),g=f.clone();g.defines.HORIZONAL_PASS=1;var v=new Ue;v.addAttribute("position",new be(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));for(var y=new on(v,f),_=0;4!==_;++_){var x=0!=(1&_),b=0!=(2&_),w=new wr({depthPacking:3201,morphTargets:x,skinning:b});c[_]=w;var S=new Sr({morphTargets:x,skinning:b});u[_]=S}var T=this;function E(n,i){var r=e.update(y);f.uniforms.shadow_pass.value=n.map.texture,f.uniforms.resolution.value=n.mapSize,f.uniforms.radius.value=n.radius,t.setRenderTarget(n.mapPass),t.clear(),t.renderBufferDirect(i,null,r,f,y,null),g.uniforms.shadow_pass.value=n.mapPass.texture,g.uniforms.resolution.value=n.mapSize,g.uniforms.radius.value=n.radius,t.setRenderTarget(n.map),t.clear(),t.renderBufferDirect(i,null,r,g,y,null)}function A(e,n,i,r,o,a){var s=e.geometry,l=null,p=c,f=e.customDepthMaterial;if(i.isPointLight&&(p=u,f=e.customDistanceMaterial),f)l=f;else{var m=!1;n.morphTargets&&(s&&s.isBufferGeometry?m=s.morphAttributes&&s.morphAttributes.position&&s.morphAttributes.position.length>0:s&&s.isGeometry&&(m=s.morphTargets&&s.morphTargets.length>0)),e.isSkinnedMesh&&!1===n.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",e);var g=0;m&&(g|=1),e.isSkinnedMesh&&n.skinning&&(g|=2),l=p[g]}if(t.localClippingEnabled&&!0===n.clipShadows&&0!==n.clippingPlanes.length){var v=l.uuid,y=n.uuid,_=h[v];void 0===_&&(_={},h[v]=_);var x=_[y];void 0===x&&(x=l.clone(),_[y]=x),l=x}return l.visible=n.visible,l.wireframe=n.wireframe,l.side=3===a?null!=n.shadowSide?n.shadowSide:n.side:null!=n.shadowSide?n.shadowSide:d[n.side],l.clipShadows=n.clipShadows,l.clippingPlanes=n.clippingPlanes,l.clipIntersection=n.clipIntersection,l.wireframeLinewidth=n.wireframeLinewidth,l.linewidth=n.linewidth,i.isPointLight&&l.isMeshDistanceMaterial&&(l.referencePosition.setFromMatrixPosition(i.matrixWorld),l.nearDistance=r,l.farDistance=o),l}function C(n,r,o,a,s){if(!1!==n.visible){if(n.layers.test(r.layers)&&(n.isMesh||n.isLine||n.isPoints)&&(n.castShadow||n.receiveShadow&&3===s)&&(!n.frustumCulled||i.intersectsObject(n))){n.modelViewMatrix.multiplyMatrices(o.matrixWorldInverse,n.matrixWorld);var l=e.update(n),c=n.material;if(Array.isArray(c))for(var u=l.groups,h=0,p=u.length;h<p;h++){var d=u[h],f=c[d.materialIndex];if(f&&f.visible){var m=A(n,f,a,o.near,o.far,s);t.renderBufferDirect(o,null,l,m,n,d)}}else c.visible&&(m=A(n,c,a,o.near,o.far,s),t.renderBufferDirect(o,null,l,m,n,null))}for(var g=n.children,v=0,y=g.length;v<y;v++)C(g[v],r,o,a,s)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(e,o,a){if(!1!==T.enabled&&(!1!==T.autoUpdate||!1!==T.needsUpdate)&&0!==e.length){var c=t.getRenderTarget(),u=t.getActiveCubeFace(),h=t.getActiveMipmapLevel(),d=t.state;d.setBlending(0),d.buffers.color.setClear(1,1,1,1),d.buffers.depth.setTest(!0),d.setScissorTest(!1);for(var f=0,g=e.length;f<g;f++){var v=e[f],y=v.shadow;if(void 0!==y){r.copy(y.mapSize);var _=y.getFrameExtents();if(r.multiply(_),s.copy(y.mapSize),(r.x>n||r.y>n)&&(console.warn("THREE.WebGLShadowMap:",v,"has shadow exceeding max texture size, reducing"),r.x>n&&(s.x=Math.floor(n/_.x),r.x=s.x*_.x,y.mapSize.x=s.x),r.y>n&&(s.y=Math.floor(n/_.y),r.y=s.y*_.y,y.mapSize.y=s.y)),null===y.map&&!y.isPointLightShadow&&3===this.type){var x={minFilter:m,magFilter:m,format:M};y.map=new tt(r.x,r.y,x),y.map.texture.name=v.name+".shadowMap",y.mapPass=new tt(r.x,r.y,x),y.camera.updateProjectionMatrix()}null===y.map&&(x={minFilter:p,magFilter:p,format:M},y.map=new tt(r.x,r.y,x),y.map.texture.name=v.name+".shadowMap",y.camera.updateProjectionMatrix()),t.setRenderTarget(y.map),t.clear();for(var b=y.getViewportCount(),w=0;w<b;w++){var S=y.getViewport(w);l.set(s.x*S.x,s.y*S.y,s.x*S.z,s.y*S.w),d.viewport(l),y.updateMatrices(v,a,w),i=y.getFrustum(),C(o,a,y.camera,v,this.type)}y.isPointLightShadow||3!==this.type||E(y,a)}else console.warn("THREE.WebGLShadowMap:",v,"has no shadow.")}T.needsUpdate=!1,t.setRenderTarget(c,u,h)}}}function Tr(t,e,n,i){var r=new function(){var e=!1,n=new Q,i=null,r=new Q(0,0,0,0);return{setMask:function(n){i===n||e||(t.colorMask(n,n,n,n),i=n)},setLocked:function(t){e=t},setClear:function(e,i,o,a,s){!0===s&&(e*=a,i*=a,o*=a),n.set(e,i,o,a),!1===r.equals(n)&&(t.clearColor(e,i,o,a),r.copy(n))},reset:function(){e=!1,i=null,r.set(-1,0,0,0)}}},o=new function(){var e=!1,n=null,i=null,r=null;return{setTest:function(t){t?H(2929):V(2929)},setMask:function(i){n===i||e||(t.depthMask(i),n=i)},setFunc:function(e){if(i!==e){if(e)switch(e){case 0:t.depthFunc(512);break;case 1:t.depthFunc(519);break;case 2:t.depthFunc(513);break;case 3:default:t.depthFunc(515);break;case 4:t.depthFunc(514);break;case 5:t.depthFunc(518);break;case 6:t.depthFunc(516);break;case 7:t.depthFunc(517)}else t.depthFunc(515);i=e}},setLocked:function(t){e=t},setClear:function(e){r!==e&&(t.clearDepth(e),r=e)},reset:function(){e=!1,n=null,i=null,r=null}}},s=new function(){var e=!1,n=null,i=null,r=null,o=null,a=null,s=null,l=null,c=null;return{setTest:function(t){e||(t?H(2960):V(2960))},setMask:function(i){n===i||e||(t.stencilMask(i),n=i)},setFunc:function(e,n,a){i===e&&r===n&&o===a||(t.stencilFunc(e,n,a),i=e,r=n,o=a)},setOp:function(e,n,i){a===e&&s===n&&l===i||(t.stencilOp(e,n,i),a=e,s=n,l=i)},setLocked:function(t){e=t},setClear:function(e){c!==e&&(t.clearStencil(e),c=e)},reset:function(){e=!1,n=null,i=null,r=null,o=null,a=null,s=null,l=null,c=null}}},c=t.getParameter(34921),u=new Uint8Array(c),h=new Uint8Array(c),p=new Uint8Array(c),d={},f=null,m=null,g=null,v=null,y=null,_=null,x=null,b=null,w=null,S=null,M=!1,T=null,E=null,A=null,C=null,L=null,I=t.getParameter(35661),D=!1,P=0,R=t.getParameter(7938);-1!==R.indexOf("WebGL")?(P=parseFloat(/^WebGL\ ([0-9])/.exec(R)[1]),D=P>=1):-1!==R.indexOf("OpenGL ES")&&(P=parseFloat(/^OpenGL\ ES\ ([0-9])/.exec(R)[1]),D=P>=2);var O=null,k={},N=new Q,z=new Q;function B(e,n,i){var r=new Uint8Array(4),o=t.createTexture();t.bindTexture(e,o),t.texParameteri(e,10241,9728),t.texParameteri(e,10240,9728);for(var a=0;a<i;a++)t.texImage2D(n+a,0,6408,1,1,0,6408,5121,r);return o}var F={};function U(n,r){u[n]=1,0===h[n]&&(t.enableVertexAttribArray(n),h[n]=1),p[n]!==r&&((i.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](n,r),p[n]=r)}function H(e){!0!==d[e]&&(t.enable(e),d[e]=!0)}function V(e){!1!==d[e]&&(t.disable(e),d[e]=!1)}function G(e,i,r,o,a,s,c,u){if(0!==e){if(g||(H(3042),g=!0),5===e)a=a||i,s=s||r,c=c||o,i===y&&a===b||(t.blendEquationSeparate(n.convert(i),n.convert(a)),y=i,b=a),r===_&&o===x&&s===w&&c===S||(t.blendFuncSeparate(n.convert(r),n.convert(o),n.convert(s),n.convert(c)),_=r,x=o,w=s,S=c),v=e,M=null;else if(e!==v||u!==M){if(y===l&&b===l||(t.blendEquation(32774),y=l,b=l),u)switch(e){case 1:t.blendFuncSeparate(1,771,1,771);break;case 2:t.blendFunc(1,1);break;case 3:t.blendFuncSeparate(0,0,769,771);break;case 4:t.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}else switch(e){case 1:t.blendFuncSeparate(770,771,1,771);break;case 2:t.blendFunc(770,1);break;case 3:t.blendFunc(0,769);break;case 4:t.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",e)}_=null,x=null,w=null,S=null,v=e,M=u}}else g&&(V(3042),g=!1)}function j(e){T!==e&&(e?t.frontFace(2304):t.frontFace(2305),T=e)}function W(e){0!==e?(H(2884),e!==E&&(1===e?t.cullFace(1029):2===e?t.cullFace(1028):t.cullFace(1032))):V(2884),E=e}function Z(e,n,i){e?(H(32823),C===n&&L===i||(t.polygonOffset(n,i),C=n,L=i)):V(32823)}function q(e){void 0===e&&(e=33984+I-1),O!==e&&(t.activeTexture(e),O=e)}return F[3553]=B(3553,3553,1),F[34067]=B(34067,34069,6),r.setClear(0,0,0,1),o.setClear(1),s.setClear(0),H(2929),o.setFunc(3),j(!1),W(1),H(2884),G(0),{buffers:{color:r,depth:o,stencil:s},initAttributes:function(){for(var t=0,e=u.length;t<e;t++)u[t]=0},enableAttribute:function(t){U(t,0)},enableAttributeAndDivisor:U,disableUnusedAttributes:function(){for(var e=0,n=h.length;e!==n;++e)h[e]!==u[e]&&(t.disableVertexAttribArray(e),h[e]=0)},enable:H,disable:V,getCompressedTextureFormats:function(){if(null===f&&(f=[],e.get("WEBGL_compressed_texture_pvrtc")||e.get("WEBGL_compressed_texture_s3tc")||e.get("WEBGL_compressed_texture_etc1")||e.get("WEBGL_compressed_texture_astc")))for(var n=t.getParameter(34467),i=0;i<n.length;i++)f.push(n[i]);return f},useProgram:function(e){return m!==e&&(t.useProgram(e),m=e,!0)},setBlending:G,setMaterial:function(t,e){t.side===a?V(2884):H(2884);var n=1===t.side;e&&(n=!n),j(n),1===t.blending&&!1===t.transparent?G(0):G(t.blending,t.blendEquation,t.blendSrc,t.blendDst,t.blendEquationAlpha,t.blendSrcAlpha,t.blendDstAlpha,t.premultipliedAlpha),o.setFunc(t.depthFunc),o.setTest(t.depthTest),o.setMask(t.depthWrite),r.setMask(t.colorWrite);var i=t.stencilWrite;s.setTest(i),i&&(s.setMask(t.stencilWriteMask),s.setFunc(t.stencilFunc,t.stencilRef,t.stencilFuncMask),s.setOp(t.stencilFail,t.stencilZFail,t.stencilZPass)),Z(t.polygonOffset,t.polygonOffsetFactor,t.polygonOffsetUnits)},setFlipSided:j,setCullFace:W,setLineWidth:function(e){e!==A&&(D&&t.lineWidth(e),A=e)},setPolygonOffset:Z,setScissorTest:function(t){t?H(3089):V(3089)},activeTexture:q,bindTexture:function(e,n){null===O&&q();var i=k[O];void 0===i&&(i={type:void 0,texture:void 0},k[O]=i),i.type===e&&i.texture===n||(t.bindTexture(e,n||F[e]),i.type=e,i.texture=n)},compressedTexImage2D:function(){try{t.compressedTexImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage2D:function(){try{t.texImage2D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},texImage3D:function(){try{t.texImage3D.apply(t,arguments)}catch(t){console.error("THREE.WebGLState:",t)}},scissor:function(e){!1===N.equals(e)&&(t.scissor(e.x,e.y,e.z,e.w),N.copy(e))},viewport:function(e){!1===z.equals(e)&&(t.viewport(e.x,e.y,e.z,e.w),z.copy(e))},reset:function(){for(var e=0;e<h.length;e++)1===h[e]&&(t.disableVertexAttribArray(e),h[e]=0);d={},f=null,O=null,k={},m=null,v=null,T=null,E=null,r.reset(),o.reset(),s.reset()}}}function Er(t,e,n,i,r,o,a){var s,l=new WeakMap,c="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d");function h(t,e){return c?new OffscreenCanvas(t,e):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function g(t,e,n,i){var r=1;if((t.width>i||t.height>i)&&(r=i/Math.max(t.width,t.height)),r<1||!0===e){if("undefined"!=typeof HTMLImageElement&&t instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&t instanceof ImageBitmap){var o=e?H.floorPowerOfTwo:Math.floor,a=o(r*t.width),l=o(r*t.height);void 0===s&&(s=h(a,l));var c=n?h(a,l):s;return c.width=a,c.height=l,c.getContext("2d").drawImage(t,0,0,a,l),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+t.width+"x"+t.height+") to ("+a+"x"+l+")."),c}return"data"in t&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+t.width+"x"+t.height+")."),t}return t}function v(t){return H.isPowerOfTwo(t.width)&&H.isPowerOfTwo(t.height)}function y(t,e){return t.generateMipmaps&&e&&t.minFilter!==p&&t.minFilter!==m}function A(e,n,r,o){t.generateMipmap(e),i.get(n).__maxMipLevel=Math.log(Math.max(r,o))*Math.LOG2E}function C(t,n){if(!r.isWebGL2)return t;var i=t;return 6403===t&&(5126===n&&(i=33326),5131===n&&(i=33325),5121===n&&(i=33321)),6407===t&&(5126===n&&(i=34837),5131===n&&(i=34843),5121===n&&(i=32849)),6408===t&&(5126===n&&(i=34836),5131===n&&(i=34842),5121===n&&(i=32856)),33325===i||33326===i||34842===i||34836===i?e.get("EXT_color_buffer_float"):34843!==i&&34837!==i||console.warn("THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead."),i}function L(t){return t===p||t===d||t===f?9728:9729}function I(e){var n=e.target;n.removeEventListener("dispose",I),function(e){var n=i.get(e);void 0!==n.__webglInit&&(t.deleteTexture(n.__webglTexture),i.remove(e))}(n),n.isVideoTexture&&l.delete(n),a.memory.textures--}function D(e){var n=e.target;n.removeEventListener("dispose",D),function(e){var n=i.get(e),r=i.get(e.texture);if(e){if(void 0!==r.__webglTexture&&t.deleteTexture(r.__webglTexture),e.depthTexture&&e.depthTexture.dispose(),e.isWebGLRenderTargetCube)for(var o=0;o<6;o++)t.deleteFramebuffer(n.__webglFramebuffer[o]),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer[o]);else t.deleteFramebuffer(n.__webglFramebuffer),n.__webglDepthbuffer&&t.deleteRenderbuffer(n.__webglDepthbuffer);if(e.isWebGLMultiviewRenderTarget){t.deleteTexture(n.__webglColorTexture),t.deleteTexture(n.__webglDepthStencilTexture),a.memory.textures-=2,o=0;for(var s=n.__webglViewFramebuffers.length;o<s;o++)t.deleteFramebuffer(n.__webglViewFramebuffers[o])}i.remove(e.texture),i.remove(e)}}(n),a.memory.textures--}var P=0;function R(t,e){var r=i.get(t);if(t.isVideoTexture&&function(t){var e=a.render.frame;l.get(t)!==e&&(l.set(t,e),t.update())}(t),t.version>0&&r.__version!==t.version){var o=t.image;if(void 0===o)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==o.complete)return void B(r,t,e);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}n.activeTexture(33984+e),n.bindTexture(3553,r.__webglTexture)}function O(e,a){if(6===e.image.length){var s=i.get(e);if(e.version>0&&s.__version!==e.version){z(s,e),n.activeTexture(33984+a),n.bindTexture(34067,s.__webglTexture),t.pixelStorei(37440,e.flipY);for(var l=e&&e.isCompressedTexture,c=e.image[0]&&e.image[0].isDataTexture,u=[],h=0;h<6;h++)u[h]=l||c?c?e.image[h].image:e.image[h]:g(e.image[h],!1,!0,r.maxCubemapSize);var p,d=u[0],f=v(d)||r.isWebGL2,m=o.convert(e.format),_=o.convert(e.type),x=C(m,_);if(N(34067,e,f),l){for(h=0;h<6;h++){p=u[h].mipmaps;for(var b=0;b<p.length;b++){var w=p[b];e.format!==M&&e.format!==S?n.getCompressedTextureFormats().indexOf(m)>-1?n.compressedTexImage2D(34069+h,b,x,w.width,w.height,0,w.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):n.texImage2D(34069+h,b,x,w.width,w.height,0,m,_,w.data)}}s.__maxMipLevel=p.length-1}else{for(p=e.mipmaps,h=0;h<6;h++)if(c)for(n.texImage2D(34069+h,0,x,u[h].width,u[h].height,0,m,_,u[h].data),b=0;b<p.length;b++){var T=(w=p[b]).image[h].image;n.texImage2D(34069+h,b+1,x,T.width,T.height,0,m,_,T.data)}else for(n.texImage2D(34069+h,0,x,m,_,u[h]),b=0;b<p.length;b++)w=p[b],n.texImage2D(34069+h,b+1,x,m,_,w.image[h]);s.__maxMipLevel=p.length}y(e,f)&&A(34067,e,d.width,d.height),s.__version=e.version,e.onUpdate&&e.onUpdate(e)}else n.activeTexture(33984+a),n.bindTexture(34067,s.__webglTexture)}}function k(t,e){n.activeTexture(33984+e),n.bindTexture(34067,i.get(t).__webglTexture)}function N(n,a,s){var l;if(s?(t.texParameteri(n,10242,o.convert(a.wrapS)),t.texParameteri(n,10243,o.convert(a.wrapT)),32879!==n&&35866!==n||t.texParameteri(n,32882,o.convert(a.wrapR)),t.texParameteri(n,10240,o.convert(a.magFilter)),t.texParameteri(n,10241,o.convert(a.minFilter))):(t.texParameteri(n,10242,33071),t.texParameteri(n,10243,33071),32879!==n&&35866!==n||t.texParameteri(n,32882,33071),a.wrapS===u&&a.wrapT===u||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(n,10240,L(a.magFilter)),t.texParameteri(n,10241,L(a.minFilter)),a.minFilter!==p&&a.minFilter!==m&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),l=e.get("EXT_texture_filter_anisotropic")){if(a.type===x&&null===e.get("OES_texture_float_linear"))return;if(a.type===b&&null===(r.isWebGL2||e.get("OES_texture_half_float_linear")))return;(a.anisotropy>1||i.get(a).__currentAnisotropy)&&(t.texParameterf(n,l.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(a.anisotropy,r.getMaxAnisotropy())),i.get(a).__currentAnisotropy=a.anisotropy)}}function z(e,n){void 0===e.__webglInit&&(e.__webglInit=!0,n.addEventListener("dispose",I),e.__webglTexture=t.createTexture(),a.memory.textures++)}function B(e,i,a){var s=3553;i.isDataTexture2DArray&&(s=35866),i.isDataTexture3D&&(s=32879),z(e,i),n.activeTexture(33984+a),n.bindTexture(s,e.__webglTexture),t.pixelStorei(37440,i.flipY),t.pixelStorei(37441,i.premultiplyAlpha),t.pixelStorei(3317,i.unpackAlignment);var l=function(t){return!r.isWebGL2&&(t.wrapS!==u||t.wrapT!==u||t.minFilter!==p&&t.minFilter!==m)}(i)&&!1===v(i.image),c=g(i.image,l,!1,r.maxTextureSize),h=v(c)||r.isWebGL2,d=o.convert(i.format),f=o.convert(i.type),b=C(d,f);N(s,i,h);var L,I=i.mipmaps;if(i.isDepthTexture){if(b=6402,i.type===x){if(!r.isWebGL2)throw new Error("Float Depth Texture only supported in WebGL2.0");b=36012}else r.isWebGL2&&(b=33189);i.format===T&&6402===b&&i.type!==_&&1014!==i.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),i.type=_,f=o.convert(i.type)),i.format===E&&(b=34041,i.type!==w&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),i.type=w,f=o.convert(i.type))),n.texImage2D(3553,0,b,c.width,c.height,0,d,f,null)}else if(i.isDataTexture)if(I.length>0&&h){for(var D=0,P=I.length;D<P;D++)L=I[D],n.texImage2D(3553,D,b,L.width,L.height,0,d,f,L.data);i.generateMipmaps=!1,e.__maxMipLevel=I.length-1}else n.texImage2D(3553,0,b,c.width,c.height,0,d,f,c.data),e.__maxMipLevel=0;else if(i.isCompressedTexture){for(D=0,P=I.length;D<P;D++)L=I[D],i.format!==M&&i.format!==S?n.getCompressedTextureFormats().indexOf(d)>-1?n.compressedTexImage2D(3553,D,b,L.width,L.height,0,L.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):n.texImage2D(3553,D,b,L.width,L.height,0,d,f,L.data);e.__maxMipLevel=I.length-1}else if(i.isDataTexture2DArray)n.texImage3D(35866,0,b,c.width,c.height,c.depth,0,d,f,c.data),e.__maxMipLevel=0;else if(i.isDataTexture3D)n.texImage3D(32879,0,b,c.width,c.height,c.depth,0,d,f,c.data),e.__maxMipLevel=0;else if(I.length>0&&h){for(D=0,P=I.length;D<P;D++)L=I[D],n.texImage2D(3553,D,b,d,f,L);i.generateMipmaps=!1,e.__maxMipLevel=I.length-1}else n.texImage2D(3553,0,b,d,f,c),e.__maxMipLevel=0;y(i,h)&&A(3553,i,c.width,c.height),e.__version=i.version,i.onUpdate&&i.onUpdate(i)}function F(e,r,a,s){var l=o.convert(r.texture.format),c=o.convert(r.texture.type),u=C(l,c);n.texImage2D(s,0,u,r.width,r.height,0,l,c,null),t.bindFramebuffer(36160,e),t.framebufferTexture2D(36160,a,s,i.get(r.texture).__webglTexture,0),t.bindFramebuffer(36160,null)}function U(e,n,i){if(t.bindRenderbuffer(36161,e),n.depthBuffer&&!n.stencilBuffer){if(i){var r=V(n);t.renderbufferStorageMultisample(36161,r,33189,n.width,n.height)}else t.renderbufferStorage(36161,33189,n.width,n.height);t.framebufferRenderbuffer(36160,36096,36161,e)}else if(n.depthBuffer&&n.stencilBuffer)i?(r=V(n),t.renderbufferStorageMultisample(36161,r,35056,n.width,n.height)):t.renderbufferStorage(36161,34041,n.width,n.height),t.framebufferRenderbuffer(36160,33306,36161,e);else{var a=C(o.convert(n.texture.format),o.convert(n.texture.type));i?(r=V(n),t.renderbufferStorageMultisample(36161,r,a,n.width,n.height)):t.renderbufferStorage(36161,a,n.width,n.height)}t.bindRenderbuffer(36161,null)}function V(t){return r.isWebGL2&&t.isWebGLMultisampleRenderTarget?Math.min(r.maxSamples,t.samples):0}var G=!1,j=!1;this.allocateTextureUnit=function(){var t=P;return t>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+t+" texture units while this GPU supports only "+r.maxTextures),P+=1,t},this.resetTextureUnits=function(){P=0},this.setTexture2D=R,this.setTexture2DArray=function(t,e){var r=i.get(t);t.version>0&&r.__version!==t.version?B(r,t,e):(n.activeTexture(33984+e),n.bindTexture(35866,r.__webglTexture))},this.setTexture3D=function(t,e){var r=i.get(t);t.version>0&&r.__version!==t.version?B(r,t,e):(n.activeTexture(33984+e),n.bindTexture(32879,r.__webglTexture))},this.setTextureCube=O,this.setTextureCubeDynamic=k,this.setupRenderTarget=function(s){var l=i.get(s),c=i.get(s.texture);s.addEventListener("dispose",D),c.__webglTexture=t.createTexture(),a.memory.textures++;var u=!0===s.isWebGLRenderTargetCube,h=!0===s.isWebGLMultisampleRenderTarget,p=!0===s.isWebGLMultiviewRenderTarget,d=v(s)||r.isWebGL2;if(u){l.__webglFramebuffer=[];for(var f=0;f<6;f++)l.__webglFramebuffer[f]=t.createFramebuffer()}else if(l.__webglFramebuffer=t.createFramebuffer(),h)if(r.isWebGL2){l.__webglMultisampledFramebuffer=t.createFramebuffer(),l.__webglColorRenderbuffer=t.createRenderbuffer(),t.bindRenderbuffer(36161,l.__webglColorRenderbuffer);var m=C(o.convert(s.texture.format),o.convert(s.texture.type)),g=V(s);t.renderbufferStorageMultisample(36161,g,m,s.width,s.height),t.bindFramebuffer(36160,l.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(36160,36064,36161,l.__webglColorRenderbuffer),t.bindRenderbuffer(36161,null),s.depthBuffer&&(l.__webglDepthRenderbuffer=t.createRenderbuffer(),U(l.__webglDepthRenderbuffer,s,!0)),t.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");else if(p){var _=s.width,x=s.height,b=s.numViews;t.bindFramebuffer(36160,l.__webglFramebuffer);var w=e.get("OVR_multiview2");a.memory.textures+=2;var S=t.createTexture();t.bindTexture(35866,S),t.texParameteri(35866,10240,9728),t.texParameteri(35866,10241,9728),t.texImage3D(35866,0,32856,_,x,b,0,6408,5121,null),w.framebufferTextureMultiviewOVR(36160,36064,S,0,0,b);var M=t.createTexture();t.bindTexture(35866,M),t.texParameteri(35866,10240,9728),t.texParameteri(35866,10241,9728),t.texImage3D(35866,0,35056,_,x,b,0,34041,34042,null),w.framebufferTextureMultiviewOVR(36160,33306,M,0,0,b);var L=new Array(b);for(f=0;f<b;++f)L[f]=t.createFramebuffer(),t.bindFramebuffer(36160,L[f]),t.framebufferTextureLayer(36160,36064,S,0,f);l.__webglColorTexture=S,l.__webglDepthStencilTexture=M,l.__webglViewFramebuffers=L,t.bindFramebuffer(36160,null),t.bindTexture(35866,null)}if(u){for(n.bindTexture(34067,c.__webglTexture),N(34067,s.texture,d),f=0;f<6;f++)F(l.__webglFramebuffer[f],s,36064,34069+f);y(s.texture,d)&&A(34067,s.texture,s.width,s.height),n.bindTexture(34067,null)}else p||(n.bindTexture(3553,c.__webglTexture),N(3553,s.texture,d),F(l.__webglFramebuffer,s,36064,3553),y(s.texture,d)&&A(3553,s.texture,s.width,s.height),n.bindTexture(3553,null));s.depthBuffer&&function(e){var n=i.get(e),r=!0===e.isWebGLRenderTargetCube;if(e.depthTexture){if(r)throw new Error("target.depthTexture not supported in Cube render targets");!function(e,n){if(n&&n.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(36160,e),!n.depthTexture||!n.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");i.get(n.depthTexture).__webglTexture&&n.depthTexture.image.width===n.width&&n.depthTexture.image.height===n.height||(n.depthTexture.image.width=n.width,n.depthTexture.image.height=n.height,n.depthTexture.needsUpdate=!0),R(n.depthTexture,0);var r=i.get(n.depthTexture).__webglTexture;if(n.depthTexture.format===T)t.framebufferTexture2D(36160,36096,3553,r,0);else{if(n.depthTexture.format!==E)throw new Error("Unknown depthTexture format");t.framebufferTexture2D(36160,33306,3553,r,0)}}(n.__webglFramebuffer,e)}else if(r){n.__webglDepthbuffer=[];for(var o=0;o<6;o++)t.bindFramebuffer(36160,n.__webglFramebuffer[o]),n.__webglDepthbuffer[o]=t.createRenderbuffer(),U(n.__webglDepthbuffer[o],e)}else t.bindFramebuffer(36160,n.__webglFramebuffer),n.__webglDepthbuffer=t.createRenderbuffer(),U(n.__webglDepthbuffer,e);t.bindFramebuffer(36160,null)}(s)},this.updateRenderTargetMipmap=function(t){var e=t.texture;if(y(e,v(t)||r.isWebGL2)){var o=t.isWebGLRenderTargetCube?34067:3553,a=i.get(e).__webglTexture;n.bindTexture(o,a),A(o,e,t.width,t.height),n.bindTexture(o,null)}},this.updateMultisampleRenderTarget=function(e){if(e.isWebGLMultisampleRenderTarget)if(r.isWebGL2){var n=i.get(e);t.bindFramebuffer(36008,n.__webglMultisampledFramebuffer),t.bindFramebuffer(36009,n.__webglFramebuffer);var o=e.width,a=e.height,s=16384;e.depthBuffer&&(s|=256),e.stencilBuffer&&(s|=1024),t.blitFramebuffer(0,0,o,a,0,0,o,a,s,9728)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(t,e){t&&t.isWebGLRenderTarget&&(!1===G&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),G=!0),t=t.texture),R(t,e)},this.safeSetTextureCube=function(t,e){t&&t.isWebGLRenderTargetCube&&(!1===j&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),j=!0),t=t.texture),t&&t.isCubeTexture||Array.isArray(t.image)&&6===t.image.length?O(t,e):k(t,e)}}function Ar(t,e,n){return{convert:function(t){var i;if(t===c)return 10497;if(t===u)return 33071;if(t===h)return 33648;if(t===p)return 9728;if(t===d)return 9984;if(t===f)return 9986;if(t===m)return 9729;if(t===g)return 9985;if(t===v)return 9987;if(t===y)return 5121;if(1017===t)return 32819;if(1018===t)return 32820;if(1019===t)return 33635;if(1010===t)return 5120;if(1011===t)return 5122;if(t===_)return 5123;if(1013===t)return 5124;if(1014===t)return 5125;if(t===x)return 5126;if(t===b){if(n.isWebGL2)return 5131;if(null!==(i=e.get("OES_texture_half_float")))return i.HALF_FLOAT_OES}if(1021===t)return 6406;if(t===S)return 6407;if(t===M)return 6408;if(1024===t)return 6409;if(1025===t)return 6410;if(t===T)return 6402;if(t===E)return 34041;if(1028===t)return 6403;if(t===l)return 32774;if(101===t)return 32778;if(102===t)return 32779;if(200===t)return 0;if(201===t)return 1;if(202===t)return 768;if(203===t)return 769;if(204===t)return 770;if(205===t)return 771;if(206===t)return 772;if(207===t)return 773;if(208===t)return 774;if(209===t)return 775;if(210===t)return 776;if((33776===t||33777===t||33778===t||33779===t)&&null!==(i=e.get("WEBGL_compressed_texture_s3tc"))){if(33776===t)return i.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===t)return i.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===t)return i.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===t)return i.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((35840===t||35841===t||35842===t||35843===t)&&null!==(i=e.get("WEBGL_compressed_texture_pvrtc"))){if(35840===t)return i.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===t)return i.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===t)return i.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===t)return i.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===t&&null!==(i=e.get("WEBGL_compressed_texture_etc1")))return i.COMPRESSED_RGB_ETC1_WEBGL;if((37808===t||37809===t||37810===t||37811===t||37812===t||37813===t||37814===t||37815===t||37816===t||37817===t||37818===t||37819===t||37820===t||37821===t)&&null!==(i=e.get("WEBGL_compressed_texture_astc")))return t;if(103===t||104===t){if(n.isWebGL2){if(103===t)return 32775;if(104===t)return 32776}if(null!==(i=e.get("EXT_blend_minmax"))){if(103===t)return i.MIN_EXT;if(104===t)return i.MAX_EXT}}if(t===w){if(n.isWebGL2)return 34042;if(null!==(i=e.get("WEBGL_depth_texture")))return i.UNSIGNED_INT_24_8_WEBGL}return 0}}}function Cr(t,e,n,i){tt.call(this,t,e,i),this.depthBuffer=!1,this.stencilBuffer=!1,this.numViews=n}function Lr(t,e){var n,i,r,o,a,s,l,c=t.extensions,u=t.properties,h=0;function p(t){return t.isArrayCamera?t.cameras:(a[0]=t,a)}this.isAvailable=function(){if(void 0===l){var t=c.get("OVR_multiview2");if(l=null!==t&&!1===e.getContextAttributes().antialias){h=e.getParameter(t.MAX_VIEWS_OVR),n=new Cr(0,0,2),s=new V,o=[],r=[],a=[];for(var i=0;i<h;i++)o[i]=new ct,r[i]=new Y}}return l},this.attachCamera=function(e){!1!==function(t){if(void 0===t.isArrayCamera)return!0;var e=t.cameras;if(e.length>h)return!1;for(var n=1,i=e.length;n<i;n++)if(e[0].viewport.z!==e[n].viewport.z||e[0].viewport.w!==e[n].viewport.w)return!1;return!0}(e)&&(i=t.getRenderTarget(),function(e){if(i?s.set(i.width,i.height):t.getDrawingBufferSize(s),e.isArrayCamera){var r=e.cameras[0].viewport;n.setSize(r.z,r.w),n.setNumViews(e.cameras.length)}else n.setSize(s.x,s.y),n.setNumViews(2)}(e),t.setRenderTarget(n))},this.detachCamera=function(r){n===t.getRenderTarget()&&(t.setRenderTarget(i),function(t){var i=n,r=i.numViews,o=u.get(i).__webglViewFramebuffers,a=i.width,l=i.height;if(t.isArrayCamera)for(var c=0;c<r;c++){var h=t.cameras[c].viewport,p=h.x,d=h.y,f=p+h.z,m=d+h.w;e.bindFramebuffer(36008,o[c]),e.blitFramebuffer(0,0,a,l,p,d,f,m,16384,9728)}else e.bindFramebuffer(36008,o[0]),e.blitFramebuffer(0,0,a,l,0,0,s.x,s.y,16384,9728)}(r))},this.updateCameraProjectionMatricesUniform=function(t,n){for(var i=p(t),r=0;r<i.length;r++)o[r].copy(i[r].projectionMatrix);n.setValue(e,"projectionMatrices",o)},this.updateCameraViewMatricesUniform=function(t,n){for(var i=p(t),r=0;r<i.length;r++)o[r].copy(i[r].matrixWorldInverse);n.setValue(e,"viewMatrices",o)},this.updateObjectMatricesUniforms=function(t,n,i){for(var a=p(n),s=0;s<a.length;s++)o[s].multiplyMatrices(a[s].matrixWorldInverse,t.matrixWorld),r[s].getNormalMatrix(o[s]);i.setValue(e,"modelViewMatrices",o),i.setValue(e,"normalMatrices",r)}}function Ir(){At.call(this),this.type="Group"}function Dr(t){xn.call(this),this.cameras=t||[]}wr.prototype=Object.create(_e.prototype),wr.prototype.constructor=wr,wr.prototype.isMeshDepthMaterial=!0,wr.prototype.copy=function(t){return _e.prototype.copy.call(this,t),this.depthPacking=t.depthPacking,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this},Sr.prototype=Object.create(_e.prototype),Sr.prototype.constructor=Sr,Sr.prototype.isMeshDistanceMaterial=!0,Sr.prototype.copy=function(t){return _e.prototype.copy.call(this,t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this},Cr.prototype=Object.assign(Object.create(tt.prototype),{constructor:Cr,isWebGLMultiviewRenderTarget:!0,copy:function(t){return tt.prototype.copy.call(this,t),this.numViews=t.numViews,this},setNumViews:function(t){return this.numViews!==t&&(this.numViews=t,this.dispose()),this}}),Ir.prototype=Object.assign(Object.create(At.prototype),{constructor:Ir,isGroup:!0}),Dr.prototype=Object.assign(Object.create(xn.prototype),{constructor:Dr,isArrayCamera:!0});var Pr,Rr=new Z,Or=new Z;function kr(t,e,n){Rr.setFromMatrixPosition(e.matrixWorld),Or.setFromMatrixPosition(n.matrixWorld);var i=Rr.distanceTo(Or),r=e.projectionMatrix.elements,o=n.projectionMatrix.elements,a=r[14]/(r[10]-1),s=r[14]/(r[10]+1),l=(r[9]+1)/r[5],c=(r[9]-1)/r[5],u=(r[8]-1)/r[0],h=(o[8]+1)/o[0],p=a*u,d=a*h,f=i/(-u+h),m=f*-u;e.matrixWorld.decompose(t.position,t.quaternion,t.scale),t.translateX(m),t.translateZ(f),t.matrixWorld.compose(t.position,t.quaternion,t.scale),t.matrixWorldInverse.getInverse(t.matrixWorld);var g=a+f,v=s+f,y=p-m,_=d+(i-m),x=l*s/v*g,b=c*s/v*g;t.projectionMatrix.makePerspective(y,_,x,b,g,v)}function Nr(t){var e,n,i=this,r=null,o=null,a=null,s=[],l=new ct,c=new ct,u=1,h="local-floor";"undefined"!=typeof window&&"VRFrameData"in window&&(o=new window.VRFrameData,window.addEventListener("vrdisplaypresentchange",b,!1));var p=new ct,d=new G,f=new Z,m=new xn;m.viewport=new Q,m.layers.enable(1);var g=new xn;g.viewport=new Q,g.layers.enable(2);var v=new Dr([m,g]);function y(){return null!==r&&!0===r.isPresenting}v.layers.enable(1),v.layers.enable(2);var _,x=new V;function b(){if(y()){var o=r.getEyeParameters("left");e=2*o.renderWidth*u,n=o.renderHeight*u,_=t.getPixelRatio(),t.getSize(x),t.setDrawingBufferSize(e,n,1),m.viewport.set(0,0,e/2,n),g.viewport.set(e/2,0,e/2,n),T.start(),i.dispatchEvent({type:"sessionstart"})}else i.enabled&&t.setDrawingBufferSize(x.width,x.height,_),T.stop(),i.dispatchEvent({type:"sessionend"})}var w=[];function S(t){for(var e=navigator.getGamepads&&navigator.getGamepads(),n=0,i=0,r=e.length;n<r;n++){var o=e[n];if(o&&("Daydream Controller"===o.id||"Gear VR Controller"===o.id||"Oculus Go Controller"===o.id||"OpenVR Gamepad"===o.id||o.id.startsWith("Oculus Touch")||o.id.startsWith("HTC Vive Focus")||o.id.startsWith("Spatial Controller"))){if(i===t)return o;i++}}}function M(t,i){null!==i&&4===i.length&&t.set(i[0]*e,i[1]*n,i[2]*e,i[3]*n)}this.enabled=!1,this.getController=function(t){var e=s[t];return void 0===e&&((e=new Ir).matrixAutoUpdate=!1,e.visible=!1,s[t]=e),e},this.getDevice=function(){return r},this.setDevice=function(t){void 0!==t&&(r=t),T.setContext(t)},this.setFramebufferScaleFactor=function(t){u=t},this.setReferenceSpaceType=function(t){h=t},this.setPoseTarget=function(t){void 0!==t&&(a=t)},this.getCamera=function(t){var e="local-floor"===h?1.6:0;if(!1===y())return t.position.set(0,e,0),t.rotation.set(0,0,0),t;if(r.depthNear=t.near,r.depthFar=t.far,r.getFrameData(o),"local-floor"===h){var n=r.stageParameters;n?l.fromArray(n.sittingToStandingTransform):l.makeTranslation(0,e,0)}var i=o.pose,u=null!==a?a:t;u.matrix.copy(l),u.matrix.decompose(u.position,u.quaternion,u.scale),null!==i.orientation&&(d.fromArray(i.orientation),u.quaternion.multiply(d)),null!==i.position&&(d.setFromRotationMatrix(l),f.fromArray(i.position),f.applyQuaternion(d),u.position.add(f)),u.updateMatrixWorld(),m.near=t.near,g.near=t.near,m.far=t.far,g.far=t.far,m.matrixWorldInverse.fromArray(o.leftViewMatrix),g.matrixWorldInverse.fromArray(o.rightViewMatrix),c.getInverse(l),"local-floor"===h&&(m.matrixWorldInverse.multiply(c),g.matrixWorldInverse.multiply(c));var _=u.parent;null!==_&&(p.getInverse(_.matrixWorld),m.matrixWorldInverse.multiply(p),g.matrixWorldInverse.multiply(p)),m.matrixWorld.getInverse(m.matrixWorldInverse),g.matrixWorld.getInverse(g.matrixWorldInverse),m.projectionMatrix.fromArray(o.leftProjectionMatrix),g.projectionMatrix.fromArray(o.rightProjectionMatrix),kr(v,m,g);var x=r.getLayers();if(x.length){var b=x[0];M(m.viewport,b.leftBounds),M(g.viewport,b.rightBounds)}return function(){for(var t=0;t<s.length;t++){var e=s[t],n=S(t);if(void 0!==n&&void 0!==n.pose){if(null===n.pose)return;var i=n.pose;!1===i.hasPosition&&e.position.set(.2,-.6,-.05),null!==i.position&&e.position.fromArray(i.position),null!==i.orientation&&e.quaternion.fromArray(i.orientation),e.matrix.compose(e.position,e.quaternion,e.scale),e.matrix.premultiply(l),e.matrix.decompose(e.position,e.quaternion,e.scale),e.matrixWorldNeedsUpdate=!0,e.visible=!0;var r="Daydream Controller"===n.id?0:1;void 0===w[t]&&(w[t]=!1),w[t]!==n.buttons[r].pressed&&(w[t]=n.buttons[r].pressed,!0===w[t]?e.dispatchEvent({type:"selectstart"}):(e.dispatchEvent({type:"selectend"}),e.dispatchEvent({type:"select"})))}else e.visible=!1}}(),v},this.getStandingMatrix=function(){return l},this.isPresenting=y;var T=new kn;this.setAnimationLoop=function(t){T.setAnimationLoop(t),y()&&T.start()},this.submitFrame=function(){y()&&r.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",b)},this.setFrameOfReferenceType=function(){console.warn("THREE.WebVRManager: setFrameOfReferenceType() has been deprecated.")}}function zr(t,e){var n=this,i=null,r=null,o="local-floor",a=null,s=[],l=[];function c(){return null!==i&&null!==r}var u=new xn;u.layers.enable(1),u.viewport=new Q;var h=new xn;h.layers.enable(2),h.viewport=new Q;var p=new Dr([u,h]);function d(t){for(var e=0;e<s.length;e++)l[e]===t.inputSource&&s[e].dispatchEvent({type:t.type})}function f(){t.setFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),y.stop(),n.dispatchEvent({type:"sessionend"})}function m(t){r=t,y.setContext(i),y.start(),n.dispatchEvent({type:"sessionstart"})}function g(t,e){null===e?t.matrixWorld.copy(t.matrix):t.matrixWorld.multiplyMatrices(e.matrixWorld,t.matrix),t.matrixWorldInverse.getInverse(t.matrixWorld)}p.layers.enable(1),p.layers.enable(2),this.enabled=!1,this.getController=function(t){var e=s[t];return void 0===e&&((e=new Ir).matrixAutoUpdate=!1,e.visible=!1,s[t]=e),e},this.setFramebufferScaleFactor=function(){},this.setReferenceSpaceType=function(t){o=t},this.getSession=function(){return i},this.setSession=function(t){null!==(i=t)&&(i.addEventListener("select",d),i.addEventListener("selectstart",d),i.addEventListener("selectend",d),i.addEventListener("end",f),i.updateRenderState({baseLayer:new XRWebGLLayer(i,e)}),i.requestReferenceSpace(o).then(m),l=i.inputSources,i.addEventListener("inputsourceschange",(function(){l=i.inputSources,console.log(l);for(var t=0;t<s.length;t++)s[t].userData.inputSource=l[t]})))},this.getCamera=function(t){if(c()){var e=t.parent,n=p.cameras;g(p,e);for(var i=0;i<n.length;i++)g(n[i],e);t.matrixWorld.copy(p.matrixWorld);for(var r=t.children,o=(i=0,r.length);i<o;i++)r[i].updateMatrixWorld(!0);return kr(p,u,h),p}return t},this.isPresenting=c;var v=null,y=new kn;y.setAnimationLoop((function(e,n){if(null!==(a=n.getViewerPose(r))){var o=a.views,c=i.renderState.baseLayer;t.setFramebuffer(c.framebuffer);for(var u=0;u<o.length;u++){var h=o[u],d=c.getViewport(h),f=h.transform.inverse.matrix,m=p.cameras[u];m.matrix.fromArray(f).getInverse(m.matrix),m.projectionMatrix.fromArray(h.projectionMatrix),m.viewport.set(d.x,d.y,d.width,d.height),0===u&&p.matrix.copy(m.matrix)}}for(u=0;u<s.length;u++){var g=s[u],y=l[u];if(y){var _=n.getPose(y.targetRaySpace,r);if(null!==_){g.matrix.fromArray(_.transform.matrix),g.matrix.decompose(g.position,g.rotation,g.scale),g.visible=!0;continue}}g.visible=!1}v&&v(e)})),this.setAnimationLoop=function(t){v=t},this.dispose=function(){},this.getStandingMatrix=function(){return console.warn("THREE.WebXRManager: getStandingMatrix() is no longer needed."),new ct},this.getDevice=function(){console.warn("THREE.WebXRManager: getDevice() has been deprecated.")},this.setDevice=function(){console.warn("THREE.WebXRManager: setDevice() has been deprecated.")},this.setFrameOfReferenceType=function(){console.warn("THREE.WebXRManager: setFrameOfReferenceType() has been deprecated.")},this.submitFrame=function(){}}function Br(t){var e=void 0!==(t=t||{}).canvas?t.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),n=void 0!==t.context?t.context:null,i=void 0!==t.alpha&&t.alpha,r=void 0===t.depth||t.depth,o=void 0===t.stencil||t.stencil,a=void 0!==t.antialias&&t.antialias,s=void 0===t.premultipliedAlpha||t.premultipliedAlpha,l=void 0!==t.preserveDrawingBuffer&&t.preserveDrawingBuffer,c=void 0!==t.powerPreference?t.powerPreference:"default",u=void 0!==t.failIfMajorPerformanceCaveat&&t.failIfMajorPerformanceCaveat,h=null,p=null;this.domElement=e,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=1,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var d,f,m,g,v,_,w,S,T,E,A,C,L,I,D,P,k,N,z=this,B=!1,F=null,U=0,G=0,j=null,W=null,q=-1,X={geometry:null,program:null,wireframe:!1},Y=null,J=null,K=new Q,$=new Q,tt=null,et=e.width,nt=e.height,it=1,rt=new Q(0,0,et,nt),ot=new Q(0,0,et,nt),at=!1,st=new Dn,lt=new Vn,ut=!1,ht=!1,pt=new ct,dt=new Z;function ft(){return null===j?it:1}try{var mt={alpha:i,depth:r,stencil:o,antialias:a,premultipliedAlpha:s,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:u,xrCompatible:!0};if(e.addEventListener("webglcontextlost",xt,!1),e.addEventListener("webglcontextrestored",bt,!1),null===(d=n||e.getContext("webgl",mt)||e.getContext("experimental-webgl",mt)))throw null!==e.getContext("webgl")?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.");void 0===d.getShaderPrecisionFormat&&(d.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(t){throw console.error("THREE.WebGLRenderer: "+t.message),t}function gt(){f=new Gn(d),!1===(m=new Hn(d,f,t)).isWebGL2&&(f.get("WEBGL_depth_texture"),f.get("OES_texture_float"),f.get("OES_texture_half_float"),f.get("OES_texture_half_float_linear"),f.get("OES_standard_derivatives"),f.get("OES_element_index_uint"),f.get("ANGLE_instanced_arrays")),f.get("OES_texture_float_linear"),N=new Ar(d,f,m),(g=new Tr(d,f,N,m)).scissor($.copy(ot).multiplyScalar(it).floor()),g.viewport(K.copy(rt).multiplyScalar(it).floor()),v=new Zn(d),_=new hr,w=new Er(d,f,g,_,m,N,v),S=new Nn(d),T=new jn(d,S,v),E=new Yn(d,T,S,v),D=new Xn(d),A=new ur(z,f,m),C=new mr,L=new br,I=new Fn(z,g,E,s),P=new Un(d,f,v,m),k=new Wn(d,f,v,m),v.programs=A.programs,z.capabilities=m,z.extensions=f,z.properties=_,z.renderLists=C,z.state=g,z.info=v}gt();var vt="undefined"!=typeof navigator&&"xr"in navigator&&"supportsSession"in navigator.xr?new zr(z,d):new Nr(z);this.vr=vt;var yt=new Lr(z,d),_t=new Mr(z,E,m.maxTextureSize);function xt(t){t.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),B=!0}function bt(){console.log("THREE.WebGLRenderer: Context Restored."),B=!1,gt()}function wt(t){var e=t.target;e.removeEventListener("dispose",wt),function(t){St(t),_.remove(t)}(e)}function St(t){var e=_.get(t).program;t.program=void 0,void 0!==e&&A.releaseProgram(e)}this.shadowMap=_t,this.getContext=function(){return d},this.getContextAttributes=function(){return d.getContextAttributes()},this.forceContextLoss=function(){var t=f.get("WEBGL_lose_context");t&&t.loseContext()},this.forceContextRestore=function(){var t=f.get("WEBGL_lose_context");t&&t.restoreContext()},this.getPixelRatio=function(){return it},this.setPixelRatio=function(t){void 0!==t&&(it=t,this.setSize(et,nt,!1))},this.getSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getsize() now requires a Vector2 as an argument"),t=new V),t.set(et,nt)},this.setSize=function(t,n,i){vt.isPresenting()?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(et=t,nt=n,e.width=Math.floor(t*it),e.height=Math.floor(n*it),!1!==i&&(e.style.width=t+"px",e.style.height=n+"px"),this.setViewport(0,0,t,n))},this.getDrawingBufferSize=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument"),t=new V),t.set(et*it,nt*it).floor()},this.setDrawingBufferSize=function(t,n,i){et=t,nt=n,it=i,e.width=Math.floor(t*i),e.height=Math.floor(n*i),this.setViewport(0,0,t,n)},this.getCurrentViewport=function(t){return void 0===t&&(console.warn("WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument"),t=new Q),t.copy(K)},this.getViewport=function(t){return t.copy(rt)},this.setViewport=function(t,e,n,i){t.isVector4?rt.set(t.x,t.y,t.z,t.w):rt.set(t,e,n,i),g.viewport(K.copy(rt).multiplyScalar(it).floor())},this.getScissor=function(t){return t.copy(ot)},this.setScissor=function(t,e,n,i){t.isVector4?ot.set(t.x,t.y,t.z,t.w):ot.set(t,e,n,i),g.scissor($.copy(ot).multiplyScalar(it).floor())},this.getScissorTest=function(){return at},this.setScissorTest=function(t){g.setScissorTest(at=t)},this.getClearColor=function(){return I.getClearColor()},this.setClearColor=function(){I.setClearColor.apply(I,arguments)},this.getClearAlpha=function(){return I.getClearAlpha()},this.setClearAlpha=function(){I.setClearAlpha.apply(I,arguments)},this.clear=function(t,e,n){var i=0;(void 0===t||t)&&(i|=16384),(void 0===e||e)&&(i|=256),(void 0===n||n)&&(i|=1024),d.clear(i)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){e.removeEventListener("webglcontextlost",xt,!1),e.removeEventListener("webglcontextrestored",bt,!1),C.dispose(),L.dispose(),_.dispose(),E.dispose(),vt.dispose(),Tt.stop()},this.renderBufferImmediate=function(t,e){g.initAttributes();var n=_.get(t);t.hasPositions&&!n.position&&(n.position=d.createBuffer()),t.hasNormals&&!n.normal&&(n.normal=d.createBuffer()),t.hasUvs&&!n.uv&&(n.uv=d.createBuffer()),t.hasColors&&!n.color&&(n.color=d.createBuffer());var i=e.getAttributes();t.hasPositions&&(d.bindBuffer(34962,n.position),d.bufferData(34962,t.positionArray,35048),g.enableAttribute(i.position),d.vertexAttribPointer(i.position,3,5126,!1,0,0)),t.hasNormals&&(d.bindBuffer(34962,n.normal),d.bufferData(34962,t.normalArray,35048),g.enableAttribute(i.normal),d.vertexAttribPointer(i.normal,3,5126,!1,0,0)),t.hasUvs&&(d.bindBuffer(34962,n.uv),d.bufferData(34962,t.uvArray,35048),g.enableAttribute(i.uv),d.vertexAttribPointer(i.uv,2,5126,!1,0,0)),t.hasColors&&(d.bindBuffer(34962,n.color),d.bufferData(34962,t.colorArray,35048),g.enableAttribute(i.color),d.vertexAttribPointer(i.color,3,5126,!1,0,0)),g.disableUnusedAttributes(),d.drawArrays(4,0,t.count),t.count=0},this.renderBufferDirect=function(t,e,n,i,r,o){var a=r.isMesh&&r.matrixWorld.determinant()<0;g.setMaterial(i,a);var s=It(t,e,i,r),l=!1;X.geometry===n.id&&X.program===s.id&&X.wireframe===(!0===i.wireframe)||(X.geometry=n.id,X.program=s.id,X.wireframe=!0===i.wireframe,l=!0),r.morphTargetInfluences&&(D.update(r,n,i,s),l=!0);var c,u=n.index,h=n.attributes.position,p=1;!0===i.wireframe&&(u=T.getWireframeAttribute(n),p=2);var v=P;null!==u&&(c=S.get(u),(v=k).setIndex(c)),l&&(function(t,e,n,i){if(!1!==m.isWebGL2||!t.isInstancedMesh&&!e.isInstancedBufferGeometry||null!==f.get("ANGLE_instanced_arrays")){g.initAttributes();var r=e.attributes,o=i.getAttributes(),a=n.defaultAttributeValues;for(var s in o){var l=o[s];if(l>=0){var c=r[s];if(void 0!==c){var u=c.normalized,h=c.itemSize;if(void 0===(w=S.get(c)))continue;var p=w.buffer,v=w.type,y=w.bytesPerElement;if(c.isInterleavedBufferAttribute){var _=c.data,x=_.stride,b=c.offset;_&&_.isInstancedInterleavedBuffer?(g.enableAttributeAndDivisor(l,_.meshPerAttribute),void 0===e.maxInstancedCount&&(e.maxInstancedCount=_.meshPerAttribute*_.count)):g.enableAttribute(l),d.bindBuffer(34962,p),d.vertexAttribPointer(l,h,v,u,x*y,b*y)}else c.isInstancedBufferAttribute?(g.enableAttributeAndDivisor(l,c.meshPerAttribute),void 0===e.maxInstancedCount&&(e.maxInstancedCount=c.meshPerAttribute*c.count)):g.enableAttribute(l),d.bindBuffer(34962,p),d.vertexAttribPointer(l,h,v,u,0,0)}else if("instanceMatrix"===s){var w;if(void 0===(w=S.get(t.instanceMatrix)))continue;p=w.buffer,v=w.type,g.enableAttributeAndDivisor(l+0,1),g.enableAttributeAndDivisor(l+1,1),g.enableAttributeAndDivisor(l+2,1),g.enableAttributeAndDivisor(l+3,1),d.bindBuffer(34962,p),d.vertexAttribPointer(l+0,4,v,!1,64,0),d.vertexAttribPointer(l+1,4,v,!1,64,16),d.vertexAttribPointer(l+2,4,v,!1,64,32),d.vertexAttribPointer(l+3,4,v,!1,64,48)}else if(void 0!==a){var M=a[s];if(void 0!==M)switch(M.length){case 2:d.vertexAttrib2fv(l,M);break;case 3:d.vertexAttrib3fv(l,M);break;case 4:d.vertexAttrib4fv(l,M);break;default:d.vertexAttrib1fv(l,M)}}}}g.disableUnusedAttributes()}}(r,n,i,s),null!==u&&d.bindBuffer(34963,c.buffer));var y=1/0;null!==u?y=u.count:void 0!==h&&(y=h.count);var _=n.drawRange.start*p,x=n.drawRange.count*p,b=null!==o?o.start*p:0,w=null!==o?o.count*p:1/0,M=Math.max(_,b),E=Math.min(y,_+x,b+w)-1,A=Math.max(0,E-M+1);if(0!==A){if(r.isMesh)if(!0===i.wireframe)g.setLineWidth(i.wireframeLinewidth*ft()),v.setMode(1);else switch(r.drawMode){case 0:v.setMode(4);break;case R:v.setMode(5);break;case O:v.setMode(6)}else if(r.isLine){var C=i.linewidth;void 0===C&&(C=1),g.setLineWidth(C*ft()),r.isLineSegments?v.setMode(1):r.isLineLoop?v.setMode(2):v.setMode(3)}else r.isPoints?v.setMode(0):r.isSprite&&v.setMode(4);r.isInstancedMesh?v.renderInstances(n,M,A,r.count):n.isInstancedBufferGeometry?v.renderInstances(n,M,A,n.maxInstancedCount):v.render(M,A)}},this.compile=function(t,e){(p=L.get(t,e)).init(),t.traverse((function(t){t.isLight&&(p.pushLight(t),t.castShadow&&p.pushShadow(t))})),p.setupLights(e),t.traverse((function(e){if(e.material)if(Array.isArray(e.material))for(var n=0;n<e.material.length;n++)Lt(e.material[n],t.fog,e);else Lt(e.material,t.fog,e)}))};var Mt=null,Tt=new kn;function Et(t,e,n,i){if(!1!==t.visible){if(t.layers.test(e.layers))if(t.isGroup)n=t.renderOrder;else if(t.isLOD)!0===t.autoUpdate&&t.update(e);else if(t.isLight)p.pushLight(t),t.castShadow&&p.pushShadow(t);else if(t.isSprite){if(!t.frustumCulled||st.intersectsSprite(t)){i&&dt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(pt);var r=E.update(t);(o=t.material).visible&&h.push(t,r,o,n,dt.z,null)}}else if(t.isImmediateRenderObject)i&&dt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(pt),h.push(t,null,t.material,n,dt.z,null);else if((t.isMesh||t.isLine||t.isPoints)&&(t.isSkinnedMesh&&t.skeleton.frame!==v.render.frame&&(t.skeleton.update(),t.skeleton.frame=v.render.frame),!t.frustumCulled||st.intersectsObject(t))){i&&dt.setFromMatrixPosition(t.matrixWorld).applyMatrix4(pt),r=E.update(t);var o=t.material;if(Array.isArray(o))for(var a=r.groups,s=0,l=a.length;s<l;s++){var c=a[s],u=o[c.materialIndex];u&&u.visible&&h.push(t,r,u,n,dt.z,c)}else o.visible&&h.push(t,r,o,n,dt.z,null)}var d=t.children;for(s=0,l=d.length;s<l;s++)Et(d[s],e,n,i)}}function At(t,e,n,i){for(var r=0,o=t.length;r<o;r++){var a=t[r],s=a.object,l=a.geometry,c=void 0===i?a.material:i,u=a.group;if(n.isArrayCamera)if(J=n,vt.enabled&&yt.isAvailable())Ct(s,e,n,l,c,u);else for(var h=n.cameras,d=0,f=h.length;d<f;d++){var m=h[d];s.layers.test(m.layers)&&(g.viewport(K.copy(m.viewport)),p.setupLights(m),Ct(s,e,m,l,c,u))}else J=null,Ct(s,e,n,l,c,u)}}function Ct(t,e,n,i,r,o){if(t.onBeforeRender(z,e,n,i,r,o),p=L.get(e,J||n),t.modelViewMatrix.multiplyMatrices(n.matrixWorldInverse,t.matrixWorld),t.normalMatrix.getNormalMatrix(t.modelViewMatrix),t.isImmediateRenderObject){g.setMaterial(r);var a=It(n,e.fog,r,t);X.geometry=null,X.program=null,X.wireframe=!1,function(t,e){t.render((function(t){z.renderBufferImmediate(t,e)}))}(t,a)}else z.renderBufferDirect(n,e.fog,i,r,t,o);t.onAfterRender(z,e,n,i,r,o),p=L.get(e,J||n)}function Lt(t,e,n){var i=_.get(t),r=p.state.lights,o=p.state.shadowsArray,a=r.state.version,s=A.getParameters(t,r.state,o,e,lt.numPlanes,lt.numIntersection,n),l=A.getProgramCode(t,s),c=i.program,u=!0;if(void 0===c)t.addEventListener("dispose",wt);else if(c.code!==l)St(t);else if(i.lightsStateVersion!==a)i.lightsStateVersion=a,u=!1;else{if(void 0!==s.shaderID)return;u=!1}if(u){if(s.shaderID){var h=On[s.shaderID];i.shader={name:t.type,uniforms:mn(h.uniforms),vertexShader:h.vertexShader,fragmentShader:h.fragmentShader}}else i.shader={name:t.type,uniforms:t.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader};t.onBeforeCompile(i.shader,z),l=A.getProgramCode(t,s),c=A.acquireProgram(t,i.shader,s,l),i.program=c,t.program=c}var d=c.getAttributes();if(t.morphTargets){t.numSupportedMorphTargets=0;for(var f=0;f<z.maxMorphTargets;f++)d["morphTarget"+f]>=0&&t.numSupportedMorphTargets++}if(t.morphNormals)for(t.numSupportedMorphNormals=0,f=0;f<z.maxMorphNormals;f++)d["morphNormal"+f]>=0&&t.numSupportedMorphNormals++;var m=i.shader.uniforms;(t.isShaderMaterial||t.isRawShaderMaterial)&&!0!==t.clipping||(i.numClippingPlanes=lt.numPlanes,i.numIntersection=lt.numIntersection,m.clippingPlanes=lt.uniform),i.fog=e,i.needsLights=function(t){return t.isMeshLambertMaterial||t.isMeshPhongMaterial||t.isMeshStandardMaterial||t.isShadowMaterial||t.isShaderMaterial&&!0===t.lights}(t),i.lightsStateVersion=a,i.needsLights&&(m.ambientLightColor.value=r.state.ambient,m.lightProbe.value=r.state.probe,m.directionalLights.value=r.state.directional,m.spotLights.value=r.state.spot,m.rectAreaLights.value=r.state.rectArea,m.pointLights.value=r.state.point,m.hemisphereLights.value=r.state.hemi,m.directionalShadowMap.value=r.state.directionalShadowMap,m.directionalShadowMatrix.value=r.state.directionalShadowMatrix,m.spotShadowMap.value=r.state.spotShadowMap,m.spotShadowMatrix.value=r.state.spotShadowMatrix,m.pointShadowMap.value=r.state.pointShadowMap,m.pointShadowMatrix.value=r.state.pointShadowMatrix);var g=i.program.getUniforms(),v=Zi.seqWithValue(g.seq,m);i.uniformsList=v}function It(t,e,n,i){w.resetTextureUnits();var r=_.get(n),o=p.state.lights;if(ut&&(ht||t!==Y)){var a=t===Y&&n.id===q;lt.setState(n.clippingPlanes,n.clipIntersection,n.clipShadows,t,r,a)}!1===n.needsUpdate&&(void 0===r.program||n.fog&&r.fog!==e||r.needsLights&&r.lightsStateVersion!==o.state.version?n.needsUpdate=!0:void 0===r.numClippingPlanes||r.numClippingPlanes===lt.numPlanes&&r.numIntersection===lt.numIntersection||(n.needsUpdate=!0)),n.needsUpdate&&(Lt(n,e,i),n.needsUpdate=!1);var s,l,c=!1,u=!1,h=!1,f=r.program,v=f.getUniforms(),y=r.shader.uniforms;if(g.useProgram(f.program)&&(c=!0,u=!0,h=!0),n.id!==q&&(q=n.id,u=!0),c||Y!==t){if(f.numMultiviewViews>0?yt.updateCameraProjectionMatricesUniform(t,v):v.setValue(d,"projectionMatrix",t.projectionMatrix),m.logarithmicDepthBuffer&&v.setValue(d,"logDepthBufFC",2/(Math.log(t.far+1)/Math.LN2)),Y!==t&&(Y=t,u=!0,h=!0),n.isShaderMaterial||n.isMeshPhongMaterial||n.isMeshStandardMaterial||n.envMap){var b=v.map.cameraPosition;void 0!==b&&b.setValue(d,dt.setFromMatrixPosition(t.matrixWorld))}(n.isMeshPhongMaterial||n.isMeshLambertMaterial||n.isMeshBasicMaterial||n.isMeshStandardMaterial||n.isShaderMaterial||n.skinning)&&(f.numMultiviewViews>0?yt.updateCameraViewMatricesUniform(t,v):v.setValue(d,"viewMatrix",t.matrixWorldInverse))}if(n.skinning){v.setOptional(d,i,"bindMatrix"),v.setOptional(d,i,"bindMatrixInverse");var S=i.skeleton;if(S){var T=S.bones;if(m.floatVertexTextures){if(void 0===S.boneTexture){var E=Math.sqrt(4*T.length);E=H.ceilPowerOfTwo(E),E=Math.max(E,4);var A=new Float32Array(E*E*4);A.set(S.boneMatrices);var C=new Mn(A,E,E,M,x);S.boneMatrices=A,S.boneTexture=C,S.boneTextureSize=E}v.setValue(d,"boneTexture",S.boneTexture,w),v.setValue(d,"boneTextureSize",S.boneTextureSize)}else v.setOptional(d,S,"boneMatrices")}}return(u||r.receiveShadow!==i.receiveShadow)&&(r.receiveShadow=i.receiveShadow,v.setValue(d,"receiveShadow",i.receiveShadow)),u&&(v.setValue(d,"toneMappingExposure",z.toneMappingExposure),v.setValue(d,"toneMappingWhitePoint",z.toneMappingWhitePoint),r.needsLights&&(l=h,(s=y).ambientLightColor.needsUpdate=l,s.lightProbe.needsUpdate=l,s.directionalLights.needsUpdate=l,s.pointLights.needsUpdate=l,s.spotLights.needsUpdate=l,s.rectAreaLights.needsUpdate=l,s.hemisphereLights.needsUpdate=l),e&&n.fog&&function(t,e){t.fogColor.value.copy(e.color),e.isFog?(t.fogNear.value=e.near,t.fogFar.value=e.far):e.isFogExp2&&(t.fogDensity.value=e.density)}(y,e),n.isMeshBasicMaterial?Dt(y,n):n.isMeshLambertMaterial?(Dt(y,n),function(t,e){e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap)}(y,n)):n.isMeshPhongMaterial?(Dt(y,n),n.isMeshToonMaterial?function(t,e){Pt(t,e),e.gradientMap&&(t.gradientMap.value=e.gradientMap)}(y,n):Pt(y,n)):n.isMeshStandardMaterial?(Dt(y,n),n.isMeshPhysicalMaterial?function(t,e){Rt(t,e),t.reflectivity.value=e.reflectivity,t.clearcoat.value=e.clearcoat,t.clearcoatRoughness.value=e.clearcoatRoughness,e.sheen&&t.sheen.value.copy(e.sheen),e.clearcoatNormalMap&&(t.clearcoatNormalScale.value.copy(e.clearcoatNormalScale),t.clearcoatNormalMap.value=e.clearcoatNormalMap,1===e.side&&t.clearcoatNormalScale.value.negate()),t.transparency.value=e.transparency}(y,n):Rt(y,n)):n.isMeshMatcapMaterial?(Dt(y,n),function(t,e){e.matcap&&(t.matcap.value=e.matcap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(y,n)):n.isMeshDepthMaterial?(Dt(y,n),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(y,n)):n.isMeshDistanceMaterial?(Dt(y,n),function(t,e){e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),t.referencePosition.value.copy(e.referencePosition),t.nearDistance.value=e.nearDistance,t.farDistance.value=e.farDistance}(y,n)):n.isMeshNormalMaterial?(Dt(y,n),function(t,e){e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}(y,n)):n.isLineBasicMaterial?(function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity}(y,n),n.isLineDashedMaterial&&function(t,e){t.dashSize.value=e.dashSize,t.totalSize.value=e.dashSize+e.gapSize,t.scale.value=e.scale}(y,n)):n.isPointsMaterial?function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.size.value=e.size*it,t.scale.value=.5*nt,t.map.value=e.map,null!==e.map&&(!0===e.map.matrixAutoUpdate&&e.map.updateMatrix(),t.uvTransform.value.copy(e.map.matrix))}(y,n):n.isSpriteMaterial?function(t,e){t.diffuse.value.copy(e.color),t.opacity.value=e.opacity,t.rotation.value=e.rotation,t.map.value=e.map,null!==e.map&&(!0===e.map.matrixAutoUpdate&&e.map.updateMatrix(),t.uvTransform.value.copy(e.map.matrix))}(y,n):n.isShadowMaterial&&(y.color.value.copy(n.color),y.opacity.value=n.opacity),void 0!==y.ltc_1&&(y.ltc_1.value=Rn.LTC_1),void 0!==y.ltc_2&&(y.ltc_2.value=Rn.LTC_2),Zi.upload(d,r.uniformsList,y,w)),n.isShaderMaterial&&!0===n.uniformsNeedUpdate&&(Zi.upload(d,r.uniformsList,y,w),n.uniformsNeedUpdate=!1),n.isSpriteMaterial&&v.setValue(d,"center",i.center),f.numMultiviewViews>0?yt.updateObjectMatricesUniforms(i,t,v):(v.setValue(d,"modelViewMatrix",i.modelViewMatrix),v.setValue(d,"normalMatrix",i.normalMatrix)),v.setValue(d,"modelMatrix",i.matrixWorld),f}function Dt(t,e){var n;t.opacity.value=e.opacity,e.color&&t.diffuse.value.copy(e.color),e.emissive&&t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity),e.map&&(t.map.value=e.map),e.alphaMap&&(t.alphaMap.value=e.alphaMap),e.specularMap&&(t.specularMap.value=e.specularMap),e.envMap&&(t.envMap.value=e.envMap,t.flipEnvMap.value=e.envMap.isCubeTexture?-1:1,t.reflectivity.value=e.reflectivity,t.refractionRatio.value=e.refractionRatio,t.maxMipLevel.value=_.get(e.envMap).__maxMipLevel),e.lightMap&&(t.lightMap.value=e.lightMap,t.lightMapIntensity.value=e.lightMapIntensity),e.aoMap&&(t.aoMap.value=e.aoMap,t.aoMapIntensity.value=e.aoMapIntensity),e.map?n=e.map:e.specularMap?n=e.specularMap:e.displacementMap?n=e.displacementMap:e.normalMap?n=e.normalMap:e.bumpMap?n=e.bumpMap:e.roughnessMap?n=e.roughnessMap:e.metalnessMap?n=e.metalnessMap:e.alphaMap?n=e.alphaMap:e.emissiveMap&&(n=e.emissiveMap),void 0!==n&&(n.isWebGLRenderTarget&&(n=n.texture),!0===n.matrixAutoUpdate&&n.updateMatrix(),t.uvTransform.value.copy(n.matrix))}function Pt(t,e){t.specular.value.copy(e.specular),t.shininess.value=Math.max(e.shininess,1e-4),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias)}function Rt(t,e){t.roughness.value=e.roughness,t.metalness.value=e.metalness,e.roughnessMap&&(t.roughnessMap.value=e.roughnessMap),e.metalnessMap&&(t.metalnessMap.value=e.metalnessMap),e.emissiveMap&&(t.emissiveMap.value=e.emissiveMap),e.bumpMap&&(t.bumpMap.value=e.bumpMap,t.bumpScale.value=e.bumpScale,1===e.side&&(t.bumpScale.value*=-1)),e.normalMap&&(t.normalMap.value=e.normalMap,t.normalScale.value.copy(e.normalScale),1===e.side&&t.normalScale.value.negate()),e.displacementMap&&(t.displacementMap.value=e.displacementMap,t.displacementScale.value=e.displacementScale,t.displacementBias.value=e.displacementBias),e.envMap&&(t.envMapIntensity.value=e.envMapIntensity)}Tt.setAnimationLoop((function(t){vt.isPresenting()||Mt&&Mt(t)})),"undefined"!=typeof window&&Tt.setContext(window),this.setAnimationLoop=function(t){Mt=t,vt.setAnimationLoop(t),Tt.start()},this.render=function(t,e){var n,i;if(void 0!==arguments[2]&&(console.warn("THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead."),n=arguments[2]),void 0!==arguments[3]&&(console.warn("THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead."),i=arguments[3]),e&&e.isCamera){if(!B){X.geometry=null,X.program=null,X.wireframe=!1,q=-1,Y=null,!0===t.autoUpdate&&t.updateMatrixWorld(),null===e.parent&&e.updateMatrixWorld(),vt.enabled&&(e=vt.getCamera(e)),(p=L.get(t,e)).init(),t.onBeforeRender(z,t,e,n||j),pt.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),st.setFromMatrix(pt),ht=this.localClippingEnabled,ut=lt.init(this.clippingPlanes,ht,e),(h=C.get(t,e)).init(),Et(t,e,0,z.sortObjects),!0===z.sortObjects&&h.sort(),ut&&lt.beginShadows();var r=p.state.shadowsArray;_t.render(r,t,e),p.setupLights(e),ut&&lt.endShadows(),this.info.autoReset&&this.info.reset(),void 0!==n&&this.setRenderTarget(n),vt.enabled&&yt.isAvailable()&&yt.attachCamera(e),I.render(h,t,e,i);var o=h.opaque,a=h.transparent;if(t.overrideMaterial){var s=t.overrideMaterial;o.length&&At(o,t,e,s),a.length&&At(a,t,e,s)}else o.length&&At(o,t,e),a.length&&At(a,t,e);t.onAfterRender(z,t,e),null!==j&&(w.updateRenderTargetMipmap(j),w.updateMultisampleRenderTarget(j)),g.buffers.depth.setTest(!0),g.buffers.depth.setMask(!0),g.buffers.color.setMask(!0),g.setPolygonOffset(!1),vt.enabled&&(yt.isAvailable()&&yt.detachCamera(e),vt.submitFrame()),h=null,p=null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFramebuffer=function(t){F!==t&&d.bindFramebuffer(36160,t),F=t},this.getActiveCubeFace=function(){return U},this.getActiveMipmapLevel=function(){return G},this.getRenderTarget=function(){return j},this.setRenderTarget=function(t,e,n){j=t,U=e,G=n,t&&void 0===_.get(t).__webglFramebuffer&&w.setupRenderTarget(t);var i=F,r=!1;if(t){var o=_.get(t).__webglFramebuffer;t.isWebGLRenderTargetCube?(i=o[e||0],r=!0):i=t.isWebGLMultisampleRenderTarget?_.get(t).__webglMultisampledFramebuffer:o,K.copy(t.viewport),$.copy(t.scissor),tt=t.scissorTest}else K.copy(rt).multiplyScalar(it).floor(),$.copy(ot).multiplyScalar(it).floor(),tt=at;if(W!==i&&(d.bindFramebuffer(36160,i),W=i),g.viewport(K),g.scissor($),g.setScissorTest(tt),r){var a=_.get(t.texture);d.framebufferTexture2D(36160,36064,34069+(e||0),a.__webglTexture,n||0)}},this.readRenderTargetPixels=function(t,e,n,i,r,o,a){if(t&&t.isWebGLRenderTarget){var s=_.get(t).__webglFramebuffer;if(t.isWebGLRenderTargetCube&&void 0!==a&&(s=s[a]),s){var l=!1;s!==W&&(d.bindFramebuffer(36160,s),l=!0);try{var c=t.texture,u=c.format,h=c.type;if(u!==M&&N.convert(u)!==d.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(h===y||N.convert(h)===d.getParameter(35738)||h===x&&(m.isWebGL2||f.get("OES_texture_float")||f.get("WEBGL_color_buffer_float"))||h===b&&(m.isWebGL2?f.get("EXT_color_buffer_float"):f.get("EXT_color_buffer_half_float"))))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===d.checkFramebufferStatus(36160)?e>=0&&e<=t.width-i&&n>=0&&n<=t.height-r&&d.readPixels(e,n,i,r,N.convert(u),N.convert(h),o):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{l&&d.bindFramebuffer(36160,W)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")},this.copyFramebufferToTexture=function(t,e,n){var i=e.image.width,r=e.image.height,o=N.convert(e.format);w.setTexture2D(e,0),d.copyTexImage2D(3553,n||0,o,t.x,t.y,i,r,0)},this.copyTextureToTexture=function(t,e,n,i){var r=e.image.width,o=e.image.height,a=N.convert(n.format),s=N.convert(n.type);w.setTexture2D(n,0),e.isDataTexture?d.texSubImage2D(3553,i||0,t.x,t.y,r,o,a,s,e.image.data):d.texSubImage2D(3553,i||0,t.x,t.y,a,s,e.image)},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}function Fr(t,e){this.name="",this.color=new de(t),this.density=void 0!==e?e:25e-5}function Ur(t,e,n){this.name="",this.color=new de(t),this.near=void 0!==e?e:1,this.far=void 0!==n?n:1e3}function Hr(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0}function Vr(t,e,n,i){this.data=t,this.itemSize=e,this.offset=n,this.normalized=!0===i}function Gr(t){_e.call(this),this.type="SpriteMaterial",this.color=new de(16777215),this.map=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(t)}Object.assign(Nr.prototype,B.prototype),Object.assign(zr.prototype,B.prototype),Object.assign(Fr.prototype,{isFogExp2:!0,clone:function(){return new Fr(this.color,this.density)},toJSON:function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}),Object.assign(Ur.prototype,{isFog:!0,clone:function(){return new Ur(this.color,this.near,this.far)},toJSON:function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}),Object.defineProperty(Hr.prototype,"needsUpdate",{set:function(t){!0===t&&this.version++}}),Object.assign(Hr.prototype,{isInterleavedBuffer:!0,onUploadCallback:function(){},setDynamic:function(t){return this.dynamic=t,this},copy:function(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.dynamic=t.dynamic,this},copyAt:function(t,e,n){t*=this.stride,n*=e.stride;for(var i=0,r=this.stride;i<r;i++)this.array[t+i]=e.array[n+i];return this},set:function(t,e){return void 0===e&&(e=0),this.array.set(t,e),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(t){return this.onUploadCallback=t,this}}),Object.defineProperties(Vr.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(Vr.prototype,{isInterleavedBufferAttribute:!0,setX:function(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this},setY:function(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this},setZ:function(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this},setW:function(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this},getX:function(t){return this.data.array[t*this.data.stride+this.offset]},getY:function(t){return this.data.array[t*this.data.stride+this.offset+1]},getZ:function(t){return this.data.array[t*this.data.stride+this.offset+2]},getW:function(t){return this.data.array[t*this.data.stride+this.offset+3]},setXY:function(t,e,n){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this},setXYZ:function(t,e,n,i){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this},setXYZW:function(t,e,n,i,r){return t=t*this.data.stride+this.offset,this.data.array[t+0]=e,this.data.array[t+1]=n,this.data.array[t+2]=i,this.data.array[t+3]=r,this}}),Gr.prototype=Object.create(_e.prototype),Gr.prototype.constructor=Gr,Gr.prototype.isSpriteMaterial=!0,Gr.prototype.copy=function(t){return _e.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this};var jr=new Z,Wr=new Z,Zr=new Z,qr=new V,Xr=new V,Yr=new ct,Jr=new Z,Kr=new Z,$r=new Z,Qr=new V,to=new V,eo=new V;function no(t){if(At.call(this),this.type="Sprite",void 0===Pr){Pr=new Ue;var e=new Hr(new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),5);Pr.setIndex([0,1,2,0,2,3]),Pr.addAttribute("position",new Vr(e,3,0,!1)),Pr.addAttribute("uv",new Vr(e,2,3,!1))}this.geometry=Pr,this.material=void 0!==t?t:new Gr,this.center=new V(.5,.5)}function io(t,e,n,i,r,o){qr.subVectors(t,n).addScalar(.5).multiply(i),void 0!==r?(Xr.x=o*qr.x-r*qr.y,Xr.y=r*qr.x+o*qr.y):Xr.copy(qr),t.copy(e),t.x+=Xr.x,t.y+=Xr.y,t.applyMatrix4(Yr)}no.prototype=Object.assign(Object.create(At.prototype),{constructor:no,isSprite:!0,raycast:function(t,e){null===t.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Wr.setFromMatrixScale(this.matrixWorld),Yr.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),Zr.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&Wr.multiplyScalar(-Zr.z);var n,i,r=this.material.rotation;0!==r&&(i=Math.cos(r),n=Math.sin(r));var o=this.center;io(Jr.set(-.5,-.5,0),Zr,o,Wr,n,i),io(Kr.set(.5,-.5,0),Zr,o,Wr,n,i),io($r.set(.5,.5,0),Zr,o,Wr,n,i),Qr.set(0,0),to.set(1,0),eo.set(1,1);var a=t.ray.intersectTriangle(Jr,Kr,$r,!1,jr);if(null!==a||(io(Kr.set(-.5,.5,0),Zr,o,Wr,n,i),to.set(0,1),null!==(a=t.ray.intersectTriangle(Jr,$r,Kr,!1,jr)))){var s=t.ray.origin.distanceTo(jr);s<t.near||s>t.far||e.push({distance:s,point:jr.clone(),uv:ce.getUV(jr,Jr,Kr,$r,Qr,to,eo,new V),face:null,object:this})}},clone:function(){return new this.constructor(this.material).copy(this)},copy:function(t){return At.prototype.copy.call(this,t),void 0!==t.center&&this.center.copy(t.center),this}});var ro=new Z,oo=new Z;function ao(){At.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}function so(t,e){t&&t.isGeometry&&console.error("THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead."),on.call(this,t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ct,this.bindMatrixInverse=new ct}ao.prototype=Object.assign(Object.create(At.prototype),{constructor:ao,isLOD:!0,copy:function(t){At.prototype.copy.call(this,t,!1);for(var e=t.levels,n=0,i=e.length;n<i;n++){var r=e[n];this.addLevel(r.object.clone(),r.distance)}return this},addLevel:function(t,e){void 0===e&&(e=0),e=Math.abs(e);for(var n=this.levels,i=0;i<n.length&&!(e<n[i].distance);i++);return n.splice(i,0,{distance:e,object:t}),this.add(t),this},getObjectForDistance:function(t){for(var e=this.levels,n=1,i=e.length;n<i&&!(t<e[n].distance);n++);return e[n-1].object},raycast:function(t,e){ro.setFromMatrixPosition(this.matrixWorld);var n=t.ray.origin.distanceTo(ro);this.getObjectForDistance(n).raycast(t,e)},update:function(t){var e=this.levels;if(e.length>1){ro.setFromMatrixPosition(t.matrixWorld),oo.setFromMatrixPosition(this.matrixWorld);var n=ro.distanceTo(oo);e[0].object.visible=!0;for(var i=1,r=e.length;i<r&&n>=e[i].distance;i++)e[i-1].object.visible=!1,e[i].object.visible=!0;for(;i<r;i++)e[i].object.visible=!1}},toJSON:function(t){var e=At.prototype.toJSON.call(this,t);e.object.levels=[];for(var n=this.levels,i=0,r=n.length;i<r;i++){var o=n[i];e.object.levels.push({object:o.object.uuid,distance:o.distance})}return e}}),so.prototype=Object.assign(Object.create(on.prototype),{constructor:so,isSkinnedMesh:!0,bind:function(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.getInverse(e)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){for(var t=new Q,e=this.geometry.attributes.skinWeight,n=0,i=e.count;n<i;n++){t.x=e.getX(n),t.y=e.getY(n),t.z=e.getZ(n),t.w=e.getW(n);var r=1/t.manhattanLength();r!==1/0?t.multiplyScalar(r):t.set(1,0,0,0),e.setXYZW(n,t.x,t.y,t.z,t.w)}},updateMatrixWorld:function(t){on.prototype.updateMatrixWorld.call(this,t),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var lo=new ct,co=new ct;function uo(t,e){if(t=t||[],this.bones=t.slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),this.frame=-1,void 0===e)this.calculateInverses();else if(this.bones.length===e.length)this.boneInverses=e.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var n=0,i=this.bones.length;n<i;n++)this.boneInverses.push(new ct)}}function ho(){At.call(this),this.type="Bone"}function po(t,e,n){on.call(this,t,e),this.instanceMatrix=new be(new Float32Array(16*n),16),this.count=n}function fo(t){_e.call(this),this.type="LineBasicMaterial",this.color=new de(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(t)}Object.assign(uo.prototype,{calculateInverses:function(){this.boneInverses=[];for(var t=0,e=this.bones.length;t<e;t++){var n=new ct;this.bones[t]&&n.getInverse(this.bones[t].matrixWorld),this.boneInverses.push(n)}},pose:function(){var t,e,n;for(e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&t.matrixWorld.getInverse(this.boneInverses[e]);for(e=0,n=this.bones.length;e<n;e++)(t=this.bones[e])&&(t.parent&&t.parent.isBone?(t.matrix.getInverse(t.parent.matrixWorld),t.matrix.multiply(t.matrixWorld)):t.matrix.copy(t.matrixWorld),t.matrix.decompose(t.position,t.quaternion,t.scale))},update:function(){for(var t=this.bones,e=this.boneInverses,n=this.boneMatrices,i=this.boneTexture,r=0,o=t.length;r<o;r++){var a=t[r]?t[r].matrixWorld:co;lo.multiplyMatrices(a,e[r]),lo.toArray(n,16*r)}void 0!==i&&(i.needsUpdate=!0)},clone:function(){return new uo(this.bones,this.boneInverses)},getBoneByName:function(t){for(var e=0,n=this.bones.length;e<n;e++){var i=this.bones[e];if(i.name===t)return i}}}),ho.prototype=Object.assign(Object.create(At.prototype),{constructor:ho,isBone:!0}),po.prototype=Object.assign(Object.create(on.prototype),{constructor:po,isInstancedMesh:!0,raycast:function(){},setMatrixAt:function(t,e){e.toArray(this.instanceMatrix.array,16*t)},updateMorphTargets:function(){}}),fo.prototype=Object.create(_e.prototype),fo.prototype.constructor=fo,fo.prototype.isLineBasicMaterial=!0,fo.prototype.copy=function(t){return _e.prototype.copy.call(this,t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this};var mo=new Z,go=new Z,vo=new ct,yo=new $t,_o=new jt;function xo(t,e,n){1===n&&console.error("THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead."),At.call(this),this.type="Line",this.geometry=void 0!==t?t:new Ue,this.material=void 0!==e?e:new fo({color:16777215*Math.random()})}xo.prototype=Object.assign(Object.create(At.prototype),{constructor:xo,isLine:!0,computeLineDistances:function(){var t=this.geometry;if(t.isBufferGeometry)if(null===t.index){for(var e=t.attributes.position,n=[0],i=1,r=e.count;i<r;i++)mo.fromBufferAttribute(e,i-1),go.fromBufferAttribute(e,i),n[i]=n[i-1],n[i]+=mo.distanceTo(go);t.addAttribute("lineDistance",new Le(n,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){var o=t.vertices;for((n=t.lineDistances)[0]=0,i=1,r=o.length;i<r;i++)n[i]=n[i-1],n[i]+=o[i-1].distanceTo(o[i])}return this},raycast:function(t,e){var n=t.linePrecision,i=this.geometry,r=this.matrixWorld;if(null===i.boundingSphere&&i.computeBoundingSphere(),_o.copy(i.boundingSphere),_o.applyMatrix4(r),_o.radius+=n,!1!==t.ray.intersectsSphere(_o)){vo.getInverse(r),yo.copy(t.ray).applyMatrix4(vo);var o=n/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o,s=new Z,l=new Z,c=new Z,u=new Z,h=this&&this.isLineSegments?2:1;if(i.isBufferGeometry){var p=i.index,d=i.attributes.position.array;if(null!==p)for(var f=p.array,m=0,g=f.length-1;m<g;m+=h){var v=f[m],y=f[m+1];s.fromArray(d,3*v),l.fromArray(d,3*y),yo.distanceSqToSegment(s,l,u,c)>a||(u.applyMatrix4(this.matrixWorld),(b=t.ray.origin.distanceTo(u))<t.near||b>t.far||e.push({distance:b,point:c.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this}))}else for(m=0,g=d.length/3-1;m<g;m+=h)s.fromArray(d,3*m),l.fromArray(d,3*m+3),yo.distanceSqToSegment(s,l,u,c)>a||(u.applyMatrix4(this.matrixWorld),(b=t.ray.origin.distanceTo(u))<t.near||b>t.far||e.push({distance:b,point:c.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this}))}else if(i.isGeometry){var _=i.vertices,x=_.length;for(m=0;m<x-1;m+=h){var b;yo.distanceSqToSegment(_[m],_[m+1],u,c)>a||(u.applyMatrix4(this.matrixWorld),(b=t.ray.origin.distanceTo(u))<t.near||b>t.far||e.push({distance:b,point:c.clone().applyMatrix4(this.matrixWorld),index:m,face:null,faceIndex:null,object:this}))}}}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var bo=new Z,wo=new Z;function So(t,e){xo.call(this,t,e),this.type="LineSegments"}function Mo(t,e){xo.call(this,t,e),this.type="LineLoop"}function To(t){_e.call(this),this.type="PointsMaterial",this.color=new de(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.morphTargets=!1,this.setValues(t)}So.prototype=Object.assign(Object.create(xo.prototype),{constructor:So,isLineSegments:!0,computeLineDistances:function(){var t=this.geometry;if(t.isBufferGeometry)if(null===t.index){for(var e=t.attributes.position,n=[],i=0,r=e.count;i<r;i+=2)bo.fromBufferAttribute(e,i),wo.fromBufferAttribute(e,i+1),n[i]=0===i?0:n[i-1],n[i+1]=n[i]+bo.distanceTo(wo);t.addAttribute("lineDistance",new Le(n,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else if(t.isGeometry){var o=t.vertices;for(n=t.lineDistances,i=0,r=o.length;i<r;i+=2)bo.copy(o[i]),wo.copy(o[i+1]),n[i]=0===i?0:n[i-1],n[i+1]=n[i]+bo.distanceTo(wo)}return this}}),Mo.prototype=Object.assign(Object.create(xo.prototype),{constructor:Mo,isLineLoop:!0}),To.prototype=Object.create(_e.prototype),To.prototype.constructor=To,To.prototype.isPointsMaterial=!0,To.prototype.copy=function(t){return _e.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this.morphTargets=t.morphTargets,this};var Eo=new ct,Ao=new $t,Co=new jt,Lo=new Z;function Io(t,e){At.call(this),this.type="Points",this.geometry=void 0!==t?t:new Ue,this.material=void 0!==e?e:new To({color:16777215*Math.random()}),this.updateMorphTargets()}function Do(t,e,n,i,r,o,a){var s=Ao.distanceSqToPoint(t);if(s<n){var l=new Z;Ao.closestPointToPoint(t,l),l.applyMatrix4(i);var c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;o.push({distance:c,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,object:a})}}function Po(t,e,n,i,r,o,a,s,l){$.call(this,t,e,n,i,r,o,a,s,l),this.format=void 0!==a?a:S,this.minFilter=void 0!==o?o:m,this.magFilter=void 0!==r?r:m,this.generateMipmaps=!1}function Ro(t,e,n,i,r,o,a,s,l,c,u,h){$.call(this,null,o,a,s,l,c,i,r,u,h),this.image={width:e,height:n},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}function Oo(t,e,n,i,r,o,a,s,l){$.call(this,t,e,n,i,r,o,a,s,l),this.needsUpdate=!0}function ko(t,e,n,i,r,o,a,s,l,c){if((c=void 0!==c?c:T)!==T&&c!==E)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===n&&c===T&&(n=_),void 0===n&&c===E&&(n=w),$.call(this,null,i,r,o,a,s,c,n,l),this.image={width:t,height:e},this.magFilter=void 0!==a?a:p,this.minFilter=void 0!==s?s:p,this.flipY=!1,this.generateMipmaps=!1}function No(t){Ue.call(this),this.type="WireframeGeometry";var e,n,i,r,o,a,s,l,c,u,h=[],p=[0,0],d={},f=["a","b","c"];if(t&&t.isGeometry){var m=t.faces;for(e=0,i=m.length;e<i;e++){var g=m[e];for(n=0;n<3;n++)s=g[f[n]],l=g[f[(n+1)%3]],p[0]=Math.min(s,l),p[1]=Math.max(s,l),void 0===d[c=p[0]+","+p[1]]&&(d[c]={index1:p[0],index2:p[1]})}for(c in d)a=d[c],u=t.vertices[a.index1],h.push(u.x,u.y,u.z),u=t.vertices[a.index2],h.push(u.x,u.y,u.z)}else if(t&&t.isBufferGeometry){var v,y,_,x,b,w,S;if(u=new Z,null!==t.index){for(v=t.attributes.position,y=t.index,0===(_=t.groups).length&&(_=[{start:0,count:y.count,materialIndex:0}]),r=0,o=_.length;r<o;++r)for(e=b=(x=_[r]).start,i=b+x.count;e<i;e+=3)for(n=0;n<3;n++)s=y.getX(e+n),l=y.getX(e+(n+1)%3),p[0]=Math.min(s,l),p[1]=Math.max(s,l),void 0===d[c=p[0]+","+p[1]]&&(d[c]={index1:p[0],index2:p[1]});for(c in d)a=d[c],u.fromBufferAttribute(v,a.index1),h.push(u.x,u.y,u.z),u.fromBufferAttribute(v,a.index2),h.push(u.x,u.y,u.z)}else for(e=0,i=(v=t.attributes.position).count/3;e<i;e++)for(n=0;n<3;n++)w=3*e+n,u.fromBufferAttribute(v,w),h.push(u.x,u.y,u.z),S=3*e+(n+1)%3,u.fromBufferAttribute(v,S),h.push(u.x,u.y,u.z)}this.addAttribute("position",new Le(h,3))}function zo(t,e,n){pn.call(this),this.type="ParametricGeometry",this.parameters={func:t,slices:e,stacks:n},this.fromBufferGeometry(new Bo(t,e,n)),this.mergeVertices()}function Bo(t,e,n){Ue.call(this),this.type="ParametricBufferGeometry",this.parameters={func:t,slices:e,stacks:n};var i,r,o=[],a=[],s=[],l=[],c=1e-5,u=new Z,h=new Z,p=new Z,d=new Z,f=new Z;t.length<3&&console.error("THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.");var m=e+1;for(i=0;i<=n;i++){var g=i/n;for(r=0;r<=e;r++){var v=r/e;t(v,g,h),a.push(h.x,h.y,h.z),v-c>=0?(t(v-c,g,p),d.subVectors(h,p)):(t(v+c,g,p),d.subVectors(p,h)),g-c>=0?(t(v,g-c,p),f.subVectors(h,p)):(t(v,g+c,p),f.subVectors(p,h)),u.crossVectors(d,f).normalize(),s.push(u.x,u.y,u.z),l.push(v,g)}}for(i=0;i<n;i++)for(r=0;r<e;r++){var y=i*m+r,_=i*m+r+1,x=(i+1)*m+r+1,b=(i+1)*m+r;o.push(y,_,b),o.push(_,x,b)}this.setIndex(o),this.addAttribute("position",new Le(a,3)),this.addAttribute("normal",new Le(s,3)),this.addAttribute("uv",new Le(l,2))}function Fo(t,e,n,i){pn.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:i},this.fromBufferGeometry(new Uo(t,e,n,i)),this.mergeVertices()}function Uo(t,e,n,i){Ue.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:t,indices:e,radius:n,detail:i},n=n||1;var r=[],o=[];function a(t,e,n,i){var r,o,a=Math.pow(2,i),l=[];for(r=0;r<=a;r++){l[r]=[];var c=t.clone().lerp(n,r/a),u=e.clone().lerp(n,r/a),h=a-r;for(o=0;o<=h;o++)l[r][o]=0===o&&r===a?c:c.clone().lerp(u,o/h)}for(r=0;r<a;r++)for(o=0;o<2*(a-r)-1;o++){var p=Math.floor(o/2);o%2==0?(s(l[r][p+1]),s(l[r+1][p]),s(l[r][p])):(s(l[r][p+1]),s(l[r+1][p+1]),s(l[r+1][p]))}}function s(t){r.push(t.x,t.y,t.z)}function l(e,n){var i=3*e;n.x=t[i+0],n.y=t[i+1],n.z=t[i+2]}function c(t,e,n,i){i<0&&1===t.x&&(o[e]=t.x-1),0===n.x&&0===n.z&&(o[e]=i/2/Math.PI+.5)}function u(t){return Math.atan2(t.z,-t.x)}!function(t){for(var n=new Z,i=new Z,r=new Z,o=0;o<e.length;o+=3)l(e[o+0],n),l(e[o+1],i),l(e[o+2],r),a(n,i,r,t)}(i=i||0),function(t){for(var e=new Z,n=0;n<r.length;n+=3)e.x=r[n+0],e.y=r[n+1],e.z=r[n+2],e.normalize().multiplyScalar(t),r[n+0]=e.x,r[n+1]=e.y,r[n+2]=e.z}(n),function(){for(var t=new Z,e=0;e<r.length;e+=3){t.x=r[e+0],t.y=r[e+1],t.z=r[e+2];var n=u(t)/2/Math.PI+.5,i=(a=t,Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))/Math.PI+.5);o.push(n,1-i)}var a;(function(){for(var t=new Z,e=new Z,n=new Z,i=new Z,a=new V,s=new V,l=new V,h=0,p=0;h<r.length;h+=9,p+=6){t.set(r[h+0],r[h+1],r[h+2]),e.set(r[h+3],r[h+4],r[h+5]),n.set(r[h+6],r[h+7],r[h+8]),a.set(o[p+0],o[p+1]),s.set(o[p+2],o[p+3]),l.set(o[p+4],o[p+5]),i.copy(t).add(e).add(n).divideScalar(3);var d=u(i);c(a,p+0,t,d),c(s,p+2,e,d),c(l,p+4,n,d)}})(),function(){for(var t=0;t<o.length;t+=6){var e=o[t+0],n=o[t+2],i=o[t+4],r=Math.max(e,n,i),a=Math.min(e,n,i);r>.9&&a<.1&&(e<.2&&(o[t+0]+=1),n<.2&&(o[t+2]+=1),i<.2&&(o[t+4]+=1))}}()}(),this.addAttribute("position",new Le(r,3)),this.addAttribute("normal",new Le(r.slice(),3)),this.addAttribute("uv",new Le(o,2)),0===i?this.computeVertexNormals():this.normalizeNormals()}function Ho(t,e){pn.call(this),this.type="TetrahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Vo(t,e)),this.mergeVertices()}function Vo(t,e){Uo.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],t,e),this.type="TetrahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Go(t,e){pn.call(this),this.type="OctahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new jo(t,e)),this.mergeVertices()}function jo(t,e){Uo.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],t,e),this.type="OctahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Wo(t,e){pn.call(this),this.type="IcosahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Zo(t,e)),this.mergeVertices()}function Zo(t,e){var n=(1+Math.sqrt(5))/2,i=[-1,n,0,1,n,0,-1,-n,0,1,-n,0,0,-1,n,0,1,n,0,-1,-n,0,1,-n,n,0,-1,n,0,1,-n,0,-1,-n,0,1];Uo.call(this,i,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],t,e),this.type="IcosahedronBufferGeometry",this.parameters={radius:t,detail:e}}function qo(t,e){pn.call(this),this.type="DodecahedronGeometry",this.parameters={radius:t,detail:e},this.fromBufferGeometry(new Xo(t,e)),this.mergeVertices()}function Xo(t,e){var n=(1+Math.sqrt(5))/2,i=1/n,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-n,0,-i,n,0,i,-n,0,i,n,-i,-n,0,-i,n,0,i,-n,0,i,n,0,-n,0,-i,n,0,-i,-n,0,i,n,0,i];Uo.call(this,r,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],t,e),this.type="DodecahedronBufferGeometry",this.parameters={radius:t,detail:e}}function Yo(t,e,n,i,r,o){pn.call(this),this.type="TubeGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:i,closed:r},void 0!==o&&console.warn("THREE.TubeGeometry: taper has been removed.");var a=new Jo(t,e,n,i,r);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals,this.fromBufferGeometry(a),this.mergeVertices()}function Jo(t,e,n,i,r){Ue.call(this),this.type="TubeBufferGeometry",this.parameters={path:t,tubularSegments:e,radius:n,radialSegments:i,closed:r},e=e||64,n=n||1,i=i||8,r=r||!1;var o=t.computeFrenetFrames(e,r);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;var a,s,l=new Z,c=new Z,u=new V,h=new Z,p=[],d=[],f=[],m=[];function g(r){h=t.getPointAt(r/e,h);var a=o.normals[r],u=o.binormals[r];for(s=0;s<=i;s++){var f=s/i*Math.PI*2,m=Math.sin(f),g=-Math.cos(f);c.x=g*a.x+m*u.x,c.y=g*a.y+m*u.y,c.z=g*a.z+m*u.z,c.normalize(),d.push(c.x,c.y,c.z),l.x=h.x+n*c.x,l.y=h.y+n*c.y,l.z=h.z+n*c.z,p.push(l.x,l.y,l.z)}}!function(){for(a=0;a<e;a++)g(a);g(!1===r?e:0),function(){for(a=0;a<=e;a++)for(s=0;s<=i;s++)u.x=a/e,u.y=s/i,f.push(u.x,u.y)}(),function(){for(s=1;s<=e;s++)for(a=1;a<=i;a++){var t=(i+1)*(s-1)+(a-1),n=(i+1)*s+(a-1),r=(i+1)*s+a,o=(i+1)*(s-1)+a;m.push(t,n,o),m.push(n,r,o)}}()}(),this.setIndex(m),this.addAttribute("position",new Le(p,3)),this.addAttribute("normal",new Le(d,3)),this.addAttribute("uv",new Le(f,2))}function Ko(t,e,n,i,r,o,a){pn.call(this),this.type="TorusKnotGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:i,p:r,q:o},void 0!==a&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new $o(t,e,n,i,r,o)),this.mergeVertices()}function $o(t,e,n,i,r,o){Ue.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:t,tube:e,tubularSegments:n,radialSegments:i,p:r,q:o},t=t||1,e=e||.4,n=Math.floor(n)||64,i=Math.floor(i)||8,r=r||2,o=o||3;var a,s,l=[],c=[],u=[],h=[],p=new Z,d=new Z,f=new Z,m=new Z,g=new Z,v=new Z,y=new Z;for(a=0;a<=n;++a){var _=a/n*r*Math.PI*2;for(A(_,r,o,t,f),A(_+.01,r,o,t,m),v.subVectors(m,f),y.addVectors(m,f),g.crossVectors(v,y),y.crossVectors(g,v),g.normalize(),y.normalize(),s=0;s<=i;++s){var x=s/i*Math.PI*2,b=-e*Math.cos(x),w=e*Math.sin(x);p.x=f.x+(b*y.x+w*g.x),p.y=f.y+(b*y.y+w*g.y),p.z=f.z+(b*y.z+w*g.z),c.push(p.x,p.y,p.z),d.subVectors(p,f).normalize(),u.push(d.x,d.y,d.z),h.push(a/n),h.push(s/i)}}for(s=1;s<=n;s++)for(a=1;a<=i;a++){var S=(i+1)*(s-1)+(a-1),M=(i+1)*s+(a-1),T=(i+1)*s+a,E=(i+1)*(s-1)+a;l.push(S,M,E),l.push(M,T,E)}function A(t,e,n,i,r){var o=Math.cos(t),a=Math.sin(t),s=n/e*t,l=Math.cos(s);r.x=i*(2+l)*.5*o,r.y=i*(2+l)*a*.5,r.z=i*Math.sin(s)*.5}this.setIndex(l),this.addAttribute("position",new Le(c,3)),this.addAttribute("normal",new Le(u,3)),this.addAttribute("uv",new Le(h,2))}function Qo(t,e,n,i,r){pn.call(this),this.type="TorusGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:i,arc:r},this.fromBufferGeometry(new ta(t,e,n,i,r)),this.mergeVertices()}function ta(t,e,n,i,r){Ue.call(this),this.type="TorusBufferGeometry",this.parameters={radius:t,tube:e,radialSegments:n,tubularSegments:i,arc:r},t=t||1,e=e||.4,n=Math.floor(n)||8,i=Math.floor(i)||6,r=r||2*Math.PI;var o,a,s=[],l=[],c=[],u=[],h=new Z,p=new Z,d=new Z;for(o=0;o<=n;o++)for(a=0;a<=i;a++){var f=a/i*r,m=o/n*Math.PI*2;p.x=(t+e*Math.cos(m))*Math.cos(f),p.y=(t+e*Math.cos(m))*Math.sin(f),p.z=e*Math.sin(m),l.push(p.x,p.y,p.z),h.x=t*Math.cos(f),h.y=t*Math.sin(f),d.subVectors(p,h).normalize(),c.push(d.x,d.y,d.z),u.push(a/i),u.push(o/n)}for(o=1;o<=n;o++)for(a=1;a<=i;a++){var g=(i+1)*o+a-1,v=(i+1)*(o-1)+a-1,y=(i+1)*(o-1)+a,_=(i+1)*o+a;s.push(g,v,_),s.push(v,y,_)}this.setIndex(s),this.addAttribute("position",new Le(l,3)),this.addAttribute("normal",new Le(c,3)),this.addAttribute("uv",new Le(u,2))}Io.prototype=Object.assign(Object.create(At.prototype),{constructor:Io,isPoints:!0,raycast:function(t,e){var n=this.geometry,i=this.matrixWorld,r=t.params.Points.threshold;if(null===n.boundingSphere&&n.computeBoundingSphere(),Co.copy(n.boundingSphere),Co.applyMatrix4(i),Co.radius+=r,!1!==t.ray.intersectsSphere(Co)){Eo.getInverse(i),Ao.copy(t.ray).applyMatrix4(Eo);var o=r/((this.scale.x+this.scale.y+this.scale.z)/3),a=o*o;if(n.isBufferGeometry){var s=n.index,l=n.attributes.position.array;if(null!==s)for(var c=s.array,u=0,h=c.length;u<h;u++){var p=c[u];Lo.fromArray(l,3*p),Do(Lo,p,a,i,t,e,this)}else{u=0;for(var d=l.length/3;u<d;u++)Lo.fromArray(l,3*u),Do(Lo,u,a,i,t,e,this)}}else{var f=n.vertices;for(u=0,d=f.length;u<d;u++)Do(f[u],u,a,i,t,e,this)}}},updateMorphTargets:function(){var t,e,n,i=this.geometry;if(i.isBufferGeometry){var r=i.morphAttributes,o=Object.keys(r);if(o.length>0){var a=r[o[0]];if(void 0!==a)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},t=0,e=a.length;t<e;t++)n=a[t].name||String(t),this.morphTargetInfluences.push(0),this.morphTargetDictionary[n]=t}}else{var s=i.morphTargets;void 0!==s&&s.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),Po.prototype=Object.assign(Object.create($.prototype),{constructor:Po,isVideoTexture:!0,update:function(){var t=this.image;t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}),Ro.prototype=Object.create($.prototype),Ro.prototype.constructor=Ro,Ro.prototype.isCompressedTexture=!0,Oo.prototype=Object.create($.prototype),Oo.prototype.constructor=Oo,Oo.prototype.isCanvasTexture=!0,ko.prototype=Object.create($.prototype),ko.prototype.constructor=ko,ko.prototype.isDepthTexture=!0,No.prototype=Object.create(Ue.prototype),No.prototype.constructor=No,zo.prototype=Object.create(pn.prototype),zo.prototype.constructor=zo,Bo.prototype=Object.create(Ue.prototype),Bo.prototype.constructor=Bo,Fo.prototype=Object.create(pn.prototype),Fo.prototype.constructor=Fo,Uo.prototype=Object.create(Ue.prototype),Uo.prototype.constructor=Uo,Ho.prototype=Object.create(pn.prototype),Ho.prototype.constructor=Ho,Vo.prototype=Object.create(Uo.prototype),Vo.prototype.constructor=Vo,Go.prototype=Object.create(pn.prototype),Go.prototype.constructor=Go,jo.prototype=Object.create(Uo.prototype),jo.prototype.constructor=jo,Wo.prototype=Object.create(pn.prototype),Wo.prototype.constructor=Wo,Zo.prototype=Object.create(Uo.prototype),Zo.prototype.constructor=Zo,qo.prototype=Object.create(pn.prototype),qo.prototype.constructor=qo,Xo.prototype=Object.create(Uo.prototype),Xo.prototype.constructor=Xo,Yo.prototype=Object.create(pn.prototype),Yo.prototype.constructor=Yo,Jo.prototype=Object.create(Ue.prototype),Jo.prototype.constructor=Jo,Jo.prototype.toJSON=function(){var t=Ue.prototype.toJSON.call(this);return t.path=this.parameters.path.toJSON(),t},Ko.prototype=Object.create(pn.prototype),Ko.prototype.constructor=Ko,$o.prototype=Object.create(Ue.prototype),$o.prototype.constructor=$o,Qo.prototype=Object.create(pn.prototype),Qo.prototype.constructor=Qo,ta.prototype=Object.create(Ue.prototype),ta.prototype.constructor=ta;function ea(t,e,n,i,r){var o,a;if(r===function(t,e,n,i){for(var r=0,o=e,a=n-i;o<n;o+=i)r+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return r}(t,e,n,i)>0)for(o=e;o<n;o+=i)a=_a(o,t[o],t[o+1],a);else for(o=n-i;o>=e;o-=i)a=_a(o,t[o],t[o+1],a);return a&&ma(a,a.next)&&(xa(a),a=a.next),a}function na(t,e){if(!t)return t;e||(e=t);var n,i=t;do{if(n=!1,i.steiner||!ma(i,i.next)&&0!==fa(i.prev,i,i.next))i=i.next;else{if(xa(i),(i=e=i.prev)===i.next)break;n=!0}}while(n||i!==e);return e}function ia(t,e,n,i,r,o,a){if(t){!a&&o&&function(t,e,n,i){var r=t;do{null===r.z&&(r.z=ua(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,function(t){var e,n,i,r,o,a,s,l,c=1;do{for(n=t,t=null,o=null,a=0;n;){for(a++,i=n,s=0,e=0;e<c&&(s++,i=i.nextZ);e++);for(l=c;s>0||l>0&&i;)0!==s&&(0===l||!i||n.z<=i.z)?(r=n,n=n.nextZ,s--):(r=i,i=i.nextZ,l--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;n=i}o.nextZ=null,c*=2}while(a>1)}(r)}(t,i,r,o);for(var s,l,c=t;t.prev!==t.next;)if(s=t.prev,l=t.next,o?oa(t,i,r,o):ra(t))e.push(s.i/n),e.push(t.i/n),e.push(l.i/n),xa(t),t=l.next,c=l.next;else if((t=l)===c){a?1===a?ia(t=aa(t,e,n),e,n,i,r,o,2):2===a&&sa(t,e,n,i,r,o):ia(na(t),e,n,i,r,o,1);break}}}function ra(t){var e=t.prev,n=t,i=t.next;if(fa(e,n,i)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(pa(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&fa(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function oa(t,e,n,i){var r=t.prev,o=t,a=t.next;if(fa(r,o,a)>=0)return!1;for(var s=r.x<o.x?r.x<a.x?r.x:a.x:o.x<a.x?o.x:a.x,l=r.y<o.y?r.y<a.y?r.y:a.y:o.y<a.y?o.y:a.y,c=r.x>o.x?r.x>a.x?r.x:a.x:o.x>a.x?o.x:a.x,u=r.y>o.y?r.y>a.y?r.y:a.y:o.y>a.y?o.y:a.y,h=ua(s,l,e,n,i),p=ua(c,u,e,n,i),d=t.prevZ,f=t.nextZ;d&&d.z>=h&&f&&f.z<=p;){if(d!==t.prev&&d!==t.next&&pa(r.x,r.y,o.x,o.y,a.x,a.y,d.x,d.y)&&fa(d.prev,d,d.next)>=0)return!1;if(d=d.prevZ,f!==t.prev&&f!==t.next&&pa(r.x,r.y,o.x,o.y,a.x,a.y,f.x,f.y)&&fa(f.prev,f,f.next)>=0)return!1;f=f.nextZ}for(;d&&d.z>=h;){if(d!==t.prev&&d!==t.next&&pa(r.x,r.y,o.x,o.y,a.x,a.y,d.x,d.y)&&fa(d.prev,d,d.next)>=0)return!1;d=d.prevZ}for(;f&&f.z<=p;){if(f!==t.prev&&f!==t.next&&pa(r.x,r.y,o.x,o.y,a.x,a.y,f.x,f.y)&&fa(f.prev,f,f.next)>=0)return!1;f=f.nextZ}return!0}function aa(t,e,n){var i=t;do{var r=i.prev,o=i.next.next;!ma(r,o)&&ga(r,i,i.next,o)&&va(r,o)&&va(o,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(o.i/n),xa(i),xa(i.next),i=t=o),i=i.next}while(i!==t);return i}function sa(t,e,n,i,r,o){var a=t;do{for(var s=a.next.next;s!==a.prev;){if(a.i!==s.i&&da(a,s)){var l=ya(a,s);return a=na(a,a.next),l=na(l,l.next),ia(a,e,n,i,r,o),void ia(l,e,n,i,r,o)}s=s.next}a=a.next}while(a!==t)}function la(t,e){return t.x-e.x}function ca(t,e){if(e=function(t,e){var n,i=e,r=t.x,o=t.y,a=-1/0;do{if(o<=i.y&&o>=i.next.y&&i.next.y!==i.y){var s=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(s<=r&&s>a){if(a=s,s===r){if(o===i.y)return i;if(o===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!n)return null;if(r===a)return n.prev;var l,c=n,u=n.x,h=n.y,p=1/0;for(i=n.next;i!==c;)r>=i.x&&i.x>=u&&r!==i.x&&pa(o<h?r:a,o,u,h,o<h?a:r,o,i.x,i.y)&&((l=Math.abs(o-i.y)/(r-i.x))<p||l===p&&i.x>n.x)&&va(i,t)&&(n=i,p=l),i=i.next;return n}(t,e),e){var n=ya(e,t);na(n,n.next)}}function ua(t,e,n,i,r){return(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*r)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function ha(t){var e=t,n=t;do{(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next}while(e!==t);return n}function pa(t,e,n,i,r,o,a,s){return(r-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(i-s)-(n-a)*(e-s)>=0&&(n-a)*(o-s)-(r-a)*(i-s)>=0}function da(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!function(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&ga(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}(t,e)&&va(t,e)&&va(e,t)&&function(t,e){var n=t,i=!1,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}(t,e)}function fa(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function ma(t,e){return t.x===e.x&&t.y===e.y}function ga(t,e,n,i){return!!(ma(t,n)&&ma(e,i)||ma(t,i)&&ma(n,e))||fa(t,e,n)>0!=fa(t,e,i)>0&&fa(n,i,t)>0!=fa(n,i,e)>0}function va(t,e){return fa(t.prev,t,t.next)<0?fa(t,e,t.next)>=0&&fa(t,t.prev,e)>=0:fa(t,e,t.prev)<0||fa(t,t.next,e)<0}function ya(t,e){var n=new ba(t.i,t.x,t.y),i=new ba(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function _a(t,e,n,i){var r=new ba(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function xa(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function ba(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}var wa={area:function(t){for(var e=t.length,n=0,i=e-1,r=0;r<e;i=r++)n+=t[i].x*t[r].y-t[r].x*t[i].y;return.5*n},isClockWise:function(t){return wa.area(t)<0},triangulateShape:function(t,e){var n=[],i=[],r=[];Sa(t),Ma(n,t);var o=t.length;e.forEach(Sa);for(var a=0;a<e.length;a++)i.push(o),o+=e[a].length,Ma(n,e[a]);var s=function(t,e,n){n=n||2;var i,r,o,a,s,l,c,u=e&&e.length,h=u?e[0]*n:t.length,p=ea(t,0,h,n,!0),d=[];if(!p||p.next===p.prev)return d;if(u&&(p=function(t,e,n,i){var r,o,a,s=[];for(r=0,o=e.length;r<o;r++)(a=ea(t,e[r]*i,r<o-1?e[r+1]*i:t.length,i,!1))===a.next&&(a.steiner=!0),s.push(ha(a));for(s.sort(la),r=0;r<s.length;r++)ca(s[r],n),n=na(n,n.next);return n}(t,e,p,n)),t.length>80*n){i=o=t[0],r=a=t[1];for(var f=n;f<h;f+=n)(s=t[f])<i&&(i=s),(l=t[f+1])<r&&(r=l),s>o&&(o=s),l>a&&(a=l);c=0!==(c=Math.max(o-i,a-r))?1/c:0}return ia(p,d,n,i,r,c),d}(n,i);for(a=0;a<s.length;a+=3)r.push(s.slice(a,a+3));return r}};function Sa(t){var e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function Ma(t,e){for(var n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}function Ta(t,e){pn.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},this.fromBufferGeometry(new Ea(t,e)),this.mergeVertices()}function Ea(t,e){Ue.call(this),this.type="ExtrudeBufferGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];for(var n=this,i=[],r=[],o=0,a=t.length;o<a;o++)s(t[o]);function s(t){var o=[],a=void 0!==e.curveSegments?e.curveSegments:12,s=void 0!==e.steps?e.steps:1,l=void 0!==e.depth?e.depth:100,c=void 0===e.bevelEnabled||e.bevelEnabled,u=void 0!==e.bevelThickness?e.bevelThickness:6,h=void 0!==e.bevelSize?e.bevelSize:u-2,p=void 0!==e.bevelOffset?e.bevelOffset:0,d=void 0!==e.bevelSegments?e.bevelSegments:3,f=e.extrudePath,m=void 0!==e.UVGenerator?e.UVGenerator:Aa;void 0!==e.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),l=e.amount);var g,v,y,_,x,b,w,S,M=!1;f&&(g=f.getSpacedPoints(s),M=!0,c=!1,v=f.computeFrenetFrames(s,!1),y=new Z,_=new Z,x=new Z),c||(d=0,u=0,h=0,p=0);var T=t.extractPoints(a),E=T.shape,A=T.holes;if(!wa.isClockWise(E))for(E=E.reverse(),w=0,S=A.length;w<S;w++)b=A[w],wa.isClockWise(b)&&(A[w]=b.reverse());var C=wa.triangulateShape(E,A),L=E;for(w=0,S=A.length;w<S;w++)b=A[w],E=E.concat(b);function I(t,e,n){return e||console.error("THREE.ExtrudeGeometry: vec does not exist"),e.clone().multiplyScalar(n).add(t)}var D,P,R,O,k,N,z=E.length,B=C.length;function F(t,e,n){var i,r,o,a=t.x-e.x,s=t.y-e.y,l=n.x-t.x,c=n.y-t.y,u=a*a+s*s,h=a*c-s*l;if(Math.abs(h)>Number.EPSILON){var p=Math.sqrt(u),d=Math.sqrt(l*l+c*c),f=e.x-s/p,m=e.y+a/p,g=((n.x-c/d-f)*c-(n.y+l/d-m)*l)/(a*c-s*l),v=(i=f+a*g-t.x)*i+(r=m+s*g-t.y)*r;if(v<=2)return new V(i,r);o=Math.sqrt(v/2)}else{var y=!1;a>Number.EPSILON?l>Number.EPSILON&&(y=!0):a<-Number.EPSILON?l<-Number.EPSILON&&(y=!0):Math.sign(s)===Math.sign(c)&&(y=!0),y?(i=-s,r=a,o=Math.sqrt(u)):(i=a,r=s,o=Math.sqrt(u/2))}return new V(i/o,r/o)}for(var U=[],H=0,G=L.length,j=G-1,W=H+1;H<G;H++,j++,W++)j===G&&(j=0),W===G&&(W=0),U[H]=F(L[H],L[j],L[W]);var q,X,Y=[],J=U.concat();for(w=0,S=A.length;w<S;w++){for(b=A[w],q=[],H=0,j=(G=b.length)-1,W=H+1;H<G;H++,j++,W++)j===G&&(j=0),W===G&&(W=0),q[H]=F(b[H],b[j],b[W]);Y.push(q),J=J.concat(q)}for(D=0;D<d;D++){for(R=D/d,O=u*Math.cos(R*Math.PI/2),P=h*Math.sin(R*Math.PI/2)+p,H=0,G=L.length;H<G;H++)$((k=I(L[H],U[H],P)).x,k.y,-O);for(w=0,S=A.length;w<S;w++)for(b=A[w],q=Y[w],H=0,G=b.length;H<G;H++)$((k=I(b[H],q[H],P)).x,k.y,-O)}for(P=h+p,H=0;H<z;H++)k=c?I(E[H],J[H],P):E[H],M?(_.copy(v.normals[0]).multiplyScalar(k.x),y.copy(v.binormals[0]).multiplyScalar(k.y),x.copy(g[0]).add(_).add(y),$(x.x,x.y,x.z)):$(k.x,k.y,0);for(X=1;X<=s;X++)for(H=0;H<z;H++)k=c?I(E[H],J[H],P):E[H],M?(_.copy(v.normals[X]).multiplyScalar(k.x),y.copy(v.binormals[X]).multiplyScalar(k.y),x.copy(g[X]).add(_).add(y),$(x.x,x.y,x.z)):$(k.x,k.y,l/s*X);for(D=d-1;D>=0;D--){for(R=D/d,O=u*Math.cos(R*Math.PI/2),P=h*Math.sin(R*Math.PI/2)+p,H=0,G=L.length;H<G;H++)$((k=I(L[H],U[H],P)).x,k.y,l+O);for(w=0,S=A.length;w<S;w++)for(b=A[w],q=Y[w],H=0,G=b.length;H<G;H++)k=I(b[H],q[H],P),M?$(k.x,k.y+g[s-1].y,g[s-1].x+O):$(k.x,k.y,l+O)}function K(t,e){var n,i;for(H=t.length;--H>=0;){n=H,(i=H-1)<0&&(i=t.length-1);var r=0,o=s+2*d;for(r=0;r<o;r++){var a=z*r,l=z*(r+1);tt(e+n+a,e+i+a,e+i+l,e+n+l)}}}function $(t,e,n){o.push(t),o.push(e),o.push(n)}function Q(t,e,r){et(t),et(e),et(r);var o=i.length/3,a=m.generateTopUV(n,i,o-3,o-2,o-1);nt(a[0]),nt(a[1]),nt(a[2])}function tt(t,e,r,o){et(t),et(e),et(o),et(e),et(r),et(o);var a=i.length/3,s=m.generateSideWallUV(n,i,a-6,a-3,a-2,a-1);nt(s[0]),nt(s[1]),nt(s[3]),nt(s[1]),nt(s[2]),nt(s[3])}function et(t){i.push(o[3*t+0]),i.push(o[3*t+1]),i.push(o[3*t+2])}function nt(t){r.push(t.x),r.push(t.y)}!function(){var t=i.length/3;if(c){var e=0,r=z*e;for(H=0;H<B;H++)Q((N=C[H])[2]+r,N[1]+r,N[0]+r);for(r=z*(e=s+2*d),H=0;H<B;H++)Q((N=C[H])[0]+r,N[1]+r,N[2]+r)}else{for(H=0;H<B;H++)Q((N=C[H])[2],N[1],N[0]);for(H=0;H<B;H++)Q((N=C[H])[0]+z*s,N[1]+z*s,N[2]+z*s)}n.addGroup(t,i.length/3-t,0)}(),function(){var t=i.length/3,e=0;for(K(L,e),e+=L.length,w=0,S=A.length;w<S;w++)K(b=A[w],e),e+=b.length;n.addGroup(t,i.length/3-t,1)}()}this.addAttribute("position",new Le(i,3)),this.addAttribute("uv",new Le(r,2)),this.computeVertexNormals()}Ta.prototype=Object.create(pn.prototype),Ta.prototype.constructor=Ta,Ta.prototype.toJSON=function(){var t=pn.prototype.toJSON.call(this);return Ca(this.parameters.shapes,this.parameters.options,t)},Ea.prototype=Object.create(Ue.prototype),Ea.prototype.constructor=Ea,Ea.prototype.toJSON=function(){var t=Ue.prototype.toJSON.call(this);return Ca(this.parameters.shapes,this.parameters.options,t)};var Aa={generateTopUV:function(t,e,n,i,r){var o=e[3*n],a=e[3*n+1],s=e[3*i],l=e[3*i+1],c=e[3*r],u=e[3*r+1];return[new V(o,a),new V(s,l),new V(c,u)]},generateSideWallUV:function(t,e,n,i,r,o){var a=e[3*n],s=e[3*n+1],l=e[3*n+2],c=e[3*i],u=e[3*i+1],h=e[3*i+2],p=e[3*r],d=e[3*r+1],f=e[3*r+2],m=e[3*o],g=e[3*o+1],v=e[3*o+2];return Math.abs(s-u)<.01?[new V(a,1-l),new V(c,1-h),new V(p,1-f),new V(m,1-v)]:[new V(s,1-l),new V(u,1-h),new V(d,1-f),new V(g,1-v)]}};function Ca(t,e,n){if(n.shapes=[],Array.isArray(t))for(var i=0,r=t.length;i<r;i++){var o=t[i];n.shapes.push(o.uuid)}else n.shapes.push(t.uuid);return void 0!==e.extrudePath&&(n.options.extrudePath=e.extrudePath.toJSON()),n}function La(t,e){pn.call(this),this.type="TextGeometry",this.parameters={text:t,parameters:e},this.fromBufferGeometry(new Ia(t,e)),this.mergeVertices()}function Ia(t,e){var n=(e=e||{}).font;if(!n||!n.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new pn;var i=n.generateShapes(t,e.size);e.depth=void 0!==e.height?e.height:50,void 0===e.bevelThickness&&(e.bevelThickness=10),void 0===e.bevelSize&&(e.bevelSize=8),void 0===e.bevelEnabled&&(e.bevelEnabled=!1),Ea.call(this,i,e),this.type="TextBufferGeometry"}function Da(t,e,n,i,r,o,a){pn.call(this),this.type="SphereGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:i,phiLength:r,thetaStart:o,thetaLength:a},this.fromBufferGeometry(new Pa(t,e,n,i,r,o,a)),this.mergeVertices()}function Pa(t,e,n,i,r,o,a){Ue.call(this),this.type="SphereBufferGeometry",this.parameters={radius:t,widthSegments:e,heightSegments:n,phiStart:i,phiLength:r,thetaStart:o,thetaLength:a},t=t||1,e=Math.max(3,Math.floor(e)||8),n=Math.max(2,Math.floor(n)||6),i=void 0!==i?i:0,r=void 0!==r?r:2*Math.PI,o=void 0!==o?o:0,a=void 0!==a?a:Math.PI;var s,l,c=Math.min(o+a,Math.PI),u=0,h=[],p=new Z,d=new Z,f=[],m=[],g=[],v=[];for(l=0;l<=n;l++){var y=[],_=l/n,x=0;for(0==l&&0==o?x=.5/e:l==n&&c==Math.PI&&(x=-.5/e),s=0;s<=e;s++){var b=s/e;p.x=-t*Math.cos(i+b*r)*Math.sin(o+_*a),p.y=t*Math.cos(o+_*a),p.z=t*Math.sin(i+b*r)*Math.sin(o+_*a),m.push(p.x,p.y,p.z),d.copy(p).normalize(),g.push(d.x,d.y,d.z),v.push(b+x,1-_),y.push(u++)}h.push(y)}for(l=0;l<n;l++)for(s=0;s<e;s++){var w=h[l][s+1],S=h[l][s],M=h[l+1][s],T=h[l+1][s+1];(0!==l||o>0)&&f.push(w,S,T),(l!==n-1||c<Math.PI)&&f.push(S,M,T)}this.setIndex(f),this.addAttribute("position",new Le(m,3)),this.addAttribute("normal",new Le(g,3)),this.addAttribute("uv",new Le(v,2))}function Ra(t,e,n,i,r,o){pn.call(this),this.type="RingGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:o},this.fromBufferGeometry(new Oa(t,e,n,i,r,o)),this.mergeVertices()}function Oa(t,e,n,i,r,o){Ue.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:t,outerRadius:e,thetaSegments:n,phiSegments:i,thetaStart:r,thetaLength:o},t=t||.5,e=e||1,r=void 0!==r?r:0,o=void 0!==o?o:2*Math.PI,n=void 0!==n?Math.max(3,n):8;var a,s,l,c=[],u=[],h=[],p=[],d=t,f=(e-t)/(i=void 0!==i?Math.max(1,i):1),m=new Z,g=new V;for(s=0;s<=i;s++){for(l=0;l<=n;l++)a=r+l/n*o,m.x=d*Math.cos(a),m.y=d*Math.sin(a),u.push(m.x,m.y,m.z),h.push(0,0,1),g.x=(m.x/e+1)/2,g.y=(m.y/e+1)/2,p.push(g.x,g.y);d+=f}for(s=0;s<i;s++){var v=s*(n+1);for(l=0;l<n;l++){var y=a=l+v,_=a+n+1,x=a+n+2,b=a+1;c.push(y,_,b),c.push(_,x,b)}}this.setIndex(c),this.addAttribute("position",new Le(u,3)),this.addAttribute("normal",new Le(h,3)),this.addAttribute("uv",new Le(p,2))}function ka(t,e,n,i){pn.call(this),this.type="LatheGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:i},this.fromBufferGeometry(new Na(t,e,n,i)),this.mergeVertices()}function Na(t,e,n,i){Ue.call(this),this.type="LatheBufferGeometry",this.parameters={points:t,segments:e,phiStart:n,phiLength:i},e=Math.floor(e)||12,n=n||0,i=i||2*Math.PI,i=H.clamp(i,0,2*Math.PI);var r,o,a,s=[],l=[],c=[],u=1/e,h=new Z,p=new V;for(o=0;o<=e;o++){var d=n+o*u*i,f=Math.sin(d),m=Math.cos(d);for(a=0;a<=t.length-1;a++)h.x=t[a].x*f,h.y=t[a].y,h.z=t[a].x*m,l.push(h.x,h.y,h.z),p.x=o/e,p.y=a/(t.length-1),c.push(p.x,p.y)}for(o=0;o<e;o++)for(a=0;a<t.length-1;a++){var g=r=a+o*t.length,v=r+t.length,y=r+t.length+1,_=r+1;s.push(g,v,_),s.push(v,y,_)}if(this.setIndex(s),this.addAttribute("position",new Le(l,3)),this.addAttribute("uv",new Le(c,2)),this.computeVertexNormals(),i===2*Math.PI){var x=this.attributes.normal.array,b=new Z,w=new Z,S=new Z;for(r=e*t.length*3,o=0,a=0;o<t.length;o++,a+=3)b.x=x[a+0],b.y=x[a+1],b.z=x[a+2],w.x=x[r+a+0],w.y=x[r+a+1],w.z=x[r+a+2],S.addVectors(b,w).normalize(),x[a+0]=x[r+a+0]=S.x,x[a+1]=x[r+a+1]=S.y,x[a+2]=x[r+a+2]=S.z}}function za(t,e){pn.call(this),this.type="ShapeGeometry","object"==typeof e&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),e=e.curveSegments),this.parameters={shapes:t,curveSegments:e},this.fromBufferGeometry(new Ba(t,e)),this.mergeVertices()}function Ba(t,e){Ue.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:t,curveSegments:e},e=e||12;var n=[],i=[],r=[],o=[],a=0,s=0;if(!1===Array.isArray(t))c(t);else for(var l=0;l<t.length;l++)c(t[l]),this.addGroup(a,s,l),a+=s,s=0;function c(t){var a,l,c,u=i.length/3,h=t.extractPoints(e),p=h.shape,d=h.holes;for(!1===wa.isClockWise(p)&&(p=p.reverse()),a=0,l=d.length;a<l;a++)c=d[a],!0===wa.isClockWise(c)&&(d[a]=c.reverse());var f=wa.triangulateShape(p,d);for(a=0,l=d.length;a<l;a++)c=d[a],p=p.concat(c);for(a=0,l=p.length;a<l;a++){var m=p[a];i.push(m.x,m.y,0),r.push(0,0,1),o.push(m.x,m.y)}for(a=0,l=f.length;a<l;a++){var g=f[a],v=g[0]+u,y=g[1]+u,_=g[2]+u;n.push(v,y,_),s+=3}}this.setIndex(n),this.addAttribute("position",new Le(i,3)),this.addAttribute("normal",new Le(r,3)),this.addAttribute("uv",new Le(o,2))}function Fa(t,e){if(e.shapes=[],Array.isArray(t))for(var n=0,i=t.length;n<i;n++){var r=t[n];e.shapes.push(r.uuid)}else e.shapes.push(t.uuid);return e}function Ua(t,e){Ue.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:e},e=void 0!==e?e:1;var n,i,r,o,a=[],s=Math.cos(H.DEG2RAD*e),l=[0,0],c={},u=["a","b","c"];t.isBufferGeometry?(o=new pn).fromBufferGeometry(t):o=t.clone(),o.mergeVertices(),o.computeFaceNormals();for(var h=o.vertices,p=o.faces,d=0,f=p.length;d<f;d++)for(var m=p[d],g=0;g<3;g++)n=m[u[g]],i=m[u[(g+1)%3]],l[0]=Math.min(n,i),l[1]=Math.max(n,i),void 0===c[r=l[0]+","+l[1]]?c[r]={index1:l[0],index2:l[1],face1:d,face2:void 0}:c[r].face2=d;for(r in c){var v=c[r];if(void 0===v.face2||p[v.face1].normal.dot(p[v.face2].normal)<=s){var y=h[v.index1];a.push(y.x,y.y,y.z),y=h[v.index2],a.push(y.x,y.y,y.z)}}this.addAttribute("position",new Le(a,3))}function Ha(t,e,n,i,r,o,a,s){pn.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:i,heightSegments:r,openEnded:o,thetaStart:a,thetaLength:s},this.fromBufferGeometry(new Va(t,e,n,i,r,o,a,s)),this.mergeVertices()}function Va(t,e,n,i,r,o,a,s){Ue.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:t,radiusBottom:e,height:n,radialSegments:i,heightSegments:r,openEnded:o,thetaStart:a,thetaLength:s};var l=this;t=void 0!==t?t:1,e=void 0!==e?e:1,n=n||1,i=Math.floor(i)||8,r=Math.floor(r)||1,o=void 0!==o&&o,a=void 0!==a?a:0,s=void 0!==s?s:2*Math.PI;var c=[],u=[],h=[],p=[],d=0,f=[],m=n/2,g=0;function v(n){var r,o,f,v=new V,y=new Z,_=0,x=!0===n?t:e,b=!0===n?1:-1;for(o=d,r=1;r<=i;r++)u.push(0,m*b,0),h.push(0,b,0),p.push(.5,.5),d++;for(f=d,r=0;r<=i;r++){var w=r/i*s+a,S=Math.cos(w),M=Math.sin(w);y.x=x*M,y.y=m*b,y.z=x*S,u.push(y.x,y.y,y.z),h.push(0,b,0),v.x=.5*S+.5,v.y=.5*M*b+.5,p.push(v.x,v.y),d++}for(r=0;r<i;r++){var T=o+r,E=f+r;!0===n?c.push(E,E+1,T):c.push(E+1,E,T),_+=3}l.addGroup(g,_,!0===n?1:2),g+=_}!function(){var o,v,y=new Z,_=new Z,x=0,b=(e-t)/n;for(v=0;v<=r;v++){var w=[],S=v/r,M=S*(e-t)+t;for(o=0;o<=i;o++){var T=o/i,E=T*s+a,A=Math.sin(E),C=Math.cos(E);_.x=M*A,_.y=-S*n+m,_.z=M*C,u.push(_.x,_.y,_.z),y.set(A,b,C).normalize(),h.push(y.x,y.y,y.z),p.push(T,1-S),w.push(d++)}f.push(w)}for(o=0;o<i;o++)for(v=0;v<r;v++){var L=f[v][o],I=f[v+1][o],D=f[v+1][o+1],P=f[v][o+1];c.push(L,I,P),c.push(I,D,P),x+=6}l.addGroup(g,x,0),g+=x}(),!1===o&&(t>0&&v(!0),e>0&&v(!1)),this.setIndex(c),this.addAttribute("position",new Le(u,3)),this.addAttribute("normal",new Le(h,3)),this.addAttribute("uv",new Le(p,2))}function Ga(t,e,n,i,r,o,a){Ha.call(this,0,t,e,n,i,r,o,a),this.type="ConeGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:o,thetaLength:a}}function ja(t,e,n,i,r,o,a){Va.call(this,0,t,e,n,i,r,o,a),this.type="ConeBufferGeometry",this.parameters={radius:t,height:e,radialSegments:n,heightSegments:i,openEnded:r,thetaStart:o,thetaLength:a}}function Wa(t,e,n,i){pn.call(this),this.type="CircleGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:i},this.fromBufferGeometry(new Za(t,e,n,i)),this.mergeVertices()}function Za(t,e,n,i){Ue.call(this),this.type="CircleBufferGeometry",this.parameters={radius:t,segments:e,thetaStart:n,thetaLength:i},t=t||1,e=void 0!==e?Math.max(3,e):8,n=void 0!==n?n:0,i=void 0!==i?i:2*Math.PI;var r,o,a=[],s=[],l=[],c=[],u=new Z,h=new V;for(s.push(0,0,0),l.push(0,0,1),c.push(.5,.5),o=0,r=3;o<=e;o++,r+=3){var p=n+o/e*i;u.x=t*Math.cos(p),u.y=t*Math.sin(p),s.push(u.x,u.y,u.z),l.push(0,0,1),h.x=(s[r]/t+1)/2,h.y=(s[r+1]/t+1)/2,c.push(h.x,h.y)}for(r=1;r<=e;r++)a.push(r,r+1,0);this.setIndex(a),this.addAttribute("position",new Le(s,3)),this.addAttribute("normal",new Le(l,3)),this.addAttribute("uv",new Le(c,2))}La.prototype=Object.create(pn.prototype),La.prototype.constructor=La,Ia.prototype=Object.create(Ea.prototype),Ia.prototype.constructor=Ia,Da.prototype=Object.create(pn.prototype),Da.prototype.constructor=Da,Pa.prototype=Object.create(Ue.prototype),Pa.prototype.constructor=Pa,Ra.prototype=Object.create(pn.prototype),Ra.prototype.constructor=Ra,Oa.prototype=Object.create(Ue.prototype),Oa.prototype.constructor=Oa,ka.prototype=Object.create(pn.prototype),ka.prototype.constructor=ka,Na.prototype=Object.create(Ue.prototype),Na.prototype.constructor=Na,za.prototype=Object.create(pn.prototype),za.prototype.constructor=za,za.prototype.toJSON=function(){var t=pn.prototype.toJSON.call(this);return Fa(this.parameters.shapes,t)},Ba.prototype=Object.create(Ue.prototype),Ba.prototype.constructor=Ba,Ba.prototype.toJSON=function(){var t=Ue.prototype.toJSON.call(this);return Fa(this.parameters.shapes,t)},Ua.prototype=Object.create(Ue.prototype),Ua.prototype.constructor=Ua,Ha.prototype=Object.create(pn.prototype),Ha.prototype.constructor=Ha,Va.prototype=Object.create(Ue.prototype),Va.prototype.constructor=Va,Ga.prototype=Object.create(Ha.prototype),Ga.prototype.constructor=Ga,ja.prototype=Object.create(Va.prototype),ja.prototype.constructor=ja,Wa.prototype=Object.create(pn.prototype),Wa.prototype.constructor=Wa,Za.prototype=Object.create(Ue.prototype),Za.prototype.constructor=Za;var qa=Object.freeze({WireframeGeometry:No,ParametricGeometry:zo,ParametricBufferGeometry:Bo,TetrahedronGeometry:Ho,TetrahedronBufferGeometry:Vo,OctahedronGeometry:Go,OctahedronBufferGeometry:jo,IcosahedronGeometry:Wo,IcosahedronBufferGeometry:Zo,DodecahedronGeometry:qo,DodecahedronBufferGeometry:Xo,PolyhedronGeometry:Fo,PolyhedronBufferGeometry:Uo,TubeGeometry:Yo,TubeBufferGeometry:Jo,TorusKnotGeometry:Ko,TorusKnotBufferGeometry:$o,TorusGeometry:Qo,TorusBufferGeometry:ta,TextGeometry:La,TextBufferGeometry:Ia,SphereGeometry:Da,SphereBufferGeometry:Pa,RingGeometry:Ra,RingBufferGeometry:Oa,PlaneGeometry:zn,PlaneBufferGeometry:Bn,LatheGeometry:ka,LatheBufferGeometry:Na,ShapeGeometry:za,ShapeBufferGeometry:Ba,ExtrudeGeometry:Ta,ExtrudeBufferGeometry:Ea,EdgesGeometry:Ua,ConeGeometry:Ga,ConeBufferGeometry:ja,CylinderGeometry:Ha,CylinderBufferGeometry:Va,CircleGeometry:Wa,CircleBufferGeometry:Za,BoxGeometry:dn,BoxBufferGeometry:fn});function Xa(t){_e.call(this),this.type="ShadowMaterial",this.color=new de(0),this.transparent=!0,this.setValues(t)}function Ya(t){yn.call(this,t),this.type="RawShaderMaterial"}function Ja(t){_e.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new de(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new de(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new V(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Ka(t){Ja.call(this),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearcoat=0,this.clearcoatRoughness=0,this.sheen=null,this.clearcoatNormalScale=new V(1,1),this.clearcoatNormalMap=null,this.transparency=0,this.setValues(t)}function $a(t){_e.call(this),this.type="MeshPhongMaterial",this.color=new de(16777215),this.specular=new de(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new de(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new V(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function Qa(t){$a.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(t)}function ts(t){_e.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new V(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function es(t){_e.call(this),this.type="MeshLambertMaterial",this.color=new de(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new de(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function ns(t){_e.call(this),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new de(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new V(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(t)}function is(t){fo.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}Xa.prototype=Object.create(_e.prototype),Xa.prototype.constructor=Xa,Xa.prototype.isShadowMaterial=!0,Xa.prototype.copy=function(t){return _e.prototype.copy.call(this,t),this.color.copy(t.color),this},Ya.prototype=Object.create(yn.prototype),Ya.prototype.constructor=Ya,Ya.prototype.isRawShaderMaterial=!0,Ja.prototype=Object.create(_e.prototype),Ja.prototype.constructor=Ja,Ja.prototype.isMeshStandardMaterial=!0,Ja.prototype.copy=function(t){return _e.prototype.copy.call(this,t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Ka.prototype=Object.create(Ja.prototype),Ka.prototype.constructor=Ka,Ka.prototype.isMeshPhysicalMaterial=!0,Ka.prototype.copy=function(t){return Ja.prototype.copy.call(this,t),this.defines={STANDARD:"",PHYSICAL:""},this.reflectivity=t.reflectivity,this.clearcoat=t.clearcoat,this.clearcoatRoughness=t.clearcoatRoughness,t.sheen?this.sheen=(this.sheen||new de).copy(t.sheen):this.sheen=null,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.transparency=t.transparency,this},$a.prototype=Object.create(_e.prototype),$a.prototype.constructor=$a,$a.prototype.isMeshPhongMaterial=!0,$a.prototype.copy=function(t){return _e.prototype.copy.call(this,t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},Qa.prototype=Object.create($a.prototype),Qa.prototype.constructor=Qa,Qa.prototype.isMeshToonMaterial=!0,Qa.prototype.copy=function(t){return $a.prototype.copy.call(this,t),this.gradientMap=t.gradientMap,this},ts.prototype=Object.create(_e.prototype),ts.prototype.constructor=ts,ts.prototype.isMeshNormalMaterial=!0,ts.prototype.copy=function(t){return _e.prototype.copy.call(this,t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},es.prototype=Object.create(_e.prototype),es.prototype.constructor=es,es.prototype.isMeshLambertMaterial=!0,es.prototype.copy=function(t){return _e.prototype.copy.call(this,t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},ns.prototype=Object.create(_e.prototype),ns.prototype.constructor=ns,ns.prototype.isMeshMatcapMaterial=!0,ns.prototype.copy=function(t){return _e.prototype.copy.call(this,t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.skinning=t.skinning,this.morphTargets=t.morphTargets,this.morphNormals=t.morphNormals,this},is.prototype=Object.create(fo.prototype),is.prototype.constructor=is,is.prototype.isLineDashedMaterial=!0,is.prototype.copy=function(t){return fo.prototype.copy.call(this,t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this};var rs=Object.freeze({ShadowMaterial:Xa,SpriteMaterial:Gr,RawShaderMaterial:Ya,ShaderMaterial:yn,PointsMaterial:To,MeshPhysicalMaterial:Ka,MeshStandardMaterial:Ja,MeshPhongMaterial:$a,MeshToonMaterial:Qa,MeshNormalMaterial:ts,MeshLambertMaterial:es,MeshDepthMaterial:wr,MeshDistanceMaterial:Sr,MeshBasicMaterial:xe,MeshMatcapMaterial:ns,LineDashedMaterial:is,LineBasicMaterial:fo,Material:_e}),os={arraySlice:function(t,e,n){return os.isTypedArray(t)?new t.constructor(t.subarray(e,void 0!==n?n:t.length)):t.slice(e,n)},convertArray:function(t,e,n){return!t||!n&&t.constructor===e?t:"number"==typeof e.BYTES_PER_ELEMENT?new e(t):Array.prototype.slice.call(t)},isTypedArray:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)},getKeyframeOrder:function(t){for(var e=t.length,n=new Array(e),i=0;i!==e;++i)n[i]=i;return n.sort((function(e,n){return t[e]-t[n]})),n},sortedArray:function(t,e,n){for(var i=t.length,r=new t.constructor(i),o=0,a=0;a!==i;++o)for(var s=n[o]*e,l=0;l!==e;++l)r[a++]=t[s+l];return r},flattenJSON:function(t,e,n,i){for(var r=1,o=t[0];void 0!==o&&void 0===o[i];)o=t[r++];if(void 0!==o){var a=o[i];if(void 0!==a)if(Array.isArray(a))do{void 0!==(a=o[i])&&(e.push(o.time),n.push.apply(n,a)),o=t[r++]}while(void 0!==o);else if(void 0!==a.toArray)do{void 0!==(a=o[i])&&(e.push(o.time),a.toArray(n,n.length)),o=t[r++]}while(void 0!==o);else do{void 0!==(a=o[i])&&(e.push(o.time),n.push(a)),o=t[r++]}while(void 0!==o)}}};function as(t,e,n,i){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==i?i:new e.constructor(n),this.sampleValues=e,this.valueSize=n}function ss(t,e,n,i){as.call(this,t,e,n,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function ls(t,e,n,i){as.call(this,t,e,n,i)}function cs(t,e,n,i){as.call(this,t,e,n,i)}function us(t,e,n,i){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=os.convertArray(e,this.TimeBufferType),this.values=os.convertArray(n,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}function hs(t,e,n){us.call(this,t,e,n)}function ps(t,e,n,i){us.call(this,t,e,n,i)}function ds(t,e,n,i){us.call(this,t,e,n,i)}function fs(t,e,n,i){as.call(this,t,e,n,i)}function ms(t,e,n,i){us.call(this,t,e,n,i)}function gs(t,e,n,i){us.call(this,t,e,n,i)}function vs(t,e,n,i){us.call(this,t,e,n,i)}function ys(t,e,n){this.name=t,this.tracks=n,this.duration=void 0!==e?e:-1,this.uuid=H.generateUUID(),this.duration<0&&this.resetDuration()}function _s(t){if(void 0===t.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");var e=function(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return ds;case"vector":case"vector2":case"vector3":case"vector4":return vs;case"color":return ps;case"quaternion":return ms;case"bool":case"boolean":return hs;case"string":return gs}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}(t.type);if(void 0===t.times){var n=[],i=[];os.flattenJSON(t.keys,n,i,"value"),t.times=n,t.values=i}return void 0!==e.parse?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}Object.assign(as.prototype,{evaluate:function(t){var e=this.parameterPositions,n=this._cachedIndex,i=e[n],r=e[n-1];t:{e:{var o;n:{i:if(!(t<i)){for(var a=n+2;;){if(void 0===i){if(t<r)break i;return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,t,r)}if(n===a)break;if(r=i,t<(i=e[++n]))break e}o=e.length;break n}if(t>=r)break t;var s=e[1];for(t<s&&(n=2,r=s),a=n-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,t,i);if(n===a)break;if(i=r,t>=(r=e[--n-1]))break e}o=n,n=0}for(;n<o;){var l=n+o>>>1;t<e[l]?o=l:n=l+1}if(i=e[n],void 0===(r=e[n-1]))return this._cachedIndex=0,this.beforeStart_(0,t,i);if(void 0===i)return n=e.length,this._cachedIndex=n,this.afterEnd_(n-1,r,t)}this._cachedIndex=n,this.intervalChanged_(n,r,i)}return this.interpolate_(n,r,t,i)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(t){for(var e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=t*i,o=0;o!==i;++o)e[o]=n[r+o];return e},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(as.prototype,{beforeStart_:as.prototype.copySampleValue_,afterEnd_:as.prototype.copySampleValue_}),ss.prototype=Object.assign(Object.create(as.prototype),{constructor:ss,DefaultSettings_:{endingStart:I,endingEnd:I},intervalChanged_:function(t,e,n){var i=this.parameterPositions,r=t-2,o=t+1,a=i[r],s=i[o];if(void 0===a)switch(this.getSettings_().endingStart){case D:r=t,a=2*e-n;break;case P:a=e+i[r=i.length-2]-i[r+1];break;default:r=t,a=n}if(void 0===s)switch(this.getSettings_().endingEnd){case D:o=t,s=2*n-e;break;case P:o=1,s=n+i[1]-i[0];break;default:o=t-1,s=e}var l=.5*(n-e),c=this.valueSize;this._weightPrev=l/(e-a),this._weightNext=l/(s-n),this._offsetPrev=r*c,this._offsetNext=o*c},interpolate_:function(t,e,n,i){for(var r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,l=s-a,c=this._offsetPrev,u=this._offsetNext,h=this._weightPrev,p=this._weightNext,d=(n-e)/(i-e),f=d*d,m=f*d,g=-h*m+2*h*f-h*d,v=(1+h)*m+(-1.5-2*h)*f+(-.5+h)*d+1,y=(-1-p)*m+(1.5+p)*f+.5*d,_=p*m-p*f,x=0;x!==a;++x)r[x]=g*o[c+x]+v*o[l+x]+y*o[s+x]+_*o[u+x];return r}}),ls.prototype=Object.assign(Object.create(as.prototype),{constructor:ls,interpolate_:function(t,e,n,i){for(var r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,l=s-a,c=(n-e)/(i-e),u=1-c,h=0;h!==a;++h)r[h]=o[l+h]*u+o[s+h]*c;return r}}),cs.prototype=Object.assign(Object.create(as.prototype),{constructor:cs,interpolate_:function(t){return this.copySampleValue_(t-1)}}),Object.assign(us,{toJSON:function(t){var e,n=t.constructor;if(void 0!==n.toJSON)e=n.toJSON(t);else{e={name:t.name,times:os.convertArray(t.times,Array),values:os.convertArray(t.values,Array)};var i=t.getInterpolation();i!==t.DefaultInterpolation&&(e.interpolation=i)}return e.type=t.ValueTypeName,e}}),Object.assign(us.prototype,{constructor:us,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:C,InterpolantFactoryMethodDiscrete:function(t){return new cs(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodLinear:function(t){return new ls(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:function(t){return new ss(this.times,this.values,this.getValueSize(),t)},setInterpolation:function(t){var e;switch(t){case A:e=this.InterpolantFactoryMethodDiscrete;break;case C:e=this.InterpolantFactoryMethodLinear;break;case L:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){var n="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(n);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",n),this}return this.createInterpolant=e,this},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return A;case this.InterpolantFactoryMethodLinear:return C;case this.InterpolantFactoryMethodSmooth:return L}},getValueSize:function(){return this.values.length/this.times.length},shift:function(t){if(0!==t)for(var e=this.times,n=0,i=e.length;n!==i;++n)e[n]+=t;return this},scale:function(t){if(1!==t)for(var e=this.times,n=0,i=e.length;n!==i;++n)e[n]*=t;return this},trim:function(t,e){for(var n=this.times,i=n.length,r=0,o=i-1;r!==i&&n[r]<t;)++r;for(;-1!==o&&n[o]>e;)--o;if(++o,0!==r||o!==i){r>=o&&(r=(o=Math.max(o,1))-1);var a=this.getValueSize();this.times=os.arraySlice(n,r,o),this.values=os.arraySlice(this.values,r*a,o*a)}return this},validate:function(){var t=!0,e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);var n=this.times,i=this.values,r=n.length;0===r&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);for(var o=null,a=0;a!==r;a++){var s=n[a];if("number"==typeof s&&isNaN(s)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,s),t=!1;break}if(null!==o&&o>s){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,s,o),t=!1;break}o=s}if(void 0!==i&&os.isTypedArray(i)){a=0;for(var l=i.length;a!==l;++a){var c=i[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),t=!1;break}}}return t},optimize:function(){for(var t=this.times,e=this.values,n=this.getValueSize(),i=this.getInterpolation()===L,r=1,o=t.length-1,a=1;a<o;++a){var s=!1,l=t[a];if(l!==t[a+1]&&(1!==a||l!==l[0]))if(i)s=!0;else for(var c=a*n,u=c-n,h=c+n,p=0;p!==n;++p){var d=e[c+p];if(d!==e[u+p]||d!==e[h+p]){s=!0;break}}if(s){if(a!==r){t[r]=t[a];var f=a*n,m=r*n;for(p=0;p!==n;++p)e[m+p]=e[f+p]}++r}}if(o>0){for(t[r]=t[o],f=o*n,m=r*n,p=0;p!==n;++p)e[m+p]=e[f+p];++r}return r!==t.length&&(this.times=os.arraySlice(t,0,r),this.values=os.arraySlice(e,0,r*n)),this},clone:function(){var t=os.arraySlice(this.times,0),e=os.arraySlice(this.values,0),n=new(0,this.constructor)(this.name,t,e);return n.createInterpolant=this.createInterpolant,n}}),hs.prototype=Object.assign(Object.create(us.prototype),{constructor:hs,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:A,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),ps.prototype=Object.assign(Object.create(us.prototype),{constructor:ps,ValueTypeName:"color"}),ds.prototype=Object.assign(Object.create(us.prototype),{constructor:ds,ValueTypeName:"number"}),fs.prototype=Object.assign(Object.create(as.prototype),{constructor:fs,interpolate_:function(t,e,n,i){for(var r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=t*a,l=(n-e)/(i-e),c=s+a;s!==c;s+=4)G.slerpFlat(r,0,o,s-a,o,s,l);return r}}),ms.prototype=Object.assign(Object.create(us.prototype),{constructor:ms,ValueTypeName:"quaternion",DefaultInterpolation:C,InterpolantFactoryMethodLinear:function(t){return new fs(this.times,this.values,this.getValueSize(),t)},InterpolantFactoryMethodSmooth:void 0}),gs.prototype=Object.assign(Object.create(us.prototype),{constructor:gs,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:A,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),vs.prototype=Object.assign(Object.create(us.prototype),{constructor:vs,ValueTypeName:"vector"}),Object.assign(ys,{parse:function(t){for(var e=[],n=t.tracks,i=1/(t.fps||1),r=0,o=n.length;r!==o;++r)e.push(_s(n[r]).scale(i));return new ys(t.name,t.duration,e)},toJSON:function(t){for(var e=[],n=t.tracks,i={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid},r=0,o=n.length;r!==o;++r)e.push(us.toJSON(n[r]));return i},CreateFromMorphTargetSequence:function(t,e,n,i){for(var r=e.length,o=[],a=0;a<r;a++){var s=[],l=[];s.push((a+r-1)%r,a,(a+1)%r),l.push(0,1,0);var c=os.getKeyframeOrder(s);s=os.sortedArray(s,1,c),l=os.sortedArray(l,1,c),i||0!==s[0]||(s.push(r),l.push(l[0])),o.push(new ds(".morphTargetInfluences["+e[a].name+"]",s,l).scale(1/n))}return new ys(t,-1,o)},findByName:function(t,e){var n=t;if(!Array.isArray(t)){var i=t;n=i.geometry&&i.geometry.animations||i.animations}for(var r=0;r<n.length;r++)if(n[r].name===e)return n[r];return null},CreateClipsFromMorphTargetSequences:function(t,e,n){for(var i={},r=/^([\w-]*?)([\d]+)$/,o=0,a=t.length;o<a;o++){var s=t[o],l=s.name.match(r);if(l&&l.length>1){var c=i[h=l[1]];c||(i[h]=c=[]),c.push(s)}}var u=[];for(var h in i)u.push(ys.CreateFromMorphTargetSequence(h,i[h],e,n));return u},parseAnimation:function(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var n=function(t,e,n,i,r){if(0!==n.length){var o=[],a=[];os.flattenJSON(n,o,a,i),0!==o.length&&r.push(new t(e,o,a))}},i=[],r=t.name||"default",o=t.length||-1,a=t.fps||30,s=t.hierarchy||[],l=0;l<s.length;l++){var c=s[l].keys;if(c&&0!==c.length)if(c[0].morphTargets){for(var u={},h=0;h<c.length;h++)if(c[h].morphTargets)for(var p=0;p<c[h].morphTargets.length;p++)u[c[h].morphTargets[p]]=-1;for(var d in u){var f=[],m=[];for(p=0;p!==c[h].morphTargets.length;++p){var g=c[h];f.push(g.time),m.push(g.morphTarget===d?1:0)}i.push(new ds(".morphTargetInfluence["+d+"]",f,m))}o=u.length*(a||1)}else{var v=".bones["+e[l].name+"]";n(vs,v+".position",c,"pos",i),n(ms,v+".quaternion",c,"rot",i),n(vs,v+".scale",c,"scl",i)}}return 0===i.length?null:new ys(r,o,i)}}),Object.assign(ys.prototype,{resetDuration:function(){for(var t=0,e=0,n=this.tracks.length;e!==n;++e){var i=this.tracks[e];t=Math.max(t,i.times[i.times.length-1])}return this.duration=t,this},trim:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this},validate:function(){for(var t=!0,e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t},optimize:function(){for(var t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this},clone:function(){for(var t=[],e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new ys(this.name,this.duration,t)}});var xs={enabled:!1,files:{},add:function(t,e){!1!==this.enabled&&(this.files[t]=e)},get:function(t){if(!1!==this.enabled)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};function bs(t,e,n){var i=this,r=!1,o=0,a=0,s=void 0,l=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=n,this.itemStart=function(t){a++,!1===r&&void 0!==i.onStart&&i.onStart(t,o,a),r=!0},this.itemEnd=function(t){o++,void 0!==i.onProgress&&i.onProgress(t,o,a),o===a&&(r=!1,void 0!==i.onLoad&&i.onLoad())},this.itemError=function(t){void 0!==i.onError&&i.onError(t)},this.resolveURL=function(t){return s?s(t):t},this.setURLModifier=function(t){return s=t,this},this.addHandler=function(t,e){return l.push(t,e),this},this.removeHandler=function(t){var e=l.indexOf(t);return-1!==e&&l.splice(e,2),this},this.getHandler=function(t){for(var e=0,n=l.length;e<n;e+=2){var i=l[e],r=l[e+1];if(i.test(t))return r}return null}}var ws=new bs;function Ss(t){this.manager=void 0!==t?t:ws,this.crossOrigin="anonymous",this.path="",this.resourcePath=""}Object.assign(Ss.prototype,{load:function(){},parse:function(){},setCrossOrigin:function(t){return this.crossOrigin=t,this},setPath:function(t){return this.path=t,this},setResourcePath:function(t){return this.resourcePath=t,this}});var Ms={};function Ts(t){Ss.call(this,t)}function Es(t){Ss.call(this,t)}function As(t){Ss.call(this,t)}function Cs(t){Ss.call(this,t)}function Ls(t){Ss.call(this,t)}function Is(t){Ss.call(this,t)}function Ds(t){Ss.call(this,t)}function Ps(){this.type="Curve",this.arcLengthDivisions=200}function Rs(t,e,n,i,r,o,a,s){Ps.call(this),this.type="EllipseCurve",this.aX=t||0,this.aY=e||0,this.xRadius=n||1,this.yRadius=i||1,this.aStartAngle=r||0,this.aEndAngle=o||2*Math.PI,this.aClockwise=a||!1,this.aRotation=s||0}function Os(t,e,n,i,r,o){Rs.call(this,t,e,n,n,i,r,o),this.type="ArcCurve"}function ks(){var t=0,e=0,n=0,i=0;function r(r,o,a,s){t=r,e=a,n=-3*r+3*o-2*a-s,i=2*r-2*o+a+s}return{initCatmullRom:function(t,e,n,i,o){r(e,n,o*(n-t),o*(i-e))},initNonuniformCatmullRom:function(t,e,n,i,o,a,s){var l=(e-t)/o-(n-t)/(o+a)+(n-e)/a,c=(n-e)/a-(i-e)/(a+s)+(i-n)/s;r(e,n,l*=a,c*=a)},calc:function(r){var o=r*r;return t+e*r+n*o+i*(o*r)}}}Ts.prototype=Object.assign(Object.create(Ss.prototype),{constructor:Ts,load:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,o=xs.get(t);if(void 0!==o)return r.manager.itemStart(t),setTimeout((function(){e&&e(o),r.manager.itemEnd(t)}),0),o;if(void 0===Ms[t]){var a=t.match(/^data:(.*?)(;base64)?,(.*)$/);if(a){var s=a[1],l=!!a[2],c=a[3];c=decodeURIComponent(c),l&&(c=atob(c));try{var u,h=(this.responseType||"").toLowerCase();switch(h){case"arraybuffer":case"blob":for(var p=new Uint8Array(c.length),d=0;d<c.length;d++)p[d]=c.charCodeAt(d);u="blob"===h?new Blob([p.buffer],{type:s}):p.buffer;break;case"document":var f=new DOMParser;u=f.parseFromString(c,s);break;case"json":u=JSON.parse(c);break;default:u=c}setTimeout((function(){e&&e(u),r.manager.itemEnd(t)}),0)}catch(e){setTimeout((function(){i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)}),0)}}else{Ms[t]=[],Ms[t].push({onLoad:e,onProgress:n,onError:i});var m=new XMLHttpRequest;for(var g in m.open("GET",t,!0),m.addEventListener("load",(function(e){var n=this.response;xs.add(t,n);var i=Ms[t];if(delete Ms[t],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received.");for(var o=0,a=i.length;o<a;o++)(s=i[o]).onLoad&&s.onLoad(n);r.manager.itemEnd(t)}else{for(o=0,a=i.length;o<a;o++){var s;(s=i[o]).onError&&s.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}}),!1),m.addEventListener("progress",(function(e){for(var n=Ms[t],i=0,r=n.length;i<r;i++){var o=n[i];o.onProgress&&o.onProgress(e)}}),!1),m.addEventListener("error",(function(e){var n=Ms[t];delete Ms[t];for(var i=0,o=n.length;i<o;i++){var a=n[i];a.onError&&a.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}),!1),m.addEventListener("abort",(function(e){var n=Ms[t];delete Ms[t];for(var i=0,o=n.length;i<o;i++){var a=n[i];a.onError&&a.onError(e)}r.manager.itemError(t),r.manager.itemEnd(t)}),!1),void 0!==this.responseType&&(m.responseType=this.responseType),void 0!==this.withCredentials&&(m.withCredentials=this.withCredentials),m.overrideMimeType&&m.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)m.setRequestHeader(g,this.requestHeader[g]);m.send(null)}return r.manager.itemStart(t),m}Ms[t].push({onLoad:e,onProgress:n,onError:i})},setResponseType:function(t){return this.responseType=t,this},setWithCredentials:function(t){return this.withCredentials=t,this},setMimeType:function(t){return this.mimeType=t,this},setRequestHeader:function(t){return this.requestHeader=t,this}}),Es.prototype=Object.assign(Object.create(Ss.prototype),{constructor:Es,load:function(t,e,n,i){var r=this,o=new Ts(r.manager);o.setPath(r.path),o.load(t,(function(t){e(r.parse(JSON.parse(t)))}),n,i)},parse:function(t){for(var e=[],n=0;n<t.length;n++){var i=ys.parse(t[n]);e.push(i)}return e}}),As.prototype=Object.assign(Object.create(Ss.prototype),{constructor:As,load:function(t,e,n,i){var r=this,o=[],a=new Ro;a.image=o;var s=new Ts(this.manager);function l(l){s.load(t[l],(function(t){var n=r.parse(t,!0);o[l]={width:n.width,height:n.height,format:n.format,mipmaps:n.mipmaps},6===(c+=1)&&(1===n.mipmapCount&&(a.minFilter=m),a.format=n.format,a.needsUpdate=!0,e&&e(a))}),n,i)}if(s.setPath(this.path),s.setResponseType("arraybuffer"),Array.isArray(t))for(var c=0,u=0,h=t.length;u<h;++u)l(u);else s.load(t,(function(t){var n=r.parse(t,!0);if(n.isCubemap)for(var i=n.mipmaps.length/n.mipmapCount,s=0;s<i;s++){o[s]={mipmaps:[]};for(var l=0;l<n.mipmapCount;l++)o[s].mipmaps.push(n.mipmaps[s*n.mipmapCount+l]),o[s].format=n.format,o[s].width=n.width,o[s].height=n.height}else a.image.width=n.width,a.image.height=n.height,a.mipmaps=n.mipmaps;1===n.mipmapCount&&(a.minFilter=m),a.format=n.format,a.needsUpdate=!0,e&&e(a)}),n,i);return a}}),Cs.prototype=Object.assign(Object.create(Ss.prototype),{constructor:Cs,load:function(t,e,n,i){var r=this,o=new Mn,a=new Ts(this.manager);return a.setResponseType("arraybuffer"),a.setPath(this.path),a.load(t,(function(t){var n=r.parse(t);n&&(void 0!==n.image?o.image=n.image:void 0!==n.data&&(o.image.width=n.width,o.image.height=n.height,o.image.data=n.data),o.wrapS=void 0!==n.wrapS?n.wrapS:u,o.wrapT=void 0!==n.wrapT?n.wrapT:u,o.magFilter=void 0!==n.magFilter?n.magFilter:m,o.minFilter=void 0!==n.minFilter?n.minFilter:v,o.anisotropy=void 0!==n.anisotropy?n.anisotropy:1,void 0!==n.format&&(o.format=n.format),void 0!==n.type&&(o.type=n.type),void 0!==n.mipmaps&&(o.mipmaps=n.mipmaps),1===n.mipmapCount&&(o.minFilter=m),o.needsUpdate=!0,e&&e(o,n))}),n,i),o}}),Ls.prototype=Object.assign(Object.create(Ss.prototype),{constructor:Ls,load:function(t,e,n,i){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,o=xs.get(t);if(void 0!==o)return r.manager.itemStart(t),setTimeout((function(){e&&e(o),r.manager.itemEnd(t)}),0),o;var a=document.createElementNS("http://www.w3.org/1999/xhtml","img");function s(){a.removeEventListener("load",s,!1),a.removeEventListener("error",l,!1),xs.add(t,this),e&&e(this),r.manager.itemEnd(t)}function l(e){a.removeEventListener("load",s,!1),a.removeEventListener("error",l,!1),i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)}return a.addEventListener("load",s,!1),a.addEventListener("error",l,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(a.crossOrigin=this.crossOrigin),r.manager.itemStart(t),a.src=t,a}}),Is.prototype=Object.assign(Object.create(Ss.prototype),{constructor:Is,load:function(t,e,n,i){var r=new Jn,o=new Ls(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);var a=0;function s(n){o.load(t[n],(function(t){r.images[n]=t,6==++a&&(r.needsUpdate=!0,e&&e(r))}),void 0,i)}for(var l=0;l<t.length;++l)s(l);return r}}),Ds.prototype=Object.assign(Object.create(Ss.prototype),{constructor:Ds,load:function(t,e,n,i){var r=new $,o=new Ls(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(t,(function(n){r.image=n;var i=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);r.format=i?S:M,r.needsUpdate=!0,void 0!==e&&e(r)}),n,i),r}}),Object.assign(Ps.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(t,e){var n=this.getUtoTmapping(t);return this.getPoint(n,e)},getPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return e},getSpacedPoints:function(t){void 0===t&&(t=5);for(var e=[],n=0;n<=t;n++)e.push(this.getPointAt(n/t));return e},getLength:function(){var t=this.getLengths();return t[t.length-1]},getLengths:function(t){if(void 0===t&&(t=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var e,n,i=[],r=this.getPoint(0),o=0;for(i.push(0),n=1;n<=t;n++)o+=(e=this.getPoint(n/t)).distanceTo(r),i.push(o),r=e;return this.cacheArcLengths=i,i},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(t,e){var n,i=this.getLengths(),r=0,o=i.length;n=e||t*i[o-1];for(var a,s=0,l=o-1;s<=l;)if((a=i[r=Math.floor(s+(l-s)/2)]-n)<0)s=r+1;else{if(!(a>0)){l=r;break}l=r-1}if(i[r=l]===n)return r/(o-1);var c=i[r];return(r+(n-c)/(i[r+1]-c))/(o-1)},getTangent:function(t){var e=1e-4,n=t-e,i=t+e;n<0&&(n=0),i>1&&(i=1);var r=this.getPoint(n);return this.getPoint(i).clone().sub(r).normalize()},getTangentAt:function(t){var e=this.getUtoTmapping(t);return this.getTangent(e)},computeFrenetFrames:function(t,e){var n,i,r,o=new Z,a=[],s=[],l=[],c=new Z,u=new ct;for(n=0;n<=t;n++)i=n/t,a[n]=this.getTangentAt(i),a[n].normalize();s[0]=new Z,l[0]=new Z;var h=Number.MAX_VALUE,p=Math.abs(a[0].x),d=Math.abs(a[0].y),f=Math.abs(a[0].z);for(p<=h&&(h=p,o.set(1,0,0)),d<=h&&(h=d,o.set(0,1,0)),f<=h&&o.set(0,0,1),c.crossVectors(a[0],o).normalize(),s[0].crossVectors(a[0],c),l[0].crossVectors(a[0],s[0]),n=1;n<=t;n++)s[n]=s[n-1].clone(),l[n]=l[n-1].clone(),c.crossVectors(a[n-1],a[n]),c.length()>Number.EPSILON&&(c.normalize(),r=Math.acos(H.clamp(a[n-1].dot(a[n]),-1,1)),s[n].applyMatrix4(u.makeRotationAxis(c,r))),l[n].crossVectors(a[n],s[n]);if(!0===e)for(r=Math.acos(H.clamp(s[0].dot(s[t]),-1,1)),r/=t,a[0].dot(c.crossVectors(s[0],s[t]))>0&&(r=-r),n=1;n<=t;n++)s[n].applyMatrix4(u.makeRotationAxis(a[n],r*n)),l[n].crossVectors(a[n],s[n]);return{tangents:a,normals:s,binormals:l}},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this},toJSON:function(){var t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t},fromJSON:function(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}),Rs.prototype=Object.create(Ps.prototype),Rs.prototype.constructor=Rs,Rs.prototype.isEllipseCurve=!0,Rs.prototype.getPoint=function(t,e){for(var n=e||new V,i=2*Math.PI,r=this.aEndAngle-this.aStartAngle,o=Math.abs(r)<Number.EPSILON;r<0;)r+=i;for(;r>i;)r-=i;r<Number.EPSILON&&(r=o?0:i),!0!==this.aClockwise||o||(r===i?r=-i:r-=i);var a=this.aStartAngle+t*r,s=this.aX+this.xRadius*Math.cos(a),l=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){var c=Math.cos(this.aRotation),u=Math.sin(this.aRotation),h=s-this.aX,p=l-this.aY;s=h*c-p*u+this.aX,l=h*u+p*c+this.aY}return n.set(s,l)},Rs.prototype.copy=function(t){return Ps.prototype.copy.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},Rs.prototype.toJSON=function(){var t=Ps.prototype.toJSON.call(this);return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t},Rs.prototype.fromJSON=function(t){return Ps.prototype.fromJSON.call(this,t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this},Os.prototype=Object.create(Rs.prototype),Os.prototype.constructor=Os,Os.prototype.isArcCurve=!0;var Ns=new Z,zs=new ks,Bs=new ks,Fs=new ks;function Us(t,e,n,i){Ps.call(this),this.type="CatmullRomCurve3",this.points=t||[],this.closed=e||!1,this.curveType=n||"centripetal",this.tension=i||.5}function Hs(t,e,n,i,r){var o=.5*(i-e),a=.5*(r-n),s=t*t;return(2*n-2*i+o+a)*(t*s)+(-3*n+3*i-2*o-a)*s+o*t+n}function Vs(t,e,n,i){return function(t,e){var n=1-t;return n*n*e}(t,e)+function(t,e){return 2*(1-t)*t*e}(t,n)+function(t,e){return t*t*e}(t,i)}function Gs(t,e,n,i,r){return function(t,e){var n=1-t;return n*n*n*e}(t,e)+function(t,e){var n=1-t;return 3*n*n*t*e}(t,n)+function(t,e){return 3*(1-t)*t*t*e}(t,i)+function(t,e){return t*t*t*e}(t,r)}function js(t,e,n,i){Ps.call(this),this.type="CubicBezierCurve",this.v0=t||new V,this.v1=e||new V,this.v2=n||new V,this.v3=i||new V}function Ws(t,e,n,i){Ps.call(this),this.type="CubicBezierCurve3",this.v0=t||new Z,this.v1=e||new Z,this.v2=n||new Z,this.v3=i||new Z}function Zs(t,e){Ps.call(this),this.type="LineCurve",this.v1=t||new V,this.v2=e||new V}function qs(t,e){Ps.call(this),this.type="LineCurve3",this.v1=t||new Z,this.v2=e||new Z}function Xs(t,e,n){Ps.call(this),this.type="QuadraticBezierCurve",this.v0=t||new V,this.v1=e||new V,this.v2=n||new V}function Ys(t,e,n){Ps.call(this),this.type="QuadraticBezierCurve3",this.v0=t||new Z,this.v1=e||new Z,this.v2=n||new Z}function Js(t){Ps.call(this),this.type="SplineCurve",this.points=t||[]}Us.prototype=Object.create(Ps.prototype),Us.prototype.constructor=Us,Us.prototype.isCatmullRomCurve3=!0,Us.prototype.getPoint=function(t,e){var n,i,r,o,a=e||new Z,s=this.points,l=s.length,c=(l-(this.closed?0:1))*t,u=Math.floor(c),h=c-u;if(this.closed?u+=u>0?0:(Math.floor(Math.abs(u)/l)+1)*l:0===h&&u===l-1&&(u=l-2,h=1),this.closed||u>0?n=s[(u-1)%l]:(Ns.subVectors(s[0],s[1]).add(s[0]),n=Ns),i=s[u%l],r=s[(u+1)%l],this.closed||u+2<l?o=s[(u+2)%l]:(Ns.subVectors(s[l-1],s[l-2]).add(s[l-1]),o=Ns),"centripetal"===this.curveType||"chordal"===this.curveType){var p="chordal"===this.curveType?.5:.25,d=Math.pow(n.distanceToSquared(i),p),f=Math.pow(i.distanceToSquared(r),p),m=Math.pow(r.distanceToSquared(o),p);f<1e-4&&(f=1),d<1e-4&&(d=f),m<1e-4&&(m=f),zs.initNonuniformCatmullRom(n.x,i.x,r.x,o.x,d,f,m),Bs.initNonuniformCatmullRom(n.y,i.y,r.y,o.y,d,f,m),Fs.initNonuniformCatmullRom(n.z,i.z,r.z,o.z,d,f,m)}else"catmullrom"===this.curveType&&(zs.initCatmullRom(n.x,i.x,r.x,o.x,this.tension),Bs.initCatmullRom(n.y,i.y,r.y,o.y,this.tension),Fs.initCatmullRom(n.z,i.z,r.z,o.z,this.tension));return a.set(zs.calc(h),Bs.calc(h),Fs.calc(h)),a},Us.prototype.copy=function(t){Ps.prototype.copy.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var i=t.points[e];this.points.push(i.clone())}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},Us.prototype.toJSON=function(){var t=Ps.prototype.toJSON.call(this);t.points=[];for(var e=0,n=this.points.length;e<n;e++){var i=this.points[e];t.points.push(i.toArray())}return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t},Us.prototype.fromJSON=function(t){Ps.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var i=t.points[e];this.points.push((new Z).fromArray(i))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this},js.prototype=Object.create(Ps.prototype),js.prototype.constructor=js,js.prototype.isCubicBezierCurve=!0,js.prototype.getPoint=function(t,e){var n=e||new V,i=this.v0,r=this.v1,o=this.v2,a=this.v3;return n.set(Gs(t,i.x,r.x,o.x,a.x),Gs(t,i.y,r.y,o.y,a.y)),n},js.prototype.copy=function(t){return Ps.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},js.prototype.toJSON=function(){var t=Ps.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},js.prototype.fromJSON=function(t){return Ps.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},Ws.prototype=Object.create(Ps.prototype),Ws.prototype.constructor=Ws,Ws.prototype.isCubicBezierCurve3=!0,Ws.prototype.getPoint=function(t,e){var n=e||new Z,i=this.v0,r=this.v1,o=this.v2,a=this.v3;return n.set(Gs(t,i.x,r.x,o.x,a.x),Gs(t,i.y,r.y,o.y,a.y),Gs(t,i.z,r.z,o.z,a.z)),n},Ws.prototype.copy=function(t){return Ps.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this},Ws.prototype.toJSON=function(){var t=Ps.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t},Ws.prototype.fromJSON=function(t){return Ps.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this},Zs.prototype=Object.create(Ps.prototype),Zs.prototype.constructor=Zs,Zs.prototype.isLineCurve=!0,Zs.prototype.getPoint=function(t,e){var n=e||new V;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},Zs.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},Zs.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},Zs.prototype.copy=function(t){return Ps.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Zs.prototype.toJSON=function(){var t=Ps.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Zs.prototype.fromJSON=function(t){return Ps.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},qs.prototype=Object.create(Ps.prototype),qs.prototype.constructor=qs,qs.prototype.isLineCurve3=!0,qs.prototype.getPoint=function(t,e){var n=e||new Z;return 1===t?n.copy(this.v2):(n.copy(this.v2).sub(this.v1),n.multiplyScalar(t).add(this.v1)),n},qs.prototype.getPointAt=function(t,e){return this.getPoint(t,e)},qs.prototype.copy=function(t){return Ps.prototype.copy.call(this,t),this.v1.copy(t.v1),this.v2.copy(t.v2),this},qs.prototype.toJSON=function(){var t=Ps.prototype.toJSON.call(this);return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},qs.prototype.fromJSON=function(t){return Ps.prototype.fromJSON.call(this,t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Xs.prototype=Object.create(Ps.prototype),Xs.prototype.constructor=Xs,Xs.prototype.isQuadraticBezierCurve=!0,Xs.prototype.getPoint=function(t,e){var n=e||new V,i=this.v0,r=this.v1,o=this.v2;return n.set(Vs(t,i.x,r.x,o.x),Vs(t,i.y,r.y,o.y)),n},Xs.prototype.copy=function(t){return Ps.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Xs.prototype.toJSON=function(){var t=Ps.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Xs.prototype.fromJSON=function(t){return Ps.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Ys.prototype=Object.create(Ps.prototype),Ys.prototype.constructor=Ys,Ys.prototype.isQuadraticBezierCurve3=!0,Ys.prototype.getPoint=function(t,e){var n=e||new Z,i=this.v0,r=this.v1,o=this.v2;return n.set(Vs(t,i.x,r.x,o.x),Vs(t,i.y,r.y,o.y),Vs(t,i.z,r.z,o.z)),n},Ys.prototype.copy=function(t){return Ps.prototype.copy.call(this,t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this},Ys.prototype.toJSON=function(){var t=Ps.prototype.toJSON.call(this);return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t},Ys.prototype.fromJSON=function(t){return Ps.prototype.fromJSON.call(this,t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this},Js.prototype=Object.create(Ps.prototype),Js.prototype.constructor=Js,Js.prototype.isSplineCurve=!0,Js.prototype.getPoint=function(t,e){var n=e||new V,i=this.points,r=(i.length-1)*t,o=Math.floor(r),a=r-o,s=i[0===o?o:o-1],l=i[o],c=i[o>i.length-2?i.length-1:o+1],u=i[o>i.length-3?i.length-1:o+2];return n.set(Hs(a,s.x,l.x,c.x,u.x),Hs(a,s.y,l.y,c.y,u.y)),n},Js.prototype.copy=function(t){Ps.prototype.copy.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var i=t.points[e];this.points.push(i.clone())}return this},Js.prototype.toJSON=function(){var t=Ps.prototype.toJSON.call(this);t.points=[];for(var e=0,n=this.points.length;e<n;e++){var i=this.points[e];t.points.push(i.toArray())}return t},Js.prototype.fromJSON=function(t){Ps.prototype.fromJSON.call(this,t),this.points=[];for(var e=0,n=t.points.length;e<n;e++){var i=t.points[e];this.points.push((new V).fromArray(i))}return this};var Ks=Object.freeze({ArcCurve:Os,CatmullRomCurve3:Us,CubicBezierCurve:js,CubicBezierCurve3:Ws,EllipseCurve:Rs,LineCurve:Zs,LineCurve3:qs,QuadraticBezierCurve:Xs,QuadraticBezierCurve3:Ys,SplineCurve:Js});function $s(){Ps.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function Qs(t){$s.call(this),this.type="Path",this.currentPoint=new V,t&&this.setFromPoints(t)}function tl(t){Qs.call(this,t),this.uuid=H.generateUUID(),this.type="Shape",this.holes=[]}function el(t,e){At.call(this),this.type="Light",this.color=new de(t),this.intensity=void 0!==e?e:1,this.receiveShadow=void 0}function nl(t,e,n){el.call(this,t,n),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(At.DefaultUp),this.updateMatrix(),this.groundColor=new de(e)}function il(t){this.camera=t,this.bias=0,this.radius=1,this.mapSize=new V(512,512),this.map=null,this.mapPass=null,this.matrix=new ct,this._frustum=new Dn,this._frameExtents=new V(1,1),this._viewportCount=1,this._viewports=[new Q(0,0,1,1)]}function rl(){il.call(this,new xn(50,1,.5,500))}function ol(t,e,n,i,r,o){el.call(this,t,e),this.type="SpotLight",this.position.copy(At.DefaultUp),this.updateMatrix(),this.target=new At,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(t){this.intensity=t/Math.PI}}),this.distance=void 0!==n?n:0,this.angle=void 0!==i?i:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==o?o:1,this.shadow=new rl}function al(){il.call(this,new xn(90,1,.5,500)),this._frameExtents=new V(4,2),this._viewportCount=6,this._viewports=[new Q(2,1,1,1),new Q(0,1,1,1),new Q(3,1,1,1),new Q(1,1,1,1),new Q(3,0,1,1),new Q(1,0,1,1)],this._cubeDirections=[new Z(1,0,0),new Z(-1,0,0),new Z(0,0,1),new Z(0,0,-1),new Z(0,1,0),new Z(0,-1,0)],this._cubeUps=[new Z(0,1,0),new Z(0,1,0),new Z(0,1,0),new Z(0,1,0),new Z(0,0,1),new Z(0,0,-1)]}function sl(t,e,n,i){el.call(this,t,e),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(t){this.intensity=t/(4*Math.PI)}}),this.distance=void 0!==n?n:0,this.decay=void 0!==i?i:1,this.shadow=new al}function ll(t,e,n,i,r,o){_n.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=void 0!==t?t:-1,this.right=void 0!==e?e:1,this.top=void 0!==n?n:1,this.bottom=void 0!==i?i:-1,this.near=void 0!==r?r:.1,this.far=void 0!==o?o:2e3,this.updateProjectionMatrix()}function cl(){il.call(this,new ll(-5,5,5,-5,.5,500))}function ul(t,e){el.call(this,t,e),this.type="DirectionalLight",this.position.copy(At.DefaultUp),this.updateMatrix(),this.target=new At,this.shadow=new cl}function hl(t,e){el.call(this,t,e),this.type="AmbientLight",this.castShadow=void 0}function pl(t,e,n,i){el.call(this,t,e),this.type="RectAreaLight",this.width=void 0!==n?n:10,this.height=void 0!==i?i:10}function dl(t){Ss.call(this,t),this.textures={}}$s.prototype=Object.assign(Object.create(Ps.prototype),{constructor:$s,add:function(t){this.curves.push(t)},closePath:function(){var t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new Zs(e,t))},getPoint:function(t){for(var e=t*this.getLength(),n=this.getCurveLengths(),i=0;i<n.length;){if(n[i]>=e){var r=n[i]-e,o=this.curves[i],a=o.getLength(),s=0===a?0:1-r/a;return o.getPointAt(s)}i++}return null},getLength:function(){var t=this.getCurveLengths();return t[t.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var t=[],e=0,n=0,i=this.curves.length;n<i;n++)e+=this.curves[n].getLength(),t.push(e);return this.cacheLengths=t,t},getSpacedPoints:function(t){void 0===t&&(t=40);for(var e=[],n=0;n<=t;n++)e.push(this.getPoint(n/t));return this.autoClose&&e.push(e[0]),e},getPoints:function(t){t=t||12;for(var e,n=[],i=0,r=this.curves;i<r.length;i++)for(var o=r[i],a=o&&o.isEllipseCurve?2*t:o&&(o.isLineCurve||o.isLineCurve3)?1:o&&o.isSplineCurve?t*o.points.length:t,s=o.getPoints(a),l=0;l<s.length;l++){var c=s[l];e&&e.equals(c)||(n.push(c),e=c)}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n},copy:function(t){Ps.prototype.copy.call(this,t),this.curves=[];for(var e=0,n=t.curves.length;e<n;e++){var i=t.curves[e];this.curves.push(i.clone())}return this.autoClose=t.autoClose,this},toJSON:function(){var t=Ps.prototype.toJSON.call(this);t.autoClose=this.autoClose,t.curves=[];for(var e=0,n=this.curves.length;e<n;e++){var i=this.curves[e];t.curves.push(i.toJSON())}return t},fromJSON:function(t){Ps.prototype.fromJSON.call(this,t),this.autoClose=t.autoClose,this.curves=[];for(var e=0,n=t.curves.length;e<n;e++){var i=t.curves[e];this.curves.push((new Ks[i.type]).fromJSON(i))}return this}}),Qs.prototype=Object.assign(Object.create($s.prototype),{constructor:Qs,setFromPoints:function(t){this.moveTo(t[0].x,t[0].y);for(var e=1,n=t.length;e<n;e++)this.lineTo(t[e].x,t[e].y)},moveTo:function(t,e){this.currentPoint.set(t,e)},lineTo:function(t,e){var n=new Zs(this.currentPoint.clone(),new V(t,e));this.curves.push(n),this.currentPoint.set(t,e)},quadraticCurveTo:function(t,e,n,i){var r=new Xs(this.currentPoint.clone(),new V(t,e),new V(n,i));this.curves.push(r),this.currentPoint.set(n,i)},bezierCurveTo:function(t,e,n,i,r,o){var a=new js(this.currentPoint.clone(),new V(t,e),new V(n,i),new V(r,o));this.curves.push(a),this.currentPoint.set(r,o)},splineThru:function(t){var e=new Js([this.currentPoint.clone()].concat(t));this.curves.push(e),this.currentPoint.copy(t[t.length-1])},arc:function(t,e,n,i,r,o){var a=this.currentPoint.x,s=this.currentPoint.y;this.absarc(t+a,e+s,n,i,r,o)},absarc:function(t,e,n,i,r,o){this.absellipse(t,e,n,n,i,r,o)},ellipse:function(t,e,n,i,r,o,a,s){var l=this.currentPoint.x,c=this.currentPoint.y;this.absellipse(t+l,e+c,n,i,r,o,a,s)},absellipse:function(t,e,n,i,r,o,a,s){var l=new Rs(t,e,n,i,r,o,a,s);if(this.curves.length>0){var c=l.getPoint(0);c.equals(this.currentPoint)||this.lineTo(c.x,c.y)}this.curves.push(l);var u=l.getPoint(1);this.currentPoint.copy(u)},copy:function(t){return $s.prototype.copy.call(this,t),this.currentPoint.copy(t.currentPoint),this},toJSON:function(){var t=$s.prototype.toJSON.call(this);return t.currentPoint=this.currentPoint.toArray(),t},fromJSON:function(t){return $s.prototype.fromJSON.call(this,t),this.currentPoint.fromArray(t.currentPoint),this}}),tl.prototype=Object.assign(Object.create(Qs.prototype),{constructor:tl,getPointsHoles:function(t){for(var e=[],n=0,i=this.holes.length;n<i;n++)e[n]=this.holes[n].getPoints(t);return e},extractPoints:function(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}},copy:function(t){Qs.prototype.copy.call(this,t),this.holes=[];for(var e=0,n=t.holes.length;e<n;e++){var i=t.holes[e];this.holes.push(i.clone())}return this},toJSON:function(){var t=Qs.prototype.toJSON.call(this);t.uuid=this.uuid,t.holes=[];for(var e=0,n=this.holes.length;e<n;e++){var i=this.holes[e];t.holes.push(i.toJSON())}return t},fromJSON:function(t){Qs.prototype.fromJSON.call(this,t),this.uuid=t.uuid,this.holes=[];for(var e=0,n=t.holes.length;e<n;e++){var i=t.holes[e];this.holes.push((new Qs).fromJSON(i))}return this}}),el.prototype=Object.assign(Object.create(At.prototype),{constructor:el,isLight:!0,copy:function(t){return At.prototype.copy.call(this,t),this.color.copy(t.color),this.intensity=t.intensity,this},toJSON:function(t){var e=At.prototype.toJSON.call(this,t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}),nl.prototype=Object.assign(Object.create(el.prototype),{constructor:nl,isHemisphereLight:!0,copy:function(t){return el.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}),Object.assign(il.prototype,{_projScreenMatrix:new ct,_lightPositionWorld:new Z,_lookTarget:new Z,getViewportCount:function(){return this._viewportCount},getFrustum:function(){return this._frustum},updateMatrices:function(t){var e=this.camera,n=this.matrix,i=this._projScreenMatrix,r=this._lookTarget,o=this._lightPositionWorld;o.setFromMatrixPosition(t.matrixWorld),e.position.copy(o),r.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(r),e.updateMatrixWorld(),i.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromMatrix(i),n.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),n.multiply(e.projectionMatrix),n.multiply(e.matrixWorldInverse)},getViewport:function(t){return this._viewports[t]},getFrameExtents:function(){return this._frameExtents},copy:function(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t={};return 0!==this.bias&&(t.bias=this.bias),1!==this.radius&&(t.radius=this.radius),512===this.mapSize.x&&512===this.mapSize.y||(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}),rl.prototype=Object.assign(Object.create(il.prototype),{constructor:rl,isSpotLightShadow:!0,updateMatrices:function(t,e,n){var i=this.camera,r=2*H.RAD2DEG*t.angle,o=this.mapSize.width/this.mapSize.height,a=t.distance||i.far;r===i.fov&&o===i.aspect&&a===i.far||(i.fov=r,i.aspect=o,i.far=a,i.updateProjectionMatrix()),il.prototype.updateMatrices.call(this,t,e,n)}}),ol.prototype=Object.assign(Object.create(el.prototype),{constructor:ol,isSpotLight:!0,copy:function(t){return el.prototype.copy.call(this,t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),al.prototype=Object.assign(Object.create(il.prototype),{constructor:al,isPointLightShadow:!0,updateMatrices:function(t,e,n){var i=this.camera,r=this.matrix,o=this._lightPositionWorld,a=this._lookTarget,s=this._projScreenMatrix;o.setFromMatrixPosition(t.matrixWorld),i.position.copy(o),a.copy(i.position),a.add(this._cubeDirections[n]),i.up.copy(this._cubeUps[n]),i.lookAt(a),i.updateMatrixWorld(),r.makeTranslation(-o.x,-o.y,-o.z),s.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromMatrix(s)}}),sl.prototype=Object.assign(Object.create(el.prototype),{constructor:sl,isPointLight:!0,copy:function(t){return el.prototype.copy.call(this,t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}),ll.prototype=Object.assign(Object.create(_n.prototype),{constructor:ll,isOrthographicCamera:!0,copy:function(t,e){return _n.prototype.copy.call(this,t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this},setViewOffset:function(t,e,n,i,r,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=n,this.view.offsetY=i,this.view.width=r,this.view.height=o,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),n=(this.right+this.left)/2,i=(this.top+this.bottom)/2,r=n-t,o=n+t,a=i+e,s=i-e;if(null!==this.view&&this.view.enabled){var l=this.zoom/(this.view.width/this.view.fullWidth),c=this.zoom/(this.view.height/this.view.fullHeight),u=(this.right-this.left)/this.view.width,h=(this.top-this.bottom)/this.view.height;o=(r+=u*(this.view.offsetX/l))+u*(this.view.width/l),s=(a-=h*(this.view.offsetY/c))-h*(this.view.height/c)}this.projectionMatrix.makeOrthographic(r,o,a,s,this.near,this.far),this.projectionMatrixInverse.getInverse(this.projectionMatrix)},toJSON:function(t){var e=At.prototype.toJSON.call(this,t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}),cl.prototype=Object.assign(Object.create(il.prototype),{constructor:cl,isDirectionalLightShadow:!0,updateMatrices:function(t,e,n){il.prototype.updateMatrices.call(this,t,e,n)}}),ul.prototype=Object.assign(Object.create(el.prototype),{constructor:ul,isDirectionalLight:!0,copy:function(t){return el.prototype.copy.call(this,t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}),hl.prototype=Object.assign(Object.create(el.prototype),{constructor:hl,isAmbientLight:!0}),pl.prototype=Object.assign(Object.create(el.prototype),{constructor:pl,isRectAreaLight:!0,copy:function(t){return el.prototype.copy.call(this,t),this.width=t.width,this.height=t.height,this},toJSON:function(t){var e=el.prototype.toJSON.call(this,t);return e.object.width=this.width,e.object.height=this.height,e}}),dl.prototype=Object.assign(Object.create(Ss.prototype),{constructor:dl,load:function(t,e,n,i){var r=this,o=new Ts(r.manager);o.setPath(r.path),o.load(t,(function(t){e(r.parse(JSON.parse(t)))}),n,i)},parse:function(t){var e=this.textures;function n(t){return void 0===e[t]&&console.warn("THREE.MaterialLoader: Undefined texture",t),e[t]}var i=new rs[t.type];if(void 0!==t.uuid&&(i.uuid=t.uuid),void 0!==t.name&&(i.name=t.name),void 0!==t.color&&i.color.setHex(t.color),void 0!==t.roughness&&(i.roughness=t.roughness),void 0!==t.metalness&&(i.metalness=t.metalness),void 0!==t.sheen&&(i.sheen=(new de).setHex(t.sheen)),void 0!==t.emissive&&i.emissive.setHex(t.emissive),void 0!==t.specular&&i.specular.setHex(t.specular),void 0!==t.shininess&&(i.shininess=t.shininess),void 0!==t.clearcoat&&(i.clearcoat=t.clearcoat),void 0!==t.clearcoatRoughness&&(i.clearcoatRoughness=t.clearcoatRoughness),void 0!==t.vertexColors&&(i.vertexColors=t.vertexColors),void 0!==t.fog&&(i.fog=t.fog),void 0!==t.flatShading&&(i.flatShading=t.flatShading),void 0!==t.blending&&(i.blending=t.blending),void 0!==t.combine&&(i.combine=t.combine),void 0!==t.side&&(i.side=t.side),void 0!==t.opacity&&(i.opacity=t.opacity),void 0!==t.transparent&&(i.transparent=t.transparent),void 0!==t.alphaTest&&(i.alphaTest=t.alphaTest),void 0!==t.depthTest&&(i.depthTest=t.depthTest),void 0!==t.depthWrite&&(i.depthWrite=t.depthWrite),void 0!==t.colorWrite&&(i.colorWrite=t.colorWrite),void 0!==t.stencilWrite&&(i.stencilWrite=t.stencilWrite),void 0!==t.stencilWriteMask&&(i.stencilWriteMask=t.stencilWriteMask),void 0!==t.stencilFunc&&(i.stencilFunc=t.stencilFunc),void 0!==t.stencilRef&&(i.stencilRef=t.stencilRef),void 0!==t.stencilFuncMask&&(i.stencilFuncMask=t.stencilFuncMask),void 0!==t.stencilFail&&(i.stencilFail=t.stencilFail),void 0!==t.stencilZFail&&(i.stencilZFail=t.stencilZFail),void 0!==t.stencilZPass&&(i.stencilZPass=t.stencilZPass),void 0!==t.wireframe&&(i.wireframe=t.wireframe),void 0!==t.wireframeLinewidth&&(i.wireframeLinewidth=t.wireframeLinewidth),void 0!==t.wireframeLinecap&&(i.wireframeLinecap=t.wireframeLinecap),void 0!==t.wireframeLinejoin&&(i.wireframeLinejoin=t.wireframeLinejoin),void 0!==t.rotation&&(i.rotation=t.rotation),1!==t.linewidth&&(i.linewidth=t.linewidth),void 0!==t.dashSize&&(i.dashSize=t.dashSize),void 0!==t.gapSize&&(i.gapSize=t.gapSize),void 0!==t.scale&&(i.scale=t.scale),void 0!==t.polygonOffset&&(i.polygonOffset=t.polygonOffset),void 0!==t.polygonOffsetFactor&&(i.polygonOffsetFactor=t.polygonOffsetFactor),void 0!==t.polygonOffsetUnits&&(i.polygonOffsetUnits=t.polygonOffsetUnits),void 0!==t.skinning&&(i.skinning=t.skinning),void 0!==t.morphTargets&&(i.morphTargets=t.morphTargets),void 0!==t.morphNormals&&(i.morphNormals=t.morphNormals),void 0!==t.dithering&&(i.dithering=t.dithering),void 0!==t.visible&&(i.visible=t.visible),void 0!==t.toneMapped&&(i.toneMapped=t.toneMapped),void 0!==t.userData&&(i.userData=t.userData),void 0!==t.uniforms)for(var r in t.uniforms){var o=t.uniforms[r];switch(i.uniforms[r]={},o.type){case"t":i.uniforms[r].value=n(o.value);break;case"c":i.uniforms[r].value=(new de).setHex(o.value);break;case"v2":i.uniforms[r].value=(new V).fromArray(o.value);break;case"v3":i.uniforms[r].value=(new Z).fromArray(o.value);break;case"v4":i.uniforms[r].value=(new Q).fromArray(o.value);break;case"m3":i.uniforms[r].value=(new Y).fromArray(o.value);case"m4":i.uniforms[r].value=(new ct).fromArray(o.value);break;default:i.uniforms[r].value=o.value}}if(void 0!==t.defines&&(i.defines=t.defines),void 0!==t.vertexShader&&(i.vertexShader=t.vertexShader),void 0!==t.fragmentShader&&(i.fragmentShader=t.fragmentShader),void 0!==t.extensions)for(var a in t.extensions)i.extensions[a]=t.extensions[a];if(void 0!==t.shading&&(i.flatShading=1===t.shading),void 0!==t.size&&(i.size=t.size),void 0!==t.sizeAttenuation&&(i.sizeAttenuation=t.sizeAttenuation),void 0!==t.map&&(i.map=n(t.map)),void 0!==t.matcap&&(i.matcap=n(t.matcap)),void 0!==t.alphaMap&&(i.alphaMap=n(t.alphaMap),i.transparent=!0),void 0!==t.bumpMap&&(i.bumpMap=n(t.bumpMap)),void 0!==t.bumpScale&&(i.bumpScale=t.bumpScale),void 0!==t.normalMap&&(i.normalMap=n(t.normalMap)),void 0!==t.normalMapType&&(i.normalMapType=t.normalMapType),void 0!==t.normalScale){var s=t.normalScale;!1===Array.isArray(s)&&(s=[s,s]),i.normalScale=(new V).fromArray(s)}return void 0!==t.displacementMap&&(i.displacementMap=n(t.displacementMap)),void 0!==t.displacementScale&&(i.displacementScale=t.displacementScale),void 0!==t.displacementBias&&(i.displacementBias=t.displacementBias),void 0!==t.roughnessMap&&(i.roughnessMap=n(t.roughnessMap)),void 0!==t.metalnessMap&&(i.metalnessMap=n(t.metalnessMap)),void 0!==t.emissiveMap&&(i.emissiveMap=n(t.emissiveMap)),void 0!==t.emissiveIntensity&&(i.emissiveIntensity=t.emissiveIntensity),void 0!==t.specularMap&&(i.specularMap=n(t.specularMap)),void 0!==t.envMap&&(i.envMap=n(t.envMap)),void 0!==t.envMapIntensity&&(i.envMapIntensity=t.envMapIntensity),void 0!==t.reflectivity&&(i.reflectivity=t.reflectivity),void 0!==t.refractionRatio&&(i.refractionRatio=t.refractionRatio),void 0!==t.lightMap&&(i.lightMap=n(t.lightMap)),void 0!==t.lightMapIntensity&&(i.lightMapIntensity=t.lightMapIntensity),void 0!==t.aoMap&&(i.aoMap=n(t.aoMap)),void 0!==t.aoMapIntensity&&(i.aoMapIntensity=t.aoMapIntensity),void 0!==t.gradientMap&&(i.gradientMap=n(t.gradientMap)),void 0!==t.clearcoatNormalMap&&(i.clearcoatNormalMap=n(t.clearcoatNormalMap)),void 0!==t.clearcoatNormalScale&&(i.clearcoatNormalScale=(new V).fromArray(t.clearcoatNormalScale)),i},setTextures:function(t){return this.textures=t,this}});var fl={decodeText:function(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);for(var e="",n=0,i=t.length;n<i;n++)e+=String.fromCharCode(t[n]);try{return decodeURIComponent(escape(e))}catch(t){return e}},extractUrlBase:function(t){var e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)}};function ml(){Ue.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function gl(t,e,n,i){"number"==typeof n&&(i=n,n=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),be.call(this,t,e,n),this.meshPerAttribute=i||1}function vl(t){Ss.call(this,t)}ml.prototype=Object.assign(Object.create(Ue.prototype),{constructor:ml,isInstancedBufferGeometry:!0,copy:function(t){return Ue.prototype.copy.call(this,t),this.maxInstancedCount=t.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var t=Ue.prototype.toJSON.call(this);return t.maxInstancedCount=this.maxInstancedCount,t.isInstancedBufferGeometry=!0,t}}),gl.prototype=Object.assign(Object.create(be.prototype),{constructor:gl,isInstancedBufferAttribute:!0,copy:function(t){return be.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this},toJSON:function(){var t=be.prototype.toJSON.call(this);return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}),vl.prototype=Object.assign(Object.create(Ss.prototype),{constructor:vl,load:function(t,e,n,i){var r=this,o=new Ts(r.manager);o.setPath(r.path),o.load(t,(function(t){e(r.parse(JSON.parse(t)))}),n,i)},parse:function(t){var e=t.isInstancedBufferGeometry?new ml:new Ue,n=t.data.index;if(void 0!==n){var i=new yl[n.type](n.array);e.setIndex(new be(i,1))}var r=t.data.attributes;for(var o in r){var a=r[o],s=(i=new yl[a.type](a.array),new(a.isInstancedBufferAttribute?gl:be)(i,a.itemSize,a.normalized));void 0!==a.name&&(s.name=a.name),e.addAttribute(o,s)}var l=t.data.morphAttributes;if(l)for(var o in l){for(var c=l[o],u=[],h=0,p=c.length;h<p;h++)a=c[h],s=new be(i=new yl[a.type](a.array),a.itemSize,a.normalized),void 0!==a.name&&(s.name=a.name),u.push(s);e.morphAttributes[o]=u}var d=t.data.groups||t.data.drawcalls||t.data.offsets;if(void 0!==d){h=0;for(var f=d.length;h!==f;++h){var m=d[h];e.addGroup(m.start,m.count,m.materialIndex)}}var g=t.data.boundingSphere;if(void 0!==g){var v=new Z;void 0!==g.center&&v.fromArray(g.center),e.boundingSphere=new jt(v,g.radius)}return t.name&&(e.name=t.name),t.userData&&(e.userData=t.userData),e}});var yl={Int8Array,Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function _l(t){Ss.call(this,t)}_l.prototype=Object.assign(Object.create(Ss.prototype),{constructor:_l,load:function(t,e,n,i){var r=this,o=""===this.path?fl.extractUrlBase(t):this.path;this.resourcePath=this.resourcePath||o;var a=new Ts(r.manager);a.setPath(this.path),a.load(t,(function(n){var o=null;try{o=JSON.parse(n)}catch(e){return void 0!==i&&i(e),void console.error("THREE:ObjectLoader: Can't parse "+t+".",e.message)}var a=o.metadata;void 0!==a&&void 0!==a.type&&"geometry"!==a.type.toLowerCase()?r.parse(o,e):console.error("THREE.ObjectLoader: Can't load "+t)}),n,i)},parse:function(t,e){var n=this.parseShape(t.shapes),i=this.parseGeometries(t.geometries,n),r=this.parseImages(t.images,(function(){void 0!==e&&e(s)})),o=this.parseTextures(t.textures,r),a=this.parseMaterials(t.materials,o),s=this.parseObject(t.object,i,a);return t.animations&&(s.animations=this.parseAnimations(t.animations)),void 0!==t.images&&0!==t.images.length||void 0!==e&&e(s),s},parseShape:function(t){var e={};if(void 0!==t)for(var n=0,i=t.length;n<i;n++){var r=(new tl).fromJSON(t[n]);e[r.uuid]=r}return e},parseGeometries:function(t,e){var n={};if(void 0!==t)for(var i=new vl,r=0,o=t.length;r<o;r++){var a,s=t[r];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":a=new qa[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":a=new qa[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":a=new qa[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":a=new qa[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":a=new qa[s.type](s.radius,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":a=new qa[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":a=new qa[s.type](s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":a=new qa[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":a=new qa[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":a=new qa[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"TubeGeometry":case"TubeBufferGeometry":a=new qa[s.type]((new Ks[s.path.type]).fromJSON(s.path),s.tubularSegments,s.radius,s.radialSegments,s.closed);break;case"LatheGeometry":case"LatheBufferGeometry":a=new qa[s.type](s.points,s.segments,s.phiStart,s.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":a=new qa[s.type](s.vertices,s.indices,s.radius,s.details);break;case"ShapeGeometry":case"ShapeBufferGeometry":for(var l=[],c=0,u=s.shapes.length;c<u;c++){var h=e[s.shapes[c]];l.push(h)}a=new qa[s.type](l,s.curveSegments);break;case"ExtrudeGeometry":case"ExtrudeBufferGeometry":for(l=[],c=0,u=s.shapes.length;c<u;c++)h=e[s.shapes[c]],l.push(h);var p=s.options.extrudePath;void 0!==p&&(s.options.extrudePath=(new Ks[p.type]).fromJSON(p)),a=new qa[s.type](l,s.options);break;case"BufferGeometry":case"InstancedBufferGeometry":a=i.parse(s);break;case"Geometry":"THREE"in window&&"LegacyJSONLoader"in THREE?a=(new THREE.LegacyJSONLoader).parse(s,this.resourcePath).geometry:console.error('THREE.ObjectLoader: You have to import LegacyJSONLoader in order load geometry data of type "Geometry".');break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+s.type+'"');continue}a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),!0===a.isBufferGeometry&&void 0!==s.userData&&(a.userData=s.userData),n[s.uuid]=a}return n},parseMaterials:function(t,e){var n={},i={};if(void 0!==t){var r=new dl;r.setTextures(e);for(var o=0,a=t.length;o<a;o++){var s=t[o];if("MultiMaterial"===s.type){for(var l=[],c=0;c<s.materials.length;c++){var u=s.materials[c];void 0===n[u.uuid]&&(n[u.uuid]=r.parse(u)),l.push(n[u.uuid])}i[s.uuid]=l}else void 0===n[s.uuid]&&(n[s.uuid]=r.parse(s)),i[s.uuid]=n[s.uuid]}}return i},parseAnimations:function(t){for(var e=[],n=0;n<t.length;n++){var i=t[n],r=ys.parse(i);void 0!==i.uuid&&(r.uuid=i.uuid),e.push(r)}return e},parseImages:function(t,e){var n=this,i={};function r(t){return n.manager.itemStart(t),o.load(t,(function(){n.manager.itemEnd(t)}),void 0,(function(){n.manager.itemError(t),n.manager.itemEnd(t)}))}if(void 0!==t&&t.length>0){var o=new Ls(new bs(e));o.setCrossOrigin(this.crossOrigin);for(var a=0,s=t.length;a<s;a++){var l=t[a],c=l.url;if(Array.isArray(c)){i[l.uuid]=[];for(var u=0,h=c.length;u<h;u++){var p=c[u],d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(p)?p:n.resourcePath+p;i[l.uuid].push(r(d))}}else d=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:n.resourcePath+l.url,i[l.uuid]=r(d)}}return i},parseTextures:function(t,e){function n(t,e){return"number"==typeof t?t:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",t),e[t])}var i={};if(void 0!==t)for(var r=0,o=t.length;r<o;r++){var a,s=t[r];void 0===s.image&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),void 0===e[s.image]&&console.warn("THREE.ObjectLoader: Undefined image",s.image),(a=Array.isArray(e[s.image])?new Jn(e[s.image]):new $(e[s.image])).needsUpdate=!0,a.uuid=s.uuid,void 0!==s.name&&(a.name=s.name),void 0!==s.mapping&&(a.mapping=n(s.mapping,bl)),void 0!==s.offset&&a.offset.fromArray(s.offset),void 0!==s.repeat&&a.repeat.fromArray(s.repeat),void 0!==s.center&&a.center.fromArray(s.center),void 0!==s.rotation&&(a.rotation=s.rotation),void 0!==s.wrap&&(a.wrapS=n(s.wrap[0],wl),a.wrapT=n(s.wrap[1],wl)),void 0!==s.format&&(a.format=s.format),void 0!==s.type&&(a.type=s.type),void 0!==s.encoding&&(a.encoding=s.encoding),void 0!==s.minFilter&&(a.minFilter=n(s.minFilter,Sl)),void 0!==s.magFilter&&(a.magFilter=n(s.magFilter,Sl)),void 0!==s.anisotropy&&(a.anisotropy=s.anisotropy),void 0!==s.flipY&&(a.flipY=s.flipY),void 0!==s.premultiplyAlpha&&(a.premultiplyAlpha=s.premultiplyAlpha),void 0!==s.unpackAlignment&&(a.unpackAlignment=s.unpackAlignment),i[s.uuid]=a}return i},parseObject:function(t,e,n){var i;function r(t){return void 0===e[t]&&console.warn("THREE.ObjectLoader: Undefined geometry",t),e[t]}function o(t){if(void 0!==t){if(Array.isArray(t)){for(var e=[],i=0,r=t.length;i<r;i++){var o=t[i];void 0===n[o]&&console.warn("THREE.ObjectLoader: Undefined material",o),e.push(n[o])}return e}return void 0===n[t]&&console.warn("THREE.ObjectLoader: Undefined material",t),n[t]}}switch(t.type){case"Scene":i=new Ct,void 0!==t.background&&Number.isInteger(t.background)&&(i.background=new de(t.background)),void 0!==t.fog&&("Fog"===t.fog.type?i.fog=new Ur(t.fog.color,t.fog.near,t.fog.far):"FogExp2"===t.fog.type&&(i.fog=new Fr(t.fog.color,t.fog.density)));break;case"PerspectiveCamera":i=new xn(t.fov,t.aspect,t.near,t.far),void 0!==t.focus&&(i.focus=t.focus),void 0!==t.zoom&&(i.zoom=t.zoom),void 0!==t.filmGauge&&(i.filmGauge=t.filmGauge),void 0!==t.filmOffset&&(i.filmOffset=t.filmOffset),void 0!==t.view&&(i.view=Object.assign({},t.view));break;case"OrthographicCamera":i=new ll(t.left,t.right,t.top,t.bottom,t.near,t.far),void 0!==t.zoom&&(i.zoom=t.zoom),void 0!==t.view&&(i.view=Object.assign({},t.view));break;case"AmbientLight":i=new hl(t.color,t.intensity);break;case"DirectionalLight":i=new ul(t.color,t.intensity);break;case"PointLight":i=new sl(t.color,t.intensity,t.distance,t.decay);break;case"RectAreaLight":i=new pl(t.color,t.intensity,t.width,t.height);break;case"SpotLight":i=new ol(t.color,t.intensity,t.distance,t.angle,t.penumbra,t.decay);break;case"HemisphereLight":i=new nl(t.color,t.groundColor,t.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var a=r(t.geometry),s=o(t.material);i=a.bones&&a.bones.length>0?new so(a,s):new on(a,s),void 0!==t.drawMode&&i.setDrawMode(t.drawMode);break;case"LOD":i=new ao;break;case"Line":i=new xo(r(t.geometry),o(t.material),t.mode);break;case"LineLoop":i=new Mo(r(t.geometry),o(t.material));break;case"LineSegments":i=new So(r(t.geometry),o(t.material));break;case"PointCloud":case"Points":i=new Io(r(t.geometry),o(t.material));break;case"Sprite":i=new no(o(t.material));break;case"Group":i=new Ir;break;default:i=new At}if(i.uuid=t.uuid,void 0!==t.name&&(i.name=t.name),void 0!==t.matrix?(i.matrix.fromArray(t.matrix),void 0!==t.matrixAutoUpdate&&(i.matrixAutoUpdate=t.matrixAutoUpdate),i.matrixAutoUpdate&&i.matrix.decompose(i.position,i.quaternion,i.scale)):(void 0!==t.position&&i.position.fromArray(t.position),void 0!==t.rotation&&i.rotation.fromArray(t.rotation),void 0!==t.quaternion&&i.quaternion.fromArray(t.quaternion),void 0!==t.scale&&i.scale.fromArray(t.scale)),void 0!==t.castShadow&&(i.castShadow=t.castShadow),void 0!==t.receiveShadow&&(i.receiveShadow=t.receiveShadow),t.shadow&&(void 0!==t.shadow.bias&&(i.shadow.bias=t.shadow.bias),void 0!==t.shadow.radius&&(i.shadow.radius=t.shadow.radius),void 0!==t.shadow.mapSize&&i.shadow.mapSize.fromArray(t.shadow.mapSize),void 0!==t.shadow.camera&&(i.shadow.camera=this.parseObject(t.shadow.camera))),void 0!==t.visible&&(i.visible=t.visible),void 0!==t.frustumCulled&&(i.frustumCulled=t.frustumCulled),void 0!==t.renderOrder&&(i.renderOrder=t.renderOrder),void 0!==t.userData&&(i.userData=t.userData),void 0!==t.layers&&(i.layers.mask=t.layers),void 0!==t.children)for(var l=t.children,c=0;c<l.length;c++)i.add(this.parseObject(l[c],e,n));if("LOD"===t.type)for(var u=t.levels,h=0;h<u.length;h++){var p=u[h],d=i.getObjectByProperty("uuid",p.object);void 0!==d&&i.addLevel(d,p.distance)}return i}});var xl,bl={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307},wl={RepeatWrapping:c,ClampToEdgeWrapping:u,MirroredRepeatWrapping:h},Sl={NearestFilter:p,NearestMipmapNearestFilter:d,NearestMipmapLinearFilter:f,LinearFilter:m,LinearMipmapNearestFilter:g,LinearMipmapLinearFilter:v};function Ml(t){"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),Ss.call(this,t),this.options=void 0}function Tl(){this.type="ShapePath",this.color=new de,this.subPaths=[],this.currentPath=null}function El(t){this.type="Font",this.data=t}function Al(t,e,n,i,r){var o=r.glyphs[t]||r.glyphs["?"];if(o){var a,s,l,c,u,h,p,d,f=new Tl;if(o.o)for(var m=o._cachedOutline||(o._cachedOutline=o.o.split(" ")),g=0,v=m.length;g<v;)switch(m[g++]){case"m":a=m[g++]*e+n,s=m[g++]*e+i,f.moveTo(a,s);break;case"l":a=m[g++]*e+n,s=m[g++]*e+i,f.lineTo(a,s);break;case"q":l=m[g++]*e+n,c=m[g++]*e+i,u=m[g++]*e+n,h=m[g++]*e+i,f.quadraticCurveTo(u,h,l,c);break;case"b":l=m[g++]*e+n,c=m[g++]*e+i,u=m[g++]*e+n,h=m[g++]*e+i,p=m[g++]*e+n,d=m[g++]*e+i,f.bezierCurveTo(u,h,p,d,l,c)}return{offsetX:o.ha*e,path:f}}console.error('THREE.Font: character "'+t+'" does not exists in font family '+r.familyName+".")}function Cl(t){Ss.call(this,t)}Ml.prototype=Object.assign(Object.create(Ss.prototype),{constructor:Ml,setOptions:function(t){return this.options=t,this},load:function(t,e,n,i){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);var r=this,o=xs.get(t);if(void 0!==o)return r.manager.itemStart(t),setTimeout((function(){e&&e(o),r.manager.itemEnd(t)}),0),o;fetch(t).then((function(t){return t.blob()})).then((function(t){return void 0===r.options?createImageBitmap(t):createImageBitmap(t,r.options)})).then((function(n){xs.add(t,n),e&&e(n),r.manager.itemEnd(t)})).catch((function(e){i&&i(e),r.manager.itemError(t),r.manager.itemEnd(t)})),r.manager.itemStart(t)}}),Object.assign(Tl.prototype,{moveTo:function(t,e){this.currentPath=new Qs,this.subPaths.push(this.currentPath),this.currentPath.moveTo(t,e)},lineTo:function(t,e){this.currentPath.lineTo(t,e)},quadraticCurveTo:function(t,e,n,i){this.currentPath.quadraticCurveTo(t,e,n,i)},bezierCurveTo:function(t,e,n,i,r,o){this.currentPath.bezierCurveTo(t,e,n,i,r,o)},splineThru:function(t){this.currentPath.splineThru(t)},toShapes:function(t,e){function n(t){for(var e=[],n=0,i=t.length;n<i;n++){var r=t[n],o=new tl;o.curves=r.curves,e.push(o)}return e}function i(t,e){for(var n=e.length,i=!1,r=n-1,o=0;o<n;r=o++){var a=e[r],s=e[o],l=s.x-a.x,c=s.y-a.y;if(Math.abs(c)>Number.EPSILON){if(c<0&&(a=e[o],l=-l,s=e[r],c=-c),t.y<a.y||t.y>s.y)continue;if(t.y===a.y){if(t.x===a.x)return!0}else{var u=c*(t.x-a.x)-l*(t.y-a.y);if(0===u)return!0;if(u<0)continue;i=!i}}else{if(t.y!==a.y)continue;if(s.x<=t.x&&t.x<=a.x||a.x<=t.x&&t.x<=s.x)return!0}}return i}var r=wa.isClockWise,o=this.subPaths;if(0===o.length)return[];if(!0===e)return n(o);var a,s,l,c=[];if(1===o.length)return s=o[0],(l=new tl).curves=s.curves,c.push(l),c;var u=!r(o[0].getPoints());u=t?!u:u;var h,p,d=[],f=[],m=[],g=0;f[g]=void 0,m[g]=[];for(var v=0,y=o.length;v<y;v++)a=r(h=(s=o[v]).getPoints()),(a=t?!a:a)?(!u&&f[g]&&g++,f[g]={s:new tl,p:h},f[g].s.curves=s.curves,u&&g++,m[g]=[]):m[g].push({h:s,p:h[0]});if(!f[0])return n(o);if(f.length>1){for(var _=!1,x=[],b=0,w=f.length;b<w;b++)d[b]=[];for(b=0,w=f.length;b<w;b++)for(var S=m[b],M=0;M<S.length;M++){for(var T=S[M],E=!0,A=0;A<f.length;A++)i(T.p,f[A].p)&&(b!==A&&x.push({froms:b,tos:A,hole:M}),E?(E=!1,d[A].push(T)):_=!0);E&&d[b].push(T)}x.length>0&&(_||(m=d))}v=0;for(var C=f.length;v<C;v++){l=f[v].s,c.push(l);for(var L=0,I=(p=m[v]).length;L<I;L++)l.holes.push(p[L].h)}return c}}),Object.assign(El.prototype,{isFont:!0,generateShapes:function(t,e){void 0===e&&(e=100);for(var n=[],i=function(t,e,n){for(var i=Array.from?Array.from(t):String(t).split(""),r=e/n.resolution,o=(n.boundingBox.yMax-n.boundingBox.yMin+n.underlineThickness)*r,a=[],s=0,l=0,c=0;c<i.length;c++){var u=i[c];if("\n"===u)s=0,l-=o;else{var h=Al(u,r,s,l,n);s+=h.offsetX,a.push(h.path)}}return a}(t,e,this.data),r=0,o=i.length;r<o;r++)Array.prototype.push.apply(n,i[r].toShapes());return n}}),Cl.prototype=Object.assign(Object.create(Ss.prototype),{constructor:Cl,load:function(t,e,n,i){var r=this,o=new Ts(this.manager);o.setPath(this.path),o.load(t,(function(t){var n;try{n=JSON.parse(t)}catch(e){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),n=JSON.parse(t.substring(65,t.length-2))}var i=r.parse(n);e&&e(i)}),n,i)},parse:function(t){return new El(t)}});var Ll=function(){return void 0===xl&&(xl=new(window.AudioContext||window.webkitAudioContext)),xl};function Il(t){Ss.call(this,t)}function Dl(){this.coefficients=[];for(var t=0;t<9;t++)this.coefficients.push(new Z)}function Pl(t,e){el.call(this,void 0,e),this.sh=void 0!==t?t:new Dl}function Rl(t,e,n){Pl.call(this,void 0,n);var i=(new de).set(t),r=(new de).set(e),o=new Z(i.r,i.g,i.b),a=new Z(r.r,r.g,r.b),s=Math.sqrt(Math.PI),l=s*Math.sqrt(.75);this.sh.coefficients[0].copy(o).add(a).multiplyScalar(s),this.sh.coefficients[1].copy(o).sub(a).multiplyScalar(l)}function Ol(t,e){Pl.call(this,void 0,e);var n=(new de).set(t);this.sh.coefficients[0].set(n.r,n.g,n.b).multiplyScalar(2*Math.sqrt(Math.PI))}Il.prototype=Object.assign(Object.create(Ss.prototype),{constructor:Il,load:function(t,e,n,i){var r=new Ts(this.manager);r.setResponseType("arraybuffer"),r.setPath(this.path),r.load(t,(function(t){var n=t.slice(0);Ll().decodeAudioData(n,(function(t){e(t)}))}),n,i)}}),Object.assign(Dl.prototype,{isSphericalHarmonics3:!0,set:function(t){for(var e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this},zero:function(){for(var t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this},getAt:function(t,e){var n=t.x,i=t.y,r=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.282095),e.addScale(o[1],.488603*i),e.addScale(o[2],.488603*r),e.addScale(o[3],.488603*n),e.addScale(o[4],n*i*1.092548),e.addScale(o[5],i*r*1.092548),e.addScale(o[6],.315392*(3*r*r-1)),e.addScale(o[7],n*r*1.092548),e.addScale(o[8],.546274*(n*n-i*i)),e},getIrradianceAt:function(t,e){var n=t.x,i=t.y,r=t.z,o=this.coefficients;return e.copy(o[0]).multiplyScalar(.886227),e.addScale(o[1],1.023328*i),e.addScale(o[2],1.023328*r),e.addScale(o[3],1.023328*n),e.addScale(o[4],.858086*n*i),e.addScale(o[5],.858086*i*r),e.addScale(o[6],.743125*r*r-.247708),e.addScale(o[7],.858086*n*r),e.addScale(o[8],.429043*(n*n-i*i)),e},add:function(t){for(var e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this},scale:function(t){for(var e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this},lerp:function(t,e){for(var n=0;n<9;n++)this.coefficients[n].lerp(t.coefficients[n],e);return this},equals:function(t){for(var e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0},copy:function(t){return this.set(t.coefficients)},clone:function(){return(new this.constructor).copy(this)},fromArray:function(t,e){void 0===e&&(e=0);for(var n=this.coefficients,i=0;i<9;i++)n[i].fromArray(t,e+3*i);return this},toArray:function(t,e){void 0===t&&(t=[]),void 0===e&&(e=0);for(var n=this.coefficients,i=0;i<9;i++)n[i].toArray(t,e+3*i);return t}}),Object.assign(Dl,{getBasisAt:function(t,e){var n=t.x,i=t.y,r=t.z;e[0]=.282095,e[1]=.488603*i,e[2]=.488603*r,e[3]=.488603*n,e[4]=1.092548*n*i,e[5]=1.092548*i*r,e[6]=.315392*(3*r*r-1),e[7]=1.092548*n*r,e[8]=.546274*(n*n-i*i)}}),Pl.prototype=Object.assign(Object.create(el.prototype),{constructor:Pl,isLightProbe:!0,copy:function(t){return el.prototype.copy.call(this,t),this.sh.copy(t.sh),this.intensity=t.intensity,this},toJSON:function(t){return el.prototype.toJSON.call(this,t)}}),Rl.prototype=Object.assign(Object.create(Pl.prototype),{constructor:Rl,isHemisphereLightProbe:!0,copy:function(t){return Pl.prototype.copy.call(this,t),this},toJSON:function(t){return Pl.prototype.toJSON.call(this,t)}}),Ol.prototype=Object.assign(Object.create(Pl.prototype),{constructor:Ol,isAmbientLightProbe:!0,copy:function(t){return Pl.prototype.copy.call(this,t),this},toJSON:function(t){return Pl.prototype.toJSON.call(this,t)}});var kl=new ct,Nl=new ct;function zl(t){this.autoStart=void 0===t||t,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}Object.assign(function(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new xn,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new xn,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}.prototype,{update:function(t){var e=this._cache;if(e.focus!==t.focus||e.fov!==t.fov||e.aspect!==t.aspect*this.aspect||e.near!==t.near||e.far!==t.far||e.zoom!==t.zoom||e.eyeSep!==this.eyeSep){e.focus=t.focus,e.fov=t.fov,e.aspect=t.aspect*this.aspect,e.near=t.near,e.far=t.far,e.zoom=t.zoom,e.eyeSep=this.eyeSep;var n,i,r=t.projectionMatrix.clone(),o=e.eyeSep/2,a=o*e.near/e.focus,s=e.near*Math.tan(H.DEG2RAD*e.fov*.5)/e.zoom;Nl.elements[12]=-o,kl.elements[12]=o,n=-s*e.aspect+a,i=s*e.aspect+a,r.elements[0]=2*e.near/(i-n),r.elements[8]=(i+n)/(i-n),this.cameraL.projectionMatrix.copy(r),n=-s*e.aspect-a,i=s*e.aspect-a,r.elements[0]=2*e.near/(i-n),r.elements[8]=(i+n)/(i-n),this.cameraR.projectionMatrix.copy(r)}this.cameraL.matrixWorld.copy(t.matrixWorld).multiply(Nl),this.cameraR.matrixWorld.copy(t.matrixWorld).multiply(kl)}}),Object.assign(zl.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var e=("undefined"==typeof performance?Date:performance).now();t=(e-this.oldTime)/1e3,this.oldTime=e,this.elapsedTime+=t}return t}});var Bl=new Z,Fl=new G,Ul=new Z,Hl=new Z;function Vl(){At.call(this),this.type="AudioListener",this.context=Ll(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new zl}function Gl(t){At.call(this),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.startTime=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}Vl.prototype=Object.assign(Object.create(At.prototype),{constructor:Vl,getInput:function(){return this.gain},removeFilter:function(){return null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this},getFilter:function(){return this.filter},setFilter:function(t){return null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=t,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this},updateMatrixWorld:function(t){At.prototype.updateMatrixWorld.call(this,t);var e=this.context.listener,n=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(Bl,Fl,Ul),Hl.set(0,0,-1).applyQuaternion(Fl),e.positionX){var i=this.context.currentTime+this.timeDelta;e.positionX.linearRampToValueAtTime(Bl.x,i),e.positionY.linearRampToValueAtTime(Bl.y,i),e.positionZ.linearRampToValueAtTime(Bl.z,i),e.forwardX.linearRampToValueAtTime(Hl.x,i),e.forwardY.linearRampToValueAtTime(Hl.y,i),e.forwardZ.linearRampToValueAtTime(Hl.z,i),e.upX.linearRampToValueAtTime(n.x,i),e.upY.linearRampToValueAtTime(n.y,i),e.upZ.linearRampToValueAtTime(n.z,i)}else e.setPosition(Bl.x,Bl.y,Bl.z),e.setOrientation(Hl.x,Hl.y,Hl.z,n.x,n.y,n.z)}}),Gl.prototype=Object.assign(Object.create(At.prototype),{constructor:Gl,getOutput:function(){return this.gain},setNodeSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this},setMediaElementSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this},setMediaStreamSource:function(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this},setBuffer:function(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var t=this.context.createBufferSource();return t.buffer=this.buffer,t.loop=this.loop,t.onended=this.onEnded.bind(this),this.startTime=this.context.currentTime,t.start(this.startTime,this.offset,this.duration),this.isPlaying=!0,this.source=t,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.source.onended=null,this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.source.onended=null,this.offset=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(t){return t||(t=[]),!0===this.isPlaying?(this.disconnect(),this.filters=t,this.connect()):this.filters=t,this},setDetune:function(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this},getDetune:function(){return this.detune},getFilter:function(){return this.getFilters()[0]},setFilter:function(t){return this.setFilters(t?[t]:[])},setPlaybackRate:function(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}});var jl=new Z,Wl=new G,Zl=new Z,ql=new Z;function Xl(t){Gl.call(this,t),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}function Yl(t,e){this.analyser=t.context.createAnalyser(),this.analyser.fftSize=void 0!==e?e:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),t.getOutput().connect(this.analyser)}function Jl(t,e,n){this.binding=t,this.valueSize=n;var i,r=Float64Array;switch(e){case"quaternion":i=this._slerp;break;case"string":case"bool":r=Array,i=this._select;break;default:i=this._lerp}this.buffer=new r(4*n),this._mixBufferRegion=i,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}Xl.prototype=Object.assign(Object.create(Gl.prototype),{constructor:Xl,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(t){return this.panner.refDistance=t,this},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(t){return this.panner.rolloffFactor=t,this},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(t){return this.panner.distanceModel=t,this},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(t){return this.panner.maxDistance=t,this},setDirectionalCone:function(t,e,n){return this.panner.coneInnerAngle=t,this.panner.coneOuterAngle=e,this.panner.coneOuterGain=n,this},updateMatrixWorld:function(t){if(At.prototype.updateMatrixWorld.call(this,t),!0!==this.hasPlaybackControl||!1!==this.isPlaying){this.matrixWorld.decompose(jl,Wl,Zl),ql.set(0,0,1).applyQuaternion(Wl);var e=this.panner;if(e.positionX){var n=this.context.currentTime+this.listener.timeDelta;e.positionX.linearRampToValueAtTime(jl.x,n),e.positionY.linearRampToValueAtTime(jl.y,n),e.positionZ.linearRampToValueAtTime(jl.z,n),e.orientationX.linearRampToValueAtTime(ql.x,n),e.orientationY.linearRampToValueAtTime(ql.y,n),e.orientationZ.linearRampToValueAtTime(ql.z,n)}else e.setPosition(jl.x,jl.y,jl.z),e.setOrientation(ql.x,ql.y,ql.z)}}}),Object.assign(Yl.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var t=0,e=this.getFrequencyData(),n=0;n<e.length;n++)t+=e[n];return t/e.length}}),Object.assign(Jl.prototype,{accumulate:function(t,e){var n=this.buffer,i=this.valueSize,r=t*i+i,o=this.cumulativeWeight;if(0===o){for(var a=0;a!==i;++a)n[r+a]=n[a];o=e}else{var s=e/(o+=e);this._mixBufferRegion(n,r,0,s,i)}this.cumulativeWeight=o},apply:function(t){var e=this.valueSize,n=this.buffer,i=t*e+e,r=this.cumulativeWeight,o=this.binding;if(this.cumulativeWeight=0,r<1){var a=3*e;this._mixBufferRegion(n,i,a,1-r,e)}for(var s=e,l=e+e;s!==l;++s)if(n[s]!==n[s+e]){o.setValue(n,i);break}},saveOriginalState:function(){var t=this.binding,e=this.buffer,n=this.valueSize,i=3*n;t.getValue(e,i);for(var r=n,o=i;r!==o;++r)e[r]=e[i+r%n];this.cumulativeWeight=0},restoreOriginalState:function(){var t=3*this.valueSize;this.binding.setValue(this.buffer,t)},_select:function(t,e,n,i,r){if(i>=.5)for(var o=0;o!==r;++o)t[e+o]=t[n+o]},_slerp:function(t,e,n,i){G.slerpFlat(t,e,t,e,t,n,i)},_lerp:function(t,e,n,i,r){for(var o=1-i,a=0;a!==r;++a){var s=e+a;t[s]=t[s]*o+t[n+a]*i}}});var Kl=new RegExp("[\\[\\]\\.:\\/]","g"),$l="[^\\[\\]\\.:\\/]",Ql="[^"+"\\[\\]\\.:\\/".replace("\\.","")+"]",tc=/((?:WC+[\/:])*)/.source.replace("WC",$l),ec=/(WCOD+)?/.source.replace("WCOD",Ql),nc=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",$l),ic=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",$l),rc=new RegExp("^"+tc+ec+nc+ic+"$"),oc=["material","materials","bones"];function ac(t,e,n){var i=n||sc.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,i)}function sc(t,e,n){this.path=e,this.parsedPath=n||sc.parseTrackName(e),this.node=sc.findNode(t,this.parsedPath.nodeName)||t,this.rootNode=t}function lc(t,e,n){this._mixer=t,this._clip=e,this._localRoot=n||null;for(var i=e.tracks,r=i.length,o=new Array(r),a={endingStart:I,endingEnd:I},s=0;s!==r;++s){var l=i[s].createInterpolant(null);o[s]=l,l.settings=a}this._interpolantSettings=a,this._interpolants=o,this._propertyBindings=new Array(r),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function cc(t){this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}function uc(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}function hc(t,e,n){Hr.call(this,t,e),this.meshPerAttribute=n||1}function pc(t,e,n,i){this.ray=new $t(t,e),this.near=n||0,this.far=i||1/0,this.camera=null,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}function dc(t,e){return t.distance-e.distance}function fc(t,e,n,i){if(!1!==t.visible&&(t.raycast(e,n),!0===i))for(var r=t.children,o=0,a=r.length;o<a;o++)fc(r[o],e,n,!0)}function mc(t,e,n){return this.radius=void 0!==t?t:1,this.phi=void 0!==e?e:0,this.theta=void 0!==n?n:0,this}Object.assign(ac.prototype,{getValue:function(t,e){this.bind();var n=this._targetGroup.nCachedObjects_,i=this._bindings[n];void 0!==i&&i.getValue(t,e)},setValue:function(t,e){for(var n=this._bindings,i=this._targetGroup.nCachedObjects_,r=n.length;i!==r;++i)n[i].setValue(t,e)},bind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].bind()},unbind:function(){for(var t=this._bindings,e=this._targetGroup.nCachedObjects_,n=t.length;e!==n;++e)t[e].unbind()}}),Object.assign(sc,{Composite:ac,create:function(t,e,n){return t&&t.isAnimationObjectGroup?new sc.Composite(t,e,n):new sc(t,e,n)},sanitizeNodeName:function(t){return t.replace(/\s/g,"_").replace(Kl,"")},parseTrackName:function(t){var e=rc.exec(t);if(!e)throw new Error("PropertyBinding: Cannot parse trackName: "+t);var n={nodeName:e[2],objectName:e[3],objectIndex:e[4],propertyName:e[5],propertyIndex:e[6]},i=n.nodeName&&n.nodeName.lastIndexOf(".");if(void 0!==i&&-1!==i){var r=n.nodeName.substring(i+1);-1!==oc.indexOf(r)&&(n.nodeName=n.nodeName.substring(0,i),n.objectName=r)}if(null===n.propertyName||0===n.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return n},findNode:function(t,e){if(!e||""===e||"root"===e||"."===e||-1===e||e===t.name||e===t.uuid)return t;if(t.skeleton){var n=t.skeleton.getBoneByName(e);if(void 0!==n)return n}if(t.children){var i=function(t){for(var n=0;n<t.length;n++){var r=t[n];if(r.name===e||r.uuid===e)return r;var o=i(r.children);if(o)return o}return null},r=i(t.children);if(r)return r}return null}}),Object.assign(sc.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(t,e){t[e]=this.node[this.propertyName]},function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)t[e++]=n[i]},function(t,e){t[e]=this.resolvedProperty[this.propertyIndex]},function(t,e){this.resolvedProperty.toArray(t,e)}],SetterByBindingTypeAndVersioning:[[function(t,e){this.targetObject[this.propertyName]=t[e]},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.targetObject[this.propertyName]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++]},function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.needsUpdate=!0},function(t,e){for(var n=this.resolvedProperty,i=0,r=n.length;i!==r;++i)n[i]=t[e++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty[this.propertyIndex]=t[e]},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty[this.propertyIndex]=t[e],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(t,e){this.resolvedProperty.fromArray(t,e)},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.needsUpdate=!0},function(t,e){this.resolvedProperty.fromArray(t,e),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(t,e){this.bind(),this.getValue(t,e)},setValue:function(t,e){this.bind(),this.setValue(t,e)},bind:function(){var t=this.node,e=this.parsedPath,n=e.objectName,i=e.propertyName,r=e.propertyIndex;if(t||(t=sc.findNode(this.rootNode,e.nodeName)||this.rootNode,this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,t){if(n){var o=e.objectIndex;switch(n){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(var a=0;a<t.length;a++)if(t[a].name===o){o=a;break}break;default:if(void 0===t[n])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[n]}if(void 0!==o){if(void 0===t[o])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[o]}}var s=t[i];if(void 0!==s){var l=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?l=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate);var c=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===i){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(t.geometry.isBufferGeometry){if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(a=0;a<this.node.geometry.morphAttributes.position.length;a++)if(t.geometry.morphAttributes.position[a].name===r){r=a;break}}else{if(!t.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(a=0;a<this.node.geometry.morphTargets.length;a++)if(t.geometry.morphTargets[a].name===r){r=a;break}}}c=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else void 0!==s.fromArray&&void 0!==s.toArray?(c=this.BindingType.HasFromToArray,this.resolvedProperty=s):Array.isArray(s)?(c=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=i;this.getValue=this.GetterByBindingType[c],this.setValue=this.SetterByBindingTypeAndVersioning[c][l]}else{var u=e.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",t)}}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(sc.prototype,{_getValue_unbound:sc.prototype.getValue,_setValue_unbound:sc.prototype.setValue}),Object.assign(function(){this.uuid=H.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var e=0,n=arguments.length;e!==n;++e)t[arguments[e].uuid]=e;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var i=this;this.stats={objects:{get total(){return i._objects.length},get inUse(){return this.total-i.nCachedObjects_}},get bindingsPerObject(){return i._bindings.length}}}.prototype,{isAnimationObjectGroup:!0,add:function(){for(var t=this._objects,e=t.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._paths,o=this._parsedPaths,a=this._bindings,s=a.length,l=void 0,c=0,u=arguments.length;c!==u;++c){var h=arguments[c],p=h.uuid,d=i[p];if(void 0===d){d=e++,i[p]=d,t.push(h);for(var f=0,m=s;f!==m;++f)a[f].push(new sc(h,r[f],o[f]))}else if(d<n){l=t[d];var g=--n,v=t[g];for(i[v.uuid]=d,t[d]=v,i[p]=g,t[g]=h,f=0,m=s;f!==m;++f){var y=a[f],_=y[g],x=y[d];y[d]=_,void 0===x&&(x=new sc(h,r[f],o[f])),y[g]=x}}else t[d]!==l&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=n},remove:function(){for(var t=this._objects,e=this.nCachedObjects_,n=this._indicesByUUID,i=this._bindings,r=i.length,o=0,a=arguments.length;o!==a;++o){var s=arguments[o],l=s.uuid,c=n[l];if(void 0!==c&&c>=e){var u=e++,h=t[u];n[h.uuid]=c,t[c]=h,n[l]=u,t[u]=s;for(var p=0,d=r;p!==d;++p){var f=i[p],m=f[u],g=f[c];f[c]=m,f[u]=g}}}this.nCachedObjects_=e},uncache:function(){for(var t=this._objects,e=t.length,n=this.nCachedObjects_,i=this._indicesByUUID,r=this._bindings,o=r.length,a=0,s=arguments.length;a!==s;++a){var l=arguments[a],c=l.uuid,u=i[c];if(void 0!==u)if(delete i[c],u<n){var h=--n,p=t[h],d=t[y=--e];i[p.uuid]=u,t[u]=p,i[d.uuid]=h,t[h]=d,t.pop();for(var f=0,m=o;f!==m;++f){var g=(_=r[f])[h],v=_[y];_[u]=g,_[h]=v,_.pop()}}else{var y;for(i[(d=t[y=--e]).uuid]=u,t[u]=d,t.pop(),f=0,m=o;f!==m;++f){var _;(_=r[f])[u]=_[y],_.pop()}}}this.nCachedObjects_=n},subscribe_:function(t,e){var n=this._bindingsIndicesByPath,i=n[t],r=this._bindings;if(void 0!==i)return r[i];var o=this._paths,a=this._parsedPaths,s=this._objects,l=s.length,c=this.nCachedObjects_,u=new Array(l);i=r.length,n[t]=i,o.push(t),a.push(e),r.push(u);for(var h=c,p=s.length;h!==p;++h){var d=s[h];u[h]=new sc(d,t,e)}return u},unsubscribe_:function(t){var e=this._bindingsIndicesByPath,n=e[t];if(void 0!==n){var i=this._paths,r=this._parsedPaths,o=this._bindings,a=o.length-1,s=o[a];e[t[a]]=n,o[n]=s,o.pop(),r[n]=r[a],r.pop(),i[n]=i[a],i.pop()}}}),Object.assign(lc.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(t){return this._startTime=t,this},setLoop:function(t,e){return this.loop=t,this.repetitions=e,this},setEffectiveWeight:function(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(t){return this._scheduleFading(t,0,1)},fadeOut:function(t){return this._scheduleFading(t,1,0)},crossFadeFrom:function(t,e,n){if(t.fadeOut(e),this.fadeIn(e),n){var i=this._clip.duration,r=t._clip.duration,o=r/i,a=i/r;t.warp(1,o,e),this.warp(a,1,e)}return this},crossFadeTo:function(t,e,n){return t.crossFadeFrom(this,e,n)},stopFading:function(){var t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},setEffectiveTimeScale:function(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(t){return this.timeScale=this._clip.duration/t,this.stopWarping()},syncWith:function(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()},halt:function(t){return this.warp(this._effectiveTimeScale,0,t)},warp:function(t,e,n){var i=this._mixer,r=i.time,o=this._timeScaleInterpolant,a=this.timeScale;null===o&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);var s=o.parameterPositions,l=o.sampleValues;return s[0]=r,s[1]=r+n,l[0]=t/a,l[1]=e/a,this},stopWarping:function(){var t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(t,e,n,i){if(this.enabled){var r=this._startTime;if(null!==r){var o=(t-r)*n;if(o<0||0===n)return;this._startTime=null,e=n*o}e*=this._updateTimeScale(t);var a=this._updateTime(e),s=this._updateWeight(t);if(s>0)for(var l=this._interpolants,c=this._propertyBindings,u=0,h=l.length;u!==h;++u)l[u].evaluate(a),c[u].accumulate(i,s)}else this._updateWeight(t)},_updateWeight:function(t){var e=0;if(this.enabled){e=this.weight;var n=this._weightInterpolant;if(null!==n){var i=n.evaluate(t)[0];e*=i,t>n.parameterPositions[1]&&(this.stopFading(),0===i&&(this.enabled=!1))}}return this._effectiveWeight=e,e},_updateTimeScale:function(t){var e=0;if(!this.paused){e=this.timeScale;var n=this._timeScaleInterpolant;null!==n&&(e*=n.evaluate(t)[0],t>n.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e},_updateTime:function(t){var e=this.time+t,n=this._clip.duration,i=this.loop,r=this._loopCount,o=2202===i;if(0===t)return-1===r?e:o&&1==(1&r)?n-e:e;if(2200===i){-1===r&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(e>=n)e=n;else{if(!(e<0)){this.time=e;break t}e=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=e,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===r&&(t>=0?(r=0,this._setEndings(!0,0===this.repetitions,o)):this._setEndings(0===this.repetitions,!0,o)),e>=n||e<0){var a=Math.floor(e/n);e-=n*a,r+=Math.abs(a);var s=this.repetitions-r;if(s<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,e=t>0?n:0,this.time=e,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===s){var l=t<0;this._setEndings(l,!l,o)}else this._setEndings(!1,!1,o);this._loopCount=r,this.time=e,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:a})}}else this.time=e;if(o&&1==(1&r))return n-e}return e},_setEndings:function(t,e,n){var i=this._interpolantSettings;n?(i.endingStart=D,i.endingEnd=D):(i.endingStart=t?this.zeroSlopeAtStart?D:I:P,i.endingEnd=e?this.zeroSlopeAtEnd?D:I:P)},_scheduleFading:function(t,e,n){var i=this._mixer,r=i.time,o=this._weightInterpolant;null===o&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);var a=o.parameterPositions,s=o.sampleValues;return a[0]=r,s[0]=e,a[1]=r+t,s[1]=n,this}}),cc.prototype=Object.assign(Object.create(B.prototype),{constructor:cc,_bindAction:function(t,e){var n=t._localRoot||this._root,i=t._clip.tracks,r=i.length,o=t._propertyBindings,a=t._interpolants,s=n.uuid,l=this._bindingsByRootAndName,c=l[s];void 0===c&&(c={},l[s]=c);for(var u=0;u!==r;++u){var h=i[u],p=h.name,d=c[p];if(void 0!==d)o[u]=d;else{if(void 0!==(d=o[u])){null===d._cacheIndex&&(++d.referenceCount,this._addInactiveBinding(d,s,p));continue}var f=e&&e._propertyBindings[u].binding.parsedPath;++(d=new Jl(sc.create(n,p,f),h.ValueTypeName,h.getValueSize())).referenceCount,this._addInactiveBinding(d,s,p),o[u]=d}a[u].resultBuffer=d.buffer}},_activateAction:function(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){var e=(t._localRoot||this._root).uuid,n=t._clip.uuid,i=this._actionsByClip[n];this._bindAction(t,i&&i.knownActions[0]),this._addInactiveAction(t,n,e)}for(var r=t._propertyBindings,o=0,a=r.length;o!==a;++o){var s=r[o];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(t)}},_deactivateAction:function(t){if(this._isActiveAction(t)){for(var e=t._propertyBindings,n=0,i=e.length;n!==i;++n){var r=e[n];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(t)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}},_isActiveAction:function(t){var e=t._cacheIndex;return null!==e&&e<this._nActiveActions},_addInactiveAction:function(t,e,n){var i=this._actions,r=this._actionsByClip,o=r[e];if(void 0===o)o={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,r[e]=o;else{var a=o.knownActions;t._byClipCacheIndex=a.length,a.push(t)}t._cacheIndex=i.length,i.push(t),o.actionByRoot[n]=t},_removeInactiveAction:function(t){var e=this._actions,n=e[e.length-1],i=t._cacheIndex;n._cacheIndex=i,e[i]=n,e.pop(),t._cacheIndex=null;var r=t._clip.uuid,o=this._actionsByClip,a=o[r],s=a.knownActions,l=s[s.length-1],c=t._byClipCacheIndex;l._byClipCacheIndex=c,s[c]=l,s.pop(),t._byClipCacheIndex=null,delete a.actionByRoot[(t._localRoot||this._root).uuid],0===s.length&&delete o[r],this._removeInactiveBindingsForAction(t)},_removeInactiveBindingsForAction:function(t){for(var e=t._propertyBindings,n=0,i=e.length;n!==i;++n){var r=e[n];0==--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(t){var e=this._actions,n=t._cacheIndex,i=this._nActiveActions++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_takeBackAction:function(t){var e=this._actions,n=t._cacheIndex,i=--this._nActiveActions,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_addInactiveBinding:function(t,e,n){var i=this._bindingsByRootAndName,r=i[e],o=this._bindings;void 0===r&&(r={},i[e]=r),r[n]=t,t._cacheIndex=o.length,o.push(t)},_removeInactiveBinding:function(t){var e=this._bindings,n=t.binding,i=n.rootNode.uuid,r=n.path,o=this._bindingsByRootAndName,a=o[i],s=e[e.length-1],l=t._cacheIndex;s._cacheIndex=l,e[l]=s,e.pop(),delete a[r],0===Object.keys(a).length&&delete o[i]},_lendBinding:function(t){var e=this._bindings,n=t._cacheIndex,i=this._nActiveBindings++,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_takeBackBinding:function(t){var e=this._bindings,n=t._cacheIndex,i=--this._nActiveBindings,r=e[i];t._cacheIndex=i,e[i]=t,r._cacheIndex=n,e[n]=r},_lendControlInterpolant:function(){var t=this._controlInterpolants,e=this._nActiveControlInterpolants++,n=t[e];return void 0===n&&((n=new ls(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=e,t[e]=n),n},_takeBackControlInterpolant:function(t){var e=this._controlInterpolants,n=t.__cacheIndex,i=--this._nActiveControlInterpolants,r=e[i];t.__cacheIndex=i,e[i]=t,r.__cacheIndex=n,e[n]=r},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(t,e){var n=e||this._root,i=n.uuid,r="string"==typeof t?ys.findByName(n,t):t,o=null!==r?r.uuid:t,a=this._actionsByClip[o],s=null;if(void 0!==a){var l=a.actionByRoot[i];if(void 0!==l)return l;s=a.knownActions[0],null===r&&(r=s._clip)}if(null===r)return null;var c=new lc(this,r,e);return this._bindAction(c,s),this._addInactiveAction(c,o,i),c},existingAction:function(t,e){var n=e||this._root,i=n.uuid,r="string"==typeof t?ys.findByName(n,t):t,o=r?r.uuid:t,a=this._actionsByClip[o];return void 0!==a&&a.actionByRoot[i]||null},stopAllAction:function(){var t=this._actions,e=this._nActiveActions,n=this._bindings,i=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var r=0;r!==e;++r)t[r].reset();for(r=0;r!==i;++r)n[r].useCount=0;return this},update:function(t){t*=this.timeScale;for(var e=this._actions,n=this._nActiveActions,i=this.time+=t,r=Math.sign(t),o=this._accuIndex^=1,a=0;a!==n;++a)e[a]._update(i,t,r,o);var s=this._bindings,l=this._nActiveBindings;for(a=0;a!==l;++a)s[a].apply(o);return this},setTime:function(t){this.time=0;for(var e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)},getRoot:function(){return this._root},uncacheClip:function(t){var e=this._actions,n=t.uuid,i=this._actionsByClip,r=i[n];if(void 0!==r){for(var o=r.knownActions,a=0,s=o.length;a!==s;++a){var l=o[a];this._deactivateAction(l);var c=l._cacheIndex,u=e[e.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,u._cacheIndex=c,e[c]=u,e.pop(),this._removeInactiveBindingsForAction(l)}delete i[n]}},uncacheRoot:function(t){var e=t.uuid,n=this._actionsByClip;for(var i in n){var r=n[i].actionByRoot[e];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}var o=this._bindingsByRootAndName[e];if(void 0!==o)for(var a in o){var s=o[a];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(t,e){var n=this.existingAction(t,e);null!==n&&(this._deactivateAction(n),this._removeInactiveAction(n))}}),uc.prototype.clone=function(){return new uc(void 0===this.value.clone?this.value:this.value.clone())},hc.prototype=Object.assign(Object.create(Hr.prototype),{constructor:hc,isInstancedInterleavedBuffer:!0,copy:function(t){return Hr.prototype.copy.call(this,t),this.meshPerAttribute=t.meshPerAttribute,this}}),Object.assign(pc.prototype,{linePrecision:1,set:function(t,e){this.ray.set(t,e)},setFromCamera:function(t,e){e&&e.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(t.x,t.y,.5).unproject(e).sub(this.ray.origin).normalize(),this.camera=e):e&&e.isOrthographicCamera?(this.ray.origin.set(t.x,t.y,(e.near+e.far)/(e.near-e.far)).unproject(e),this.ray.direction.set(0,0,-1).transformDirection(e.matrixWorld),this.camera=e):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(t,e,n){var i=n||[];return fc(t,this,i,e),i.sort(dc),i},intersectObjects:function(t,e,n){var i=n||[];if(!1===Array.isArray(t))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),i;for(var r=0,o=t.length;r<o;r++)fc(t[r],this,i,e);return i.sort(dc),i}}),Object.assign(mc.prototype,{set:function(t,e,n){return this.radius=t,this.phi=e,this.theta=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.phi=t.phi,this.theta=t.theta,this},makeSafe:function(){var t=1e-6;return this.phi=Math.max(t,Math.min(Math.PI-t,this.phi)),this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,e,n){return this.radius=Math.sqrt(t*t+e*e+n*n),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t,n),this.phi=Math.acos(H.clamp(e/this.radius,-1,1))),this}}),Object.assign(function(t,e,n){return this.radius=void 0!==t?t:1,this.theta=void 0!==e?e:0,this.y=void 0!==n?n:0,this}.prototype,{set:function(t,e,n){return this.radius=t,this.theta=e,this.y=n,this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.radius=t.radius,this.theta=t.theta,this.y=t.y,this},setFromVector3:function(t){return this.setFromCartesianCoords(t.x,t.y,t.z)},setFromCartesianCoords:function(t,e,n){return this.radius=Math.sqrt(t*t+n*n),this.theta=Math.atan2(t,n),this.y=e,this}});var gc=new V;function vc(t,e){this.min=void 0!==t?t:new V(1/0,1/0),this.max=void 0!==e?e:new V(-1/0,-1/0)}Object.assign(vc.prototype,{set:function(t,e){return this.min.copy(t),this.max.copy(e),this},setFromPoints:function(t){this.makeEmpty();for(var e=0,n=t.length;e<n;e++)this.expandByPoint(t[e]);return this},setFromCenterAndSize:function(t,e){var n=gc.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(n),this.max.copy(t).add(n),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.min.copy(t.min),this.max.copy(t.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(t){return void 0===t&&(console.warn("THREE.Box2: .getCenter() target is now required"),t=new V),this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(t){return void 0===t&&(console.warn("THREE.Box2: .getSize() target is now required"),t=new V),this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)},expandByPoint:function(t){return this.min.min(t),this.max.max(t),this},expandByVector:function(t){return this.min.sub(t),this.max.add(t),this},expandByScalar:function(t){return this.min.addScalar(-t),this.max.addScalar(t),this},containsPoint:function(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)},containsBox:function(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y},getParameter:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .getParameter() target is now required"),e=new V),e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)},clampPoint:function(t,e){return void 0===e&&(console.warn("THREE.Box2: .clampPoint() target is now required"),e=new V),e.copy(t).clamp(this.min,this.max)},distanceToPoint:function(t){return gc.copy(t).clamp(this.min,this.max).sub(t).length()},intersect:function(t){return this.min.max(t.min),this.max.min(t.max),this},union:function(t){return this.min.min(t.min),this.max.max(t.max),this},translate:function(t){return this.min.add(t),this.max.add(t),this},equals:function(t){return t.min.equals(this.min)&&t.max.equals(this.max)}});var yc=new Z,_c=new Z;function xc(t,e){this.start=void 0!==t?t:new Z,this.end=void 0!==e?e:new Z}function bc(t){At.call(this),this.material=t,this.render=function(){}}Object.assign(xc.prototype,{set:function(t,e){return this.start.copy(t),this.end.copy(e),this},clone:function(){return(new this.constructor).copy(this)},copy:function(t){return this.start.copy(t.start),this.end.copy(t.end),this},getCenter:function(t){return void 0===t&&(console.warn("THREE.Line3: .getCenter() target is now required"),t=new Z),t.addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(t){return void 0===t&&(console.warn("THREE.Line3: .delta() target is now required"),t=new Z),t.subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(t,e){return void 0===e&&(console.warn("THREE.Line3: .at() target is now required"),e=new Z),this.delta(e).multiplyScalar(t).add(this.start)},closestPointToPointParameter:function(t,e){yc.subVectors(t,this.start),_c.subVectors(this.end,this.start);var n=_c.dot(_c),i=_c.dot(yc)/n;return e&&(i=H.clamp(i,0,1)),i},closestPointToPoint:function(t,e,n){var i=this.closestPointToPointParameter(t,e);return void 0===n&&(console.warn("THREE.Line3: .closestPointToPoint() target is now required"),n=new Z),this.delta(n).multiplyScalar(i).add(this.start)},applyMatrix4:function(t){return this.start.applyMatrix4(t),this.end.applyMatrix4(t),this},equals:function(t){return t.start.equals(this.start)&&t.end.equals(this.end)}}),bc.prototype=Object.create(At.prototype),bc.prototype.constructor=bc,bc.prototype.isImmediateRenderObject=!0;var wc=new Z,Sc=new Z,Mc=new Y,Tc=["a","b","c"];function Ec(t,e,n,i){this.object=t,this.size=void 0!==e?e:1;var r=void 0!==n?n:16711680,o=void 0!==i?i:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=3*s.faces.length:s&&s.isBufferGeometry&&(a=s.attributes.normal.count);var l=new Ue,c=new Le(2*a*3,3);l.addAttribute("position",c),So.call(this,l,new fo({color:r,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}Ec.prototype=Object.create(So.prototype),Ec.prototype.constructor=Ec,Ec.prototype.update=function(){this.object.updateMatrixWorld(!0),Mc.getNormalMatrix(this.object.matrixWorld);var t=this.object.matrixWorld,e=this.geometry.attributes.position,n=this.object.geometry;if(n&&n.isGeometry)for(var i=n.vertices,r=n.faces,o=0,a=0,s=r.length;a<s;a++)for(var l=r[a],c=0,u=l.vertexNormals.length;c<u;c++){var h=i[l[Tc[c]]],p=l.vertexNormals[c];wc.copy(h).applyMatrix4(t),Sc.copy(p).applyMatrix3(Mc).normalize().multiplyScalar(this.size).add(wc),e.setXYZ(o,wc.x,wc.y,wc.z),o+=1,e.setXYZ(o,Sc.x,Sc.y,Sc.z),o+=1}else if(n&&n.isBufferGeometry){var d=n.attributes.position,f=n.attributes.normal;for(o=0,c=0,u=d.count;c<u;c++)wc.set(d.getX(c),d.getY(c),d.getZ(c)).applyMatrix4(t),Sc.set(f.getX(c),f.getY(c),f.getZ(c)),Sc.applyMatrix3(Mc).normalize().multiplyScalar(this.size).add(wc),e.setXYZ(o,wc.x,wc.y,wc.z),o+=1,e.setXYZ(o,Sc.x,Sc.y,Sc.z),o+=1}e.needsUpdate=!0};var Ac=new Z;function Cc(t,e){At.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=e;for(var n=new Ue,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],r=0,o=1;r<32;r++,o++){var a=r/32*Math.PI*2,s=o/32*Math.PI*2;i.push(Math.cos(a),Math.sin(a),1,Math.cos(s),Math.sin(s),1)}n.addAttribute("position",new Le(i,3));var l=new fo({fog:!1});this.cone=new So(n,l),this.add(this.cone),this.update()}Cc.prototype=Object.create(At.prototype),Cc.prototype.constructor=Cc,Cc.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Cc.prototype.update=function(){this.light.updateMatrixWorld();var t=this.light.distance?this.light.distance:1e3,e=t*Math.tan(this.light.angle);this.cone.scale.set(e,e,t),Ac.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Ac),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)};var Lc=new Z,Ic=new ct,Dc=new ct;function Pc(t){var e=[];t&&t.isBone&&e.push(t);for(var n=0;n<t.children.length;n++)e.push.apply(e,Pc(t.children[n]));return e}function Rc(t){for(var e=Pc(t),n=new Ue,i=[],r=[],o=new de(0,0,1),a=new de(0,1,0),l=0;l<e.length;l++){var c=e[l];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),r.push(o.r,o.g,o.b),r.push(a.r,a.g,a.b))}n.addAttribute("position",new Le(i,3)),n.addAttribute("color",new Le(r,3));var u=new fo({vertexColors:s,depthTest:!1,depthWrite:!1,transparent:!0});So.call(this,n,u),this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}function Oc(t,e,n){this.light=t,this.light.updateMatrixWorld(),this.color=n;var i=new Pa(e,4,2),r=new xe({wireframe:!0,fog:!1});on.call(this,i,r),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function kc(t,e){this.type="RectAreaLightHelper",this.light=t,this.color=e;var n=new Ue;n.addAttribute("position",new Le([1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],3)),n.computeBoundingSphere();var i=new fo({fog:!1});xo.call(this,n,i);var r=new Ue;r.addAttribute("position",new Le([1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],3)),r.computeBoundingSphere(),this.add(new on(r,new xe({side:1,fog:!1}))),this.update()}Rc.prototype=Object.create(So.prototype),Rc.prototype.constructor=Rc,Rc.prototype.updateMatrixWorld=function(t){var e=this.bones,n=this.geometry,i=n.getAttribute("position");Dc.getInverse(this.root.matrixWorld);for(var r=0,o=0;r<e.length;r++){var a=e[r];a.parent&&a.parent.isBone&&(Ic.multiplyMatrices(Dc,a.matrixWorld),Lc.setFromMatrixPosition(Ic),i.setXYZ(o,Lc.x,Lc.y,Lc.z),Ic.multiplyMatrices(Dc,a.parent.matrixWorld),Lc.setFromMatrixPosition(Ic),i.setXYZ(o+1,Lc.x,Lc.y,Lc.z),o+=2)}n.getAttribute("position").needsUpdate=!0,At.prototype.updateMatrixWorld.call(this,t)},Oc.prototype=Object.create(on.prototype),Oc.prototype.constructor=Oc,Oc.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Oc.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},kc.prototype=Object.create(xo.prototype),kc.prototype.constructor=kc,kc.prototype.update=function(){if(this.scale.set(.5*this.light.width,.5*this.light.height,1),void 0!==this.color)this.material.color.set(this.color),this.children[0].material.color.set(this.color);else{this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);var t=this.material.color,e=Math.max(t.r,t.g,t.b);e>1&&t.multiplyScalar(1/e),this.children[0].material.color.copy(this.material.color)}},kc.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()};var Nc=new Z,zc=new de,Bc=new de;function Fc(t,e,n){At.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n;var i=new jo(e);i.rotateY(.5*Math.PI),this.material=new xe({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=s);var r=i.getAttribute("position"),o=new Float32Array(3*r.count);i.addAttribute("color",new be(o,3)),this.add(new on(i,this.material)),this.update()}function Uc(t,e){this.lightProbe=t,this.size=e;var n=new yn({defines:{GAMMA_OUTPUT:""},uniforms:{sh:{value:this.lightProbe.sh.coefficients},intensity:{value:this.lightProbe.intensity}},vertexShader:["varying vec3 vNormal;","void main() {","\tvNormal = normalize( normalMatrix * normal );","\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );","}"].join("\n"),fragmentShader:["#define RECIPROCAL_PI 0.318309886","vec3 inverseTransformDirection( in vec3 normal, in mat4 matrix ) {","\t// matrix is assumed to be orthogonal","\treturn normalize( ( vec4( normal, 0.0 ) * matrix ).xyz );","}","vec3 linearToOutput( in vec3 a ) {","\t#ifdef GAMMA_OUTPUT","\t\treturn pow( a, vec3( 1.0 / float( GAMMA_FACTOR ) ) );","\t#else","\t\treturn a;","\t#endif","}","// source: https://graphics.stanford.edu/papers/envmap/envmap.pdf","vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {","\t// normal is assumed to have unit length","\tfloat x = normal.x, y = normal.y, z = normal.z;","\t// band 0","\tvec3 result = shCoefficients[ 0 ] * 0.886227;","\t// band 1","\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;","\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;","\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;","\t// band 2","\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;","\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;","\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );","\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;","\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );","\treturn result;","}","uniform vec3 sh[ 9 ]; // sh coefficients","uniform float intensity; // light probe intensity","varying vec3 vNormal;","void main() {","\tvec3 normal = normalize( vNormal );","\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );","\tvec3 irradiance = shGetIrradianceAt( worldNormal, sh );","\tvec3 outgoingLight = RECIPROCAL_PI * irradiance * intensity;","\toutgoingLight = linearToOutput( outgoingLight );","\tgl_FragColor = vec4( outgoingLight, 1.0 );","}"].join("\n")}),i=new Pa(1,32,16);on.call(this,i,n),this.onBeforeRender()}function Hc(t,e,n,i){t=t||10,e=e||10,n=new de(void 0!==n?n:4473924),i=new de(void 0!==i?i:8947848);for(var r=e/2,o=t/e,a=t/2,l=[],c=[],u=0,h=0,p=-a;u<=e;u++,p+=o){l.push(-a,0,p,a,0,p),l.push(p,0,-a,p,0,a);var d=u===r?n:i;d.toArray(c,h),h+=3,d.toArray(c,h),h+=3,d.toArray(c,h),h+=3,d.toArray(c,h),h+=3}var f=new Ue;f.addAttribute("position",new Le(l,3)),f.addAttribute("color",new Le(c,3));var m=new fo({vertexColors:s});So.call(this,f,m)}function Vc(t,e,n,i,r,o){t=t||10,e=e||16,n=n||8,i=i||64,r=new de(void 0!==r?r:4473924),o=new de(void 0!==o?o:8947848);var a,l,c,u,h,p,d,f=[],m=[];for(u=0;u<=e;u++)c=u/e*(2*Math.PI),a=Math.sin(c)*t,l=Math.cos(c)*t,f.push(0,0,0),f.push(a,0,l),d=1&u?r:o,m.push(d.r,d.g,d.b),m.push(d.r,d.g,d.b);for(u=0;u<=n;u++)for(d=1&u?r:o,p=t-t/n*u,h=0;h<i;h++)c=h/i*(2*Math.PI),a=Math.sin(c)*p,l=Math.cos(c)*p,f.push(a,0,l),m.push(d.r,d.g,d.b),c=(h+1)/i*(2*Math.PI),a=Math.sin(c)*p,l=Math.cos(c)*p,f.push(a,0,l),m.push(d.r,d.g,d.b);var g=new Ue;g.addAttribute("position",new Le(f,3)),g.addAttribute("color",new Le(m,3));var v=new fo({vertexColors:s});So.call(this,g,v)}function Gc(t,e,n,i){this.audio=t,this.range=e||1,this.divisionsInnerAngle=n||16,this.divisionsOuterAngle=i||2;var r=new Ue,o=this.divisionsInnerAngle+2*this.divisionsOuterAngle,a=new Float32Array(3*(3*o+3));r.addAttribute("position",new be(a,3));var s=new fo({color:65280}),l=new fo({color:16776960});xo.call(this,r,[l,s]),this.update()}Fc.prototype=Object.create(At.prototype),Fc.prototype.constructor=Fc,Fc.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Fc.prototype.update=function(){var t=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var e=t.geometry.getAttribute("color");zc.copy(this.light.color),Bc.copy(this.light.groundColor);for(var n=0,i=e.count;n<i;n++){var r=n<i/2?zc:Bc;e.setXYZ(n,r.r,r.g,r.b)}e.needsUpdate=!0}t.lookAt(Nc.setFromMatrixPosition(this.light.matrixWorld).negate())},Uc.prototype=Object.create(on.prototype),Uc.prototype.constructor=Uc,Uc.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Uc.prototype.onBeforeRender=function(){this.position.copy(this.lightProbe.position),this.scale.set(1,1,1).multiplyScalar(this.size),this.material.uniforms.intensity.value=this.lightProbe.intensity},Hc.prototype=Object.assign(Object.create(So.prototype),{constructor:Hc,copy:function(t){return So.prototype.copy.call(this,t),this.geometry.copy(t.geometry),this.material.copy(t.material),this},clone:function(){return(new this.constructor).copy(this)}}),Vc.prototype=Object.create(So.prototype),Vc.prototype.constructor=Vc,Gc.prototype=Object.create(xo.prototype),Gc.prototype.constructor=Gc,Gc.prototype.update=function(){var t,e,n=this.audio,i=this.range,r=this.divisionsInnerAngle,o=this.divisionsOuterAngle,a=H.degToRad(n.panner.coneInnerAngle),s=H.degToRad(n.panner.coneOuterAngle),l=a/2,c=s/2,u=0,h=0,p=this.geometry,d=p.attributes.position;function f(n,r,o,a){var s=(r-n)/o;for(d.setXYZ(u,0,0,0),h++,t=n;t<r;t+=s)e=u+h,d.setXYZ(e,Math.sin(t)*i,0,Math.cos(t)*i),d.setXYZ(e+1,Math.sin(Math.min(t+s,r))*i,0,Math.cos(Math.min(t+s,r))*i),d.setXYZ(e+2,0,0,0),h+=3;p.addGroup(u,h,a),u+=h,h=0}p.clearGroups(),f(-c,-l,o,0),f(-l,l,r,1),f(l,c,o,0),d.needsUpdate=!0,a===s&&(this.material[0].visible=!1)},Gc.prototype.dispose=function(){this.geometry.dispose(),this.material[0].dispose(),this.material[1].dispose()};var jc=new Z,Wc=new Z,Zc=new Y;function qc(t,e,n,i){this.object=t,this.size=void 0!==e?e:1;var r=void 0!==n?n:16776960,o=void 0!==i?i:1,a=0,s=this.object.geometry;s&&s.isGeometry?a=s.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var l=new Ue,c=new Le(2*a*3,3);l.addAttribute("position",c),So.call(this,l,new fo({color:r,linewidth:o})),this.matrixAutoUpdate=!1,this.update()}qc.prototype=Object.create(So.prototype),qc.prototype.constructor=qc,qc.prototype.update=function(){this.object.updateMatrixWorld(!0),Zc.getNormalMatrix(this.object.matrixWorld);for(var t=this.object.matrixWorld,e=this.geometry.attributes.position,n=this.object.geometry,i=n.vertices,r=n.faces,o=0,a=0,s=r.length;a<s;a++){var l=r[a],c=l.normal;jc.copy(i[l.a]).add(i[l.b]).add(i[l.c]).divideScalar(3).applyMatrix4(t),Wc.copy(c).applyMatrix3(Zc).normalize().multiplyScalar(this.size).add(jc),e.setXYZ(o,jc.x,jc.y,jc.z),o+=1,e.setXYZ(o,Wc.x,Wc.y,Wc.z),o+=1}e.needsUpdate=!0};var Xc=new Z,Yc=new Z,Jc=new Z;function Kc(t,e,n){At.call(this),this.light=t,this.light.updateMatrixWorld(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,void 0===e&&(e=1);var i=new Ue;i.addAttribute("position",new Le([-e,e,0,e,e,0,e,-e,0,-e,-e,0,-e,e,0],3));var r=new fo({fog:!1});this.lightPlane=new xo(i,r),this.add(this.lightPlane),(i=new Ue).addAttribute("position",new Le([0,0,0,0,0,1],3)),this.targetLine=new xo(i,r),this.add(this.targetLine),this.update()}Kc.prototype=Object.create(At.prototype),Kc.prototype.constructor=Kc,Kc.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Kc.prototype.update=function(){Xc.setFromMatrixPosition(this.light.matrixWorld),Yc.setFromMatrixPosition(this.light.target.matrixWorld),Jc.subVectors(Yc,Xc),this.lightPlane.lookAt(Yc),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Yc),this.targetLine.scale.z=Jc.length()};var $c=new Z,Qc=new _n;function tu(t){var e=new Ue,n=new fo({color:16777215,vertexColors:1}),i=[],r=[],o={},a=new de(16755200),s=new de(16711680),l=new de(43775),c=new de(16777215),u=new de(3355443);function h(t,e,n){p(t,n),p(e,n)}function p(t,e){i.push(0,0,0),r.push(e.r,e.g,e.b),void 0===o[t]&&(o[t]=[]),o[t].push(i.length/3-1)}h("n1","n2",a),h("n2","n4",a),h("n4","n3",a),h("n3","n1",a),h("f1","f2",a),h("f2","f4",a),h("f4","f3",a),h("f3","f1",a),h("n1","f1",a),h("n2","f2",a),h("n3","f3",a),h("n4","f4",a),h("p","n1",s),h("p","n2",s),h("p","n3",s),h("p","n4",s),h("u1","u2",l),h("u2","u3",l),h("u3","u1",l),h("c","t",c),h("p","c",u),h("cn1","cn2",u),h("cn3","cn4",u),h("cf1","cf2",u),h("cf3","cf4",u),e.addAttribute("position",new Le(i,3)),e.addAttribute("color",new Le(r,3)),So.call(this,e,n),this.camera=t,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update()}function eu(t,e,n,i,r,o,a){$c.set(r,o,a).unproject(i);var s=e[t];if(void 0!==s)for(var l=n.getAttribute("position"),c=0,u=s.length;c<u;c++)l.setXYZ(s[c],$c.x,$c.y,$c.z)}tu.prototype=Object.create(So.prototype),tu.prototype.constructor=tu,tu.prototype.update=function(){var t=this.geometry,e=this.pointMap;Qc.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),eu("c",e,t,Qc,0,0,-1),eu("t",e,t,Qc,0,0,1),eu("n1",e,t,Qc,-1,-1,-1),eu("n2",e,t,Qc,1,-1,-1),eu("n3",e,t,Qc,-1,1,-1),eu("n4",e,t,Qc,1,1,-1),eu("f1",e,t,Qc,-1,-1,1),eu("f2",e,t,Qc,1,-1,1),eu("f3",e,t,Qc,-1,1,1),eu("f4",e,t,Qc,1,1,1),eu("u1",e,t,Qc,.7,1.1,-1),eu("u2",e,t,Qc,-.7,1.1,-1),eu("u3",e,t,Qc,0,2,-1),eu("cf1",e,t,Qc,-1,0,1),eu("cf2",e,t,Qc,1,0,1),eu("cf3",e,t,Qc,0,-1,1),eu("cf4",e,t,Qc,0,1,1),eu("cn1",e,t,Qc,-1,0,-1),eu("cn2",e,t,Qc,1,0,-1),eu("cn3",e,t,Qc,0,-1,-1),eu("cn4",e,t,Qc,0,1,-1),t.getAttribute("position").needsUpdate=!0};var nu=new Ht;function iu(t,e){this.object=t,void 0===e&&(e=16776960);var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),r=new Ue;r.setIndex(new be(n,1)),r.addAttribute("position",new be(i,3)),So.call(this,r,new fo({color:e})),this.matrixAutoUpdate=!1,this.update()}function ru(t,e){this.type="Box3Helper",this.box=t,e=e||16776960;var n=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Ue;i.setIndex(new be(n,1)),i.addAttribute("position",new Le([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),So.call(this,i,new fo({color:e})),this.geometry.computeBoundingSphere()}function ou(t,e,n){this.type="PlaneHelper",this.plane=t,this.size=void 0===e?1:e;var i=void 0!==n?n:16776960,r=new Ue;r.addAttribute("position",new Le([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),r.computeBoundingSphere(),xo.call(this,r,new fo({color:i}));var o=new Ue;o.addAttribute("position",new Le([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),o.computeBoundingSphere(),this.add(new on(o,new xe({color:i,opacity:.2,transparent:!0,depthWrite:!1})))}iu.prototype=Object.create(So.prototype),iu.prototype.constructor=iu,iu.prototype.update=function(t){if(void 0!==t&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&nu.setFromObject(this.object),!nu.isEmpty()){var e=nu.min,n=nu.max,i=this.geometry.attributes.position,r=i.array;r[0]=n.x,r[1]=n.y,r[2]=n.z,r[3]=e.x,r[4]=n.y,r[5]=n.z,r[6]=e.x,r[7]=e.y,r[8]=n.z,r[9]=n.x,r[10]=e.y,r[11]=n.z,r[12]=n.x,r[13]=n.y,r[14]=e.z,r[15]=e.x,r[16]=n.y,r[17]=e.z,r[18]=e.x,r[19]=e.y,r[20]=e.z,r[21]=n.x,r[22]=e.y,r[23]=e.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}},iu.prototype.setFromObject=function(t){return this.object=t,this.update(),this},iu.prototype.copy=function(t){return So.prototype.copy.call(this,t),this.object=t.object,this},iu.prototype.clone=function(){return(new this.constructor).copy(this)},ru.prototype=Object.create(So.prototype),ru.prototype.constructor=ru,ru.prototype.updateMatrixWorld=function(t){var e=this.box;e.isEmpty()||(e.getCenter(this.position),e.getSize(this.scale),this.scale.multiplyScalar(.5),At.prototype.updateMatrixWorld.call(this,t))},ou.prototype=Object.create(xo.prototype),ou.prototype.constructor=ou,ou.prototype.updateMatrixWorld=function(t){var e=-this.plane.constant;Math.abs(e)<1e-8&&(e=1e-8),this.scale.set(.5*this.size,.5*this.size,e),this.children[0].material.side=e<0?1:o,this.lookAt(this.plane.normal),At.prototype.updateMatrixWorld.call(this,t)};var au,su,lu=new Z;function cu(t,e,n,i,r,o){At.call(this),void 0===t&&(t=new Z(0,0,1)),void 0===e&&(e=new Z(0,0,0)),void 0===n&&(n=1),void 0===i&&(i=16776960),void 0===r&&(r=.2*n),void 0===o&&(o=.2*r),void 0===au&&((au=new Ue).addAttribute("position",new Le([0,0,0,0,1,0],3)),(su=new Va(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(e),this.line=new xo(au,new fo({color:i})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new on(su,new xe({color:i})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(t),this.setLength(n,r,o)}function uu(t){var e=[0,0,0,t=t||1,0,0,0,0,0,0,t,0,0,0,0,0,0,t],n=new Ue;n.addAttribute("position",new Le(e,3)),n.addAttribute("color",new Le([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var i=new fo({vertexColors:s});So.call(this,n,i)}function hu(t){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),Us.call(this,t),this.type="catmullrom"}cu.prototype=Object.create(At.prototype),cu.prototype.constructor=cu,cu.prototype.setDirection=function(t){if(t.y>.99999)this.quaternion.set(0,0,0,1);else if(t.y<-.99999)this.quaternion.set(1,0,0,0);else{lu.set(t.z,0,-t.x).normalize();var e=Math.acos(t.y);this.quaternion.setFromAxisAngle(lu,e)}},cu.prototype.setLength=function(t,e,n){void 0===e&&(e=.2*t),void 0===n&&(n=.2*e),this.line.scale.set(1,Math.max(1e-4,t-e),1),this.line.updateMatrix(),this.cone.scale.set(n,e,n),this.cone.position.y=t,this.cone.updateMatrix()},cu.prototype.setColor=function(t){this.line.material.color.set(t),this.cone.material.color.set(t)},cu.prototype.copy=function(t){return At.prototype.copy.call(this,t,!1),this.line.copy(t.line),this.cone.copy(t.cone),this},cu.prototype.clone=function(){return(new this.constructor).copy(this)},uu.prototype=Object.create(So.prototype),uu.prototype.constructor=uu,Ps.create=function(t,e){return console.log("THREE.Curve.create() has been deprecated"),t.prototype=Object.create(Ps.prototype),t.prototype.constructor=t,t.prototype.getPoint=e,t},Object.assign($s.prototype,{createPointsGeometry:function(t){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getPoints(t);return this.createGeometry(e)},createSpacedPointsGeometry:function(t){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var e=this.getSpacedPoints(t);return this.createGeometry(e)},createGeometry:function(t){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var e=new pn,n=0,i=t.length;n<i;n++){var r=t[n];e.vertices.push(new Z(r.x,r.y,r.z||0))}return e}}),Object.assign(Qs.prototype,{fromPoints:function(t){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(t)}}),Object.create(Us.prototype),Object.create(Us.prototype),hu.prototype=Object.create(Us.prototype),Object.assign(hu.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Hc.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Rc.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(Ss.prototype,{extractUrlBase:function(t){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),fl.extractUrlBase(t)}}),Ss.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},Object.assign(_l.prototype,{setTexturePath:function(t){return console.warn("THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath()."),this.setResourcePath(t)}}),Object.assign(vc.prototype,{center:function(t){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},size:function(t){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(t)}}),Object.assign(Ht.prototype,{center:function(t){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(t)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(t){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionSphere:function(t){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)},size:function(t){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(t)}}),xc.prototype.center=function(t){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(t)},Object.assign(H,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(t){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),H.floorPowerOfTwo(t)},nextPowerOfTwo:function(t){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),H.ceilPowerOfTwo(t)}}),Object.assign(Y.prototype,{flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},multiplyVector3:function(t){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),t.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(t){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(ct.prototype,{extractPosition:function(t){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(t)},flattenToArrayOffset:function(t,e){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(t,e)},getPosition:function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new Z).setFromMatrixColumn(this,3)},setRotationFromQuaternion:function(t){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(t)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(t){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector4:function(t){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(t){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),t.transformDirection(this)},crossVector:function(t){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),t.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(t){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(t)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(t,e,n,i,r,o){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(t,e,i,n,r,o)}}),Cn.prototype.isIntersectionLine=function(t){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(t)},G.prototype.multiplyVector3=function(t){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),t.applyQuaternion(this)},Object.assign($t.prototype,{isIntersectionBox:function(t){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(t)},isIntersectionPlane:function(t){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(t)},isIntersectionSphere:function(t){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(t)}}),Object.assign(ce.prototype,{area:function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},barycoordFromPoint:function(t,e){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(t,e)},midpoint:function(t){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(t)},normal:function(t){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(t)},plane:function(t){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(t)}}),Object.assign(ce,{barycoordFromPoint:function(t,e,n,i,r){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),ce.getBarycoord(t,e,n,i,r)},normal:function(t,e,n,i){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),ce.getNormal(t,e,n,i)}}),Object.assign(tl.prototype,{extractAllPoints:function(t){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(t)},extrude:function(t){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new Ta(this,t)},makeGeometry:function(t){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new za(this,t)}}),Object.assign(V.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Z.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(t){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(t)},getScaleFromMatrix:function(t){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(t)},getColumnFromMatrix:function(t,e){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(e,t)},applyProjection:function(t){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(t)},fromAttribute:function(t,e,n){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},distanceToManhattan:function(t){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(t)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(Q.prototype,{fromAttribute:function(t,e,n){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(t,e,n)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(pn.prototype,{computeTangents:function(){console.error("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){console.error("THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.")}}),Object.assign(At.prototype,{getChildByName:function(t){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(t)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(t,e){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(e,t)},getWorldRotation:function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")}}),Object.defineProperties(At.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(t){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=t}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(ao.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(uo.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),so.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},Object.defineProperty(Ps.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(t){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=t}}),xn.prototype.setLens=function(t,e){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==e&&(this.filmGauge=e),this.setFocalLength(t)},Object.defineProperties(el.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(t){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=t}},shadowCameraLeft:{set:function(t){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=t}},shadowCameraRight:{set:function(t){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=t}},shadowCameraTop:{set:function(t){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=t}},shadowCameraBottom:{set:function(t){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=t}},shadowCameraNear:{set:function(t){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=t}},shadowCameraFar:{set:function(t){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=t}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(t){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=t}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(t){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=t}},shadowMapHeight:{set:function(t){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=t}}}),Object.defineProperties(be.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}}}),Object.assign(be.prototype,{copyIndicesArray:function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},setArray:function(t){return console.warn("THREE.BufferAttribute: .setArray has been deprecated. Use BufferGeometry .setAttribute to replace/resize attribute buffers"),this.count=void 0!==t?t.length/this.itemSize:0,this.array=t,this}}),Object.assign(Ue.prototype,{addIndex:function(t){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(t)},addDrawCall:function(t,e,n){void 0!==n&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(t,e)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(Ue.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.assign(Hr.prototype,{setArray:function(t){return console.warn("THREE.InterleavedBuffer: .setArray has been deprecated. Use BufferGeometry .setAttribute to replace/resize attribute buffers"),this.count=void 0!==t?t.length/this.stride:0,this.array=t,this}}),Object.assign(Ea.prototype,{getArrays:function(){console.error("THREE.ExtrudeBufferGeometry: .getArrays() has been removed.")},addShapeList:function(){console.error("THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.")},addShape:function(){console.error("THREE.ExtrudeBufferGeometry: .addShape() has been removed.")}}),Object.defineProperties(uc.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(_e.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new de}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(t){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===t}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(t){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=t}}}),Object.defineProperties($a.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(yn.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(t){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=t}}}),Object.assign(Br.prototype,{clearTarget:function(t,e,n,i){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(t),this.clear(e,n,i)},animate:function(t){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(t)},getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(t){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(t)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},setFaceCulling:function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},allocTextureUnit:function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},setTexture:function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},setTexture2D:function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},setTextureCube:function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},getActiveMipMapLevel:function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()}}),Object.defineProperties(Br.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=t}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(t){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=t}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}}}),Object.defineProperties(Mr.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(Sn.prototype,{activeCubeFace:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeCubeFace has been removed. It is now the second parameter of WebGLRenderer.setRenderTarget().")}},activeMipMapLevel:{set:function(){console.warn("THREE.WebGLRenderTargetCube: .activeMipMapLevel has been removed. It is now the third parameter of WebGLRenderer.setRenderTarget().")}}}),Object.defineProperties(tt.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=t}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(t){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=t}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=t}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(t){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=t}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(t){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=t}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(t){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=t}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(t){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=t}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(t){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=t}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(t){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=t}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(t){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=t}}}),Object.defineProperties(Nr.prototype,{standing:{set:function(){console.warn("THREE.WebVRManager: .standing has been removed.")}},userHeight:{set:function(){console.warn("THREE.WebVRManager: .userHeight has been removed.")}}}),Gl.prototype.load=function(t){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var e=this;return(new Il).load(t,(function(t){e.setBuffer(t)})),this},Yl.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},wn.prototype.updateCubeMap=function(t,e){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(t,e)},J.crossOrigin=void 0,J.loadTexture=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var r=new Ds;r.setCrossOrigin(this.crossOrigin);var o=r.load(t,n,void 0,i);return e&&(o.mapping=e),o},J.loadTextureCube=function(t,e,n,i){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");var r=new Is;r.setCrossOrigin(this.crossOrigin);var o=r.load(t,n,void 0,i);return e&&(o.mapping=e),o},J.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},J.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"109"}}))},2886:(t,e,n)=>{"use strict";n.d(e,{z:()=>r});var i=n(2212),r=function(t,e){var n,r,o,a,s;this.object=t,this.domElement=void 0!==e?e:document,this.enabled=!0,this.target=new i.Pa4,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!1,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40},this.mouseButtons={LEFT:i.RsA.ROTATE,MIDDLE:i.RsA.DOLLY,RIGHT:i.RsA.PAN},this.touches={ONE:i.QmN.ROTATE,TWO:i.QmN.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=function(){return m.phi},this.getAzimuthalAngle=function(){return m.theta},this.saveState=function(){l.target0.copy(l.target),l.position0.copy(l.object.position),l.zoom0=l.object.zoom},this.reset=function(){l.target.copy(l.target0),l.object.position.copy(l.position0),l.object.zoom=l.zoom0,l.object.updateProjectionMatrix(),l.dispatchEvent(c),l.update(),d=p.NONE},this.update=(n=new i.Pa4,r=(new i._fP).setFromUnitVectors(t.up,new i.Pa4(0,1,0)),o=r.clone().inverse(),a=new i.Pa4,s=new i._fP,function(){var t=l.object.position;return n.copy(t).sub(l.target),n.applyQuaternion(r),m.setFromVector3(n),l.autoRotate&&d===p.NONE&&I(2*Math.PI/60/60*l.autoRotateSpeed),l.enableDamping?(m.theta+=g.theta*l.dampingFactor,m.phi+=g.phi*l.dampingFactor):(m.theta+=g.theta,m.phi+=g.phi),m.theta=Math.max(l.minAzimuthAngle,Math.min(l.maxAzimuthAngle,m.theta)),m.phi=Math.max(l.minPolarAngle,Math.min(l.maxPolarAngle,m.phi)),m.makeSafe(),m.radius*=v,m.radius=Math.max(l.minDistance,Math.min(l.maxDistance,m.radius)),!0===l.enableDamping?l.target.addScaledVector(y,l.dampingFactor):l.target.add(y),n.setFromSpherical(m),n.applyQuaternion(o),t.copy(l.target).add(n),l.object.lookAt(l.target),!0===l.enableDamping?(g.theta*=1-l.dampingFactor,g.phi*=1-l.dampingFactor,y.multiplyScalar(1-l.dampingFactor)):(g.set(0,0,0),y.set(0,0,0)),v=1,!!(_||a.distanceToSquared(l.object.position)>f||8*(1-s.dot(l.object.quaternion))>f)&&(l.dispatchEvent(c),a.copy(l.object.position),s.copy(l.object.quaternion),_=!1,!0)}),this.dispose=function(){l.domElement.removeEventListener("contextmenu",tt,!1),l.domElement.removeEventListener("mousedown",Z,!1),l.domElement.removeEventListener("wheel",Y,!1),l.domElement.removeEventListener("touchstart",K,!1),l.domElement.removeEventListener("touchend",Q,!1),l.domElement.removeEventListener("touchmove",$,!1),document.removeEventListener("mousemove",q,!1),document.removeEventListener("mouseup",X,!1),window.removeEventListener("keydown",J,!1)};var l=this,c={type:"change"},u={type:"start"},h={type:"end"},p={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},d=p.NONE,f=1e-6,m=new i.$V,g=new i.$V,v=1,y=new i.Pa4,_=!1,x=new i.FM8,b=new i.FM8,w=new i.FM8,S=new i.FM8,M=new i.FM8,T=new i.FM8,E=new i.FM8,A=new i.FM8,C=new i.FM8;function L(){return Math.pow(.95,l.zoomSpeed)}function I(t){g.theta-=t}function D(t){g.phi-=t}var P,R=(P=new i.Pa4,function(t,e){P.setFromMatrixColumn(e,0),P.multiplyScalar(-t),y.add(P)}),O=function(){var t=new i.Pa4;return function(e,n){!0===l.screenSpacePanning?t.setFromMatrixColumn(n,1):(t.setFromMatrixColumn(n,0),t.crossVectors(l.object.up,t)),t.multiplyScalar(e),y.add(t)}}(),k=function(){var t=new i.Pa4;return function(e,n){var i=l.domElement===document?l.domElement.body:l.domElement;if(l.object.isPerspectiveCamera){var r=l.object.position;t.copy(r).sub(l.target);var o=t.length();o*=Math.tan(l.object.fov/2*Math.PI/180),R(2*e*o/i.clientHeight,l.object.matrix),O(2*n*o/i.clientHeight,l.object.matrix)}else l.object.isOrthographicCamera?(R(e*(l.object.right-l.object.left)/l.object.zoom/i.clientWidth,l.object.matrix),O(n*(l.object.top-l.object.bottom)/l.object.zoom/i.clientHeight,l.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),l.enablePan=!1)}}();function N(t){l.object.isPerspectiveCamera?v/=t:l.object.isOrthographicCamera?(l.object.zoom=Math.max(l.minZoom,Math.min(l.maxZoom,l.object.zoom*t)),l.object.updateProjectionMatrix(),_=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),l.enableZoom=!1)}function z(t){l.object.isPerspectiveCamera?v*=t:l.object.isOrthographicCamera?(l.object.zoom=Math.max(l.minZoom,Math.min(l.maxZoom,l.object.zoom/t)),l.object.updateProjectionMatrix(),_=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),l.enableZoom=!1)}function B(t){x.set(t.clientX,t.clientY)}function F(t){S.set(t.clientX,t.clientY)}function U(t){if(1==t.touches.length)x.set(t.touches[0].pageX,t.touches[0].pageY);else{var e=.5*(t.touches[0].pageX+t.touches[1].pageX),n=.5*(t.touches[0].pageY+t.touches[1].pageY);x.set(e,n)}}function H(t){if(1==t.touches.length)S.set(t.touches[0].pageX,t.touches[0].pageY);else{var e=.5*(t.touches[0].pageX+t.touches[1].pageX),n=.5*(t.touches[0].pageY+t.touches[1].pageY);S.set(e,n)}}function V(t){var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,i=Math.sqrt(e*e+n*n);E.set(0,i)}function G(t){if(1==t.touches.length)b.set(t.touches[0].pageX,t.touches[0].pageY);else{var e=.5*(t.touches[0].pageX+t.touches[1].pageX),n=.5*(t.touches[0].pageY+t.touches[1].pageY);b.set(e,n)}w.subVectors(b,x).multiplyScalar(l.rotateSpeed);var i=l.domElement===document?l.domElement.body:l.domElement;I(2*Math.PI*w.x/i.clientHeight),D(2*Math.PI*w.y/i.clientHeight),x.copy(b)}function j(t){if(1==t.touches.length)M.set(t.touches[0].pageX,t.touches[0].pageY);else{var e=.5*(t.touches[0].pageX+t.touches[1].pageX),n=.5*(t.touches[0].pageY+t.touches[1].pageY);M.set(e,n)}T.subVectors(M,S).multiplyScalar(l.panSpeed),k(T.x,T.y),S.copy(M)}function W(t){var e=t.touches[0].pageX-t.touches[1].pageX,n=t.touches[0].pageY-t.touches[1].pageY,i=Math.sqrt(e*e+n*n);A.set(0,i),C.set(0,Math.pow(A.y/E.y,l.zoomSpeed)),N(C.y),E.copy(A)}function Z(t){if(!1!==l.enabled){switch(t.preventDefault(),l.domElement.focus?l.domElement.focus():window.focus(),t.button){case 0:switch(l.mouseButtons.LEFT){case i.RsA.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===l.enablePan)return;F(t),d=p.PAN}else{if(!1===l.enableRotate)return;B(t),d=p.ROTATE}break;case i.RsA.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(!1===l.enableRotate)return;B(t),d=p.ROTATE}else{if(!1===l.enablePan)return;F(t),d=p.PAN}break;default:d=p.NONE}break;case 1:if(l.mouseButtons.MIDDLE===i.RsA.DOLLY){if(!1===l.enableZoom)return;!function(t){E.set(t.clientX,t.clientY)}(t),d=p.DOLLY}else d=p.NONE;break;case 2:switch(l.mouseButtons.RIGHT){case i.RsA.ROTATE:if(!1===l.enableRotate)return;B(t),d=p.ROTATE;break;case i.RsA.PAN:if(!1===l.enablePan)return;F(t),d=p.PAN;break;default:d=p.NONE}}d!==p.NONE&&(document.addEventListener("mousemove",q,!1),document.addEventListener("mouseup",X,!1),l.dispatchEvent(u))}}function q(t){if(!1!==l.enabled)switch(t.preventDefault(),d){case p.ROTATE:if(!1===l.enableRotate)return;!function(t){b.set(t.clientX,t.clientY),w.subVectors(b,x).multiplyScalar(l.rotateSpeed);var e=l.domElement===document?l.domElement.body:l.domElement;I(2*Math.PI*w.x/e.clientHeight),D(2*Math.PI*w.y/e.clientHeight),x.copy(b),l.update()}(t);break;case p.DOLLY:if(!1===l.enableZoom)return;!function(t){A.set(t.clientX,t.clientY),C.subVectors(A,E),C.y>0?N(L()):C.y<0&&z(L()),E.copy(A),l.update()}(t);break;case p.PAN:if(!1===l.enablePan)return;!function(t){M.set(t.clientX,t.clientY),T.subVectors(M,S).multiplyScalar(l.panSpeed),k(T.x,T.y),S.copy(M),l.update()}(t)}}function X(t){!1!==l.enabled&&(document.removeEventListener("mousemove",q,!1),document.removeEventListener("mouseup",X,!1),l.dispatchEvent(h),d=p.NONE)}function Y(t){!1===l.enabled||!1===l.enableZoom||d!==p.NONE&&d!==p.ROTATE||(t.preventDefault(),t.stopPropagation(),l.dispatchEvent(u),function(t){t.deltaY<0?z(L()):t.deltaY>0&&N(L()),l.update()}(t),l.dispatchEvent(h))}function J(t){!1!==l.enabled&&!1!==l.enableKeys&&!1!==l.enablePan&&function(t){var e=!1;switch(t.keyCode){case l.keys.UP:k(0,l.keyPanSpeed),e=!0;break;case l.keys.BOTTOM:k(0,-l.keyPanSpeed),e=!0;break;case l.keys.LEFT:k(l.keyPanSpeed,0),e=!0;break;case l.keys.RIGHT:k(-l.keyPanSpeed,0),e=!0}e&&(t.preventDefault(),l.update())}(t)}function K(t){if(!1!==l.enabled){switch(t.preventDefault(),t.touches.length){case 1:switch(l.touches.ONE){case i.QmN.ROTATE:if(!1===l.enableRotate)return;U(t),d=p.TOUCH_ROTATE;break;case i.QmN.PAN:if(!1===l.enablePan)return;H(t),d=p.TOUCH_PAN;break;default:d=p.NONE}break;case 2:switch(l.touches.TWO){case i.QmN.DOLLY_PAN:if(!1===l.enableZoom&&!1===l.enablePan)return;!function(t){l.enableZoom&&V(t),l.enablePan&&H(t)}(t),d=p.TOUCH_DOLLY_PAN;break;case i.QmN.DOLLY_ROTATE:if(!1===l.enableZoom&&!1===l.enableRotate)return;!function(t){l.enableZoom&&V(t),l.enableRotate&&U(t)}(t),d=p.TOUCH_DOLLY_ROTATE;break;default:d=p.NONE}break;default:d=p.NONE}d!==p.NONE&&l.dispatchEvent(u)}}function $(t){if(!1!==l.enabled)switch(t.preventDefault(),t.stopPropagation(),d){case p.TOUCH_ROTATE:if(!1===l.enableRotate)return;G(t),l.update();break;case p.TOUCH_PAN:if(!1===l.enablePan)return;j(t),l.update();break;case p.TOUCH_DOLLY_PAN:if(!1===l.enableZoom&&!1===l.enablePan)return;!function(t){l.enableZoom&&W(t),l.enablePan&&j(t)}(t),l.update();break;case p.TOUCH_DOLLY_ROTATE:if(!1===l.enableZoom&&!1===l.enableRotate)return;!function(t){l.enableZoom&&W(t),l.enableRotate&&G(t)}(t),l.update();break;default:d=p.NONE}}function Q(t){!1!==l.enabled&&(l.dispatchEvent(h),d=p.NONE)}function tt(t){!1!==l.enabled&&t.preventDefault()}l.domElement.addEventListener("contextmenu",tt,!1),l.domElement.addEventListener("mousedown",Z,!1),l.domElement.addEventListener("wheel",Y,!1),l.domElement.addEventListener("touchstart",K,!1),l.domElement.addEventListener("touchend",Q,!1),l.domElement.addEventListener("touchmove",$,!1),window.addEventListener("keydown",J,!1),this.update()};r.prototype=Object.create(i.pBf.prototype),r.prototype.constructor=r;var o=function(t,e){r.call(this,t,e),this.mouseButtons.LEFT=i.RsA.PAN,this.mouseButtons.RIGHT=i.RsA.ROTATE,this.touches.ONE=i.QmN.PAN,this.touches.TWO=i.QmN.DOLLY_ROTATE};(o.prototype=Object.create(i.pBf.prototype)).constructor=o},7047:(t,e,n)=>{"use strict";n.d(e,{E:()=>r});var i=n(2212),r=function(){function t(t){i.aNw.call(this,t),this.dracoLoader=null,this.ddsLoader=null}function e(){var t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}t.prototype=Object.assign(Object.create(i.aNw.prototype),{constructor:t,load:function(t,e,n,r){var o,a=this;o=""!==this.resourcePath?this.resourcePath:""!==this.path?this.path:i.Zp0.extractUrlBase(t),a.manager.itemStart(t);var s=function(e){r?r(e):console.error(e),a.manager.itemError(t),a.manager.itemEnd(t)},l=new i.hH6(a.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),"use-credentials"===a.crossOrigin&&l.setWithCredentials(!0),l.load(t,(function(n){try{a.parse(n,o,(function(n){e(n),a.manager.itemEnd(t)}),s)}catch(t){s(t)}}),n,s)},setDRACOLoader:function(t){return this.dracoLoader=t,this},setDDSLoader:function(t){return this.ddsLoader=t,this},parse:function(t,e,p,d){var f,m={};if("string"==typeof t)f=t;else if(i.Zp0.decodeText(new Uint8Array(t,0,4))===s){try{m[n.KHR_BINARY_GLTF]=new l(t)}catch(t){return void(d&&d(t))}f=m[n.KHR_BINARY_GLTF].content}else f=i.Zp0.decodeText(new Uint8Array(t));var g=JSON.parse(f);if(void 0===g.asset||g.asset.version[0]<2)d&&d(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported. Use LegacyGLTFLoader instead."));else{if(g.extensionsUsed)for(var v=0;v<g.extensionsUsed.length;++v){var y=g.extensionsUsed[v],_=g.extensionsRequired||[];switch(y){case n.KHR_LIGHTS_PUNCTUAL:m[y]=new o(g);break;case n.KHR_MATERIALS_UNLIT:m[y]=new a;break;case n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:m[y]=new h;break;case n.KHR_DRACO_MESH_COMPRESSION:m[y]=new c(g,this.dracoLoader);break;case n.MSFT_TEXTURE_DDS:m[n.MSFT_TEXTURE_DDS]=new r(this.ddsLoader);break;case n.KHR_TEXTURE_TRANSFORM:m[n.KHR_TEXTURE_TRANSFORM]=new u;break;default:_.indexOf(y)>=0&&console.warn('THREE.GLTFLoader: Unknown extension "'+y+'".')}}new C(g,m,{path:e||this.resourcePath||"",crossOrigin:this.crossOrigin,manager:this.manager}).parse(p,d)}}});var n={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",MSFT_TEXTURE_DDS:"MSFT_texture_dds"};function r(t){if(!t)throw new Error("THREE.GLTFLoader: Attempting to load .dds texture without importing DDSLoader");this.name=n.MSFT_TEXTURE_DDS,this.ddsLoader=t}function o(t){this.name=n.KHR_LIGHTS_PUNCTUAL;var e=t.extensions&&t.extensions[n.KHR_LIGHTS_PUNCTUAL]||{};this.lightDefs=e.lights||[]}function a(){this.name=n.KHR_MATERIALS_UNLIT}o.prototype.loadLight=function(t){var e,n=this.lightDefs[t],r=new i.Ilk(16777215);void 0!==n.color&&r.fromArray(n.color);var o=void 0!==n.range?n.range:0;switch(n.type){case"directional":(e=new i.Ox3(r)).target.position.set(0,0,-1),e.add(e.target);break;case"point":(e=new i.cek(r)).distance=o;break;case"spot":(e=new i.PMe(r)).distance=o,n.spot=n.spot||{},n.spot.innerConeAngle=void 0!==n.spot.innerConeAngle?n.spot.innerConeAngle:0,n.spot.outerConeAngle=void 0!==n.spot.outerConeAngle?n.spot.outerConeAngle:Math.PI/4,e.angle=n.spot.outerConeAngle,e.penumbra=1-n.spot.innerConeAngle/n.spot.outerConeAngle,e.target.position.set(0,0,-1),e.add(e.target);break;default:throw new Error('THREE.GLTFLoader: Unexpected light type, "'+n.type+'".')}return e.position.set(0,0,0),e.decay=2,void 0!==n.intensity&&(e.intensity=n.intensity),e.name=n.name||"light_"+t,Promise.resolve(e)},a.prototype.getMaterialType=function(){return i.vBJ},a.prototype.extendParams=function(t,e,n){var r=[];t.color=new i.Ilk(1,1,1),t.opacity=1;var o=e.pbrMetallicRoughness;if(o){if(Array.isArray(o.baseColorFactor)){var a=o.baseColorFactor;t.color.fromArray(a),t.opacity=a[3]}void 0!==o.baseColorTexture&&r.push(n.assignTexture(t,"map",o.baseColorTexture))}return Promise.all(r)};var s="glTF";function l(t){this.name=n.KHR_BINARY_GLTF,this.content=null,this.body=null;var e=new DataView(t,0,12);if(this.header={magic:i.Zp0.decodeText(new Uint8Array(t.slice(0,4))),version:e.getUint32(4,!0),length:e.getUint32(8,!0)},this.header.magic!==s)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected. Use LegacyGLTFLoader instead.");for(var r=new DataView(t,12),o=0;o<r.byteLength;){var a=r.getUint32(o,!0);o+=4;var l=r.getUint32(o,!0);if(o+=4,1313821514===l){var c=new Uint8Array(t,12+o,a);this.content=i.Zp0.decodeText(c)}else if(5130562===l){var u=12+o;this.body=t.slice(u,u+a)}o+=a}if(null===this.content)throw new Error("THREE.GLTFLoader: JSON content not found.")}function c(t,e){if(!e)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=n.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=e}function u(){this.name=n.KHR_TEXTURE_TRANSFORM}function h(){return{name:n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,specularGlossinessParams:["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"],getMaterialType:function(){return i.jyz},extendParams:function(t,e,n){var r=e.extensions[this.name],o=i.Vj0.standard,a=i.rDY.clone(o.uniforms),s=["#ifdef USE_SPECULARMAP","\tuniform sampler2D specularMap;","#endif"].join("\n"),l=["#ifdef USE_GLOSSINESSMAP","\tuniform sampler2D glossinessMap;","#endif"].join("\n"),c=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","\tvec4 texelSpecular = texture2D( specularMap, vUv );","\ttexelSpecular = sRGBToLinear( texelSpecular );","\t// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","\tspecularFactor *= texelSpecular.rgb;","#endif"].join("\n"),u=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","\tvec4 texelGlossiness = texture2D( glossinessMap, vUv );","\t// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","\tglossinessFactor *= texelGlossiness.a;","#endif"].join("\n"),h=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb;","material.specularRoughness = clamp( 1.0 - glossinessFactor, 0.04, 1.0 );","material.specularColor = specularFactor.rgb;"].join("\n"),p=o.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",s).replace("#include <metalnessmap_pars_fragment>",l).replace("#include <roughnessmap_fragment>",c).replace("#include <metalnessmap_fragment>",u).replace("#include <lights_physical_fragment>",h);delete a.roughness,delete a.metalness,delete a.roughnessMap,delete a.metalnessMap,a.specular={value:(new i.Ilk).setHex(1118481)},a.glossiness={value:.5},a.specularMap={value:null},a.glossinessMap={value:null},t.vertexShader=o.vertexShader,t.fragmentShader=p,t.uniforms=a,t.defines={STANDARD:""},t.color=new i.Ilk(1,1,1),t.opacity=1;var d=[];if(Array.isArray(r.diffuseFactor)){var f=r.diffuseFactor;t.color.fromArray(f),t.opacity=f[3]}if(void 0!==r.diffuseTexture&&d.push(n.assignTexture(t,"map",r.diffuseTexture)),t.emissive=new i.Ilk(0,0,0),t.glossiness=void 0!==r.glossinessFactor?r.glossinessFactor:1,t.specular=new i.Ilk(1,1,1),Array.isArray(r.specularFactor)&&t.specular.fromArray(r.specularFactor),void 0!==r.specularGlossinessTexture){var m=r.specularGlossinessTexture;d.push(n.assignTexture(t,"glossinessMap",m)),d.push(n.assignTexture(t,"specularMap",m))}return Promise.all(d)},createMaterial:function(t){var e=new i.jyz({defines:t.defines,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader,uniforms:t.uniforms,fog:!0,lights:!0,opacity:t.opacity,transparent:t.transparent});return e.isGLTFSpecularGlossinessMaterial=!0,e.color=t.color,e.map=void 0===t.map?null:t.map,e.lightMap=null,e.lightMapIntensity=1,e.aoMap=void 0===t.aoMap?null:t.aoMap,e.aoMapIntensity=1,e.emissive=t.emissive,e.emissiveIntensity=1,e.emissiveMap=void 0===t.emissiveMap?null:t.emissiveMap,e.bumpMap=void 0===t.bumpMap?null:t.bumpMap,e.bumpScale=1,e.normalMap=void 0===t.normalMap?null:t.normalMap,t.normalScale&&(e.normalScale=t.normalScale),e.displacementMap=null,e.displacementScale=1,e.displacementBias=0,e.specularMap=void 0===t.specularMap?null:t.specularMap,e.specular=t.specular,e.glossinessMap=void 0===t.glossinessMap?null:t.glossinessMap,e.glossiness=t.glossiness,e.alphaMap=null,e.envMap=void 0===t.envMap?null:t.envMap,e.envMapIntensity=1,e.refractionRatio=.98,e.extensions.derivatives=!0,e},cloneMaterial:function(t){var e=t.clone();e.isGLTFSpecularGlossinessMaterial=!0;for(var n=this.specularGlossinessParams,i=0,r=n.length;i<r;i++){var o=t[n[i]];e[n[i]]=o&&o.isColor?o.clone():o}return e},refreshUniforms:function(t,e,n,i,r){if(!0===r.isGLTFSpecularGlossinessMaterial){var o,a=r.uniforms,s=r.defines;a.opacity.value=r.opacity,a.diffuse.value.copy(r.color),a.emissive.value.copy(r.emissive).multiplyScalar(r.emissiveIntensity),a.map.value=r.map,a.specularMap.value=r.specularMap,a.alphaMap.value=r.alphaMap,a.lightMap.value=r.lightMap,a.lightMapIntensity.value=r.lightMapIntensity,a.aoMap.value=r.aoMap,a.aoMapIntensity.value=r.aoMapIntensity,r.map?o=r.map:r.specularMap?o=r.specularMap:r.displacementMap?o=r.displacementMap:r.normalMap?o=r.normalMap:r.bumpMap?o=r.bumpMap:r.glossinessMap?o=r.glossinessMap:r.alphaMap?o=r.alphaMap:r.emissiveMap&&(o=r.emissiveMap),void 0!==o&&(o.isWebGLRenderTarget&&(o=o.texture),!0===o.matrixAutoUpdate&&o.updateMatrix(),a.uvTransform.value.copy(o.matrix)),r.envMap&&(a.envMap.value=r.envMap,a.envMapIntensity.value=r.envMapIntensity,a.flipEnvMap.value=r.envMap.isCubeTexture?-1:1,a.reflectivity.value=r.reflectivity,a.refractionRatio.value=r.refractionRatio,a.maxMipLevel.value=t.properties.get(r.envMap).__maxMipLevel),a.specular.value.copy(r.specular),a.glossiness.value=r.glossiness,a.glossinessMap.value=r.glossinessMap,a.emissiveMap.value=r.emissiveMap,a.bumpMap.value=r.bumpMap,a.normalMap.value=r.normalMap,a.displacementMap.value=r.displacementMap,a.displacementScale.value=r.displacementScale,a.displacementBias.value=r.displacementBias,null!==a.glossinessMap.value&&void 0===s.USE_GLOSSINESSMAP&&(s.USE_GLOSSINESSMAP="",s.USE_ROUGHNESSMAP=""),null===a.glossinessMap.value&&void 0!==s.USE_GLOSSINESSMAP&&(delete s.USE_GLOSSINESSMAP,delete s.USE_ROUGHNESSMAP)}}}}function p(t,e,n,r){i._C8.call(this,t,e,n,r)}c.prototype.decodePrimitive=function(t,e){var n=this.json,i=this.dracoLoader,r=t.extensions[this.name].bufferView,o=t.extensions[this.name].attributes,a={},s={},l={};for(var c in o){var u=y[c]||c.toLowerCase();a[u]=o[c]}for(c in t.attributes)if(u=y[c]||c.toLowerCase(),void 0!==o[c]){var h=n.accessors[t.attributes[c]],p=f[h.componentType];l[u]=p,s[u]=!0===h.normalized}return e.getDependency("bufferView",r).then((function(t){return new Promise((function(e){i.decodeDracoFile(t,(function(t){for(var n in t.attributes){var i=t.attributes[n],r=s[n];void 0!==r&&(i.normalized=r)}e(t)}),a,l)}))}))},u.prototype.extendTexture=function(t,e){return t=t.clone(),void 0!==e.offset&&t.offset.fromArray(e.offset),void 0!==e.rotation&&(t.rotation=e.rotation),void 0!==e.scale&&t.repeat.fromArray(e.scale),void 0!==e.texCoord&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),t.needsUpdate=!0,t},p.prototype=Object.create(i._C8.prototype),p.prototype.constructor=p,p.prototype.copySampleValue_=function(t){for(var e=this.resultBuffer,n=this.sampleValues,i=this.valueSize,r=t*i*3+i,o=0;o!==i;o++)e[o]=n[r+o];return e},p.prototype.beforeStart_=p.prototype.copySampleValue_,p.prototype.afterEnd_=p.prototype.copySampleValue_,p.prototype.interpolate_=function(t,e,n,i){for(var r=this.resultBuffer,o=this.sampleValues,a=this.valueSize,s=2*a,l=3*a,c=i-e,u=(n-e)/c,h=u*u,p=h*u,d=t*l,f=d-l,m=-2*p+3*h,g=p-h,v=1-m,y=g-h+u,_=0;_!==a;_++){var x=o[f+_+a],b=o[f+_+s]*c,w=o[d+_+a],S=o[d+_]*c;r[_]=v*x+y*b+m*w+g*S}return r};var d,f={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},m={9728:i.TyD,9729:i.wem,9984:i.YLQ,9985:i.qyh,9986:i.aH4,9987:i.D1R},g={33071:i.uWy,33648:i.OoA,10497:i.rpg},v={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},y={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},_={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},x={CUBICSPLINE:void 0,LINEAR:i.NMF,STEP:i.Syv},b={"image/png":i.wk1,"image/jpeg":i.UCm};function w(t,e){return"string"!=typeof t||""===t?"":(/^https?:\/\//i.test(e)&&/^\//.test(t)&&(e=e.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(t)||/^data:.*,.*$/i.test(t)||/^blob:.*$/i.test(t)?t:e+t)}function S(t,e,n){for(var i in n.extensions)void 0===t[i]&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=n.extensions[i])}function M(t,e){void 0!==e.extras&&("object"==typeof e.extras?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function T(t,e){if(t.updateMorphTargets(),void 0!==e.weights)for(var n=0,i=e.weights.length;n<i;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){var r=e.extras.targetNames;if(t.morphTargetInfluences.length===r.length)for(t.morphTargetDictionary={},n=0,i=r.length;n<i;n++)t.morphTargetDictionary[r[n]]=n;else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function E(t){for(var e="",n=Object.keys(t).sort(),i=0,r=n.length;i<r;i++)e+=n[i]+":"+t[n[i]]+";";return e}function A(t){if(t.isInterleavedBufferAttribute){for(var e=t.count,n=t.itemSize,r=t.array.slice(0,e*n),o=0,a=0;o<e;++o)r[a++]=t.getX(o),n>=2&&(r[a++]=t.getY(o)),n>=3&&(r[a++]=t.getZ(o)),n>=4&&(r[a++]=t.getW(o));return new i.TlE(r,n,t.normalized)}return t.clone()}function C(t,n,r){this.json=t||{},this.extensions=n||{},this.options=r||{},this.cache=new e,this.primitiveCache={},this.textureLoader=new i.dpR(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.fileLoader=new i.hH6(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),"use-credentials"===this.options.crossOrigin&&this.fileLoader.setWithCredentials(!0)}function L(t,e,n){var i=e.attributes,r=[];function o(e,i){return n.getDependency("accessor",e).then((function(e){t.addAttribute(i,e)}))}for(var a in i){var s=y[a]||a.toLowerCase();s in t.attributes||r.push(o(i[a],s))}if(void 0!==e.indices&&!t.index){var l=n.getDependency("accessor",e.indices).then((function(e){t.setIndex(e)}));r.push(l)}return M(t,e),Promise.all(r).then((function(){return void 0!==e.targets?function(t,e,n){for(var i=!1,r=!1,o=0,a=e.length;o<a&&(void 0!==(c=e[o]).POSITION&&(i=!0),void 0!==c.NORMAL&&(r=!0),!i||!r);o++);if(!i&&!r)return Promise.resolve(t);var s=[],l=[];for(o=0,a=e.length;o<a;o++){var c=e[o];if(i){var u=void 0!==c.POSITION?n.getDependency("accessor",c.POSITION):t.attributes.position;s.push(u)}r&&(u=void 0!==c.NORMAL?n.getDependency("accessor",c.NORMAL):t.attributes.normal,l.push(u))}return Promise.all([Promise.all(s),Promise.all(l)]).then((function(n){for(var o=n[0],a=n[1],s=0,l=o.length;s<l;s++)t.attributes.position!==o[s]&&(o[s]=A(o[s]));for(s=0,l=a.length;s<l;s++)t.attributes.normal!==a[s]&&(a[s]=A(a[s]));for(s=0,l=e.length;s<l;s++){var c=e[s],u="morphTarget"+s;if(i&&void 0!==c.POSITION){var h=o[s];h.name=u;for(var p=t.attributes.position,d=0,f=h.count;d<f;d++)h.setXYZ(d,h.getX(d)+p.getX(d),h.getY(d)+p.getY(d),h.getZ(d)+p.getZ(d))}if(r&&void 0!==c.NORMAL){var m=a[s];m.name=u;var g=t.attributes.normal;for(d=0,f=m.count;d<f;d++)m.setXYZ(d,m.getX(d)+g.getX(d),m.getY(d)+g.getY(d),m.getZ(d)+g.getZ(d))}}return i&&(t.morphAttributes.position=o),r&&(t.morphAttributes.normal=a),t}))}(t,e.targets,n):t}))}return C.prototype.parse=function(t,e){var n=this,i=this.json,r=this.extensions;this.cache.removeAll(),this.markDefs(),Promise.all([this.getDependencies("scene"),this.getDependencies("animation"),this.getDependencies("camera")]).then((function(e){var o={scene:e[0][i.scene||0],scenes:e[0],animations:e[1],cameras:e[2],asset:i.asset,parser:n,userData:{}};S(r,o,i),M(o,i),t(o)})).catch(e)},C.prototype.markDefs=function(){for(var t=this.json.nodes||[],e=this.json.skins||[],n=this.json.meshes||[],i={},r={},o=0,a=e.length;o<a;o++)for(var s=e[o].joints,l=0,c=s.length;l<c;l++)t[s[l]].isBone=!0;for(var u=0,h=t.length;u<h;u++){var p=t[u];void 0!==p.mesh&&(void 0===i[p.mesh]&&(i[p.mesh]=r[p.mesh]=0),i[p.mesh]++,void 0!==p.skin&&(n[p.mesh].isSkinnedMesh=!0))}this.json.meshReferences=i,this.json.meshUses=r},C.prototype.getDependency=function(t,e){var i=t+":"+e,r=this.cache.get(i);if(!r){switch(t){case"scene":r=this.loadScene(e);break;case"node":r=this.loadNode(e);break;case"mesh":r=this.loadMesh(e);break;case"accessor":r=this.loadAccessor(e);break;case"bufferView":r=this.loadBufferView(e);break;case"buffer":r=this.loadBuffer(e);break;case"material":r=this.loadMaterial(e);break;case"texture":r=this.loadTexture(e);break;case"skin":r=this.loadSkin(e);break;case"animation":r=this.loadAnimation(e);break;case"camera":r=this.loadCamera(e);break;case"light":r=this.extensions[n.KHR_LIGHTS_PUNCTUAL].loadLight(e);break;default:throw new Error("Unknown type: "+t)}this.cache.add(i,r)}return r},C.prototype.getDependencies=function(t){var e=this.cache.get(t);if(!e){var n=this,i=this.json[t+("mesh"===t?"es":"s")]||[];e=Promise.all(i.map((function(e,i){return n.getDependency(t,i)}))),this.cache.add(t,e)}return e},C.prototype.loadBuffer=function(t){var e=this.json.buffers[t],i=this.fileLoader;if(e.type&&"arraybuffer"!==e.type)throw new Error("THREE.GLTFLoader: "+e.type+" buffer type is not supported.");if(void 0===e.uri&&0===t)return Promise.resolve(this.extensions[n.KHR_BINARY_GLTF].body);var r=this.options;return new Promise((function(t,n){i.load(w(e.uri,r.path),t,void 0,(function(){n(new Error('THREE.GLTFLoader: Failed to load buffer "'+e.uri+'".'))}))}))},C.prototype.loadBufferView=function(t){var e=this.json.bufferViews[t];return this.getDependency("buffer",e.buffer).then((function(t){var n=e.byteLength||0,i=e.byteOffset||0;return t.slice(i,i+n)}))},C.prototype.loadAccessor=function(t){var e=this,n=this.json,r=this.json.accessors[t];if(void 0===r.bufferView&&void 0===r.sparse)return Promise.resolve(null);var o=[];return void 0!==r.bufferView?o.push(this.getDependency("bufferView",r.bufferView)):o.push(null),void 0!==r.sparse&&(o.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),o.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(o).then((function(t){var o,a,s=t[0],l=v[r.type],c=f[r.componentType],u=c.BYTES_PER_ELEMENT,h=u*l,p=r.byteOffset||0,d=void 0!==r.bufferView?n.bufferViews[r.bufferView].byteStride:void 0,m=!0===r.normalized;if(d&&d!==h){var g=Math.floor(p/d),y="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+g+":"+r.count,_=e.cache.get(y);_||(o=new c(s,g*d,r.count*d/u),_=new i.vpT(o,d/u),e.cache.add(y,_)),a=new i.kB5(_,l,p%d/u,m)}else o=null===s?new c(r.count*l):new c(s,p,r.count*l),a=new i.TlE(o,l,m);if(void 0!==r.sparse){var x=v.SCALAR,b=f[r.sparse.indices.componentType],w=r.sparse.indices.byteOffset||0,S=r.sparse.values.byteOffset||0,M=new b(t[1],w,r.sparse.count*x),T=new c(t[2],S,r.sparse.count*l);null!==s&&(a=new i.TlE(a.array.slice(),a.itemSize,a.normalized));for(var E=0,A=M.length;E<A;E++){var C=M[E];if(a.setX(C,T[E*l]),l>=2&&a.setY(C,T[E*l+1]),l>=3&&a.setZ(C,T[E*l+2]),l>=4&&a.setW(C,T[E*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return a}))},C.prototype.loadTexture=function(t){var e,r=this,o=this.json,a=this.options,s=this.textureLoader,l=window.URL||window.webkitURL,c=o.textures[t],u=c.extensions||{},h=(e=u[n.MSFT_TEXTURE_DDS]?o.images[u[n.MSFT_TEXTURE_DDS].source]:o.images[c.source]).uri,p=!1;return void 0!==e.bufferView&&(h=r.getDependency("bufferView",e.bufferView).then((function(t){p=!0;var n=new Blob([t],{type:e.mimeType});return h=l.createObjectURL(n)}))),Promise.resolve(h).then((function(t){var e=a.manager.getHandler(t);return e||(e=u[n.MSFT_TEXTURE_DDS]?r.extensions[n.MSFT_TEXTURE_DDS].ddsLoader:s),new Promise((function(n,i){e.load(w(t,a.path),n,void 0,i)}))})).then((function(t){!0===p&&l.revokeObjectURL(h),t.flipY=!1,void 0!==c.name&&(t.name=c.name),e.mimeType in b&&(t.format=b[e.mimeType]);var n=(o.samplers||{})[c.sampler]||{};return t.magFilter=m[n.magFilter]||i.wem,t.minFilter=m[n.minFilter]||i.D1R,t.wrapS=g[n.wrapS]||i.rpg,t.wrapT=g[n.wrapT]||i.rpg,t}))},C.prototype.assignTexture=function(t,e,r){var o=this;return this.getDependency("texture",r.index).then((function(a){if(!a.isCompressedTexture)switch(e){case"aoMap":case"emissiveMap":case"metalnessMap":case"normalMap":case"roughnessMap":a.format=i.UCm}if(o.extensions[n.KHR_TEXTURE_TRANSFORM]){var s=void 0!==r.extensions?r.extensions[n.KHR_TEXTURE_TRANSFORM]:void 0;s&&(a=o.extensions[n.KHR_TEXTURE_TRANSFORM].extendTexture(a,s))}t[e]=a}))},C.prototype.assignFinalMaterial=function(t){var e=t.geometry,r=t.material,o=this.extensions,a=void 0!==e.attributes.tangent,s=void 0!==e.attributes.color,l=void 0===e.attributes.normal,c=!0===t.isSkinnedMesh,u=Object.keys(e.morphAttributes).length>0,h=u&&void 0!==e.morphAttributes.normal;if(t.isPoints){var p="PointsMaterial:"+r.uuid,d=this.cache.get(p);d||(d=new i.UY4,i.F5T.prototype.copy.call(d,r),d.color.copy(r.color),d.map=r.map,d.sizeAttenuation=!1,this.cache.add(p,d)),r=d}else if(t.isLine){p="LineBasicMaterial:"+r.uuid;var f=this.cache.get(p);f||(f=new i.nls,i.F5T.prototype.copy.call(f,r),f.color.copy(r.color),this.cache.add(p,f)),r=f}if(a||s||l||c||u){p="ClonedMaterial:"+r.uuid+":",r.isGLTFSpecularGlossinessMaterial&&(p+="specular-glossiness:"),c&&(p+="skinning:"),a&&(p+="vertex-tangents:"),s&&(p+="vertex-colors:"),l&&(p+="flat-shading:"),u&&(p+="morph-targets:"),h&&(p+="morph-normals:");var m=this.cache.get(p);m||(m=r.isGLTFSpecularGlossinessMaterial?o[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].cloneMaterial(r):r.clone(),c&&(m.skinning=!0),a&&(m.vertexTangents=!0),s&&(m.vertexColors=i.jSK),l&&(m.flatShading=!0),u&&(m.morphTargets=!0),h&&(m.morphNormals=!0),this.cache.add(p,m)),r=m}r.aoMap&&void 0===e.attributes.uv2&&void 0!==e.attributes.uv&&(console.log("THREE.GLTFLoader: Duplicating UVs to support aoMap."),e.addAttribute("uv2",new i.TlE(e.attributes.uv.array,2))),r.isGLTFSpecularGlossinessMaterial&&(t.onBeforeRender=o[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].refreshUniforms),t.material=r},C.prototype.loadMaterial=function(t){var e,r=this,o=this.json,a=this.extensions,s=o.materials[t],l={},c=s.extensions||{},u=[];if(c[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){var h=a[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];e=h.getMaterialType(),u.push(h.extendParams(l,s,r))}else if(c[n.KHR_MATERIALS_UNLIT]){var p=a[n.KHR_MATERIALS_UNLIT];e=p.getMaterialType(),u.push(p.extendParams(l,s,r))}else{e=i.Wid;var d=s.pbrMetallicRoughness||{};if(l.color=new i.Ilk(1,1,1),l.opacity=1,Array.isArray(d.baseColorFactor)){var f=d.baseColorFactor;l.color.fromArray(f),l.opacity=f[3]}void 0!==d.baseColorTexture&&u.push(r.assignTexture(l,"map",d.baseColorTexture)),l.metalness=void 0!==d.metallicFactor?d.metallicFactor:1,l.roughness=void 0!==d.roughnessFactor?d.roughnessFactor:1,void 0!==d.metallicRoughnessTexture&&(u.push(r.assignTexture(l,"metalnessMap",d.metallicRoughnessTexture)),u.push(r.assignTexture(l,"roughnessMap",d.metallicRoughnessTexture)))}!0===s.doubleSided&&(l.side=i.ehD);var m=s.alphaMode||"OPAQUE";return"BLEND"===m?l.transparent=!0:(l.transparent=!1,"MASK"===m&&(l.alphaTest=void 0!==s.alphaCutoff?s.alphaCutoff:.5)),void 0!==s.normalTexture&&e!==i.vBJ&&(u.push(r.assignTexture(l,"normalMap",s.normalTexture)),l.normalScale=new i.FM8(1,1),void 0!==s.normalTexture.scale&&l.normalScale.set(s.normalTexture.scale,s.normalTexture.scale)),void 0!==s.occlusionTexture&&e!==i.vBJ&&(u.push(r.assignTexture(l,"aoMap",s.occlusionTexture)),void 0!==s.occlusionTexture.strength&&(l.aoMapIntensity=s.occlusionTexture.strength)),void 0!==s.emissiveFactor&&e!==i.vBJ&&(l.emissive=(new i.Ilk).fromArray(s.emissiveFactor)),void 0!==s.emissiveTexture&&e!==i.vBJ&&u.push(r.assignTexture(l,"emissiveMap",s.emissiveTexture)),Promise.all(u).then((function(){var t;return t=e===i.jyz?a[n.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(l):new e(l),void 0!==s.name&&(t.name=s.name),t.map&&(t.map.encoding=i.knz),t.emissiveMap&&(t.emissiveMap.encoding=i.knz),t.specularMap&&(t.specularMap.encoding=i.knz),M(t,s),s.extensions&&S(a,t,s),t}))},C.prototype.loadGeometries=function(t){var e=this,r=this.extensions,o=this.primitiveCache;function a(t){return r[n.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(t,e).then((function(n){return L(n,t,e)}))}for(var s,l,c=[],u=0,h=t.length;u<h;u++){var p,d=t[u],f=(void 0,(l=(s=d).extensions&&s.extensions[n.KHR_DRACO_MESH_COMPRESSION])?"draco:"+l.bufferView+":"+l.indices+":"+E(l.attributes):s.indices+":"+E(s.attributes)+":"+s.mode),m=o[f];m?c.push(m.promise):(p=d.extensions&&d.extensions[n.KHR_DRACO_MESH_COMPRESSION]?a(d):L(new i.u9r,d,e),o[f]={primitive:d,promise:p},c.push(p))}return Promise.all(c)},C.prototype.loadMesh=function(t){for(var e=this,n=this.json.meshes[t],r=n.primitives,o=[],a=0,s=r.length;a<s;a++){var l=void 0===r[a].material?d=d||new i.Wid({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:i.Wl3}):this.getDependency("material",r[a].material);o.push(l)}return Promise.all(o).then((function(o){return e.loadGeometries(r).then((function(a){for(var s=[],l=0,c=a.length;l<c;l++){var u,h=a[l],p=r[l],d=o[l];if(4===p.mode||5===p.mode||6===p.mode||void 0===p.mode)!0!==(u=!0===n.isSkinnedMesh?new i.TUv(h,d):new i.Kj0(h,d)).isSkinnedMesh||u.geometry.attributes.skinWeight.normalized||u.normalizeSkinWeights(),5===p.mode?u.drawMode=i.UlW:6===p.mode&&(u.drawMode=i.z$h);else if(1===p.mode)u=new i.ejS(h,d);else if(3===p.mode)u=new i.x12(h,d);else if(2===p.mode)u=new i.blk(h,d);else{if(0!==p.mode)throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+p.mode);u=new i.woe(h,d)}Object.keys(u.geometry.morphAttributes).length>0&&T(u,n),u.name=n.name||"mesh_"+t,a.length>1&&(u.name+="_"+l),M(u,n),e.assignFinalMaterial(u),s.push(u)}if(1===s.length)return s[0];var f=new i.ZAu;for(l=0,c=s.length;l<c;l++)f.add(s[l]);return f}))}))},C.prototype.loadCamera=function(t){var e,n=this.json.cameras[t],r=n[n.type];if(r)return"perspective"===n.type?e=new i.cPb(i.ZX$.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):"orthographic"===n.type&&(e=new i.iKG(r.xmag/-2,r.xmag/2,r.ymag/2,r.ymag/-2,r.znear,r.zfar)),void 0!==n.name&&(e.name=n.name),M(e,n),Promise.resolve(e);console.warn("THREE.GLTFLoader: Missing camera parameters.")},C.prototype.loadSkin=function(t){var e=this.json.skins[t],n={joints:e.joints};return void 0===e.inverseBindMatrices?Promise.resolve(n):this.getDependency("accessor",e.inverseBindMatrices).then((function(t){return n.inverseBindMatrices=t,n}))},C.prototype.loadAnimation=function(t){for(var e=this.json.animations[t],n=[],r=[],o=[],a=[],s=[],l=0,c=e.channels.length;l<c;l++){var u=e.channels[l],h=e.samplers[u.sampler],d=u.target,f=void 0!==d.node?d.node:d.id,m=void 0!==e.parameters?e.parameters[h.input]:h.input,g=void 0!==e.parameters?e.parameters[h.output]:h.output;n.push(this.getDependency("node",f)),r.push(this.getDependency("accessor",m)),o.push(this.getDependency("accessor",g)),a.push(h),s.push(d)}return Promise.all([Promise.all(n),Promise.all(r),Promise.all(o),Promise.all(a),Promise.all(s)]).then((function(n){for(var r=n[0],o=n[1],a=n[2],s=n[3],l=n[4],c=[],u=0,h=r.length;u<h;u++){var d=r[u],f=o[u],m=a[u],g=s[u],v=l[u];if(void 0!==d){var y;switch(d.updateMatrix(),d.matrixAutoUpdate=!0,_[v.path]){case _.weights:y=i.dUE;break;case _.rotation:y=i.iLg;break;default:y=i.yC1}var b=d.name?d.name:d.uuid,w=void 0!==g.interpolation?x[g.interpolation]:i.NMF,S=[];_[v.path]===_.weights?d.traverse((function(t){!0===t.isMesh&&t.morphTargetInfluences&&S.push(t.name?t.name:t.uuid)})):S.push(b);var M=m.array;if(m.normalized){var T;if(M.constructor===Int8Array)T=1/127;else if(M.constructor===Uint8Array)T=1/255;else if(M.constructor==Int16Array)T=1/32767;else{if(M.constructor!==Uint16Array)throw new Error("THREE.GLTFLoader: Unsupported output accessor component type.");T=1/65535}for(var E=new Float32Array(M.length),A=0,C=M.length;A<C;A++)E[A]=M[A]*T;M=E}for(A=0,C=S.length;A<C;A++){var L=new y(S[A]+"."+_[v.path],f.array,M,w);"CUBICSPLINE"===g.interpolation&&(L.createInterpolant=function(t){return new p(this.times,this.values,this.getValueSize()/3,t)},L.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),c.push(L)}}}var I=void 0!==e.name?e.name:"animation_"+t;return new i.m7l(I,void 0,c)}))},C.prototype.loadNode=function(t){var e,r=this.json,o=this.extensions,a=this,s=r.meshReferences,l=r.meshUses,c=r.nodes[t];return(e=[],void 0!==c.mesh&&e.push(a.getDependency("mesh",c.mesh).then((function(t){var e;if(s[c.mesh]>1){var n=l[c.mesh]++;(e=t.clone()).name+="_instance_"+n,e.onBeforeRender=t.onBeforeRender;for(var i=0,r=e.children.length;i<r;i++)e.children[i].name+="_instance_"+n,e.children[i].onBeforeRender=t.children[i].onBeforeRender}else e=t;return void 0!==c.weights&&e.traverse((function(t){if(t.isMesh)for(var e=0,n=c.weights.length;e<n;e++)t.morphTargetInfluences[e]=c.weights[e]})),e}))),void 0!==c.camera&&e.push(a.getDependency("camera",c.camera)),c.extensions&&c.extensions[n.KHR_LIGHTS_PUNCTUAL]&&void 0!==c.extensions[n.KHR_LIGHTS_PUNCTUAL].light&&e.push(a.getDependency("light",c.extensions[n.KHR_LIGHTS_PUNCTUAL].light)),Promise.all(e)).then((function(t){var e;if((e=!0===c.isBone?new i.N$j:t.length>1?new i.ZAu:1===t.length?t[0]:new i.Tme)!==t[0])for(var n=0,r=t.length;n<r;n++)e.add(t[n]);if(void 0!==c.name&&(e.userData.name=c.name,e.name=i.iUV.sanitizeNodeName(c.name)),M(e,c),c.extensions&&S(o,e,c),void 0!==c.matrix){var a=new i.yGw;a.fromArray(c.matrix),e.applyMatrix(a)}else void 0!==c.translation&&e.position.fromArray(c.translation),void 0!==c.rotation&&e.quaternion.fromArray(c.rotation),void 0!==c.scale&&e.scale.fromArray(c.scale);return e}))},C.prototype.loadScene=function(){function t(e,n,r,o){var a=r.nodes[e];return o.getDependency("node",e).then((function(t){return void 0===a.skin?t:o.getDependency("skin",a.skin).then((function(t){for(var n=[],i=0,r=(e=t).joints.length;i<r;i++)n.push(o.getDependency("node",e.joints[i]));return Promise.all(n)})).then((function(n){return t.traverse((function(t){if(t.isMesh){for(var r=[],o=[],a=0,s=n.length;a<s;a++){var l=n[a];if(l){r.push(l);var c=new i.yGw;void 0!==e.inverseBindMatrices&&c.fromArray(e.inverseBindMatrices.array,16*a),o.push(c)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',e.joints[a])}t.bind(new i.OdW(r,o),t.matrixWorld)}})),t}));var e})).then((function(e){n.add(e);var i=[];if(a.children)for(var s=a.children,l=0,c=s.length;l<c;l++){var u=s[l];i.push(t(u,e,r,o))}return Promise.all(i)}))}return function(e){var n=this.json,r=this.extensions,o=this.json.scenes[e],a=new i.xsS;void 0!==o.name&&(a.name=o.name),M(a,o),o.extensions&&S(r,a,o);for(var s=o.nodes||[],l=[],c=0,u=s.length;c<u;c++)l.push(t(s[c],a,n,this));return Promise.all(l).then((function(){return a}))}}(),t}()},655:(t,e,n)=>{"use strict";n.d(e,{CR:()=>l,XA:()=>s,ZT:()=>r,_T:()=>a,fl:()=>c,pi:()=>o});var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},i(t,e)};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},o.apply(this,arguments)};function a(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function s(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)a.push(i.value)}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return a}function c(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(l(arguments[e]));return t}},5823:(t,e,n)=>{"use strict";n.d(e,{Z:()=>w});var i=n(7411),r=n(8482),o=n(479),a=n(3510),s=n(423),l=n(3051),c=n(4990),u=n(1092),h=n(4414),p="__zr_normal__",d=i.dN.concat(["ignore"]),f=(0,l.u4)(i.dN,(function(t,e){return t[e]=!0,t}),{ignore:!1}),m={},g=new o.Z(0,0,0,0),v=function(){function t(t){this.id=(0,l.M8)(),this.animators=[],this.currentStates=[],this.states={},this._init(t)}return t.prototype._init=function(t){this.attr(t)},t.prototype.drift=function(t,e,n){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var i=this.transform;i||(i=this.transform=[1,0,0,1,0,0]),i[4]+=t,i[5]+=e,this.decomposeTransform(),this.markRedraw()},t.prototype.beforeUpdate=function(){},t.prototype.afterUpdate=function(){},t.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},t.prototype.updateInnerText=function(t){var e=this._textContent;if(e&&(!e.ignore||t)){this.textConfig||(this.textConfig={});var n=this.textConfig,i=n.local,r=e.innerTransformable,o=void 0,a=void 0,l=!1;r.parent=i?this:null;var c=!1;if(r.copyTransform(e),null!=n.position){var u=g;n.layoutRect?u.copy(n.layoutRect):u.copy(this.getBoundingRect()),i||u.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(m,n,u):(0,s.wI)(m,n,u),r.x=m.x,r.y=m.y,o=m.align,a=m.verticalAlign;var p=n.origin;if(p&&null!=n.rotation){var d=void 0,f=void 0;"center"===p?(d=.5*u.width,f=.5*u.height):(d=(0,s.GM)(p[0],u.width),f=(0,s.GM)(p[1],u.height)),c=!0,r.originX=-r.x+d+(i?0:u.x),r.originY=-r.y+f+(i?0:u.y)}}null!=n.rotation&&(r.rotation=n.rotation);var v=n.offset;v&&(r.x+=v[0],r.y+=v[1],c||(r.originX=-v[0],r.originY=-v[1]));var y=null==n.inside?"string"==typeof n.position&&n.position.indexOf("inside")>=0:n.inside,_=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),x=void 0,b=void 0,w=void 0;y&&this.canBeInsideText()?(x=n.insideFill,b=n.insideStroke,null!=x&&"auto"!==x||(x=this.getInsideTextFill()),null!=b&&"auto"!==b||(b=this.getInsideTextStroke(x),w=!0)):(x=n.outsideFill,b=n.outsideStroke,null!=x&&"auto"!==x||(x=this.getOutsideFill()),null!=b&&"auto"!==b||(b=this.getOutsideStroke(x),w=!0)),(x=x||"#000")===_.fill&&b===_.stroke&&w===_.autoStroke&&o===_.align&&a===_.verticalAlign||(l=!0,_.fill=x,_.stroke=b,_.autoStroke=w,_.align=o,_.verticalAlign=a,e.setDefaultTextStyle(_)),e.__dirty|=h.YV,l&&e.dirtyStyle(!0)}},t.prototype.canBeInsideText=function(){return!0},t.prototype.getInsideTextFill=function(){return"#fff"},t.prototype.getInsideTextStroke=function(t){return"#000"},t.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?c.GD:c.vU},t.prototype.getOutsideStroke=function(t){var e=this.__zr&&this.__zr.getBackgroundColor(),n="string"==typeof e&&(0,u.Qc)(e);n||(n=[255,255,255,1]);for(var i=n[3],r=this.__zr.isDarkMode(),o=0;o<3;o++)n[o]=n[o]*i+(r?0:255)*(1-i);return n[3]=1,(0,u.Pz)(n,"rgba")},t.prototype.traverse=function(t,e){},t.prototype.attrKV=function(t,e){"textConfig"===t?this.setTextConfig(e):"textContent"===t?this.setTextContent(e):"clipPath"===t?this.setClipPath(e):"extra"===t?(this.extra=this.extra||{},(0,l.l7)(this.extra,e)):this[t]=e},t.prototype.hide=function(){this.ignore=!0,this.markRedraw()},t.prototype.show=function(){this.ignore=!1,this.markRedraw()},t.prototype.attr=function(t,e){if("string"==typeof t)this.attrKV(t,e);else if((0,l.Kn)(t))for(var n=t,i=(0,l.XP)(n),r=0;r<i.length;r++){var o=i[r];this.attrKV(o,t[o])}return this.markRedraw(),this},t.prototype.saveCurrentToNormalState=function(t){this._innerSaveToNormal(t);for(var e=this._normalState,n=0;n<this.animators.length;n++){var i=this.animators[n],r=i.__fromStateTransition;if(!(i.getLoop()||r&&r!==p)){var o=i.targetName,a=o?e[o]:e;i.saveTo(a)}}},t.prototype._innerSaveToNormal=function(t){var e=this._normalState;e||(e=this._normalState={}),t.textConfig&&!e.textConfig&&(e.textConfig=this.textConfig),this._savePrimaryToNormal(t,e,d)},t.prototype._savePrimaryToNormal=function(t,e,n){for(var i=0;i<n.length;i++){var r=n[i];null==t[r]||r in e||(e[r]=this[r])}},t.prototype.hasState=function(){return this.currentStates.length>0},t.prototype.getState=function(t){return this.states[t]},t.prototype.ensureState=function(t){var e=this.states;return e[t]||(e[t]={}),e[t]},t.prototype.clearStates=function(t){this.useState(p,!1,t)},t.prototype.useState=function(t,e,n,i){var r=t===p;if(this.hasState()||!r){var o=this.currentStates,a=this.stateTransition;if(!((0,l.cq)(o,t)>=0)||!e&&1!==o.length){var s;if(this.stateProxy&&!r&&(s=this.stateProxy(t)),s||(s=this.states&&this.states[t]),s||r){r||this.saveCurrentToNormalState(s);var c=!!(s&&s.hoverLayer||i);c&&this._toggleHoverLayerFlag(!0),this._applyStateObj(t,s,this._normalState,e,!n&&!this.__inHover&&a&&a.duration>0,a);var u=this._textContent,d=this._textGuide;return u&&u.useState(t,e,n,c),d&&d.useState(t,e,n,c),r?(this.currentStates=[],this._normalState={}):e?this.currentStates.push(t):this.currentStates=[t],this._updateAnimationTargets(),this.markRedraw(),!c&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~h.YV),s}(0,l.H)("State "+t+" not exists.")}}},t.prototype.useStates=function(t,e,n){if(t.length){var i=[],r=this.currentStates,o=t.length,a=o===r.length;if(a)for(var s=0;s<o;s++)if(t[s]!==r[s]){a=!1;break}if(a)return;for(s=0;s<o;s++){var l=t[s],c=void 0;this.stateProxy&&(c=this.stateProxy(l,t)),c||(c=this.states[l]),c&&i.push(c)}var u=i[o-1],p=!!(u&&u.hoverLayer||n);p&&this._toggleHoverLayerFlag(!0);var d=this._mergeStates(i),f=this.stateTransition;this.saveCurrentToNormalState(d),this._applyStateObj(t.join(","),d,this._normalState,!1,!e&&!this.__inHover&&f&&f.duration>0,f);var m=this._textContent,g=this._textGuide;m&&m.useStates(t,e,p),g&&g.useStates(t,e,p),this._updateAnimationTargets(),this.currentStates=t.slice(),this.markRedraw(),!p&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~h.YV)}else this.clearStates()},t.prototype._updateAnimationTargets=function(){for(var t=0;t<this.animators.length;t++){var e=this.animators[t];e.targetName&&e.changeTarget(this[e.targetName])}},t.prototype.removeState=function(t){var e=(0,l.cq)(this.currentStates,t);if(e>=0){var n=this.currentStates.slice();n.splice(e,1),this.useStates(n)}},t.prototype.replaceState=function(t,e,n){var i=this.currentStates.slice(),r=(0,l.cq)(i,t),o=(0,l.cq)(i,e)>=0;r>=0?o?i.splice(r,1):i[r]=e:n&&!o&&i.push(e),this.useStates(i)},t.prototype.toggleState=function(t,e){e?this.useState(t,!0):this.removeState(t)},t.prototype._mergeStates=function(t){for(var e,n={},i=0;i<t.length;i++){var r=t[i];(0,l.l7)(n,r),r.textConfig&&(e=e||{},(0,l.l7)(e,r.textConfig))}return e&&(n.textConfig=e),n},t.prototype._applyStateObj=function(t,e,n,i,r,o){var a=!(e&&i);e&&e.textConfig?(this.textConfig=(0,l.l7)({},i?this.textConfig:n.textConfig),(0,l.l7)(this.textConfig,e.textConfig)):a&&n.textConfig&&(this.textConfig=n.textConfig);for(var s={},c=!1,u=0;u<d.length;u++){var h=d[u],p=r&&f[h];e&&null!=e[h]?p?(c=!0,s[h]=e[h]):this[h]=e[h]:a&&null!=n[h]&&(p?(c=!0,s[h]=n[h]):this[h]=n[h])}if(!r)for(u=0;u<this.animators.length;u++){var m=this.animators[u],g=m.targetName;m.getLoop()||m.__changeFinalValue(g?(e||n)[g]:e||n)}c&&this._transitionState(t,s,o)},t.prototype._attachComponent=function(t){if((!t.__zr||t.__hostTarget)&&t!==this){var e=this.__zr;e&&t.addSelfToZr(e),t.__zr=e,t.__hostTarget=this}},t.prototype._detachComponent=function(t){t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__hostTarget=null},t.prototype.getClipPath=function(){return this._clipPath},t.prototype.setClipPath=function(t){this._clipPath&&this._clipPath!==t&&this.removeClipPath(),this._attachComponent(t),this._clipPath=t,this.markRedraw()},t.prototype.removeClipPath=function(){var t=this._clipPath;t&&(this._detachComponent(t),this._clipPath=null,this.markRedraw())},t.prototype.getTextContent=function(){return this._textContent},t.prototype.setTextContent=function(t){var e=this._textContent;e!==t&&(e&&e!==t&&this.removeTextContent(),t.innerTransformable=new i.ZP,this._attachComponent(t),this._textContent=t,this.markRedraw())},t.prototype.setTextConfig=function(t){this.textConfig||(this.textConfig={}),(0,l.l7)(this.textConfig,t),this.markRedraw()},t.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},t.prototype.removeTextContent=function(){var t=this._textContent;t&&(t.innerTransformable=null,this._detachComponent(t),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},t.prototype.getTextGuideLine=function(){return this._textGuide},t.prototype.setTextGuideLine=function(t){this._textGuide&&this._textGuide!==t&&this.removeTextGuideLine(),this._attachComponent(t),this._textGuide=t,this.markRedraw()},t.prototype.removeTextGuideLine=function(){var t=this._textGuide;t&&(this._detachComponent(t),this._textGuide=null,this.markRedraw())},t.prototype.markRedraw=function(){this.__dirty|=h.YV;var t=this.__zr;t&&(this.__inHover?t.refreshHover():t.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},t.prototype.dirty=function(){this.markRedraw()},t.prototype._toggleHoverLayerFlag=function(t){this.__inHover=t;var e=this._textContent,n=this._textGuide;e&&(e.__inHover=t),n&&(n.__inHover=t)},t.prototype.addSelfToZr=function(t){if(this.__zr!==t){this.__zr=t;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.addAnimator(e[n]);this._clipPath&&this._clipPath.addSelfToZr(t),this._textContent&&this._textContent.addSelfToZr(t),this._textGuide&&this._textGuide.addSelfToZr(t)}},t.prototype.removeSelfFromZr=function(t){if(this.__zr){this.__zr=null;var e=this.animators;if(e)for(var n=0;n<e.length;n++)t.animation.removeAnimator(e[n]);this._clipPath&&this._clipPath.removeSelfFromZr(t),this._textContent&&this._textContent.removeSelfFromZr(t),this._textGuide&&this._textGuide.removeSelfFromZr(t)}},t.prototype.animate=function(t,e,n){var i=t?this[t]:this,o=new r.Z(i,e,n);return t&&(o.targetName=t),this.addAnimator(o,t),o},t.prototype.addAnimator=function(t,e){var n=this.__zr,i=this;t.during((function(){i.updateDuringAnimation(e)})).done((function(){var e=i.animators,n=(0,l.cq)(e,t);n>=0&&e.splice(n,1)})),this.animators.push(t),n&&n.animation.addAnimator(t),n&&n.wakeUp()},t.prototype.updateDuringAnimation=function(t){this.markRedraw()},t.prototype.stopAnimation=function(t,e){for(var n=this.animators,i=n.length,r=[],o=0;o<i;o++){var a=n[o];t&&t!==a.scope?r.push(a):a.stop(e)}return this.animators=r,this},t.prototype.animateTo=function(t,e,n){y(this,t,e,n)},t.prototype.animateFrom=function(t,e,n){y(this,t,e,n,!0)},t.prototype._transitionState=function(t,e,n,i){for(var r=y(this,e,n,i),o=0;o<r.length;o++)r[o].__fromStateTransition=t},t.prototype.getBoundingRect=function(){return null},t.prototype.getPaintRect=function(){return null},t.initDefaultProps=function(){var e=t.prototype;function n(t,n,i,r){function o(t,e){Object.defineProperty(e,0,{get:function(){return t[i]},set:function(e){t[i]=e}}),Object.defineProperty(e,1,{get:function(){return t[r]},set:function(e){t[r]=e}})}Object.defineProperty(e,t,{get:function(){return this[n]||o(this,this[n]=[]),this[n]},set:function(t){this[i]=t[0],this[r]=t[1],this[n]=t,o(this,t)}})}e.type="element",e.name="",e.ignore=e.silent=e.isGroup=e.draggable=e.dragging=e.ignoreClip=e.__inHover=!1,e.__dirty=h.YV,Object.defineProperty&&(n("position","_legacyPos","x","y"),n("scale","_legacyScale","scaleX","scaleY"),n("origin","_legacyOrigin","originX","originY"))}(),t}();function y(t,e,n,i,r){var o=[];b(t,"",t,e,n=n||{},i,o,r);var a=o.length,s=!1,l=n.done,c=n.aborted,u=function(){s=!0,--a<=0&&(s?l&&l():c&&c())},h=function(){--a<=0&&(s?l&&l():c&&c())};a||l&&l(),o.length>0&&n.during&&o[0].during((function(t,e){n.during(e)}));for(var p=0;p<o.length;p++){var d=o[p];u&&d.done(u),h&&d.aborted(h),n.force&&d.duration(n.duration),d.start(n.easing)}return o}function _(t,e,n){for(var i=0;i<n;i++)t[i]=e[i]}function x(t,e,n){if((0,l.zG)(e[n]))if((0,l.zG)(t[n])||(t[n]=[]),(0,l.fU)(e[n])){var i=e[n].length;t[n].length!==i&&(t[n]=new e[n].constructor(i),_(t[n],e[n],i))}else{var r=e[n],o=t[n],a=r.length;if(u=r,(0,l.zG)(u[0]))for(var s=r[0].length,c=0;c<a;c++)o[c]?_(o[c],r[c],s):o[c]=Array.prototype.slice.call(r[c]);else _(o,r,a);o.length=r.length}else t[n]=e[n];var u}function b(t,e,n,i,o,a,s,c){for(var u=(0,l.XP)(i),h=o.duration,p=o.delay,d=o.additive,f=o.setToFinal,m=!(0,l.Kn)(a),g=t.animators,v=[],y=0;y<u.length;y++){var _=u[y],w=i[_];if(null!=w&&null!=n[_]&&(m||a[_]))if(!(0,l.Kn)(w)||(0,l.zG)(w)||(0,l.Qq)(w))v.push(_);else{if(e){c||(n[_]=w,t.updateDuringAnimation(e));continue}b(t,_,n[_],w,o,a&&a[_],s,c)}else c||(n[_]=w,t.updateDuringAnimation(e),v.push(_))}var S=v.length;if(!d&&S)for(var M=0;M<g.length;M++)if((E=g[M]).targetName===e&&E.stopTracks(v)){var T=(0,l.cq)(g,E);g.splice(T,1)}if(o.force||(v=(0,l.hX)(v,(function(t){return!((e=i[t])===(r=n[t])||(0,l.zG)(e)&&(0,l.zG)(r)&&function(t,e){var n=t.length;if(n!==e.length)return!1;for(var i=0;i<n;i++)if(t[i]!==e[i])return!1;return!0}(e,r));var e,r})),S=v.length),S>0||o.force&&!s.length){var E,A=void 0,C=void 0,L=void 0;if(c)for(C={},f&&(A={}),M=0;M<S;M++)C[_=v[M]]=n[_],f?A[_]=i[_]:n[_]=i[_];else if(f)for(L={},M=0;M<S;M++)L[_=v[M]]=(0,r.V)(n[_]),x(n,i,_);(E=new r.Z(n,!1,!1,d?(0,l.hX)(g,(function(t){return t.targetName===e})):null)).targetName=e,o.scope&&(E.scope=o.scope),f&&A&&E.whenWithKeys(0,A,v),L&&E.whenWithKeys(0,L,v),E.whenWithKeys(null==h?500:h,c?C:i,v).delay(p||0),t.addAnimator(E,e),s.push(E)}}(0,l.jB)(v,a.Z),(0,l.jB)(v,i.ZP);const w=v},8482:(t,e,n)=>{"use strict";n.d(e,{V:()=>_,Z:()=>T});var i={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),-n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4))},elasticOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,n=.1;return 0===t?0:1===t?1:(!n||n<1?(n=1,e=.1):e=.4*Math.asin(1/n)/(2*Math.PI),(t*=2)<1?n*Math.pow(2,10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:n*Math.pow(2,-10*(t-=1))*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){var e=1.70158;return t*t*((e+1)*t-e)},backOut:function(t){var e=1.70158;return--t*t*((e+1)*t+e)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((e+1)*t-e)*.5:.5*((t-=2)*t*((e+1)*t+e)+2)},bounceIn:function(t){return 1-i.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*i.bounceIn(2*t):.5*i.bounceOut(2*t-1)+.5}};const r=i;var o=n(3051),a=n(8554),s=/cubic-bezier\(([0-9,\.e ]+)\)/;function l(t){var e=t&&s.exec(t);if(e){var n=e[1].split(","),i=+(0,o.fy)(n[0]),r=+(0,o.fy)(n[1]),l=+(0,o.fy)(n[2]),c=+(0,o.fy)(n[3]);if(isNaN(i+r+l+c))return;var u=[];return function(t){return t<=0?0:t>=1?1:(0,a.kD)(0,i,l,1,t,u)&&(0,a.af)(0,r,c,1,u[0])}}}const c=function(){function t(t){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=t.life||1e3,this._delay=t.delay||0,this.loop=t.loop||!1,this.onframe=t.onframe||o.ZT,this.ondestroy=t.ondestroy||o.ZT,this.onrestart=t.onrestart||o.ZT,t.easing&&this.setEasing(t.easing)}return t.prototype.step=function(t,e){if(this._inited||(this._startTime=t+this._delay,this._inited=!0),!this._paused){var n=this._life,i=t-this._startTime-this._pausedTime,r=i/n;r<0&&(r=0),r=Math.min(r,1);var o=this.easingFunc,a=o?o(r):r;if(this.onframe(a),1===r){if(!this.loop)return!0;var s=i%n;this._startTime=t-s,this._pausedTime=0,this.onrestart()}return!1}this._pausedTime+=e},t.prototype.pause=function(){this._paused=!0},t.prototype.resume=function(){this._paused=!1},t.prototype.setEasing=function(t){this.easing=t,this.easingFunc=(0,o.mf)(t)?t:r[t]||l(t)},t}();var u=n(1092),h=n(6387);Math.round,h.Z.hasGlobalWindow&&(0,o.mf)(window.btoa);var p=Array.prototype.slice;function d(t,e,n){return(e-t)*n+t}function f(t,e,n,i){for(var r=e.length,o=0;o<r;o++)t[o]=d(e[o],n[o],i);return t}function m(t,e,n,i){for(var r=e.length,o=0;o<r;o++)t[o]=e[o]+n[o]*i;return t}function g(t,e,n,i){for(var r=e.length,o=r&&e[0].length,a=0;a<r;a++){t[a]||(t[a]=[]);for(var s=0;s<o;s++)t[a][s]=e[a][s]+n[a][s]*i}return t}function v(t,e){for(var n=t.length,i=e.length,r=n>i?e:t,o=Math.min(n,i),a=r[o-1]||{color:[0,0,0,0],offset:0},s=o;s<Math.max(n,i);s++)r.push({offset:a.offset,color:a.color.slice()})}function y(t,e,n){var i=t,r=e;if(i.push&&r.push){var o=i.length,a=r.length;if(o!==a)if(o>a)i.length=a;else for(var s=o;s<a;s++)i.push(1===n?r[s]:p.call(r[s]));var l=i[0]&&i[0].length;for(s=0;s<i.length;s++)if(1===n)isNaN(i[s])&&(i[s]=r[s]);else for(var c=0;c<l;c++)isNaN(i[s][c])&&(i[s][c]=r[s][c])}}function _(t){if((0,o.zG)(t)){var e=t.length;if((0,o.zG)(t[0])){for(var n=[],i=0;i<e;i++)n.push(p.call(t[i]));return n}return p.call(t)}return t}function x(t){return t[0]=Math.floor(t[0])||0,t[1]=Math.floor(t[1])||0,t[2]=Math.floor(t[2])||0,t[3]=null==t[3]?1:t[3],"rgba("+t.join(",")+")"}function b(t){return 4===t||5===t}function w(t){return 1===t||2===t}var S=[0,0,0,0],M=function(){function t(t){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=t}return t.prototype.isFinished=function(){return this._finished},t.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},t.prototype.needsAnimate=function(){return this.keyframes.length>=1},t.prototype.getAdditiveTrack=function(){return this._additiveTrack},t.prototype.addKeyframe=function(t,e,n){this._needsSort=!0;var i=this.keyframes,a=i.length,s=!1,c=6,h=e;if((0,o.zG)(e)){var p=function(t){return(0,o.zG)(t&&t[0])?2:1}(e);c=p,(1===p&&!(0,o.hj)(e[0])||2===p&&!(0,o.hj)(e[0][0]))&&(s=!0)}else if((0,o.hj)(e)&&!(0,o.Bu)(e))c=0;else if((0,o.HD)(e))if(isNaN(+e)){var d=u.Qc(e);d&&(h=d,c=3)}else c=0;else if((0,o.Qq)(e)){var f=(0,o.l7)({},h);f.colorStops=(0,o.UI)(e.colorStops,(function(t){return{offset:t.offset,color:u.Qc(t.color)}})),"linear"===e.type?c=4:"radial"===e.type&&(c=5),h=f}0===a?this.valType=c:c===this.valType&&6!==c||(s=!0),this.discrete=this.discrete||s;var m={time:t,value:h,rawValue:e,percent:0};return n&&(m.easing=n,m.easingFunc=(0,o.mf)(n)?n:r[n]||l(n)),i.push(m),m},t.prototype.prepare=function(t,e){var n=this.keyframes;this._needsSort&&n.sort((function(t,e){return t.time-e.time}));for(var i=this.valType,r=n.length,o=n[r-1],a=this.discrete,s=w(i),l=b(i),c=0;c<r;c++){var u=n[c],h=u.value,p=o.value;u.percent=u.time/t,a||(s&&c!==r-1?y(h,p,i):l&&v(h.colorStops,p.colorStops))}if(!a&&5!==i&&e&&this.needsAnimate()&&e.needsAnimate()&&i===e.valType&&!e._finished){this._additiveTrack=e;var d=n[0].value;for(c=0;c<r;c++)0===i?n[c].additiveValue=n[c].value-d:3===i?n[c].additiveValue=m([],n[c].value,d,-1):w(i)&&(n[c].additiveValue=1===i?m([],n[c].value,d,-1):g([],n[c].value,d,-1))}},t.prototype.step=function(t,e){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var n,i,r,a=null!=this._additiveTrack,s=a?"additiveValue":"value",l=this.valType,c=this.keyframes,u=c.length,h=this.propName,p=3===l,m=this._lastFr,g=Math.min;if(1===u)i=r=c[0];else{if(e<0)n=0;else if(e<this._lastFrP){for(n=g(m+1,u-1);n>=0&&!(c[n].percent<=e);n--);n=g(n,u-2)}else{for(n=m;n<u&&!(c[n].percent>e);n++);n=g(n-1,u-2)}r=c[n+1],i=c[n]}if(i&&r){this._lastFr=n,this._lastFrP=e;var v=r.percent-i.percent,y=0===v?1:g((e-i.percent)/v,1);r.easingFunc&&(y=r.easingFunc(y));var _=a?this._additiveValue:p?S:t[h];if(!w(l)&&!p||_||(_=this._additiveValue=[]),this.discrete)t[h]=y<1?i.rawValue:r.rawValue;else if(w(l))1===l?f(_,i[s],r[s],y):function(t,e,n,i){for(var r=e.length,o=r&&e[0].length,a=0;a<r;a++){t[a]||(t[a]=[]);for(var s=0;s<o;s++)t[a][s]=d(e[a][s],n[a][s],i)}}(_,i[s],r[s],y);else if(b(l)){var M=i[s],T=r[s],E=4===l;t[h]={type:E?"linear":"radial",x:d(M.x,T.x,y),y:d(M.y,T.y,y),colorStops:(0,o.UI)(M.colorStops,(function(t,e){var n=T.colorStops[e];return{offset:d(t.offset,n.offset,y),color:x(f([],t.color,n.color,y))}})),global:T.global},E?(t[h].x2=d(M.x2,T.x2,y),t[h].y2=d(M.y2,T.y2,y)):t[h].r=d(M.r,T.r,y)}else if(p)f(_,i[s],r[s],y),a||(t[h]=x(_));else{var A=d(i[s],r[s],y);a?this._additiveValue=A:t[h]=A}a&&this._addToTarget(t)}}},t.prototype._addToTarget=function(t){var e=this.valType,n=this.propName,i=this._additiveValue;0===e?t[n]=t[n]+i:3===e?(u.Qc(t[n],S),m(S,S,i,1),t[n]=x(S)):1===e?m(t[n],t[n],i,1):2===e&&g(t[n],t[n],i,1)},t}();const T=function(){function t(t,e,n,i){this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=t,this._loop=e,e&&i?(0,o.H)("Can' use additive animation on looped animation."):(this._additiveAnimators=i,this._allowDiscrete=n)}return t.prototype.getMaxTime=function(){return this._maxTime},t.prototype.getDelay=function(){return this._delay},t.prototype.getLoop=function(){return this._loop},t.prototype.getTarget=function(){return this._target},t.prototype.changeTarget=function(t){this._target=t},t.prototype.when=function(t,e,n){return this.whenWithKeys(t,e,(0,o.XP)(e),n)},t.prototype.whenWithKeys=function(t,e,n,i){for(var r=this._tracks,o=0;o<n.length;o++){var a=n[o],s=r[a];if(!s){s=r[a]=new M(a);var l=void 0,c=this._getAdditiveTrack(a);if(c){var u=c.keyframes,h=u[u.length-1];l=h&&h.value,3===c.valType&&l&&(l=x(l))}else l=this._target[a];if(null==l)continue;t>0&&s.addKeyframe(0,_(l),i),this._trackKeys.push(a)}s.addKeyframe(t,_(e[a]),i)}return this._maxTime=Math.max(this._maxTime,t),this},t.prototype.pause=function(){this._clip.pause(),this._paused=!0},t.prototype.resume=function(){this._clip.resume(),this._paused=!1},t.prototype.isPaused=function(){return!!this._paused},t.prototype.duration=function(t){return this._maxTime=t,this._force=!0,this},t.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var t=this._doneCbs;if(t)for(var e=t.length,n=0;n<e;n++)t[n].call(this)},t.prototype._abortedCallback=function(){this._setTracksFinished();var t=this.animation,e=this._abortedCbs;if(t&&t.removeClip(this._clip),this._clip=null,e)for(var n=0;n<e.length;n++)e[n].call(this)},t.prototype._setTracksFinished=function(){for(var t=this._tracks,e=this._trackKeys,n=0;n<e.length;n++)t[e[n]].setFinished()},t.prototype._getAdditiveTrack=function(t){var e,n=this._additiveAnimators;if(n)for(var i=0;i<n.length;i++){var r=n[i].getTrack(t);r&&(e=r)}return e},t.prototype.start=function(t){if(!(this._started>0)){this._started=1;for(var e=this,n=[],i=this._maxTime||0,r=0;r<this._trackKeys.length;r++){var o=this._trackKeys[r],a=this._tracks[o],s=this._getAdditiveTrack(o),l=a.keyframes,u=l.length;if(a.prepare(i,s),a.needsAnimate())if(!this._allowDiscrete&&a.discrete){var h=l[u-1];h&&(e._target[a.propName]=h.rawValue),a.setFinished()}else n.push(a)}if(n.length||this._force){var p=new c({life:i,loop:this._loop,delay:this._delay||0,onframe:function(t){e._started=2;var i=e._additiveAnimators;if(i){for(var r=!1,o=0;o<i.length;o++)if(i[o]._clip){r=!0;break}r||(e._additiveAnimators=null)}for(o=0;o<n.length;o++)n[o].step(e._target,t);var a=e._onframeCbs;if(a)for(o=0;o<a.length;o++)a[o](e._target,t)},ondestroy:function(){e._doneCallback()}});this._clip=p,this.animation&&this.animation.addClip(p),t&&p.setEasing(t)}else this._doneCallback();return this}},t.prototype.stop=function(t){if(this._clip){var e=this._clip;t&&e.onframe(1),this._abortedCallback()}},t.prototype.delay=function(t){return this._delay=t,this},t.prototype.during=function(t){return t&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(t)),this},t.prototype.done=function(t){return t&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(t)),this},t.prototype.aborted=function(t){return t&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(t)),this},t.prototype.getClip=function(){return this._clip},t.prototype.getTrack=function(t){return this._tracks[t]},t.prototype.getTracks=function(){var t=this;return(0,o.UI)(this._trackKeys,(function(e){return t._tracks[e]}))},t.prototype.stopTracks=function(t,e){if(!t.length||!this._clip)return!0;for(var n=this._tracks,i=this._trackKeys,r=0;r<t.length;r++){var o=n[t[r]];o&&!o.isFinished()&&(e?o.step(this._target,1):1===this._started&&o.step(this._target,0),o.setFinished())}var a=!0;for(r=0;r<i.length;r++)if(!n[i[r]].isFinished()){a=!1;break}return a&&this._abortedCallback(),a},t.prototype.saveTo=function(t,e,n){if(t){e=e||this._trackKeys;for(var i=0;i<e.length;i++){var r=e[i],o=this._tracks[r];if(o&&!o.isFinished()){var a=o.keyframes,s=a[n?0:a.length-1];s&&(t[r]=_(s.rawValue))}}}},t.prototype.__changeFinalValue=function(t,e){e=e||(0,o.XP)(t);for(var n=0;n<e.length;n++){var i=e[n],r=this._tracks[i];if(r){var a=r.keyframes;if(a.length>1){var s=a.pop();r.addKeyframe(s.time,t[i]),r.prepare(this._maxTime,r.getAdditiveTrack())}}}},t}()},2795:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=n(6387).Z.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){return setTimeout(t,16)}},8712:(t,e,n)=>{"use strict";n.d(e,{Dm:()=>L,RV:()=>C,RZ:()=>x});var i=n(7719),r=n(4014),o=n(8007),a=n(5787),s=n(6134),l=n(4535),c=n(1505),u=n(3051);function h(t){var e,n,i=t.style,r=i.lineDash&&i.lineWidth>0&&(e=i.lineDash,n=i.lineWidth,e&&"solid"!==e&&n>0?"dashed"===e?[4*n,2*n]:"dotted"===e?[n]:(0,u.hj)(e)?[e]:(0,u.kJ)(e)?e:null:null),o=i.lineDashOffset;if(r){var a=i.strokeNoScale&&t.getLineScale?t.getLineScale():1;a&&1!==a&&(r=(0,u.UI)(r,(function(t){return t/a})),o/=a)}return[r,o]}var p=n(4414),d=n(3132),f=new r.Z(!0);function m(t){var e=t.stroke;return!(null==e||"none"===e||!(t.lineWidth>0))}function g(t){return"string"==typeof t&&"none"!==t}function v(t){var e=t.fill;return null!=e&&"none"!==e}function y(t,e){if(null!=e.fillOpacity&&1!==e.fillOpacity){var n=t.globalAlpha;t.globalAlpha=e.fillOpacity*e.opacity,t.fill(),t.globalAlpha=n}else t.fill()}function _(t,e){if(null!=e.strokeOpacity&&1!==e.strokeOpacity){var n=t.globalAlpha;t.globalAlpha=e.strokeOpacity*e.opacity,t.stroke(),t.globalAlpha=n}else t.stroke()}function x(t,e,n){var i=(0,o.Gq)(e.image,e.__image,n);if((0,o.v5)(i)){var r=t.createPattern(i,e.repeat||"repeat");if("function"==typeof DOMMatrix&&r&&r.setTransform){var a=new DOMMatrix;a.translateSelf(e.x||0,e.y||0),a.rotateSelf(0,0,(e.rotation||0)*u.I3),a.scaleSelf(e.scaleX||1,e.scaleY||1),r.setTransform(a)}return r}}var b=["shadowBlur","shadowOffsetX","shadowOffsetY"],w=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function S(t,e,n,r,o){var a=!1;if(!r&&e===(n=n||{}))return!1;if(r||e.opacity!==n.opacity){E(t,o),a=!0;var s=Math.max(Math.min(e.opacity,1),0);t.globalAlpha=isNaN(s)?i.tj.opacity:s}(r||e.blend!==n.blend)&&(a||(E(t,o),a=!0),t.globalCompositeOperation=e.blend||i.tj.blend);for(var l=0;l<b.length;l++){var c=b[l];(r||e[c]!==n[c])&&(a||(E(t,o),a=!0),t[c]=t.dpr*(e[c]||0))}return(r||e.shadowColor!==n.shadowColor)&&(a||(E(t,o),a=!0),t.shadowColor=e.shadowColor||i.tj.shadowColor),a}function M(t,e,n,i,r){var o=A(e,r.inHover),a=i?null:n&&A(n,r.inHover)||{};if(o===a)return!1;var s=S(t,o,a,i,r);if((i||o.fill!==a.fill)&&(s||(E(t,r),s=!0),g(o.fill)&&(t.fillStyle=o.fill)),(i||o.stroke!==a.stroke)&&(s||(E(t,r),s=!0),g(o.stroke)&&(t.strokeStyle=o.stroke)),(i||o.opacity!==a.opacity)&&(s||(E(t,r),s=!0),t.globalAlpha=null==o.opacity?1:o.opacity),e.hasStroke()){var l=o.lineWidth/(o.strokeNoScale&&e.getLineScale?e.getLineScale():1);t.lineWidth!==l&&(s||(E(t,r),s=!0),t.lineWidth=l)}for(var c=0;c<w.length;c++){var u=w[c],h=u[0];(i||o[h]!==a[h])&&(s||(E(t,r),s=!0),t[h]=o[h]||u[1])}return s}function T(t,e){var n=e.transform,i=t.dpr||1;n?t.setTransform(i*n[0],i*n[1],i*n[2],i*n[3],i*n[4],i*n[5]):t.setTransform(i,0,0,i,0,0)}function E(t,e){e.batchFill&&t.fill(),e.batchStroke&&t.stroke(),e.batchFill="",e.batchStroke=""}function A(t,e){return e&&t.__hoverStyle||t.style}function C(t,e){L(t,e,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function L(t,e,n,i){var r=e.transform;if(!e.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1))return e.__dirty&=~p.YV,void(e.__isRendered=!1);var u=e.__clipPaths,g=n.prevElClipPaths,b=!1,w=!1;if(g&&!(0,a.cF)(u,g)||(g&&g.length&&(E(t,n),t.restore(),w=b=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),u&&u.length&&(E(t,n),t.save(),function(t,e,n){for(var i=!1,r=0;r<t.length;r++){var o=t[r];i=i||o.isZeroArea(),T(e,o),e.beginPath(),o.buildPath(e,o.shape),e.clip()}n.allClipped=i}(u,t,n),b=!0),n.prevElClipPaths=u),n.allClipped)e.__isRendered=!1;else{e.beforeBrush&&e.beforeBrush(),e.innerBeforeBrush();var C=n.prevEl;C||(w=b=!0);var I,D,P=e instanceof s.ZP&&e.autoBatch&&function(t){var e=v(t),n=m(t);return!(t.lineDash||!(+e^+n)||e&&"string"!=typeof t.fill||n&&"string"!=typeof t.stroke||t.strokePercent<1||t.strokeOpacity<1||t.fillOpacity<1)}(e.style);b||(I=r,D=C.transform,I&&D?I[0]!==D[0]||I[1]!==D[1]||I[2]!==D[2]||I[3]!==D[3]||I[4]!==D[4]||I[5]!==D[5]:I||D)?(E(t,n),T(t,e)):P||E(t,n);var R=A(e,n.inHover);e instanceof s.ZP?(1!==n.lastDrawType&&(w=!0,n.lastDrawType=1),M(t,e,C,w,n),P&&(n.batchFill||n.batchStroke)||t.beginPath(),function(t,e,n,i){var r,o=m(n),s=v(n),l=n.strokePercent,c=l<1,u=!e.path;e.silent&&!c||!u||e.createPathProxy();var d=e.path||f,g=e.__dirty;if(!i){var b=n.fill,w=n.stroke,S=s&&!!b.colorStops,M=o&&!!w.colorStops,T=s&&!!b.image,E=o&&!!w.image,A=void 0,C=void 0,L=void 0,I=void 0,D=void 0;(S||M)&&(D=e.getBoundingRect()),S&&(A=g?(0,a.ZF)(t,b,D):e.__canvasFillGradient,e.__canvasFillGradient=A),M&&(C=g?(0,a.ZF)(t,w,D):e.__canvasStrokeGradient,e.__canvasStrokeGradient=C),T&&(L=g||!e.__canvasFillPattern?x(t,b,e):e.__canvasFillPattern,e.__canvasFillPattern=L),E&&(I=g||!e.__canvasStrokePattern?x(t,w,e):e.__canvasStrokePattern,e.__canvasStrokePattern=L),S?t.fillStyle=A:T&&(L?t.fillStyle=L:s=!1),M?t.strokeStyle=C:E&&(I?t.strokeStyle=I:o=!1)}var P,R,O=e.getGlobalScale();d.setScale(O[0],O[1],e.segmentIgnoreThreshold),t.setLineDash&&n.lineDash&&(P=(r=h(e))[0],R=r[1]);var k=!0;(u||g&p.RH)&&(d.setDPR(t.dpr),c?d.setContext(null):(d.setContext(t),k=!1),d.reset(),e.buildPath(d,e.shape,i),d.toStatic(),e.pathUpdated()),k&&d.rebuildPath(t,c?l:1),P&&(t.setLineDash(P),t.lineDashOffset=R),i||(n.strokeFirst?(o&&_(t,n),s&&y(t,n)):(s&&y(t,n),o&&_(t,n))),P&&t.setLineDash([])}(t,e,R,P),P&&(n.batchFill=R.fill||"",n.batchStroke=R.stroke||"")):e instanceof c.Z?(3!==n.lastDrawType&&(w=!0,n.lastDrawType=3),M(t,e,C,w,n),function(t,e,n){var i,r=n.text;if(null!=r&&(r+=""),r){t.font=n.font||d.Uo,t.textAlign=n.textAlign,t.textBaseline=n.textBaseline;var o=void 0,a=void 0;t.setLineDash&&n.lineDash&&(o=(i=h(e))[0],a=i[1]),o&&(t.setLineDash(o),t.lineDashOffset=a),n.strokeFirst?(m(n)&&t.strokeText(r,n.x,n.y),v(n)&&t.fillText(r,n.x,n.y)):(v(n)&&t.fillText(r,n.x,n.y),m(n)&&t.strokeText(r,n.x,n.y)),o&&t.setLineDash([])}}(t,e,R)):e instanceof l.ZP?(2!==n.lastDrawType&&(w=!0,n.lastDrawType=2),function(t,e,n,i,r){S(t,A(e,r.inHover),n&&A(n,r.inHover),i,r)}(t,e,C,w,n),function(t,e,n){var i=e.__image=(0,o.Gq)(n.image,e.__image,e,e.onload);if(i&&(0,o.v5)(i)){var r=n.x||0,a=n.y||0,s=e.getWidth(),l=e.getHeight(),c=i.width/i.height;if(null==s&&null!=l?s=l*c:null==l&&null!=s?l=s/c:null==s&&null==l&&(s=i.width,l=i.height),n.sWidth&&n.sHeight){var u=n.sx||0,h=n.sy||0;t.drawImage(i,u,h,n.sWidth,n.sHeight,r,a,s,l)}else if(n.sx&&n.sy){var p=s-(u=n.sx),d=l-(h=n.sy);t.drawImage(i,u,h,p,d,r,a,s,l)}else t.drawImage(i,r,a,s,l)}}(t,e,R)):e.getTemporalDisplayables&&(4!==n.lastDrawType&&(w=!0,n.lastDrawType=4),function(t,e,n){var i=e.getDisplayables(),r=e.getTemporalDisplayables();t.save();var o,a,s={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover};for(o=e.getCursor(),a=i.length;o<a;o++)(u=i[o]).beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),L(t,u,s,o===a-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),s.prevEl=u;for(var l=0,c=r.length;l<c;l++){var u;(u=r[l]).beforeBrush&&u.beforeBrush(),u.innerBeforeBrush(),L(t,u,s,l===c-1),u.innerAfterBrush(),u.afterBrush&&u.afterBrush(),s.prevEl=u}e.clearTemporalDisplayables(),e.notClear=!0,t.restore()}(t,e,n)),P&&i&&E(t,n),e.innerAfterBrush(),e.afterBrush&&e.afterBrush(),n.prevEl=e,e.__dirty=0,e.__isRendered=!0}}},5787:(t,e,n)=>{"use strict";function i(t,e,n){for(var i="radial"===e.type?function(t,e,n){var i=n.width,r=n.height,o=Math.min(i,r),a=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;return e.global||(a=a*i+n.x,s=s*r+n.y,l*=o),t.createRadialGradient(a,s,0,a,s,l)}(t,e,n):function(t,e,n){var i=null==e.x?0:e.x,r=null==e.x2?1:e.x2,o=null==e.y?0:e.y,a=null==e.y2?0:e.y2;return e.global||(i=i*n.width+n.x,r=r*n.width+n.x,o=o*n.height+n.y,a=a*n.height+n.y),i=isNaN(i)?0:i,r=isNaN(r)?1:r,o=isNaN(o)?0:o,a=isNaN(a)?0:a,t.createLinearGradient(i,o,r,a)}(t,e,n),r=e.colorStops,o=0;o<r.length;o++)i.addColorStop(r[o].offset,r[o].color);return i}function r(t,e){if(t===e||!t&&!e)return!1;if(!t||!e||t.length!==e.length)return!0;for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!0;return!1}function o(t){return parseInt(t,10)}function a(t,e,n){var i=["width","height"][e],r=["clientWidth","clientHeight"][e],a=["paddingLeft","paddingTop"][e],s=["paddingRight","paddingBottom"][e];if(null!=n[i]&&"auto"!==n[i])return parseFloat(n[i]);var l=document.defaultView.getComputedStyle(t);return(t[r]||o(l[i])||o(t.style[i]))-(o(l[a])||0)-(o(l[s])||0)|0}n.d(e,{ZF:()=>i,ap:()=>a,cF:()=>r})},4990:(t,e,n)=>{"use strict";n.d(e,{Ak:()=>o,GD:()=>s,KL:()=>r,iv:()=>l,vU:()=>a});var i=1;n(6387).Z.hasGlobalWindow&&(i=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var r=i,o=.4,a="#333",s="#ccc",l="#eee"},423:(t,e,n)=>{"use strict";n.d(e,{Dp:()=>p,GM:()=>d,M3:()=>u,dz:()=>s,lP:()=>c,mU:()=>h,wI:()=>f});var i=n(479),r=n(2528),o=n(3132),a={};function s(t,e){e=e||o.Uo;var n=a[e];n||(n=a[e]=new r.ZP(500));var i=n.get(t);return null==i&&(i=o.qW.measureText(t,e).width,n.put(t,i)),i}function l(t,e,n,r){var o=s(t,e),a=p(e),l=u(0,o,n),c=h(0,a,r);return new i.Z(l,c,o,a)}function c(t,e,n,r){var o=((t||"")+"").split("\n");if(1===o.length)return l(o[0],e,n,r);for(var a=new i.Z(0,0,0,0),s=0;s<o.length;s++){var c=l(o[s],e,n,r);0===s?a.copy(c):a.union(c)}return a}function u(t,e,n){return"right"===n?t-=e:"center"===n&&(t-=e/2),t}function h(t,e,n){return"middle"===n?t-=e/2:"bottom"===n&&(t-=e),t}function p(t){return s("",t)}function d(t,e){return"string"==typeof t?t.lastIndexOf("%")>=0?parseFloat(t)/100*e:parseFloat(t):t}function f(t,e,n){var i=e.position||"inside",r=null!=e.distance?e.distance:5,o=n.height,a=n.width,s=o/2,l=n.x,c=n.y,u="left",h="top";if(i instanceof Array)l+=d(i[0],n.width),c+=d(i[1],n.height),u=null,h=null;else switch(i){case"left":l-=r,c+=s,u="right",h="middle";break;case"right":l+=r+a,c+=s,h="middle";break;case"top":l+=a/2,c-=r,u="center",h="bottom";break;case"bottom":l+=a/2,c+=o+r,u="center";break;case"inside":l+=a/2,c+=s,u="center",h="middle";break;case"insideLeft":l+=r,c+=s,h="middle";break;case"insideRight":l+=a-r,c+=s,u="right",h="middle";break;case"insideTop":l+=a/2,c+=r,u="center";break;case"insideBottom":l+=a/2,c+=o-r,u="center",h="bottom";break;case"insideTopLeft":l+=r,c+=r;break;case"insideTopRight":l+=a-r,c+=r,u="right";break;case"insideBottomLeft":l+=r,c+=o-r,h="bottom";break;case"insideBottomRight":l+=a-r,c+=o-r,u="right",h="bottom"}return(t=t||{}).x=l,t.y=c,t.align=u,t.verticalAlign=h,t}},3266:(t,e,n)=>{"use strict";n.d(e,{m:()=>r});var i=2*Math.PI;function r(t){return(t%=i)<0&&(t+=i),t}},479:(t,e,n)=>{"use strict";n.d(e,{Z:()=>d});var i=n(2892),r=n(1610),o=Math.min,a=Math.max,s=new r.Z,l=new r.Z,c=new r.Z,u=new r.Z,h=new r.Z,p=new r.Z;const d=function(){function t(t,e,n,i){n<0&&(t+=n,n=-n),i<0&&(e+=i,i=-i),this.x=t,this.y=e,this.width=n,this.height=i}return t.prototype.union=function(t){var e=o(t.x,this.x),n=o(t.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=a(t.x+t.width,this.x+this.width)-e:this.width=t.width,isFinite(this.y)&&isFinite(this.height)?this.height=a(t.y+t.height,this.y+this.height)-n:this.height=t.height,this.x=e,this.y=n},t.prototype.applyTransform=function(e){t.applyTransform(this,this,e)},t.prototype.calculateTransform=function(t){var e=this,n=t.width/e.width,r=t.height/e.height,o=i.Ue();return i.Iu(o,o,[-e.x,-e.y]),i.bA(o,o,[n,r]),i.Iu(o,o,[t.x,t.y]),o},t.prototype.intersect=function(e,n){if(!e)return!1;e instanceof t||(e=t.create(e));var i=this,o=i.x,a=i.x+i.width,s=i.y,l=i.y+i.height,c=e.x,u=e.x+e.width,d=e.y,f=e.y+e.height,m=!(a<c||u<o||l<d||f<s);if(n){var g=1/0,v=0,y=Math.abs(a-c),_=Math.abs(u-o),x=Math.abs(l-d),b=Math.abs(f-s),w=Math.min(y,_),S=Math.min(x,b);a<c||u<o?w>v&&(v=w,y<_?r.Z.set(p,-y,0):r.Z.set(p,_,0)):w<g&&(g=w,y<_?r.Z.set(h,y,0):r.Z.set(h,-_,0)),l<d||f<s?S>v&&(v=S,x<b?r.Z.set(p,0,-x):r.Z.set(p,0,b)):w<g&&(g=w,x<b?r.Z.set(h,0,x):r.Z.set(h,0,-b))}return n&&r.Z.copy(n,m?h:p),m},t.prototype.contain=function(t,e){var n=this;return t>=n.x&&t<=n.x+n.width&&e>=n.y&&e<=n.y+n.height},t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(e){t.copy(this,e)},t.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},t.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},t.prototype.isZero=function(){return 0===this.width||0===this.height},t.create=function(e){return new t(e.x,e.y,e.width,e.height)},t.copy=function(t,e){t.x=e.x,t.y=e.y,t.width=e.width,t.height=e.height},t.applyTransform=function(e,n,i){if(i){if(i[1]<1e-5&&i[1]>-1e-5&&i[2]<1e-5&&i[2]>-1e-5){var r=i[0],h=i[3],p=i[4],d=i[5];return e.x=n.x*r+p,e.y=n.y*h+d,e.width=n.width*r,e.height=n.height*h,e.width<0&&(e.x+=e.width,e.width=-e.width),void(e.height<0&&(e.y+=e.height,e.height=-e.height))}s.x=c.x=n.x,s.y=u.y=n.y,l.x=u.x=n.x+n.width,l.y=c.y=n.y+n.height,s.transform(i),u.transform(i),l.transform(i),c.transform(i),e.x=o(s.x,l.x,c.x,u.x),e.y=o(s.y,l.y,c.y,u.y);var f=a(s.x,l.x,c.x,u.x),m=a(s.y,l.y,c.y,u.y);e.width=f-e.x,e.height=m-e.y}else e!==n&&t.copy(e,n)},t}()},3510:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(){function t(t){t&&(this._$eventProcessor=t)}return t.prototype.on=function(t,e,n,i){this._$handlers||(this._$handlers={});var r=this._$handlers;if("function"==typeof e&&(i=n,n=e,e=null),!n||!t)return this;var o=this._$eventProcessor;null!=e&&o&&o.normalizeQuery&&(e=o.normalizeQuery(e)),r[t]||(r[t]=[]);for(var a=0;a<r[t].length;a++)if(r[t][a].h===n)return this;var s={h:n,query:e,ctx:i||this,callAtLast:n.zrEventfulCallAtLast},l=r[t].length-1,c=r[t][l];return c&&c.callAtLast?r[t].splice(l,0,s):r[t].push(s),this},t.prototype.isSilent=function(t){var e=this._$handlers;return!e||!e[t]||!e[t].length},t.prototype.off=function(t,e){var n=this._$handlers;if(!n)return this;if(!t)return this._$handlers={},this;if(e){if(n[t]){for(var i=[],r=0,o=n[t].length;r<o;r++)n[t][r].h!==e&&i.push(n[t][r]);n[t]=i}n[t]&&0===n[t].length&&delete n[t]}else delete n[t];return this},t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],r=this._$eventProcessor;if(i)for(var o=e.length,a=i.length,s=0;s<a;s++){var l=i[s];if(!r||!r.filter||null==l.query||r.filter(t,l.query))switch(o){case 0:l.h.call(l.ctx);break;case 1:l.h.call(l.ctx,e[0]);break;case 2:l.h.call(l.ctx,e[0],e[1]);break;default:l.h.apply(l.ctx,e)}}return r&&r.afterTrigger&&r.afterTrigger(t),this},t.prototype.triggerWithContext=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!this._$handlers)return this;var i=this._$handlers[t],r=this._$eventProcessor;if(i)for(var o=e.length,a=e[o-1],s=i.length,l=0;l<s;l++){var c=i[l];if(!r||!r.filter||null==c.query||r.filter(t,c.query))switch(o){case 0:c.h.call(a);break;case 1:c.h.call(a,e[0]);break;case 2:c.h.call(a,e[0],e[1]);break;default:c.h.apply(a,e.slice(1,o-1))}}return r&&r.afterTrigger&&r.afterTrigger(t),this},t}()},2528:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>o});var i=function(t){this.value=t},r=function(){function t(){this._len=0}return t.prototype.insert=function(t){var e=new i(t);return this.insertEntry(e),e},t.prototype.insertEntry=function(t){this.head?(this.tail.next=t,t.prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},t.prototype.remove=function(t){var e=t.prev,n=t.next;e?e.next=n:this.head=n,n?n.prev=e:this.tail=e,t.next=t.prev=null,this._len--},t.prototype.len=function(){return this._len},t.prototype.clear=function(){this.head=this.tail=null,this._len=0},t}();const o=function(){function t(t){this._list=new r,this._maxSize=10,this._map={},this._maxSize=t}return t.prototype.put=function(t,e){var n=this._list,r=this._map,o=null;if(null==r[t]){var a=n.len(),s=this._lastRemovedEntry;if(a>=this._maxSize&&a>0){var l=n.head;n.remove(l),delete r[l.key],o=l.value,this._lastRemovedEntry=l}s?s.value=e:s=new i(e),s.key=t,n.insertEntry(s),r[t]=s}return o},t.prototype.get=function(t){var e=this._map[t],n=this._list;if(null!=e)return e!==n.tail&&(n.remove(e),n.insertEntry(e)),e.value},t.prototype.clear=function(){this._list.clear(),this._map={}},t.prototype.len=function(){return this._list.len()},t}()},1587:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var i=n(1610),r=[0,0],o=[0,0],a=new i.Z,s=new i.Z;const l=function(){function t(t,e){this._corners=[],this._axes=[],this._origin=[0,0];for(var n=0;n<4;n++)this._corners[n]=new i.Z;for(n=0;n<2;n++)this._axes[n]=new i.Z;t&&this.fromBoundingRect(t,e)}return t.prototype.fromBoundingRect=function(t,e){var n=this._corners,r=this._axes,o=t.x,a=t.y,s=o+t.width,l=a+t.height;if(n[0].set(o,a),n[1].set(s,a),n[2].set(s,l),n[3].set(o,l),e)for(var c=0;c<4;c++)n[c].transform(e);for(i.Z.sub(r[0],n[1],n[0]),i.Z.sub(r[1],n[3],n[0]),r[0].normalize(),r[1].normalize(),c=0;c<2;c++)this._origin[c]=r[c].dot(n[0])},t.prototype.intersect=function(t,e){var n=!0,r=!e;return a.set(1/0,1/0),s.set(0,0),!this._intersectCheckOneSide(this,t,a,s,r,1)&&(n=!1,r)||!this._intersectCheckOneSide(t,this,a,s,r,-1)&&(n=!1,r)||r||i.Z.copy(e,n?a:s),n},t.prototype._intersectCheckOneSide=function(t,e,n,a,s,l){for(var c=!0,u=0;u<2;u++){var h=this._axes[u];if(this._getProjMinMaxOnAxis(u,t._corners,r),this._getProjMinMaxOnAxis(u,e._corners,o),r[1]<o[0]||r[0]>o[1]){if(c=!1,s)return c;var p=Math.abs(o[0]-r[1]),d=Math.abs(r[0]-o[1]);Math.min(p,d)>a.len()&&(p<d?i.Z.scale(a,h,-p*l):i.Z.scale(a,h,d*l))}else n&&(p=Math.abs(o[0]-r[1]),d=Math.abs(r[0]-o[1]),Math.min(p,d)<n.len()&&(p<d?i.Z.scale(n,h,p*l):i.Z.scale(n,h,-d*l)))}return c},t.prototype._getProjMinMaxOnAxis=function(t,e,n){for(var i=this._axes[t],r=this._origin,o=e[0].dot(i)+r[t],a=o,s=o,l=1;l<e.length;l++){var c=e[l].dot(i)+r[t];a=Math.min(c,a),s=Math.max(c,s)}n[0]=a,n[1]=s},t}()},4014:(t,e,n)=>{"use strict";n.d(e,{Z:()=>T});var i=n(5280),r=n(479),o=n(4990),a=n(3726),s=n(8554),l={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},c=[],u=[],h=[],p=[],d=[],f=[],m=Math.min,g=Math.max,v=Math.cos,y=Math.sin,_=Math.abs,x=Math.PI,b=2*x,w="undefined"!=typeof Float32Array,S=[];function M(t){return Math.round(t/x*1e8)/1e8%2*x}const T=function(){function t(t){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,t&&(this._saveData=!1),this._saveData&&(this.data=[])}var e;return t.prototype.increaseVersion=function(){this._version++},t.prototype.getVersion=function(){return this._version},t.prototype.setScale=function(t,e,n){(n=n||0)>0&&(this._ux=_(n/o.KL/t)||0,this._uy=_(n/o.KL/e)||0)},t.prototype.setDPR=function(t){this.dpr=t},t.prototype.setContext=function(t){this._ctx=t},t.prototype.getContext=function(){return this._ctx},t.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},t.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},t.prototype.moveTo=function(t,e){return this._drawPendingPt(),this.addData(l.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},t.prototype.lineTo=function(t,e){var n=_(t-this._xi),i=_(e-this._yi),r=n>this._ux||i>this._uy;if(this.addData(l.L,t,e),this._ctx&&r&&this._ctx.lineTo(t,e),r)this._xi=t,this._yi=e,this._pendingPtDist=0;else{var o=n*n+i*i;o>this._pendingPtDist&&(this._pendingPtX=t,this._pendingPtY=e,this._pendingPtDist=o)}return this},t.prototype.bezierCurveTo=function(t,e,n,i,r,o){return this._drawPendingPt(),this.addData(l.C,t,e,n,i,r,o),this._ctx&&this._ctx.bezierCurveTo(t,e,n,i,r,o),this._xi=r,this._yi=o,this},t.prototype.quadraticCurveTo=function(t,e,n,i){return this._drawPendingPt(),this.addData(l.Q,t,e,n,i),this._ctx&&this._ctx.quadraticCurveTo(t,e,n,i),this._xi=n,this._yi=i,this},t.prototype.arc=function(t,e,n,i,r,o){this._drawPendingPt(),S[0]=i,S[1]=r,function(t,e){var n=M(t[0]);n<0&&(n+=b);var i=n-t[0],r=t[1];r+=i,!e&&r-n>=b?r=n+b:e&&n-r>=b?r=n-b:!e&&n>r?r=n+(b-M(n-r)):e&&n<r&&(r=n-(b-M(r-n))),t[0]=n,t[1]=r}(S,o),i=S[0];var a=(r=S[1])-i;return this.addData(l.A,t,e,n,n,i,a,0,o?0:1),this._ctx&&this._ctx.arc(t,e,n,i,r,o),this._xi=v(r)*n+t,this._yi=y(r)*n+e,this},t.prototype.arcTo=function(t,e,n,i,r){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(t,e,n,i,r),this},t.prototype.rect=function(t,e,n,i){return this._drawPendingPt(),this._ctx&&this._ctx.rect(t,e,n,i),this.addData(l.R,t,e,n,i),this},t.prototype.closePath=function(){this._drawPendingPt(),this.addData(l.Z);var t=this._ctx,e=this._x0,n=this._y0;return t&&t.closePath(),this._xi=e,this._yi=n,this},t.prototype.fill=function(t){t&&t.fill(),this.toStatic()},t.prototype.stroke=function(t){t&&t.stroke(),this.toStatic()},t.prototype.len=function(){return this._len},t.prototype.setData=function(t){var e=t.length;this.data&&this.data.length===e||!w||(this.data=new Float32Array(e));for(var n=0;n<e;n++)this.data[n]=t[n];this._len=e},t.prototype.appendPath=function(t){t instanceof Array||(t=[t]);for(var e=t.length,n=0,i=this._len,r=0;r<e;r++)n+=t[r].len();for(w&&this.data instanceof Float32Array&&(this.data=new Float32Array(i+n)),r=0;r<e;r++)for(var o=t[r].data,a=0;a<o.length;a++)this.data[i++]=o[a];this._len=i},t.prototype.addData=function(t,e,n,i,r,o,a,s,l){if(this._saveData){var c=this.data;this._len+arguments.length>c.length&&(this._expandData(),c=this.data);for(var u=0;u<arguments.length;u++)c[this._len++]=arguments[u]}},t.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},t.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},t.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var t=this.data;t instanceof Array&&(t.length=this._len,w&&this._len>11&&(this.data=new Float32Array(t)))}},t.prototype.getBoundingRect=function(){h[0]=h[1]=d[0]=d[1]=Number.MAX_VALUE,p[0]=p[1]=f[0]=f[1]=-Number.MAX_VALUE;var t,e=this.data,n=0,o=0,s=0,c=0;for(t=0;t<this._len;){var u=e[t++],m=1===t;switch(m&&(s=n=e[t],c=o=e[t+1]),u){case l.M:n=s=e[t++],o=c=e[t++],d[0]=s,d[1]=c,f[0]=s,f[1]=c;break;case l.L:(0,a.u4)(n,o,e[t],e[t+1],d,f),n=e[t++],o=e[t++];break;case l.C:(0,a.H9)(n,o,e[t++],e[t++],e[t++],e[t++],e[t],e[t+1],d,f),n=e[t++],o=e[t++];break;case l.Q:(0,a.mJ)(n,o,e[t++],e[t++],e[t],e[t+1],d,f),n=e[t++],o=e[t++];break;case l.A:var g=e[t++],_=e[t++],x=e[t++],b=e[t++],w=e[t++],S=e[t++]+w;t+=1;var M=!e[t++];m&&(s=v(w)*x+g,c=y(w)*b+_),(0,a.qL)(g,_,x,b,w,S,M,d,f),n=v(S)*x+g,o=y(S)*b+_;break;case l.R:s=n=e[t++],c=o=e[t++];var T=e[t++],E=e[t++];(0,a.u4)(s,c,s+T,c+E,d,f);break;case l.Z:n=s,o=c}i.VV(h,h,d),i.Fp(p,p,f)}return 0===t&&(h[0]=h[1]=p[0]=p[1]=0),new r.Z(h[0],h[1],p[0]-h[0],p[1]-h[1])},t.prototype._calculateLength=function(){var t=this.data,e=this._len,n=this._ux,i=this._uy,r=0,o=0,a=0,c=0;this._pathSegLen||(this._pathSegLen=[]);for(var u=this._pathSegLen,h=0,p=0,d=0;d<e;){var f=t[d++],x=1===d;x&&(a=r=t[d],c=o=t[d+1]);var w=-1;switch(f){case l.M:r=a=t[d++],o=c=t[d++];break;case l.L:var S=t[d++],M=(A=t[d++])-o;(_(z=S-r)>n||_(M)>i||d===e-1)&&(w=Math.sqrt(z*z+M*M),r=S,o=A);break;case l.C:var T=t[d++],E=t[d++],A=(S=t[d++],t[d++]),C=t[d++],L=t[d++];w=(0,s.Ci)(r,o,T,E,S,A,C,L,10),r=C,o=L;break;case l.Q:T=t[d++],E=t[d++],S=t[d++],A=t[d++],w=(0,s.wQ)(r,o,T,E,S,A,10),r=S,o=A;break;case l.A:var I=t[d++],D=t[d++],P=t[d++],R=t[d++],O=t[d++],k=t[d++],N=k+O;d+=1,t[d++],x&&(a=v(O)*P+I,c=y(O)*R+D),w=g(P,R)*m(b,Math.abs(k)),r=v(N)*P+I,o=y(N)*R+D;break;case l.R:a=r=t[d++],c=o=t[d++],w=2*t[d++]+2*t[d++];break;case l.Z:var z=a-r;M=c-o,w=Math.sqrt(z*z+M*M),r=a,o=c}w>=0&&(u[p++]=w,h+=w)}return this._pathLen=h,h},t.prototype.rebuildPath=function(t,e){var n,i,r,o,a,h,p,d,f,x,b=this.data,w=this._ux,S=this._uy,M=this._len,T=e<1,E=0,A=0,C=0;if(!T||(this._pathSegLen||this._calculateLength(),p=this._pathSegLen,d=e*this._pathLen))t:for(var L=0;L<M;){var I=b[L++],D=1===L;switch(D&&(n=r=b[L],i=o=b[L+1]),I!==l.L&&C>0&&(t.lineTo(f,x),C=0),I){case l.M:n=r=b[L++],i=o=b[L++],t.moveTo(r,o);break;case l.L:a=b[L++],h=b[L++];var P=_(a-r),R=_(h-o);if(P>w||R>S){if(T){if(E+(it=p[A++])>d){var O=(d-E)/it;t.lineTo(r*(1-O)+a*O,o*(1-O)+h*O);break t}E+=it}t.lineTo(a,h),r=a,o=h,C=0}else{var k=P*P+R*R;k>C&&(f=a,x=h,C=k)}break;case l.C:var N=b[L++],z=b[L++],B=b[L++],F=b[L++],U=b[L++],H=b[L++];if(T){if(E+(it=p[A++])>d){O=(d-E)/it,(0,s.Vz)(r,N,B,U,O,c),(0,s.Vz)(o,z,F,H,O,u),t.bezierCurveTo(c[1],u[1],c[2],u[2],c[3],u[3]);break t}E+=it}t.bezierCurveTo(N,z,B,F,U,H),r=U,o=H;break;case l.Q:if(N=b[L++],z=b[L++],B=b[L++],F=b[L++],T){if(E+(it=p[A++])>d){O=(d-E)/it,(0,s.Lx)(r,N,B,O,c),(0,s.Lx)(o,z,F,O,u),t.quadraticCurveTo(c[1],u[1],c[2],u[2]);break t}E+=it}t.quadraticCurveTo(N,z,B,F),r=B,o=F;break;case l.A:var V=b[L++],G=b[L++],j=b[L++],W=b[L++],Z=b[L++],q=b[L++],X=b[L++],Y=!b[L++],J=j>W?j:W,K=_(j-W)>.001,$=Z+q,Q=!1;if(T&&(E+(it=p[A++])>d&&($=Z+q*(d-E)/it,Q=!0),E+=it),K&&t.ellipse?t.ellipse(V,G,j,W,X,Z,$,Y):t.arc(V,G,J,Z,$,Y),Q)break t;D&&(n=v(Z)*j+V,i=y(Z)*W+G),r=v($)*j+V,o=y($)*W+G;break;case l.R:n=r=b[L],i=o=b[L+1],a=b[L++],h=b[L++];var tt=b[L++],et=b[L++];if(T){if(E+(it=p[A++])>d){var nt=d-E;t.moveTo(a,h),t.lineTo(a+m(nt,tt),h),(nt-=tt)>0&&t.lineTo(a+tt,h+m(nt,et)),(nt-=et)>0&&t.lineTo(a+g(tt-nt,0),h+et),(nt-=tt)>0&&t.lineTo(a,h+g(et-nt,0));break t}E+=it}t.rect(a,h,tt,et);break;case l.Z:if(T){var it;if(E+(it=p[A++])>d){O=(d-E)/it,t.lineTo(r*(1-O)+n*O,o*(1-O)+i*O);break t}E+=it}t.closePath(),r=n,o=i}}},t.prototype.clone=function(){var e=new t,n=this.data;return e.data=n.slice?n.slice():Array.prototype.slice.call(n),e._len=this._len,e},t.CMD=l,t.initDefaultProps=((e=t.prototype)._saveData=!0,e._ux=0,e._uy=0,e._pendingPtDist=0,void(e._version=0)),t}()},1610:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(){function t(t,e){this.x=t||0,this.y=e||0}return t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this},t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.set=function(t,e){return this.x=t,this.y=e,this},t.prototype.equal=function(t){return t.x===this.x&&t.y===this.y},t.prototype.add=function(t){return this.x+=t.x,this.y+=t.y,this},t.prototype.scale=function(t){this.x*=t,this.y*=t},t.prototype.scaleAndAdd=function(t,e){this.x+=t.x*e,this.y+=t.y*e},t.prototype.sub=function(t){return this.x-=t.x,this.y-=t.y,this},t.prototype.dot=function(t){return this.x*t.x+this.y*t.y},t.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},t.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},t.prototype.normalize=function(){var t=this.len();return this.x/=t,this.y/=t,this},t.prototype.distance=function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},t.prototype.distanceSquare=function(t){var e=this.x-t.x,n=this.y-t.y;return e*e+n*n},t.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},t.prototype.transform=function(t){if(t){var e=this.x,n=this.y;return this.x=t[0]*e+t[2]*n+t[4],this.y=t[1]*e+t[3]*n+t[5],this}},t.prototype.toArray=function(t){return t[0]=this.x,t[1]=this.y,t},t.prototype.fromArray=function(t){this.x=t[0],this.y=t[1]},t.set=function(t,e,n){t.x=e,t.y=n},t.copy=function(t,e){t.x=e.x,t.y=e.y},t.len=function(t){return Math.sqrt(t.x*t.x+t.y*t.y)},t.lenSquare=function(t){return t.x*t.x+t.y*t.y},t.dot=function(t,e){return t.x*e.x+t.y*e.y},t.add=function(t,e,n){t.x=e.x+n.x,t.y=e.y+n.y},t.sub=function(t,e,n){t.x=e.x-n.x,t.y=e.y-n.y},t.scale=function(t,e,n){t.x=e.x*n,t.y=e.y*n},t.scaleAndAdd=function(t,e,n,i){t.x=e.x+n.x*i,t.y=e.y+n.y*i},t.lerp=function(t,e,n,i){var r=1-i;t.x=r*e.x+i*n.x,t.y=r*e.y+i*n.y},t}()},7411:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>d,dN:()=>p});var i=n(2892),r=n(5280),o=i.yR;function a(t){return t>5e-5||t<-5e-5}var s=[],l=[],c=i.Ue(),u=Math.abs,h=function(){function t(){}var e;return t.prototype.getLocalTransform=function(e){return t.getLocalTransform(this,e)},t.prototype.setPosition=function(t){this.x=t[0],this.y=t[1]},t.prototype.setScale=function(t){this.scaleX=t[0],this.scaleY=t[1]},t.prototype.setSkew=function(t){this.skewX=t[0],this.skewY=t[1]},t.prototype.setOrigin=function(t){this.originX=t[0],this.originY=t[1]},t.prototype.needLocalTransform=function(){return a(this.rotation)||a(this.x)||a(this.y)||a(this.scaleX-1)||a(this.scaleY-1)||a(this.skewX)||a(this.skewY)},t.prototype.updateTransform=function(){var t=this.parent&&this.parent.transform,e=this.needLocalTransform(),n=this.transform;e||t?(n=n||i.Ue(),e?this.getLocalTransform(n):o(n),t&&(e?i.dC(n,t,n):i.JG(n,t)),this.transform=n,this._resolveGlobalScaleRatio(n)):n&&o(n)},t.prototype._resolveGlobalScaleRatio=function(t){var e=this.globalScaleRatio;if(null!=e&&1!==e){this.getGlobalScale(s);var n=s[0]<0?-1:1,r=s[1]<0?-1:1,o=((s[0]-n)*e+n)/s[0]||0,a=((s[1]-r)*e+r)/s[1]||0;t[0]*=o,t[1]*=o,t[2]*=a,t[3]*=a}this.invTransform=this.invTransform||i.Ue(),i.U_(this.invTransform,t)},t.prototype.getComputedTransform=function(){for(var t=this,e=[];t;)e.push(t),t=t.parent;for(;t=e.pop();)t.updateTransform();return this.transform},t.prototype.setLocalTransform=function(t){if(t){var e=t[0]*t[0]+t[1]*t[1],n=t[2]*t[2]+t[3]*t[3],i=Math.atan2(t[1],t[0]),r=Math.PI/2+i-Math.atan2(t[3],t[2]);n=Math.sqrt(n)*Math.cos(r),e=Math.sqrt(e),this.skewX=r,this.skewY=0,this.rotation=-i,this.x=+t[4],this.y=+t[5],this.scaleX=e,this.scaleY=n,this.originX=0,this.originY=0}},t.prototype.decomposeTransform=function(){if(this.transform){var t=this.parent,e=this.transform;t&&t.transform&&(i.dC(l,t.invTransform,e),e=l);var n=this.originX,r=this.originY;(n||r)&&(c[4]=n,c[5]=r,i.dC(l,e,c),l[4]-=n,l[5]-=r,e=l),this.setLocalTransform(e)}},t.prototype.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1]),t):(t[0]=1,t[1]=1,t)},t.prototype.transformCoordToLocal=function(t,e){var n=[t,e],i=this.invTransform;return i&&r.Ne(n,n,i),n},t.prototype.transformCoordToGlobal=function(t,e){var n=[t,e],i=this.transform;return i&&r.Ne(n,n,i),n},t.prototype.getLineScale=function(){var t=this.transform;return t&&u(t[0]-1)>1e-10&&u(t[3]-1)>1e-10?Math.sqrt(u(t[0]*t[3]-t[2]*t[1])):1},t.prototype.copyTransform=function(t){!function(t,e){for(var n=0;n<p.length;n++){var i=p[n];t[i]=e[i]}}(this,t)},t.getLocalTransform=function(t,e){e=e||[];var n=t.originX||0,r=t.originY||0,o=t.scaleX,a=t.scaleY,s=t.anchorX,l=t.anchorY,c=t.rotation||0,u=t.x,h=t.y,p=t.skewX?Math.tan(t.skewX):0,d=t.skewY?Math.tan(-t.skewY):0;if(n||r||s||l){var f=n+s,m=r+l;e[4]=-f*o-p*m*a,e[5]=-m*a-d*f*o}else e[4]=e[5]=0;return e[0]=o,e[3]=a,e[1]=d*o,e[2]=p*a,c&&i.U1(e,e,c),e[4]+=n+u,e[5]+=r+h,e},t.initDefaultProps=((e=t.prototype).scaleX=e.scaleY=e.globalScaleRatio=1,void(e.x=e.y=e.originX=e.originY=e.skewX=e.skewY=e.rotation=e.anchorX=e.anchorY=0)),t}(),p=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];const d=h},3726:(t,e,n)=>{"use strict";n.d(e,{H9:()=>v,mJ:()=>y,qL:()=>_,u4:()=>f,zk:()=>d});var i=n(5280),r=n(8554),o=Math.min,a=Math.max,s=Math.sin,l=Math.cos,c=2*Math.PI,u=i.Ue(),h=i.Ue(),p=i.Ue();function d(t,e,n){if(0!==t.length){for(var i=t[0],r=i[0],s=i[0],l=i[1],c=i[1],u=1;u<t.length;u++)i=t[u],r=o(r,i[0]),s=a(s,i[0]),l=o(l,i[1]),c=a(c,i[1]);e[0]=r,e[1]=l,n[0]=s,n[1]=c}}function f(t,e,n,i,r,s){r[0]=o(t,n),r[1]=o(e,i),s[0]=a(t,n),s[1]=a(e,i)}var m=[],g=[];function v(t,e,n,i,s,l,c,u,h,p){var d=r.pP,f=r.af,v=d(t,n,s,c,m);h[0]=1/0,h[1]=1/0,p[0]=-1/0,p[1]=-1/0;for(var y=0;y<v;y++){var _=f(t,n,s,c,m[y]);h[0]=o(_,h[0]),p[0]=a(_,p[0])}for(v=d(e,i,l,u,g),y=0;y<v;y++){var x=f(e,i,l,u,g[y]);h[1]=o(x,h[1]),p[1]=a(x,p[1])}h[0]=o(t,h[0]),p[0]=a(t,p[0]),h[0]=o(c,h[0]),p[0]=a(c,p[0]),h[1]=o(e,h[1]),p[1]=a(e,p[1]),h[1]=o(u,h[1]),p[1]=a(u,p[1])}function y(t,e,n,i,s,l,c,u){var h=r.QC,p=r.Zm,d=a(o(h(t,n,s),1),0),f=a(o(h(e,i,l),1),0),m=p(t,n,s,d),g=p(e,i,l,f);c[0]=o(t,s,m),c[1]=o(e,l,g),u[0]=a(t,s,m),u[1]=a(e,l,g)}function _(t,e,n,r,o,a,d,f,m){var g=i.VV,v=i.Fp,y=Math.abs(o-a);if(y%c<1e-4&&y>1e-4)return f[0]=t-n,f[1]=e-r,m[0]=t+n,void(m[1]=e+r);if(u[0]=l(o)*n+t,u[1]=s(o)*r+e,h[0]=l(a)*n+t,h[1]=s(a)*r+e,g(f,u,h),v(m,u,h),(o%=c)<0&&(o+=c),(a%=c)<0&&(a+=c),o>a&&!d?a+=c:o<a&&d&&(o+=c),d){var _=a;a=o,o=_}for(var x=0;x<a;x+=Math.PI/2)x>o&&(p[0]=l(x)*n+t,p[1]=s(x)*r+e,g(f,p,f),v(m,p,m))}},8554:(t,e,n)=>{"use strict";n.d(e,{AZ:()=>w,Ci:()=>x,Jz:()=>S,Lx:()=>T,QC:()=>M,Vz:()=>y,Wr:()=>E,X_:()=>m,Zm:()=>b,af:()=>f,kD:()=>g,pP:()=>v,t1:()=>_,wQ:()=>A});var i=n(5280),r=Math.pow,o=Math.sqrt,a=1e-4,s=o(3),l=1/3,c=(0,i.Ue)(),u=(0,i.Ue)(),h=(0,i.Ue)();function p(t){return t>-1e-8&&t<1e-8}function d(t){return t>1e-8||t<-1e-8}function f(t,e,n,i,r){var o=1-r;return o*o*(o*t+3*r*e)+r*r*(r*i+3*o*n)}function m(t,e,n,i,r){var o=1-r;return 3*(((e-t)*o+2*(n-e)*r)*o+(i-n)*r*r)}function g(t,e,n,i,a,c){var u=i+3*(e-n)-t,h=3*(n-2*e+t),d=3*(e-t),f=t-a,m=h*h-3*u*d,g=h*d-9*u*f,v=d*d-3*h*f,y=0;if(p(m)&&p(g))p(h)?c[0]=0:(L=-d/h)>=0&&L<=1&&(c[y++]=L);else{var _=g*g-4*m*v;if(p(_)){var x=g/m,b=-x/2;(L=-h/u+x)>=0&&L<=1&&(c[y++]=L),b>=0&&b<=1&&(c[y++]=b)}else if(_>0){var w=o(_),S=m*h+1.5*u*(-g+w),M=m*h+1.5*u*(-g-w);(L=(-h-((S=S<0?-r(-S,l):r(S,l))+(M=M<0?-r(-M,l):r(M,l))))/(3*u))>=0&&L<=1&&(c[y++]=L)}else{var T=(2*m*h-3*u*g)/(2*o(m*m*m)),E=Math.acos(T)/3,A=o(m),C=Math.cos(E),L=(-h-2*A*C)/(3*u),I=(b=(-h+A*(C+s*Math.sin(E)))/(3*u),(-h+A*(C-s*Math.sin(E)))/(3*u));L>=0&&L<=1&&(c[y++]=L),b>=0&&b<=1&&(c[y++]=b),I>=0&&I<=1&&(c[y++]=I)}}return y}function v(t,e,n,i,r){var a=6*n-12*e+6*t,s=9*e+3*i-3*t-9*n,l=3*e-3*t,c=0;if(p(s))d(a)&&(h=-l/a)>=0&&h<=1&&(r[c++]=h);else{var u=a*a-4*s*l;if(p(u))r[0]=-a/(2*s);else if(u>0){var h,f=o(u),m=(-a-f)/(2*s);(h=(-a+f)/(2*s))>=0&&h<=1&&(r[c++]=h),m>=0&&m<=1&&(r[c++]=m)}}return c}function y(t,e,n,i,r,o){var a=(e-t)*r+t,s=(n-e)*r+e,l=(i-n)*r+n,c=(s-a)*r+a,u=(l-s)*r+s,h=(u-c)*r+c;o[0]=t,o[1]=a,o[2]=c,o[3]=h,o[4]=h,o[5]=u,o[6]=l,o[7]=i}function _(t,e,n,r,s,l,p,d,m,g,v){var y,_,x,b,w,S=.005,M=1/0;c[0]=m,c[1]=g;for(var T=0;T<1;T+=.05)u[0]=f(t,n,s,p,T),u[1]=f(e,r,l,d,T),(b=(0,i.WU)(c,u))<M&&(y=T,M=b);M=1/0;for(var E=0;E<32&&!(S<a);E++)_=y-S,x=y+S,u[0]=f(t,n,s,p,_),u[1]=f(e,r,l,d,_),b=(0,i.WU)(u,c),_>=0&&b<M?(y=_,M=b):(h[0]=f(t,n,s,p,x),h[1]=f(e,r,l,d,x),w=(0,i.WU)(h,c),x<=1&&w<M?(y=x,M=w):S*=.5);return v&&(v[0]=f(t,n,s,p,y),v[1]=f(e,r,l,d,y)),o(M)}function x(t,e,n,i,r,o,a,s,l){for(var c=t,u=e,h=0,p=1/l,d=1;d<=l;d++){var m=d*p,g=f(t,n,r,a,m),v=f(e,i,o,s,m),y=g-c,_=v-u;h+=Math.sqrt(y*y+_*_),c=g,u=v}return h}function b(t,e,n,i){var r=1-i;return r*(r*t+2*i*e)+i*i*n}function w(t,e,n,i){return 2*((1-i)*(e-t)+i*(n-e))}function S(t,e,n,i,r){var a=t-2*e+n,s=2*(e-t),l=t-i,c=0;if(p(a))d(s)&&(h=-l/s)>=0&&h<=1&&(r[c++]=h);else{var u=s*s-4*a*l;if(p(u))(h=-s/(2*a))>=0&&h<=1&&(r[c++]=h);else if(u>0){var h,f=o(u),m=(-s-f)/(2*a);(h=(-s+f)/(2*a))>=0&&h<=1&&(r[c++]=h),m>=0&&m<=1&&(r[c++]=m)}}return c}function M(t,e,n){var i=t+n-2*e;return 0===i?.5:(t-e)/i}function T(t,e,n,i,r){var o=(e-t)*i+t,a=(n-e)*i+e,s=(a-o)*i+o;r[0]=t,r[1]=o,r[2]=s,r[3]=s,r[4]=a,r[5]=n}function E(t,e,n,r,s,l,p,d,f){var m,g=.005,v=1/0;c[0]=p,c[1]=d;for(var y=0;y<1;y+=.05)u[0]=b(t,n,s,y),u[1]=b(e,r,l,y),(S=(0,i.WU)(c,u))<v&&(m=y,v=S);v=1/0;for(var _=0;_<32&&!(g<a);_++){var x=m-g,w=m+g;u[0]=b(t,n,s,x),u[1]=b(e,r,l,x);var S=(0,i.WU)(u,c);if(x>=0&&S<v)m=x,v=S;else{h[0]=b(t,n,s,w),h[1]=b(e,r,l,w);var M=(0,i.WU)(h,c);w<=1&&M<v?(m=w,v=M):g*=.5}}return f&&(f[0]=b(t,n,s,m),f[1]=b(e,r,l,m)),o(v)}function A(t,e,n,i,r,o,a){for(var s=t,l=e,c=0,u=1/a,h=1;h<=a;h++){var p=h*u,d=b(t,n,r,p),f=b(e,i,o,p),m=d-s,g=f-l;c+=Math.sqrt(m*m+g*g),s=d,l=f}return c}},4058:(t,e,n)=>{"use strict";n.d(e,{UK:()=>u,A4:()=>c,YB:()=>l});var i=n(6387),r=Math.log(2);function o(t,e,n,i,a,s){var l=i+"-"+a,c=t.length;if(s.hasOwnProperty(l))return s[l];if(1===e){var u=Math.round(Math.log((1<<c)-1&~a)/r);return t[n][u]}for(var h=i|1<<n,p=n+1;i&1<<p;)p++;for(var d=0,f=0,m=0;f<c;f++){var g=1<<f;g&a||(d+=(m%2?-1:1)*t[n][f]*o(t,e-1,p,h,a|g,s),m++)}return s[l]=d,d}function a(t,e){var n=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],i={},r=o(n,8,0,0,0,i);if(0!==r){for(var a=[],s=0;s<8;s++)for(var l=0;l<8;l++)null==a[l]&&(a[l]=0),a[l]+=((s+l)%2?-1:1)*o(n,7,0===s?1:0,1<<s,1<<l,i)/r*e[s];return function(t,e,n){var i=e*a[6]+n*a[7]+1;t[0]=(e*a[0]+n*a[1]+a[2])/i,t[1]=(e*a[3]+n*a[4]+a[5])/i}}}var s=[];function l(t,e,n,i,r){return c(s,e,i,r,!0)&&c(t,n,s[0],s[1])}function c(t,e,n,r,o){if(e.getBoundingClientRect&&i.Z.domSupported&&!u(e)){var s=e.___zrEVENTSAVED||(e.___zrEVENTSAVED={}),l=function(t,e){var n=e.markers;if(n)return n;n=e.markers=[];for(var i=["left","right"],r=["top","bottom"],o=0;o<4;o++){var a=document.createElement("div"),s=o%2,l=(o>>1)%2;a.style.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",i[s]+":0",r[l]+":0",i[1-s]+":auto",r[1-l]+":auto",""].join("!important;"),t.appendChild(a),n.push(a)}return n}(e,s),c=function(t,e,n){for(var i=n?"invTrans":"trans",r=e[i],o=e.srcCoords,s=[],l=[],c=!0,u=0;u<4;u++){var h=t[u].getBoundingClientRect(),p=2*u,d=h.left,f=h.top;s.push(d,f),c=c&&o&&d===o[p]&&f===o[p+1],l.push(t[u].offsetLeft,t[u].offsetTop)}return c&&r?r:(e.srcCoords=s,e[i]=n?a(l,s):a(s,l))}(l,s,o);if(c)return c(t,n,r),!0}return!1}function u(t){return"CANVAS"===t.nodeName.toUpperCase()}},6387:(t,e,n)=>{"use strict";n.d(e,{Z:()=>o});var i=function(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1},r=new function(){this.browser=new i,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow="undefined"!=typeof window};"object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?(r.wxa=!0,r.touchEventsSupported=!0):"undefined"==typeof document&&"undefined"!=typeof self?r.worker=!0:"undefined"==typeof navigator?(r.node=!0,r.svgSupported=!0):function(t,e){var n=e.browser,i=t.match(/Firefox\/([\d.]+)/),r=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),o=t.match(/Edge?\/([\d.]+)/),a=/micromessenger/i.test(t);i&&(n.firefox=!0,n.version=i[1]),r&&(n.ie=!0,n.version=r[1]),o&&(n.edge=!0,n.version=o[1],n.newEdge=+o[1].split(".")[0]>18),a&&(n.weChat=!0),e.svgSupported="undefined"!=typeof SVGRect,e.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,e.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),e.domSupported="undefined"!=typeof document;var s=document.documentElement.style;e.transform3dSupported=(n.ie&&"transition"in s||n.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in s)&&!("OTransition"in s),e.transformSupported=e.transform3dSupported||n.ie&&+n.version>=9}(navigator.userAgent,r);const o=r},1158:(t,e,n)=>{"use strict";n.d(e,{OD:()=>h,Oo:()=>p,eV:()=>l,iP:()=>u,sT:()=>f,xg:()=>d});var i=n(6387),r=n(4058),o=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,a=[],s=i.Z.browser.firefox&&+i.Z.browser.version.split(".")[0]<39;function l(t,e,n,i){return n=n||{},i?c(t,e,n):s&&null!=e.layerX&&e.layerX!==e.offsetX?(n.zrX=e.layerX,n.zrY=e.layerY):null!=e.offsetX?(n.zrX=e.offsetX,n.zrY=e.offsetY):c(t,e,n),n}function c(t,e,n){if(i.Z.domSupported&&t.getBoundingClientRect){var o=e.clientX,s=e.clientY;if((0,r.UK)(t)){var l=t.getBoundingClientRect();return n.zrX=o-l.left,void(n.zrY=s-l.top)}if((0,r.A4)(a,t,o,s))return n.zrX=a[0],void(n.zrY=a[1])}n.zrX=n.zrY=0}function u(t){return t||window.event}function h(t,e,n){if(null!=(e=u(e)).zrX)return e;var i=e.type;if(i&&i.indexOf("touch")>=0){var r="touchend"!==i?e.targetTouches[0]:e.changedTouches[0];r&&l(t,r,e,n)}else{l(t,e,e,n);var a=function(t){var e=t.wheelDelta;if(e)return e;var n=t.deltaX,i=t.deltaY;return null==n||null==i?e:3*(0!==i?Math.abs(i):Math.abs(n))*(i>0?-1:i<0?1:n>0?-1:1)}(e);e.zrDelta=a?a/120:-(e.detail||0)/3}var s=e.button;return null==e.which&&void 0!==s&&o.test(e.type)&&(e.which=1&s?1:2&s?3:4&s?2:0),e}function p(t,e,n,i){t.addEventListener(e,n,i)}function d(t,e,n,i){t.removeEventListener(e,n,i)}var f=function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}},2892:(t,e,n)=>{"use strict";function i(){return[1,0,0,1,0,0]}function r(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function o(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function a(t,e,n){var i=e[0]*n[0]+e[2]*n[1],r=e[1]*n[0]+e[3]*n[1],o=e[0]*n[2]+e[2]*n[3],a=e[1]*n[2]+e[3]*n[3],s=e[0]*n[4]+e[2]*n[5]+e[4],l=e[1]*n[4]+e[3]*n[5]+e[5];return t[0]=i,t[1]=r,t[2]=o,t[3]=a,t[4]=s,t[5]=l,t}function s(t,e,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+n[0],t[5]=e[5]+n[1],t}function l(t,e,n){var i=e[0],r=e[2],o=e[4],a=e[1],s=e[3],l=e[5],c=Math.sin(n),u=Math.cos(n);return t[0]=i*u+a*c,t[1]=-i*c+a*u,t[2]=r*u+s*c,t[3]=-r*c+u*s,t[4]=u*o+c*l,t[5]=u*l-c*o,t}function c(t,e,n){var i=n[0],r=n[1];return t[0]=e[0]*i,t[1]=e[1]*r,t[2]=e[2]*i,t[3]=e[3]*r,t[4]=e[4]*i,t[5]=e[5]*r,t}function u(t,e){var n=e[0],i=e[2],r=e[4],o=e[1],a=e[3],s=e[5],l=n*a-o*i;return l?(l=1/l,t[0]=a*l,t[1]=-o*l,t[2]=-i*l,t[3]=n*l,t[4]=(i*s-a*r)*l,t[5]=(o*r-n*s)*l,t):null}n.d(e,{Iu:()=>s,JG:()=>o,U1:()=>l,U_:()=>u,Ue:()=>i,bA:()=>c,dC:()=>a,yR:()=>r})},3132:(t,e,n)=>{"use strict";n.d(e,{Uo:()=>a,n5:()=>o,qW:()=>l});var i,r,o=12,a=o+"px sans-serif",s=function(t){var e={};if("undefined"==typeof JSON)return e;for(var n=0;n<t.length;n++){var i=String.fromCharCode(n+32),r=(t.charCodeAt(n)-20)/100;e[i]=r}return e}("007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N"),l={createCanvas:function(){return"undefined"!=typeof document&&document.createElement("canvas")},measureText:function(t,e){if(!i){var n=l.createCanvas();i=n&&n.getContext("2d")}if(i)return r!==e&&(r=i.font=e||a),i.measureText(t);t=t||"";var c=/^([0-9]*?)px$/.exec(e=e||a),u=+(c&&c[1])||o,h=0;if(e.indexOf("mono")>=0)h=u*t.length;else for(var p=0;p<t.length;p++){var d=s[t[p]];h+=null==d?u:d*u}return{width:h}},loadImage:function(t,e,n){var i=new Image;return i.onload=e,i.onerror=n,i.src=t,i}}},9455:(t,e,n)=>{"use strict";function i(t,e,n,i){var r=e+1;if(r===n)return 1;if(i(t[r++],t[e])<0){for(;r<n&&i(t[r],t[r-1])<0;)r++;!function(t,e,n){for(n--;e<n;){var i=t[e];t[e++]=t[n],t[n--]=i}}(t,e,r)}else for(;r<n&&i(t[r],t[r-1])>=0;)r++;return r-e}function r(t,e,n,i,r){for(i===e&&i++;i<n;i++){for(var o,a=t[i],s=e,l=i;s<l;)r(a,t[o=s+l>>>1])<0?l=o:s=o+1;var c=i-s;switch(c){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;c>0;)t[s+c]=t[s+c-1],c--}t[s]=a}}function o(t,e,n,i,r,o){var a=0,s=0,l=1;if(o(t,e[n+r])>0){for(s=i-r;l<s&&o(t,e[n+r+l])>0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}else{for(s=r+1;l<s&&o(t,e[n+r-l])<=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var c=a;a=r-l,l=r-c}for(a++;a<l;){var u=a+(l-a>>>1);o(t,e[n+u])>0?a=u+1:l=u}return l}function a(t,e,n,i,r,o){var a=0,s=0,l=1;if(o(t,e[n+r])<0){for(s=r+1;l<s&&o(t,e[n+r-l])<0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s);var c=a;a=r-l,l=r-c}else{for(s=i-r;l<s&&o(t,e[n+r+l])>=0;)a=l,(l=1+(l<<1))<=0&&(l=s);l>s&&(l=s),a+=r,l+=r}for(a++;a<l;){var u=a+(l-a>>>1);o(t,e[n+u])<0?l=u:a=u+1}return l}function s(t,e,n,s){n||(n=0),s||(s=t.length);var l=s-n;if(!(l<2)){var c=0;if(l<32)r(t,n,s,n+(c=i(t,n,s,e)),e);else{var u=function(t,e){var n,i,r=7,s=0;t.length;var l=[];function c(c){var u=n[c],h=i[c],p=n[c+1],d=i[c+1];i[c]=h+d,c===s-3&&(n[c+1]=n[c+2],i[c+1]=i[c+2]),s--;var f=a(t[p],t,u,h,0,e);u+=f,0!=(h-=f)&&0!==(d=o(t[u+h-1],t,p,d,d-1,e))&&(h<=d?function(n,i,s,c){var u=0;for(u=0;u<i;u++)l[u]=t[n+u];var h=0,p=s,d=n;if(t[d++]=t[p++],0!=--c)if(1!==i){for(var f,m,g,v=r;;){f=0,m=0,g=!1;do{if(e(t[p],l[h])<0){if(t[d++]=t[p++],m++,f=0,0==--c){g=!0;break}}else if(t[d++]=l[h++],f++,m=0,1==--i){g=!0;break}}while((f|m)<v);if(g)break;do{if(0!==(f=a(t[p],l,h,i,0,e))){for(u=0;u<f;u++)t[d+u]=l[h+u];if(d+=f,h+=f,(i-=f)<=1){g=!0;break}}if(t[d++]=t[p++],0==--c){g=!0;break}if(0!==(m=o(l[h],t,p,c,0,e))){for(u=0;u<m;u++)t[d+u]=t[p+u];if(d+=m,p+=m,0==(c-=m)){g=!0;break}}if(t[d++]=l[h++],1==--i){g=!0;break}v--}while(f>=7||m>=7);if(g)break;v<0&&(v=0),v+=2}if((r=v)<1&&(r=1),1===i){for(u=0;u<c;u++)t[d+u]=t[p+u];t[d+c]=l[h]}else{if(0===i)throw new Error;for(u=0;u<i;u++)t[d+u]=l[h+u]}}else{for(u=0;u<c;u++)t[d+u]=t[p+u];t[d+c]=l[h]}else for(u=0;u<i;u++)t[d+u]=l[h+u]}(u,h,p,d):function(n,i,s,c){var u=0;for(u=0;u<c;u++)l[u]=t[s+u];var h=n+i-1,p=c-1,d=s+c-1,f=0,m=0;if(t[d--]=t[h--],0!=--i)if(1!==c){for(var g=r;;){var v=0,y=0,_=!1;do{if(e(l[p],t[h])<0){if(t[d--]=t[h--],v++,y=0,0==--i){_=!0;break}}else if(t[d--]=l[p--],y++,v=0,1==--c){_=!0;break}}while((v|y)<g);if(_)break;do{if(0!=(v=i-a(l[p],t,n,i,i-1,e))){for(i-=v,m=1+(d-=v),f=1+(h-=v),u=v-1;u>=0;u--)t[m+u]=t[f+u];if(0===i){_=!0;break}}if(t[d--]=l[p--],1==--c){_=!0;break}if(0!=(y=c-o(t[h],l,0,c,c-1,e))){for(c-=y,m=1+(d-=y),f=1+(p-=y),u=0;u<y;u++)t[m+u]=l[f+u];if(c<=1){_=!0;break}}if(t[d--]=t[h--],0==--i){_=!0;break}g--}while(v>=7||y>=7);if(_)break;g<0&&(g=0),g+=2}if((r=g)<1&&(r=1),1===c){for(m=1+(d-=i),f=1+(h-=i),u=i-1;u>=0;u--)t[m+u]=t[f+u];t[d]=l[p]}else{if(0===c)throw new Error;for(f=d-(c-1),u=0;u<c;u++)t[f+u]=l[u]}}else{for(m=1+(d-=i),f=1+(h-=i),u=i-1;u>=0;u--)t[m+u]=t[f+u];t[d]=l[p]}else for(f=d-(c-1),u=0;u<c;u++)t[f+u]=l[u]}(u,h,p,d))}return n=[],i=[],{mergeRuns:function(){for(;s>1;){var t=s-2;if(t>=1&&i[t-1]<=i[t]+i[t+1]||t>=2&&i[t-2]<=i[t]+i[t-1])i[t-1]<i[t+1]&&t--;else if(i[t]>i[t+1])break;c(t)}},forceMergeRuns:function(){for(;s>1;){var t=s-2;t>0&&i[t-1]<i[t+1]&&t--,c(t)}},pushRun:function(t,e){n[s]=t,i[s]=e,s+=1}}}(t,e),h=function(t){for(var e=0;t>=32;)e|=1&t,t>>=1;return t+e}(l);do{if((c=i(t,n,s,e))<h){var p=l;p>h&&(p=h),r(t,n,n+p,n+c,e),c=p}u.pushRun(n,c),u.mergeRuns(),l-=c,n+=c}while(0!==l);u.forceMergeRuns()}}}n.d(e,{Z:()=>s})},3051:(t,e,n)=>{"use strict";n.d(e,{$j:()=>st,Bu:()=>Z,H:()=>v,HD:()=>N,I3:()=>ut,Jv:()=>q,Kj:()=>W,Kn:()=>F,M8:()=>g,MY:()=>K,Mh:()=>V,Qq:()=>G,R1:()=>Y,RI:()=>lt,S6:()=>E,TS:()=>_,UI:()=>A,WA:()=>R,WW:()=>ot,XP:()=>D,XW:()=>S,ZT:()=>ct,ak:()=>P,cd:()=>z,ce:()=>b,cq:()=>w,d9:()=>y,dL:()=>j,fU:()=>H,fy:()=>Q,hX:()=>L,hj:()=>B,hu:()=>$,jB:()=>M,kJ:()=>O,kW:()=>rt,l7:()=>x,mf:()=>k,nW:()=>at,pD:()=>X,s7:()=>et,sE:()=>I,tP:()=>J,u4:()=>C,zG:()=>T});var i=n(3132),r=C(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],(function(t,e){return t["[object "+e+"]"]=!0,t}),{}),o=C(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],(function(t,e){return t["[object "+e+"Array]"]=!0,t}),{}),a=Object.prototype.toString,s=Array.prototype,l=s.forEach,c=s.filter,u=s.slice,h=s.map,p=function(){}.constructor,d=p?p.prototype:null,f="__proto__",m=2311;function g(){return m++}function v(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];"undefined"!=typeof console&&console.error.apply(console,t)}function y(t){if(null==t||"object"!=typeof t)return t;var e=t,n=a.call(t);if("[object Array]"===n){if(!nt(t)){e=[];for(var i=0,s=t.length;i<s;i++)e[i]=y(t[i])}}else if(o[n]){if(!nt(t)){var l=t.constructor;if(l.from)e=l.from(t);else for(e=new l(t.length),i=0,s=t.length;i<s;i++)e[i]=t[i]}}else if(!r[n]&&!nt(t)&&!V(t))for(var c in e={},t)t.hasOwnProperty(c)&&c!==f&&(e[c]=y(t[c]));return e}function _(t,e,n){if(!F(e)||!F(t))return n?y(e):t;for(var i in e)if(e.hasOwnProperty(i)&&i!==f){var r=t[i],o=e[i];!F(o)||!F(r)||O(o)||O(r)||V(o)||V(r)||U(o)||U(r)||nt(o)||nt(r)?!n&&i in t||(t[i]=y(e[i])):_(r,o,n)}return t}function x(t,e){if(Object.assign)Object.assign(t,e);else for(var n in e)e.hasOwnProperty(n)&&n!==f&&(t[n]=e[n]);return t}function b(t,e,n){for(var i=D(e),r=0;r<i.length;r++){var o=i[r];(n?null!=e[o]:null==t[o])&&(t[o]=e[o])}return t}function w(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n}return-1}function S(t,e){var n=t.prototype;function i(){}for(var r in i.prototype=e.prototype,t.prototype=new i,n)n.hasOwnProperty(r)&&(t.prototype[r]=n[r]);t.prototype.constructor=t,t.superClass=e}function M(t,e,n){if(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,Object.getOwnPropertyNames)for(var i=Object.getOwnPropertyNames(e),r=0;r<i.length;r++){var o=i[r];"constructor"!==o&&(n?null!=e[o]:null==t[o])&&(t[o]=e[o])}else b(t,e,n)}function T(t){return!!t&&"string"!=typeof t&&"number"==typeof t.length}function E(t,e,n){if(t&&e)if(t.forEach&&t.forEach===l)t.forEach(e,n);else if(t.length===+t.length)for(var i=0,r=t.length;i<r;i++)e.call(n,t[i],i,t);else for(var o in t)t.hasOwnProperty(o)&&e.call(n,t[o],o,t)}function A(t,e,n){if(!t)return[];if(!e)return J(t);if(t.map&&t.map===h)return t.map(e,n);for(var i=[],r=0,o=t.length;r<o;r++)i.push(e.call(n,t[r],r,t));return i}function C(t,e,n,i){if(t&&e){for(var r=0,o=t.length;r<o;r++)n=e.call(i,n,t[r],r,t);return n}}function L(t,e,n){if(!t)return[];if(!e)return J(t);if(t.filter&&t.filter===c)return t.filter(e,n);for(var i=[],r=0,o=t.length;r<o;r++)e.call(n,t[r],r,t)&&i.push(t[r]);return i}function I(t,e,n){if(t&&e)for(var i=0,r=t.length;i<r;i++)if(e.call(n,t[i],i,t))return t[i]}function D(t){if(!t)return[];if(Object.keys)return Object.keys(t);var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}i.qW.createCanvas;var P=d&&k(d.bind)?d.call.bind(d.bind):function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];return function(){return t.apply(e,n.concat(u.call(arguments)))}};function R(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return function(){return t.apply(this,e.concat(u.call(arguments)))}}function O(t){return Array.isArray?Array.isArray(t):"[object Array]"===a.call(t)}function k(t){return"function"==typeof t}function N(t){return"string"==typeof t}function z(t){return"[object String]"===a.call(t)}function B(t){return"number"==typeof t}function F(t){var e=typeof t;return"function"===e||!!t&&"object"===e}function U(t){return!!r[a.call(t)]}function H(t){return!!o[a.call(t)]}function V(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function G(t){return null!=t.colorStops}function j(t){return null!=t.image}function W(t){return"[object RegExp]"===a.call(t)}function Z(t){return t!=t}function q(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,i=t.length;n<i;n++)if(null!=t[n])return t[n]}function X(t,e){return null!=t?t:e}function Y(t,e,n){return null!=t?t:null!=e?e:n}function J(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return u.apply(t,e)}function K(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function $(t,e){if(!t)throw new Error(e)}function Q(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var tt="__ec_primitive__";function et(t){t[tt]=!0}function nt(t){return t[tt]}var it=function(){function t(e){this.data={};var n=O(e);this.data={};var i=this;function r(t,e){n?i.set(t,e):i.set(e,t)}e instanceof t?e.each(r):e&&E(e,r)}return t.prototype.get=function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},t.prototype.set=function(t,e){return this.data[t]=e},t.prototype.each=function(t,e){for(var n in this.data)this.data.hasOwnProperty(n)&&t.call(e,this.data[n],n)},t.prototype.keys=function(){return D(this.data)},t.prototype.removeKey=function(t){delete this.data[t]},t}();function rt(t){return new it(t)}function ot(t,e){for(var n=new t.constructor(t.length+e.length),i=0;i<t.length;i++)n[i]=t[i];var r=t.length;for(i=0;i<e.length;i++)n[i+r]=e[i];return n}function at(t,e){var n;if(Object.create)n=Object.create(t);else{var i=function(){};i.prototype=t,n=new i}return e&&x(n,e),n}function st(t){var e=t.style;e.webkitUserSelect="none",e.userSelect="none",e.webkitTapHighlightColor="rgba(0,0,0,0)",e["-webkit-touch-callout"]="none"}function lt(t,e){return t.hasOwnProperty(e)}function ct(){}var ut=180/Math.PI},5280:(t,e,n)=>{"use strict";function i(t,e){return null==t&&(t=0),null==e&&(e=0),[t,e]}function r(t){return[t[0],t[1]]}function o(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t}function a(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t}function s(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t}function l(t,e){var n=function(t){return Math.sqrt(function(t){return t[0]*t[0]+t[1]*t[1]}(t))}(e);return 0===n?(t[0]=0,t[1]=0):(t[0]=e[0]/n,t[1]=e[1]/n),t}function c(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}n.d(e,{Fp:()=>m,Fv:()=>l,IH:()=>o,Ne:()=>d,TE:()=>c,TK:()=>u,Ue:()=>i,VV:()=>f,WU:()=>h,bA:()=>s,d9:()=>r,lu:()=>a,t7:()=>p});var u=c,h=function(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])};function p(t,e,n,i){return t[0]=e[0]+i*(n[0]-e[0]),t[1]=e[1]+i*(n[1]-e[1]),t}function d(t,e,n){var i=e[0],r=e[1];return t[0]=n[0]*i+n[2]*r+n[4],t[1]=n[1]*i+n[3]*r+n[5],t}function f(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t}function m(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t}},7719:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>g,ik:()=>u,tj:()=>c});var i=n(4311),r=n(5823),o=n(479),a=n(3051),s=n(4414),l="__zr_style_"+Math.round(10*Math.random()),c={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},u={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};c[l]=!0;var h=["z","z2","invisible"],p=["invisible"],d=function(t){function e(e){return t.call(this,e)||this}var n;return(0,i.ZT)(e,t),e.prototype._init=function(e){for(var n=(0,a.XP)(e),i=0;i<n.length;i++){var r=n[i];"style"===r?this.useStyle(e[r]):t.prototype.attrKV.call(this,r,e[r])}this.style||this.useStyle({})},e.prototype.beforeBrush=function(){},e.prototype.afterBrush=function(){},e.prototype.innerBeforeBrush=function(){},e.prototype.innerAfterBrush=function(){},e.prototype.shouldBePainted=function(t,e,n,i){var r,o,a,s=this.transform;if(this.ignore||this.invisible||0===this.style.opacity||this.culling&&(r=this,o=t,a=e,f.copy(r.getBoundingRect()),r.transform&&f.applyTransform(r.transform),m.width=o,m.height=a,!f.intersect(m))||s&&!s[0]&&!s[3])return!1;if(n&&this.__clipPaths)for(var l=0;l<this.__clipPaths.length;++l)if(this.__clipPaths[l].isZeroArea())return!1;if(i&&this.parent)for(var c=this.parent;c;){if(c.ignore)return!1;c=c.parent}return!0},e.prototype.contain=function(t,e){return this.rectContain(t,e)},e.prototype.traverse=function(t,e){t.call(e,this)},e.prototype.rectContain=function(t,e){var n=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(n[0],n[1])},e.prototype.getPaintRect=function(){var t=this._paintRect;if(!this._paintRect||this.__dirty){var e=this.transform,n=this.getBoundingRect(),i=this.style,r=i.shadowBlur||0,a=i.shadowOffsetX||0,s=i.shadowOffsetY||0;t=this._paintRect||(this._paintRect=new o.Z(0,0,0,0)),e?o.Z.applyTransform(t,n,e):t.copy(n),(r||a||s)&&(t.width+=2*r+Math.abs(a),t.height+=2*r+Math.abs(s),t.x=Math.min(t.x,t.x+a-r),t.y=Math.min(t.y,t.y+s-r));var l=this.dirtyRectTolerance;t.isZero()||(t.x=Math.floor(t.x-l),t.y=Math.floor(t.y-l),t.width=Math.ceil(t.width+1+2*l),t.height=Math.ceil(t.height+1+2*l))}return t},e.prototype.setPrevPaintRect=function(t){t?(this._prevPaintRect=this._prevPaintRect||new o.Z(0,0,0,0),this._prevPaintRect.copy(t)):this._prevPaintRect=null},e.prototype.getPrevPaintRect=function(){return this._prevPaintRect},e.prototype.animateStyle=function(t){return this.animate("style",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():this.markRedraw()},e.prototype.attrKV=function(e,n){"style"!==e?t.prototype.attrKV.call(this,e,n):this.style?this.setStyle(n):this.useStyle(n)},e.prototype.setStyle=function(t,e){return"string"==typeof t?this.style[t]=e:(0,a.l7)(this.style,t),this.dirtyStyle(),this},e.prototype.dirtyStyle=function(t){t||this.markRedraw(),this.__dirty|=s.SE,this._rect&&(this._rect=null)},e.prototype.dirty=function(){this.dirtyStyle()},e.prototype.styleChanged=function(){return!!(this.__dirty&s.SE)},e.prototype.styleUpdated=function(){this.__dirty&=~s.SE},e.prototype.createStyle=function(t){return(0,a.nW)(c,t)},e.prototype.useStyle=function(t){t[l]||(t=this.createStyle(t)),this.__inHover?this.__hoverStyle=t:this.style=t,this.dirtyStyle()},e.prototype.isStyleObject=function(t){return t[l]},e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.style&&!n.style&&(n.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(e,n,h)},e.prototype._applyStateObj=function(e,n,i,r,o,s){t.prototype._applyStateObj.call(this,e,n,i,r,o,s);var l,c=!(n&&r);if(n&&n.style?o?r?l=n.style:(l=this._mergeStyle(this.createStyle(),i.style),this._mergeStyle(l,n.style)):(l=this._mergeStyle(this.createStyle(),r?this.style:i.style),this._mergeStyle(l,n.style)):c&&(l=i.style),l)if(o){var u=this.style;if(this.style=this.createStyle(c?{}:u),c)for(var d=(0,a.XP)(u),f=0;f<d.length;f++)(g=d[f])in l&&(l[g]=l[g],this.style[g]=u[g]);var m=(0,a.XP)(l);for(f=0;f<m.length;f++){var g=m[f];this.style[g]=this.style[g]}this._transitionState(e,{style:l},s,this.getAnimationStyleProps())}else this.useStyle(l);var v=this.__inHover?p:h;for(f=0;f<v.length;f++)g=v[f],n&&null!=n[g]?this[g]=n[g]:c&&null!=i[g]&&(this[g]=i[g])},e.prototype._mergeStates=function(e){for(var n,i=t.prototype._mergeStates.call(this,e),r=0;r<e.length;r++){var o=e[r];o.style&&(n=n||{},this._mergeStyle(n,o.style))}return n&&(i.style=n),i},e.prototype._mergeStyle=function(t,e){return(0,a.l7)(t,e),t},e.prototype.getAnimationStyleProps=function(){return u},e.initDefaultProps=((n=e.prototype).type="displayable",n.invisible=!1,n.z=0,n.z2=0,n.zlevel=0,n.culling=!1,n.cursor="pointer",n.rectHover=!1,n.incremental=!1,n._rect=null,n.dirtyRectTolerance=0,void(n.__dirty=s.YV|s.SE)),e}(r.Z),f=new o.Z(0,0,0,0),m=new o.Z(0,0,0,0);const g=d},1797:(t,e,n)=>{"use strict";n.d(e,{Z:()=>i});const i=function(){function t(t){this.colorStops=t||[]}return t.prototype.addColorStop=function(t,e){this.colorStops.push({offset:t,color:e})},t}()},8154:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var i=n(4311),r=n(3051),o=n(5823),a=n(479),s=function(t){function e(e){var n=t.call(this)||this;return n.isGroup=!0,n._children=[],n.attr(e),n}return(0,i.ZT)(e,t),e.prototype.childrenRef=function(){return this._children},e.prototype.children=function(){return this._children.slice()},e.prototype.childAt=function(t){return this._children[t]},e.prototype.childOfName=function(t){for(var e=this._children,n=0;n<e.length;n++)if(e[n].name===t)return e[n]},e.prototype.childCount=function(){return this._children.length},e.prototype.add=function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},e.prototype.addBefore=function(t,e){if(t&&t!==this&&t.parent!==this&&e&&e.parent===this){var n=this._children,i=n.indexOf(e);i>=0&&(n.splice(i,0,t),this._doAdd(t))}return this},e.prototype.replace=function(t,e){var n=r.cq(this._children,t);return n>=0&&this.replaceAt(e,n),this},e.prototype.replaceAt=function(t,e){var n=this._children,i=n[e];if(t&&t!==this&&t.parent!==this&&t!==i){n[e]=t,i.parent=null;var r=this.__zr;r&&i.removeSelfFromZr(r),this._doAdd(t)}return this},e.prototype._doAdd=function(t){t.parent&&t.parent.remove(t),t.parent=this;var e=this.__zr;e&&e!==t.__zr&&t.addSelfToZr(e),e&&e.refresh()},e.prototype.remove=function(t){var e=this.__zr,n=this._children,i=r.cq(n,t);return i<0||(n.splice(i,1),t.parent=null,e&&t.removeSelfFromZr(e),e&&e.refresh()),this},e.prototype.removeAll=function(){for(var t=this._children,e=this.__zr,n=0;n<t.length;n++){var i=t[n];e&&i.removeSelfFromZr(e),i.parent=null}return t.length=0,this},e.prototype.eachChild=function(t,e){for(var n=this._children,i=0;i<n.length;i++){var r=n[i];t.call(e,r,i)}return this},e.prototype.traverse=function(t,e){for(var n=0;n<this._children.length;n++){var i=this._children[n],r=t.call(e,i);i.isGroup&&!r&&i.traverse(t,e)}return this},e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].addSelfToZr(e)},e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].removeSelfFromZr(e)},e.prototype.getBoundingRect=function(t){for(var e=new a.Z(0,0,0,0),n=t||this._children,i=[],r=null,o=0;o<n.length;o++){var s=n[o];if(!s.ignore&&!s.invisible){var l=s.getBoundingRect(),c=s.getLocalTransform(i);c?(a.Z.applyTransform(e,l,c),(r=r||e.clone()).union(e)):(r=r||l.clone()).union(l)}}return r||e},e}(o.Z);s.prototype.type="group";const l=s},4535:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>u});var i=n(4311),r=n(7719),o=n(479),a=n(3051),s=(0,a.ce)({x:0,y:0},r.tj),l={style:(0,a.ce)({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},r.ik.style)},c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype.createStyle=function(t){return(0,a.nW)(s,t)},e.prototype._getSize=function(t){var e=this.style,n=e[t];if(null!=n)return n;var i,r=(i=e.image)&&"string"!=typeof i&&i.width&&i.height?e.image:this.__image;if(!r)return 0;var o="width"===t?"height":"width",a=e[o];return null==a?r[t]:r[t]/r[o]*a},e.prototype.getWidth=function(){return this._getSize("width")},e.prototype.getHeight=function(){return this._getSize("height")},e.prototype.getAnimationStyleProps=function(){return l},e.prototype.getBoundingRect=function(){var t=this.style;return this._rect||(this._rect=new o.Z(t.x||0,t.y||0,this.getWidth(),this.getHeight())),this._rect},e}(r.ZP);c.prototype.type="image";const u=c},4438:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var i=n(4311);const r=function(t){function e(e,n,i,r,o,a){var s=t.call(this,o)||this;return s.x=null==e?0:e,s.y=null==n?0:n,s.x2=null==i?1:i,s.y2=null==r?0:r,s.type="linear",s.global=a||!1,s}return(0,i.ZT)(e,t),e}(n(1797).Z)},6134:(t,e,n)=>{"use strict";n.d(e,{$t:()=>A,ZP:()=>I});var i=n(4311),r=n(7719),o=n(4014);function a(t,e,n,i,r,o,a){if(0===r)return!1;var s,l=r;if(a>e+l&&a>i+l||a<e-l&&a<i-l||o>t+l&&o>n+l||o<t-l&&o<n-l)return!1;if(t===n)return Math.abs(o-t)<=l/2;var c=(s=(e-i)/(t-n))*o-a+(t*i-n*e)/(t-n);return c*c/(s*s+1)<=l/2*l/2}var s=n(8554);function l(t,e,n,i,r,o,a,l,c,u,h){if(0===c)return!1;var p=c;return!(h>e+p&&h>i+p&&h>o+p&&h>l+p||h<e-p&&h<i-p&&h<o-p&&h<l-p||u>t+p&&u>n+p&&u>r+p&&u>a+p||u<t-p&&u<n-p&&u<r-p&&u<a-p)&&s.t1(t,e,n,i,r,o,a,l,u,h,null)<=p/2}function c(t,e,n,i,r,o,a,l,c){if(0===a)return!1;var u=a;return!(c>e+u&&c>i+u&&c>o+u||c<e-u&&c<i-u&&c<o-u||l>t+u&&l>n+u&&l>r+u||l<t-u&&l<n-u&&l<r-u)&&(0,s.Wr)(t,e,n,i,r,o,l,c,null)<=u/2}var u=n(3266),h=2*Math.PI;function p(t,e,n,i,r,o,a,s,l){if(0===a)return!1;var c=a;s-=t,l-=e;var p=Math.sqrt(s*s+l*l);if(p-c>n||p+c<n)return!1;if(Math.abs(i-r)%h<1e-4)return!0;if(o){var d=i;i=(0,u.m)(r),r=(0,u.m)(d)}else i=(0,u.m)(i),r=(0,u.m)(r);i>r&&(r+=h);var f=Math.atan2(l,s);return f<0&&(f+=h),f>=i&&f<=r||f+h>=i&&f+h<=r}function d(t,e,n,i,r,o){if(o>e&&o>i||o<e&&o<i)return 0;if(i===e)return 0;var a=(o-e)/(i-e),s=i<e?1:-1;1!==a&&0!==a||(s=i<e?.5:-.5);var l=a*(n-t)+t;return l===r?1/0:l>r?s:0}var f=o.Z.CMD,m=2*Math.PI,g=[-1,-1,-1],v=[-1,-1];function y(t,e,n,i,r,o,a,l,c,u){if(u>e&&u>i&&u>o&&u>l||u<e&&u<i&&u<o&&u<l)return 0;var h,p=s.kD(e,i,o,l,u,g);if(0===p)return 0;for(var d=0,f=-1,m=void 0,y=void 0,_=0;_<p;_++){var x=g[_],b=0===x||1===x?.5:1;s.af(t,n,r,a,x)<c||(f<0&&(f=s.pP(e,i,o,l,v),v[1]<v[0]&&f>1&&(void 0,h=v[0],v[0]=v[1],v[1]=h),m=s.af(e,i,o,l,v[0]),f>1&&(y=s.af(e,i,o,l,v[1]))),2===f?x<v[0]?d+=m<e?b:-b:x<v[1]?d+=y<m?b:-b:d+=l<y?b:-b:x<v[0]?d+=m<e?b:-b:d+=l<m?b:-b)}return d}function _(t,e,n,i,r,o,a,l){if(l>e&&l>i&&l>o||l<e&&l<i&&l<o)return 0;var c=s.Jz(e,i,o,l,g);if(0===c)return 0;var u=s.QC(e,i,o);if(u>=0&&u<=1){for(var h=0,p=s.Zm(e,i,o,u),d=0;d<c;d++){var f=0===g[d]||1===g[d]?.5:1;s.Zm(t,n,r,g[d])<a||(g[d]<u?h+=p<e?f:-f:h+=o<p?f:-f)}return h}return f=0===g[0]||1===g[0]?.5:1,s.Zm(t,n,r,g[0])<a?0:o<e?f:-f}function x(t,e,n,i,r,o,a,s){if((s-=e)>n||s<-n)return 0;var l=Math.sqrt(n*n-s*s);g[0]=-l,g[1]=l;var c=Math.abs(i-r);if(c<1e-4)return 0;if(c>=m-1e-4){i=0,r=m;var u=o?1:-1;return a>=g[0]+t&&a<=g[1]+t?u:0}if(i>r){var h=i;i=r,r=h}i<0&&(i+=m,r+=m);for(var p=0,d=0;d<2;d++){var f=g[d];if(f+t>a){var v=Math.atan2(s,f);u=o?1:-1,v<0&&(v=m+v),(v>=i&&v<=r||v+m>=i&&v+m<=r)&&(v>Math.PI/2&&v<1.5*Math.PI&&(u=-u),p+=u)}}return p}function b(t,e,n,i,r){for(var o,s,u,h,m=t.data,g=t.len(),v=0,b=0,w=0,S=0,M=0,T=0;T<g;){var E=m[T++],A=1===T;switch(E===f.M&&T>1&&(n||(v+=d(b,w,S,M,i,r))),A&&(S=b=m[T],M=w=m[T+1]),E){case f.M:b=S=m[T++],w=M=m[T++];break;case f.L:if(n){if(a(b,w,m[T],m[T+1],e,i,r))return!0}else v+=d(b,w,m[T],m[T+1],i,r)||0;b=m[T++],w=m[T++];break;case f.C:if(n){if(l(b,w,m[T++],m[T++],m[T++],m[T++],m[T],m[T+1],e,i,r))return!0}else v+=y(b,w,m[T++],m[T++],m[T++],m[T++],m[T],m[T+1],i,r)||0;b=m[T++],w=m[T++];break;case f.Q:if(n){if(c(b,w,m[T++],m[T++],m[T],m[T+1],e,i,r))return!0}else v+=_(b,w,m[T++],m[T++],m[T],m[T+1],i,r)||0;b=m[T++],w=m[T++];break;case f.A:var C=m[T++],L=m[T++],I=m[T++],D=m[T++],P=m[T++],R=m[T++];T+=1;var O=!!(1-m[T++]);o=Math.cos(P)*I+C,s=Math.sin(P)*D+L,A?(S=o,M=s):v+=d(b,w,o,s,i,r);var k=(i-C)*D/I+C;if(n){if(p(C,L,D,P,P+R,O,e,k,r))return!0}else v+=x(C,L,D,P,P+R,O,k,r);b=Math.cos(P+R)*I+C,w=Math.sin(P+R)*D+L;break;case f.R:if(S=b=m[T++],M=w=m[T++],o=S+m[T++],s=M+m[T++],n){if(a(S,M,o,M,e,i,r)||a(o,M,o,s,e,i,r)||a(o,s,S,s,e,i,r)||a(S,s,S,M,e,i,r))return!0}else v+=d(o,M,o,s,i,r),v+=d(S,s,S,M,i,r);break;case f.Z:if(n){if(a(b,w,S,M,e,i,r))return!0}else v+=d(b,w,S,M,i,r);b=S,w=M}}return n||(u=w,h=M,Math.abs(u-h)<1e-4)||(v+=d(b,w,S,M,i,r)||0),0!==v}var w=n(3051),S=n(1092),M=n(4990),T=n(4414),E=n(7411),A=(0,w.ce)({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},r.tj),C={style:(0,w.ce)({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},r.ik.style)},L=E.dN.concat(["invisible","culling","z","z2","zlevel","parent"]);const I=function(t){function e(e){return t.call(this,e)||this}var n;return(0,i.ZT)(e,t),e.prototype.update=function(){var n=this;t.prototype.update.call(this);var i=this.style;if(i.decal){var r=this._decalEl=this._decalEl||new e;r.buildPath===e.prototype.buildPath&&(r.buildPath=function(t){n.buildPath(t,n.shape)}),r.silent=!0;var o=r.style;for(var a in i)o[a]!==i[a]&&(o[a]=i[a]);o.fill=i.fill?i.decal:null,o.decal=null,o.shadowColor=null,i.strokeFirst&&(o.stroke=null);for(var s=0;s<L.length;++s)r[L[s]]=this[L[s]];r.__dirty|=T.YV}else this._decalEl&&(this._decalEl=null)},e.prototype.getDecalElement=function(){return this._decalEl},e.prototype._init=function(e){var n=(0,w.XP)(e);this.shape=this.getDefaultShape();var i=this.getDefaultStyle();i&&this.useStyle(i);for(var r=0;r<n.length;r++){var o=n[r],a=e[o];"style"===o?this.style?(0,w.l7)(this.style,a):this.useStyle(a):"shape"===o?(0,w.l7)(this.shape,a):t.prototype.attrKV.call(this,o,a)}this.style||this.useStyle({})},e.prototype.getDefaultStyle=function(){return null},e.prototype.getDefaultShape=function(){return{}},e.prototype.canBeInsideText=function(){return this.hasFill()},e.prototype.getInsideTextFill=function(){var t=this.style.fill;if("none"!==t){if((0,w.HD)(t)){var e=(0,S.L0)(t,0);return e>.5?M.vU:e>.2?M.iv:M.GD}if(t)return M.GD}return M.vU},e.prototype.getInsideTextStroke=function(t){var e=this.style.fill;if((0,w.HD)(e)){var n=this.__zr;if(!(!n||!n.isDarkMode())==(0,S.L0)(t,0)<M.Ak)return e}},e.prototype.buildPath=function(t,e,n){},e.prototype.pathUpdated=function(){this.__dirty&=~T.RH},e.prototype.getUpdatedPathProxy=function(t){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,t),this.path},e.prototype.createPathProxy=function(){this.path=new o.Z(!1)},e.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return!(null==e||"none"===e||!(t.lineWidth>0))},e.prototype.hasFill=function(){var t=this.style.fill;return null!=t&&"none"!==t},e.prototype.getBoundingRect=function(){var t=this._rect,e=this.style,n=!t;if(n){var i=!1;this.path||(i=!0,this.createPathProxy());var r=this.path;(i||this.__dirty&T.RH)&&(r.beginPath(),this.buildPath(r,this.shape,!1),this.pathUpdated()),t=r.getBoundingRect()}if(this._rect=t,this.hasStroke()&&this.path&&this.path.len()>0){var o=this._rectStroke||(this._rectStroke=t.clone());if(this.__dirty||n){o.copy(t);var a=e.strokeNoScale?this.getLineScale():1,s=e.lineWidth;if(!this.hasFill()){var l=this.strokeContainThreshold;s=Math.max(s,null==l?4:l)}a>1e-10&&(o.width+=s/a,o.height+=s/a,o.x-=s/a/2,o.y-=s/a/2)}return o}return t},e.prototype.contain=function(t,e){var n=this.transformCoordToLocal(t,e),i=this.getBoundingRect(),r=this.style;if(t=n[0],e=n[1],i.contain(t,e)){var o=this.path;if(this.hasStroke()){var a=r.lineWidth,s=r.strokeNoScale?this.getLineScale():1;if(s>1e-10&&(this.hasFill()||(a=Math.max(a,this.strokeContainThreshold)),function(t,e,n,i){return b(t,e,!0,n,i)}(o,a/s,t,e)))return!0}if(this.hasFill())return function(t,e,n){return b(t,0,!1,e,n)}(o,t,e)}return!1},e.prototype.dirtyShape=function(){this.__dirty|=T.RH,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},e.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},e.prototype.animateShape=function(t){return this.animate("shape",t)},e.prototype.updateDuringAnimation=function(t){"style"===t?this.dirtyStyle():"shape"===t?this.dirtyShape():this.markRedraw()},e.prototype.attrKV=function(e,n){"shape"===e?this.setShape(n):t.prototype.attrKV.call(this,e,n)},e.prototype.setShape=function(t,e){var n=this.shape;return n||(n=this.shape={}),"string"==typeof t?n[t]=e:(0,w.l7)(n,t),this.dirtyShape(),this},e.prototype.shapeChanged=function(){return!!(this.__dirty&T.RH)},e.prototype.createStyle=function(t){return(0,w.nW)(A,t)},e.prototype._innerSaveToNormal=function(e){t.prototype._innerSaveToNormal.call(this,e);var n=this._normalState;e.shape&&!n.shape&&(n.shape=(0,w.l7)({},this.shape))},e.prototype._applyStateObj=function(e,n,i,r,o,a){t.prototype._applyStateObj.call(this,e,n,i,r,o,a);var s,l=!(n&&r);if(n&&n.shape?o?r?s=n.shape:(s=(0,w.l7)({},i.shape),(0,w.l7)(s,n.shape)):(s=(0,w.l7)({},r?this.shape:i.shape),(0,w.l7)(s,n.shape)):l&&(s=i.shape),s)if(o){this.shape=(0,w.l7)({},this.shape);for(var c={},u=(0,w.XP)(s),h=0;h<u.length;h++){var p=u[h];"object"==typeof s[p]?this.shape[p]=s[p]:c[p]=s[p]}this._transitionState(e,{shape:c},a)}else this.shape=s,this.dirtyShape()},e.prototype._mergeStates=function(e){for(var n,i=t.prototype._mergeStates.call(this,e),r=0;r<e.length;r++){var o=e[r];o.shape&&(n=n||{},this._mergeStyle(n,o.shape))}return n&&(i.shape=n),i},e.prototype.getAnimationStyleProps=function(){return C},e.prototype.isZeroArea=function(){return!1},e.extend=function(t){var n=function(e){function n(n){var i=e.call(this,n)||this;return t.init&&t.init.call(i,n),i}return(0,i.ZT)(n,e),n.prototype.getDefaultStyle=function(){return(0,w.d9)(t.style)},n.prototype.getDefaultShape=function(){return(0,w.d9)(t.shape)},n}(e);for(var r in t)"function"==typeof t[r]&&(n.prototype[r]=t[r]);return n},e.initDefaultProps=((n=e.prototype).type="path",n.strokeContainThreshold=5,n.segmentIgnoreThreshold=0,n.subPixelOptimize=!1,n.autoBatch=!1,void(n.__dirty=T.YV|T.SE|T.RH)),e}(r.ZP)},1505:(t,e,n)=>{"use strict";n.d(e,{Z:()=>h});var i=n(4311),r=n(7719),o=n(423),a=n(6134),s=n(3051),l=n(3132),c=(0,s.ce)({strokeFirst:!0,font:l.Uo,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},a.$t),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype.hasStroke=function(){var t=this.style,e=t.stroke;return null!=e&&"none"!==e&&t.lineWidth>0},e.prototype.hasFill=function(){var t=this.style.fill;return null!=t&&"none"!==t},e.prototype.createStyle=function(t){return(0,s.nW)(c,t)},e.prototype.setBoundingRect=function(t){this._rect=t},e.prototype.getBoundingRect=function(){var t=this.style;if(!this._rect){var e=t.text;null!=e?e+="":e="";var n=(0,o.lP)(e,t.font,t.textAlign,t.textBaseline);if(n.x+=t.x||0,n.y+=t.y||0,this.hasStroke()){var i=t.lineWidth;n.x-=i/2,n.y-=i/2,n.width+=i,n.height+=i}this._rect=n}return this._rect},e.initDefaultProps=void(e.prototype.dirtyRectTolerance=10),e}(r.ZP);u.prototype.type="tspan";const h=u},9074:(t,e,n)=>{"use strict";n.d(e,{ZP:()=>B});var i=n(4311),r=n(8007),o=n(3051),a=n(423),s=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function l(t,e,n,i,r){if(!e)return"";var o=(t+"").split("\n");r=c(e,n,i,r);for(var a=0,s=o.length;a<s;a++)o[a]=u(o[a],r);return o.join("\n")}function c(t,e,n,i){i=i||{};var r=(0,o.l7)({},i);r.font=e,n=(0,o.pD)(n,"..."),r.maxIterations=(0,o.pD)(i.maxIterations,2);var s=r.minChar=(0,o.pD)(i.minChar,0);r.cnCharWidth=(0,a.dz)("",e);var l=r.ascCharWidth=(0,a.dz)("a",e);r.placeholder=(0,o.pD)(i.placeholder,"");for(var c=t=Math.max(0,t-1),u=0;u<s&&c>=l;u++)c-=l;var h=(0,a.dz)(n,e);return h>c&&(n="",h=0),c=t-h,r.ellipsis=n,r.ellipsisWidth=h,r.contentWidth=c,r.containerWidth=t,r}function u(t,e){var n=e.containerWidth,i=e.font,r=e.contentWidth;if(!n)return"";var o=(0,a.dz)(t,i);if(o<=n)return t;for(var s=0;;s++){if(o<=r||s>=e.maxIterations){t+=e.ellipsis;break}var l=0===s?h(t,r,e.ascCharWidth,e.cnCharWidth):o>0?Math.floor(t.length*r/o):0;t=t.substr(0,l),o=(0,a.dz)(t,i)}return""===t&&(t=e.placeholder),t}function h(t,e,n,i){for(var r=0,o=0,a=t.length;o<a&&r<e;o++){var s=t.charCodeAt(o);r+=0<=s&&s<=127?n:i}return o}var p=function(){},d=function(t){this.tokens=[],t&&(this.tokens=t)},f=function(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]};function m(t,e,n,i,r){var o,s,l=""===e,c=r&&n.rich[r]||{},u=t.lines,h=c.font||n.font,f=!1;if(i){var m=c.padding,g=m?m[1]+m[3]:0;if(null!=c.width&&"auto"!==c.width){var v=(0,a.GM)(c.width,i.width)+g;u.length>0&&v+i.accumWidth>i.width&&(o=e.split("\n"),f=!0),i.accumWidth=v}else{var _=y(e,h,i.width,i.breakAll,i.accumWidth);i.accumWidth=_.accumWidth+g,s=_.linesWidths,o=_.lines}}else o=e.split("\n");for(var x=0;x<o.length;x++){var b=o[x],w=new p;if(w.styleName=r,w.text=b,w.isLineHolder=!b&&!l,"number"==typeof c.width?w.width=c.width:w.width=s?s[x]:(0,a.dz)(b,h),x||f)u.push(new d([w]));else{var S=(u[u.length-1]||(u[0]=new d)).tokens,M=S.length;1===M&&S[0].isLineHolder?S[0]=w:(b||!M||l)&&S.push(w)}}}var g=(0,o.u4)(",&?/;] ".split(""),(function(t,e){return t[e]=!0,t}),{});function v(t){return!function(t){var e=t.charCodeAt(0);return e>=33&&e<=383}(t)||!!g[t]}function y(t,e,n,i,r){for(var o=[],s=[],l="",c="",u=0,h=0,p=0;p<t.length;p++){var d=t.charAt(p);if("\n"!==d){var f=(0,a.dz)(d,e),m=!i&&!v(d);(o.length?h+f>n:r+h+f>n)?h?(l||c)&&(m?(l||(l=c,c="",h=u=0),o.push(l),s.push(h-u),c+=d,l="",h=u+=f):(c&&(l+=c,c="",u=0),o.push(l),s.push(h),l=d,h=f)):m?(o.push(c),s.push(u),c=d,u=f):(o.push(d),s.push(f)):(h+=f,m?(c+=d,u+=f):(c&&(l+=c,c="",u=0),l+=d))}else c&&(l+=c,h+=u),o.push(l),s.push(h),l="",c="",u=0,h=0}return o.length||l||(l=t,c="",u=0),c&&(l+=c),l&&(o.push(l),s.push(h)),1===o.length&&(h+=r),{accumWidth:h,lines:o,linesWidths:s}}var _=n(1505),x=n(4535),b=n(3622),w=n(479),S=n(7719),M=n(3132),T={fill:"#000"},E={style:(0,o.ce)({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},S.ik.style)},A=function(t){function e(e){var n=t.call(this)||this;return n.type="text",n._children=[],n._defaultStyle=T,n.attr(e),n}return(0,i.ZT)(e,t),e.prototype.childrenRef=function(){return this._children},e.prototype.update=function(){t.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var e=0;e<this._children.length;e++){var n=this._children[e];n.zlevel=this.zlevel,n.z=this.z,n.z2=this.z2,n.culling=this.culling,n.cursor=this.cursor,n.invisible=this.invisible}},e.prototype.updateTransform=function(){var e=this.innerTransformable;e?(e.updateTransform(),e.transform&&(this.transform=e.transform)):t.prototype.updateTransform.call(this)},e.prototype.getLocalTransform=function(e){var n=this.innerTransformable;return n?n.getLocalTransform(e):t.prototype.getLocalTransform.call(this,e)},e.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),t.prototype.getComputedTransform.call(this)},e.prototype._updateSubTexts=function(){var t;this._childCursor=0,P(t=this.style),(0,o.S6)(t.rich,P),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},e.prototype.addSelfToZr=function(e){t.prototype.addSelfToZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=e},e.prototype.removeSelfFromZr=function(e){t.prototype.removeSelfFromZr.call(this,e);for(var n=0;n<this._children.length;n++)this._children[n].__zr=null},e.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var t=new w.Z(0,0,0,0),e=this._children,n=[],i=null,r=0;r<e.length;r++){var o=e[r],a=o.getBoundingRect(),s=o.getLocalTransform(n);s?(t.copy(a),t.applyTransform(s),(i=i||t.clone()).union(t)):(i=i||a.clone()).union(a)}this._rect=i||t}return this._rect},e.prototype.setDefaultTextStyle=function(t){this._defaultStyle=t||T},e.prototype.setTextContent=function(t){},e.prototype._mergeStyle=function(t,e){if(!e)return t;var n=e.rich,i=t.rich||n&&{};return(0,o.l7)(t,e),n&&i?(this._mergeRich(i,n),t.rich=i):i&&(t.rich=i),t},e.prototype._mergeRich=function(t,e){for(var n=(0,o.XP)(e),i=0;i<n.length;i++){var r=n[i];t[r]=t[r]||{},(0,o.l7)(t[r],e[r])}},e.prototype.getAnimationStyleProps=function(){return E},e.prototype._getOrCreateChild=function(t){var e=this._children[this._childCursor];return e&&e instanceof t||(e=new t),this._children[this._childCursor++]=e,e.__zr=this.__zr,e.parent=this,e},e.prototype._updatePlainTexts=function(){var t=this.style,e=t.font||M.Uo,n=t.padding,i=function(t,e){null!=t&&(t+="");var n,i=e.overflow,r=e.padding,s=e.font,l="truncate"===i,h=(0,a.Dp)(s),p=(0,o.pD)(e.lineHeight,h),d=!!e.backgroundColor,f="truncate"===e.lineOverflow,m=e.width,g=(n=null==m||"break"!==i&&"breakAll"!==i?t?t.split("\n"):[]:t?y(t,e.font,m,"breakAll"===i,0).lines:[]).length*p,v=(0,o.pD)(e.height,g);if(g>v&&f){var _=Math.floor(v/p);n=n.slice(0,_)}if(t&&l&&null!=m)for(var x=c(m,s,e.ellipsis,{minChar:e.truncateMinChar,placeholder:e.placeholder}),b=0;b<n.length;b++)n[b]=u(n[b],x);var w=v,S=0;for(b=0;b<n.length;b++)S=Math.max((0,a.dz)(n[b],s),S);null==m&&(m=S);var M=S;return r&&(w+=r[0]+r[2],M+=r[1]+r[3],m+=r[1]+r[3]),d&&(M=m),{lines:n,height:v,outerWidth:M,outerHeight:w,lineHeight:p,calculatedLineHeight:h,contentWidth:S,contentHeight:g,width:m}}(N(t),t),r=z(t),s=!!t.backgroundColor,l=i.outerHeight,h=i.outerWidth,p=i.contentWidth,d=i.lines,f=i.lineHeight,m=this._defaultStyle,g=t.x||0,v=t.y||0,x=t.align||m.align||"left",b=t.verticalAlign||m.verticalAlign||"top",S=g,T=(0,a.mU)(v,i.contentHeight,b);if(r||n){var E=(0,a.M3)(g,h,x),A=(0,a.mU)(v,l,b);r&&this._renderBackground(t,t,E,A,h,l)}T+=f/2,n&&(S=k(g,x,n),"top"===b?T+=n[0]:"bottom"===b&&(T-=n[2]));for(var C=0,L=!1,I=(O("fill"in t?t.fill:(L=!0,m.fill))),P=(R("stroke"in t?t.stroke:s||m.autoStroke&&!L?null:(C=2,m.stroke))),B=t.textShadowBlur>0,F=null!=t.width&&("truncate"===t.overflow||"break"===t.overflow||"breakAll"===t.overflow),U=i.calculatedLineHeight,H=0;H<d.length;H++){var V=this._getOrCreateChild(_.Z),G=V.createStyle();V.useStyle(G),G.text=d[H],G.x=S,G.y=T,x&&(G.textAlign=x),G.textBaseline="middle",G.opacity=t.opacity,G.strokeFirst=!0,B&&(G.shadowBlur=t.textShadowBlur||0,G.shadowColor=t.textShadowColor||"transparent",G.shadowOffsetX=t.textShadowOffsetX||0,G.shadowOffsetY=t.textShadowOffsetY||0),G.stroke=P,G.fill=I,P&&(G.lineWidth=t.lineWidth||C,G.lineDash=t.lineDash,G.lineDashOffset=t.lineDashOffset||0),G.font=e,D(G,t),T+=f,F&&V.setBoundingRect(new w.Z((0,a.M3)(G.x,t.width,G.textAlign),(0,a.mU)(G.y,U,G.textBaseline),p,U))}},e.prototype._updateRichTexts=function(){var t=this.style,e=function(t,e){var n=new f;if(null!=t&&(t+=""),!t)return n;for(var i,c=e.width,u=e.height,h=e.overflow,p="break"!==h&&"breakAll"!==h||null==c?null:{width:c,accumWidth:0,breakAll:"breakAll"===h},d=s.lastIndex=0;null!=(i=s.exec(t));){var g=i.index;g>d&&m(n,t.substring(d,g),e,p),m(n,i[2],e,p,i[1]),d=s.lastIndex}d<t.length&&m(n,t.substring(d,t.length),e,p);var v=[],y=0,_=0,x=e.padding,b="truncate"===h,w="truncate"===e.lineOverflow;function S(t,e,n){t.width=e,t.lineHeight=n,y+=n,_=Math.max(_,e)}t:for(var M=0;M<n.lines.length;M++){for(var T=n.lines[M],E=0,A=0,C=0;C<T.tokens.length;C++){var L=(F=T.tokens[C]).styleName&&e.rich[F.styleName]||{},I=F.textPadding=L.padding,D=I?I[1]+I[3]:0,P=F.font=L.font||e.font;F.contentHeight=(0,a.Dp)(P);var R=(0,o.pD)(L.height,F.contentHeight);if(F.innerHeight=R,I&&(R+=I[0]+I[2]),F.height=R,F.lineHeight=(0,o.R1)(L.lineHeight,e.lineHeight,R),F.align=L&&L.align||e.align,F.verticalAlign=L&&L.verticalAlign||"middle",w&&null!=u&&y+F.lineHeight>u){C>0?(T.tokens=T.tokens.slice(0,C),S(T,A,E),n.lines=n.lines.slice(0,M+1)):n.lines=n.lines.slice(0,M);break t}var O=L.width,k=null==O||"auto"===O;if("string"==typeof O&&"%"===O.charAt(O.length-1))F.percentWidth=O,v.push(F),F.contentWidth=(0,a.dz)(F.text,P);else{if(k){var N=L.backgroundColor,z=N&&N.image;z&&(z=r.ko(z),r.v5(z)&&(F.width=Math.max(F.width,z.width*R/z.height)))}var B=b&&null!=c?c-A:null;null!=B&&B<F.width?!k||B<D?(F.text="",F.width=F.contentWidth=0):(F.text=l(F.text,B-D,P,e.ellipsis,{minChar:e.truncateMinChar}),F.width=F.contentWidth=(0,a.dz)(F.text,P)):F.contentWidth=(0,a.dz)(F.text,P)}F.width+=D,A+=F.width,L&&(E=Math.max(E,F.lineHeight))}S(T,A,E)}for(n.outerWidth=n.width=(0,o.pD)(c,_),n.outerHeight=n.height=(0,o.pD)(u,y),n.contentHeight=y,n.contentWidth=_,x&&(n.outerWidth+=x[1]+x[3],n.outerHeight+=x[0]+x[2]),M=0;M<v.length;M++){var F,U=(F=v[M]).percentWidth;F.width=parseInt(U,10)/100*n.width}return n}(N(t),t),n=e.width,i=e.outerWidth,c=e.outerHeight,u=t.padding,h=t.x||0,p=t.y||0,d=this._defaultStyle,g=t.align||d.align,v=t.verticalAlign||d.verticalAlign,y=(0,a.M3)(h,i,g),_=(0,a.mU)(p,c,v),x=y,b=_;u&&(x+=u[3],b+=u[0]);var w=x+n;z(t)&&this._renderBackground(t,t,y,_,i,c);for(var S=!!t.backgroundColor,M=0;M<e.lines.length;M++){for(var T=e.lines[M],E=T.tokens,A=E.length,C=T.lineHeight,L=T.width,I=0,D=x,P=w,R=A-1,O=void 0;I<A&&(!(O=E[I]).align||"left"===O.align);)this._placeToken(O,t,C,b,D,"left",S),L-=O.width,D+=O.width,I++;for(;R>=0&&"right"===(O=E[R]).align;)this._placeToken(O,t,C,b,P,"right",S),L-=O.width,P-=O.width,R--;for(D+=(n-(D-x)-(w-P)-L)/2;I<=R;)O=E[I],this._placeToken(O,t,C,b,D+O.width/2,"center",S),D+=O.width,I++;b+=C}},e.prototype._placeToken=function(t,e,n,i,r,s,l){var c=e.rich[t.styleName]||{};c.text=t.text;var u=t.verticalAlign,h=i+n/2;"top"===u?h=i+t.height/2:"bottom"===u&&(h=i+n-t.height/2),!t.isLineHolder&&z(c)&&this._renderBackground(c,e,"right"===s?r-t.width:"center"===s?r-t.width/2:r,h-t.height/2,t.width,t.height);var p=!!c.backgroundColor,d=t.textPadding;d&&(r=k(r,s,d),h-=t.height/2-d[0]-t.innerHeight/2);var f=this._getOrCreateChild(_.Z),m=f.createStyle();f.useStyle(m);var g=this._defaultStyle,v=!1,y=0,x=O("fill"in c?c.fill:"fill"in e?e.fill:(v=!0,g.fill)),b=R("stroke"in c?c.stroke:"stroke"in e?e.stroke:p||l||g.autoStroke&&!v?null:(y=2,g.stroke)),S=c.textShadowBlur>0||e.textShadowBlur>0;m.text=t.text,m.x=r,m.y=h,S&&(m.shadowBlur=c.textShadowBlur||e.textShadowBlur||0,m.shadowColor=c.textShadowColor||e.textShadowColor||"transparent",m.shadowOffsetX=c.textShadowOffsetX||e.textShadowOffsetX||0,m.shadowOffsetY=c.textShadowOffsetY||e.textShadowOffsetY||0),m.textAlign=s,m.textBaseline="middle",m.font=t.font||M.Uo,m.opacity=(0,o.R1)(c.opacity,e.opacity,1),D(m,c),b&&(m.lineWidth=(0,o.R1)(c.lineWidth,e.lineWidth,y),m.lineDash=(0,o.pD)(c.lineDash,e.lineDash),m.lineDashOffset=e.lineDashOffset||0,m.stroke=b),x&&(m.fill=x);var T=t.contentWidth,E=t.contentHeight;f.setBoundingRect(new w.Z((0,a.M3)(m.x,T,m.textAlign),(0,a.mU)(m.y,E,m.textBaseline),T,E))},e.prototype._renderBackground=function(t,e,n,i,r,a){var s,l,c,u=t.backgroundColor,h=t.borderWidth,p=t.borderColor,d=u&&u.image,f=u&&!d,m=t.borderRadius,g=this;if(f||t.lineHeight||h&&p){(s=this._getOrCreateChild(b.Z)).useStyle(s.createStyle()),s.style.fill=null;var v=s.shape;v.x=n,v.y=i,v.width=r,v.height=a,v.r=m,s.dirtyShape()}if(f)(c=s.style).fill=u||null,c.fillOpacity=(0,o.pD)(t.fillOpacity,1);else if(d){(l=this._getOrCreateChild(x.ZP)).onload=function(){g.dirtyStyle()};var y=l.style;y.image=u.image,y.x=n,y.y=i,y.width=r,y.height=a}h&&p&&((c=s.style).lineWidth=h,c.stroke=p,c.strokeOpacity=(0,o.pD)(t.strokeOpacity,1),c.lineDash=t.borderDash,c.lineDashOffset=t.borderDashOffset||0,s.strokeContainThreshold=0,s.hasFill()&&s.hasStroke()&&(c.strokeFirst=!0,c.lineWidth*=2));var _=(s||l).style;_.shadowBlur=t.shadowBlur||0,_.shadowColor=t.shadowColor||"transparent",_.shadowOffsetX=t.shadowOffsetX||0,_.shadowOffsetY=t.shadowOffsetY||0,_.opacity=(0,o.R1)(t.opacity,e.opacity,1)},e.makeFont=function(t){var e,n="";return function(t){return null!=t.fontSize||t.fontFamily||t.fontWeight}(t)&&(n=[t.fontStyle,t.fontWeight,(e=t.fontSize,"string"!=typeof e||-1===e.indexOf("px")&&-1===e.indexOf("rem")&&-1===e.indexOf("em")?isNaN(+e)?M.n5+"px":e+"px":e),t.fontFamily||"sans-serif"].join(" ")),n&&(0,o.fy)(n)||t.textFont||t.font},e}(S.ZP),C={left:!0,right:1,center:1},L={top:1,bottom:1,middle:1},I=["fontStyle","fontWeight","fontSize","fontFamily"];function D(t,e){for(var n=0;n<I.length;n++){var i=I[n],r=e[i];null!=r&&(t[i]=r)}}function P(t){if(t){t.font=A.makeFont(t);var e=t.align;"middle"===e&&(e="center"),t.align=null==e||C[e]?e:"left";var n=t.verticalAlign;"center"===n&&(n="middle"),t.verticalAlign=null==n||L[n]?n:"top",t.padding&&(t.padding=(0,o.MY)(t.padding))}}function R(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function O(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function k(t,e,n){return"right"===e?t-n[1]:"center"===e?t+n[3]/2-n[1]/2:t+n[3]}function N(t){var e=t.text;return null!=e&&(e+=""),e}function z(t){return!!(t.backgroundColor||t.lineHeight||t.borderWidth&&t.borderColor)}const B=A},4414:(t,e,n)=>{"use strict";n.d(e,{RH:()=>o,SE:()=>r,YV:()=>i});var i=1,r=2,o=4},8007:(t,e,n)=>{"use strict";n.d(e,{Gq:()=>s,ko:()=>a,v5:()=>c});var i=n(2528),r=n(3132),o=new i.ZP(50);function a(t){if("string"==typeof t){var e=o.get(t);return e&&e.image}return t}function s(t,e,n,i,a){if(t){if("string"==typeof t){if(e&&e.__zrImageSrc===t||!n)return e;var s=o.get(t),u={hostEl:n,cb:i,cbPayload:a};if(s)!c(e=s.image)&&s.pending.push(u);else{var h=r.qW.loadImage(t,l,l);h.__zrImageSrc=t,o.put(t,h.__cachedImgObj={image:h,pending:[u]})}return e}return t}return e}function l(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var n=t.pending[e],i=n.cb;i&&i(this,n.cbPayload),n.hostEl.dirty()}t.pending.length=0}function c(t){return t&&t.width&&t.height}},924:(t,e,n)=>{"use strict";n.d(e,{L:()=>r});var i=n(5280);function r(t,e,n){var r=e.smooth,o=e.points;if(o&&o.length>=2){if(r){var a=function(t,e,n,r){var o,a,s,l,c=[],u=[],h=[],p=[];if(r){s=[1/0,1/0],l=[-1/0,-1/0];for(var d=0,f=t.length;d<f;d++)(0,i.VV)(s,s,t[d]),(0,i.Fp)(l,l,t[d]);(0,i.VV)(s,s,r[0]),(0,i.Fp)(l,l,r[1])}for(d=0,f=t.length;d<f;d++){var m=t[d];if(n)o=t[d?d-1:f-1],a=t[(d+1)%f];else{if(0===d||d===f-1){c.push((0,i.d9)(t[d]));continue}o=t[d-1],a=t[d+1]}(0,i.lu)(u,a,o),(0,i.bA)(u,u,e);var g=(0,i.TE)(m,o),v=(0,i.TE)(m,a),y=g+v;0!==y&&(g/=y,v/=y),(0,i.bA)(h,u,-g),(0,i.bA)(p,u,v);var _=(0,i.IH)([],m,h),x=(0,i.IH)([],m,p);r&&((0,i.Fp)(_,_,s),(0,i.VV)(_,_,l),(0,i.Fp)(x,x,s),(0,i.VV)(x,x,l)),c.push(_),c.push(x)}return n&&c.push(c.shift()),c}(o,r,n,e.smoothConstraint);t.moveTo(o[0][0],o[0][1]);for(var s=o.length,l=0;l<(n?s:s-1);l++){var c=a[2*l],u=a[2*l+1],h=o[(l+1)%s];t.bezierCurveTo(c[0],c[1],u[0],u[1],h[0],h[1])}}else{t.moveTo(o[0][0],o[0][1]),l=1;for(var p=o.length;l<p;l++)t.lineTo(o[l][0],o[l][1])}n&&t.closePath()}}},4111:(t,e,n)=>{"use strict";n.d(e,{Pw:()=>o,_3:()=>r,vu:()=>a});var i=Math.round;function r(t,e,n){if(e){var r=e.x1,o=e.x2,s=e.y1,l=e.y2;t.x1=r,t.x2=o,t.y1=s,t.y2=l;var c=n&&n.lineWidth;return c?(i(2*r)===i(2*o)&&(t.x1=t.x2=a(r,c,!0)),i(2*s)===i(2*l)&&(t.y1=t.y2=a(s,c,!0)),t):t}}function o(t,e,n){if(e){var i=e.x,r=e.y,o=e.width,s=e.height;t.x=i,t.y=r,t.width=o,t.height=s;var l=n&&n.lineWidth;return l?(t.x=a(i,l,!0),t.y=a(r,l,!0),t.width=Math.max(a(i+o,l,!1)-t.x,0===o?0:1),t.height=Math.max(a(r+s,l,!1)-t.y,0===s?0:1),t):t}}function a(t,e,n){if(!e)return t;var r=i(2*t);return(r+i(e))%2==0?r/2:(r+(n?1:-1))/2}},4826:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(4311),r=n(6134),o=function(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0},a=function(t){function e(e){return t.call(this,e)||this}return(0,i.ZT)(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new o},e.prototype.buildPath=function(t,e){var n=e.cx,i=e.cy,r=Math.max(e.r,0),o=e.startAngle,a=e.endAngle,s=e.clockwise,l=Math.cos(o),c=Math.sin(o);t.moveTo(l*r+n,c*r+i),t.arc(n,i,r,o,a,!s)},e}(r.ZP);a.prototype.type="arc";const s=a},9538:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(4311),r=n(6134),o=function(){this.cx=0,this.cy=0,this.r=0},a=function(t){function e(e){return t.call(this,e)||this}return(0,i.ZT)(e,t),e.prototype.getDefaultShape=function(){return new o},e.prototype.buildPath=function(t,e){t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI)},e}(r.ZP);a.prototype.type="circle";const s=a},2095:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var i=n(4311),r=n(6134),o=n(4111),a={},s=function(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1},l=function(t){function e(e){return t.call(this,e)||this}return(0,i.ZT)(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new s},e.prototype.buildPath=function(t,e){var n,i,r,s;if(this.subPixelOptimize){var l=(0,o._3)(a,e,this.style);n=l.x1,i=l.y1,r=l.x2,s=l.y2}else n=e.x1,i=e.y1,r=e.x2,s=e.y2;var c=e.percent;0!==c&&(t.moveTo(n,i),c<1&&(r=n*(1-c)+r*c,s=i*(1-c)+s*c),t.lineTo(r,s))},e.prototype.pointAt=function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]},e}(r.ZP);l.prototype.type="line";const c=l},5094:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var i=n(4311),r=n(6134),o=n(924),a=function(){this.points=null,this.smooth=0,this.smoothConstraint=null},s=function(t){function e(e){return t.call(this,e)||this}return(0,i.ZT)(e,t),e.prototype.getDefaultShape=function(){return new a},e.prototype.buildPath=function(t,e){o.L(t,e,!0)},e}(r.ZP);s.prototype.type="polygon";const l=s},2514:(t,e,n)=>{"use strict";n.d(e,{Z:()=>l});var i=n(4311),r=n(6134),o=n(924),a=function(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null},s=function(t){function e(e){return t.call(this,e)||this}return(0,i.ZT)(e,t),e.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},e.prototype.getDefaultShape=function(){return new a},e.prototype.buildPath=function(t,e){o.L(t,e,!1)},e}(r.ZP);s.prototype.type="polyline";const l=s},3622:(t,e,n)=>{"use strict";n.d(e,{Z:()=>c});var i=n(4311),r=n(6134),o=n(4111),a=function(){this.x=0,this.y=0,this.width=0,this.height=0},s={},l=function(t){function e(e){return t.call(this,e)||this}return(0,i.ZT)(e,t),e.prototype.getDefaultShape=function(){return new a},e.prototype.buildPath=function(t,e){var n,i,r,a;if(this.subPixelOptimize){var l=(0,o.Pw)(s,e,this.style);n=l.x,i=l.y,r=l.width,a=l.height,l.r=e.r,e=l}else n=e.x,i=e.y,r=e.width,a=e.height;e.r?function(t,e){var n,i,r,o,a,s=e.x,l=e.y,c=e.width,u=e.height,h=e.r;c<0&&(s+=c,c=-c),u<0&&(l+=u,u=-u),"number"==typeof h?n=i=r=o=h:h instanceof Array?1===h.length?n=i=r=o=h[0]:2===h.length?(n=r=h[0],i=o=h[1]):3===h.length?(n=h[0],i=o=h[1],r=h[2]):(n=h[0],i=h[1],r=h[2],o=h[3]):n=i=r=o=0,n+i>c&&(n*=c/(a=n+i),i*=c/a),r+o>c&&(r*=c/(a=r+o),o*=c/a),i+r>u&&(i*=u/(a=i+r),r*=u/a),n+o>u&&(n*=u/(a=n+o),o*=u/a),t.moveTo(s+n,l),t.lineTo(s+c-i,l),0!==i&&t.arc(s+c-i,l+i,i,-Math.PI/2,0),t.lineTo(s+c,l+u-r),0!==r&&t.arc(s+c-r,l+u-r,r,0,Math.PI/2),t.lineTo(s+o,l+u),0!==o&&t.arc(s+o,l+u-o,o,Math.PI/2,Math.PI),t.lineTo(s,l+n),0!==n&&t.arc(s+n,l+n,n,Math.PI,1.5*Math.PI)}(t,e):t.rect(n,i,r,a)},e.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},e}(r.ZP);l.prototype.type="rect";const c=l},5795:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var i=n(4311),r=n(6134),o=function(){this.cx=0,this.cy=0,this.r=0,this.r0=0},a=function(t){function e(e){return t.call(this,e)||this}return(0,i.ZT)(e,t),e.prototype.getDefaultShape=function(){return new o},e.prototype.buildPath=function(t,e){var n=e.cx,i=e.cy,r=2*Math.PI;t.moveTo(n+e.r,i),t.arc(n,i,e.r,0,r,!1),t.moveTo(n+e.r0,i),t.arc(n,i,e.r0,0,r,!0)},e}(r.ZP);a.prototype.type="ring";const s=a},7214:(t,e,n)=>{"use strict";n.d(e,{C:()=>x});var i=n(4311),r=n(6134),o=n(3051),a=Math.PI,s=2*a,l=Math.sin,c=Math.cos,u=Math.acos,h=Math.atan2,p=Math.abs,d=Math.sqrt,f=Math.max,m=Math.min,g=1e-4;function v(t,e,n,i,r,o,a){var s=t-n,l=e-i,c=(a?o:-o)/d(s*s+l*l),u=c*l,h=-c*s,p=t+u,m=e+h,g=n+u,v=i+h,y=(p+g)/2,_=(m+v)/2,x=g-p,b=v-m,w=x*x+b*b,S=r-o,M=p*v-g*m,T=(b<0?-1:1)*d(f(0,S*S*w-M*M)),E=(M*b-x*T)/w,A=(-M*x-b*T)/w,C=(M*b+x*T)/w,L=(-M*x+b*T)/w,I=E-y,D=A-_,P=C-y,R=L-_;return I*I+D*D>P*P+R*R&&(E=C,A=L),{cx:E,cy:A,x0:-u,y0:-h,x1:E*(r/S-1),y1:A*(r/S-1)}}var y=function(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=2*Math.PI,this.clockwise=!0,this.cornerRadius=0},_=function(t){function e(e){return t.call(this,e)||this}return(0,i.ZT)(e,t),e.prototype.getDefaultShape=function(){return new y},e.prototype.buildPath=function(t,e){!function(t,e){var n,i=f(e.r,0),r=f(e.r0||0,0),y=i>0;if(y||r>0){if(y||(i=r,r=0),r>i){var _=i;i=r,r=_}var x=e.startAngle,b=e.endAngle;if(!isNaN(x)&&!isNaN(b)){var w=e.cx,S=e.cy,M=!!e.clockwise,T=p(b-x),E=T>s&&T%s;if(E>g&&(T=E),i>g)if(T>s-g)t.moveTo(w+i*c(x),S+i*l(x)),t.arc(w,S,i,x,b,!M),r>g&&(t.moveTo(w+r*c(b),S+r*l(b)),t.arc(w,S,r,b,x,M));else{var A=void 0,C=void 0,L=void 0,I=void 0,D=void 0,P=void 0,R=void 0,O=void 0,k=void 0,N=void 0,z=void 0,B=void 0,F=void 0,U=void 0,H=void 0,V=void 0,G=i*c(x),j=i*l(x),W=r*c(b),Z=r*l(b),q=T>g;if(q){var X=e.cornerRadius;X&&(A=(n=function(t){var e;if((0,o.kJ)(t)){var n=t.length;if(!n)return t;e=1===n?[t[0],t[0],0,0]:2===n?[t[0],t[0],t[1],t[1]]:3===n?t.concat(t[2]):t}else e=[t,t,t,t];return e}(X))[0],C=n[1],L=n[2],I=n[3]);var Y=p(i-r)/2;if(D=m(Y,L),P=m(Y,I),R=m(Y,A),O=m(Y,C),z=k=f(D,P),B=N=f(R,O),(k>g||N>g)&&(F=i*c(b),U=i*l(b),H=r*c(x),V=r*l(x),T<a)){var J=function(t,e,n,i,r,o,a,s){var l=n-t,c=i-e,u=a-r,h=s-o,p=h*l-u*c;if(!(p*p<g))return[t+(p=(u*(e-o)-h*(t-r))/p)*l,e+p*c]}(G,j,H,V,F,U,W,Z);if(J){var K=G-J[0],$=j-J[1],Q=F-J[0],tt=U-J[1],et=1/l(u((K*Q+$*tt)/(d(K*K+$*$)*d(Q*Q+tt*tt)))/2),nt=d(J[0]*J[0]+J[1]*J[1]);z=m(k,(i-nt)/(et+1)),B=m(N,(r-nt)/(et-1))}}}if(q)if(z>g){var it=m(L,z),rt=m(I,z),ot=v(H,V,G,j,i,it,M),at=v(F,U,W,Z,i,rt,M);t.moveTo(w+ot.cx+ot.x0,S+ot.cy+ot.y0),z<k&&it===rt?t.arc(w+ot.cx,S+ot.cy,z,h(ot.y0,ot.x0),h(at.y0,at.x0),!M):(it>0&&t.arc(w+ot.cx,S+ot.cy,it,h(ot.y0,ot.x0),h(ot.y1,ot.x1),!M),t.arc(w,S,i,h(ot.cy+ot.y1,ot.cx+ot.x1),h(at.cy+at.y1,at.cx+at.x1),!M),rt>0&&t.arc(w+at.cx,S+at.cy,rt,h(at.y1,at.x1),h(at.y0,at.x0),!M))}else t.moveTo(w+G,S+j),t.arc(w,S,i,x,b,!M);else t.moveTo(w+G,S+j);r>g&&q?B>g?(it=m(A,B),ot=v(W,Z,F,U,r,-(rt=m(C,B)),M),at=v(G,j,H,V,r,-it,M),t.lineTo(w+ot.cx+ot.x0,S+ot.cy+ot.y0),B<N&&it===rt?t.arc(w+ot.cx,S+ot.cy,B,h(ot.y0,ot.x0),h(at.y0,at.x0),!M):(rt>0&&t.arc(w+ot.cx,S+ot.cy,rt,h(ot.y0,ot.x0),h(ot.y1,ot.x1),!M),t.arc(w,S,r,h(ot.cy+ot.y1,ot.cx+ot.x1),h(at.cy+at.y1,at.cx+at.x1),M),it>0&&t.arc(w+at.cx,S+at.cy,it,h(at.y1,at.x1),h(at.y0,at.x0),!M))):(t.lineTo(w+W,S+Z),t.arc(w,S,r,b,x,M)):t.lineTo(w+W,S+Z)}else t.moveTo(w,S);t.closePath()}}}(t,e)},e.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},e}(r.ZP);_.prototype.type="sector";const x=_},1092:(t,e,n)=>{"use strict";n.d(e,{L0:()=>S,Pz:()=>w,Qc:()=>g,Uu:()=>_,m8:()=>b,ox:()=>x,xb:()=>y});var i=n(2528),r={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function o(t){return(t=Math.round(t))<0?0:t>255?255:t}function a(t){return t<0?0:t>1?1:t}function s(t){var e=t;return e.length&&"%"===e.charAt(e.length-1)?o(parseFloat(e)/100*255):o(parseInt(e,10))}function l(t){var e=t;return e.length&&"%"===e.charAt(e.length-1)?a(parseFloat(e)/100):a(parseFloat(e))}function c(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function u(t,e,n){return t+(e-t)*n}function h(t,e,n,i,r){return t[0]=e,t[1]=n,t[2]=i,t[3]=r,t}function p(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var d=new i.ZP(20),f=null;function m(t,e){f&&p(f,e),f=d.put(t,f||e.slice())}function g(t,e){if(t){e=e||[];var n=d.get(t);if(n)return p(e,n);var i=(t+="").replace(/ /g,"").toLowerCase();if(i in r)return p(e,r[i]),m(t,e),e;var o,a=i.length;if("#"===i.charAt(0))return 4===a||5===a?(o=parseInt(i.slice(1,4),16))>=0&&o<=4095?(h(e,(3840&o)>>4|(3840&o)>>8,240&o|(240&o)>>4,15&o|(15&o)<<4,5===a?parseInt(i.slice(4),16)/15:1),m(t,e),e):void h(e,0,0,0,1):7===a||9===a?(o=parseInt(i.slice(1,7),16))>=0&&o<=16777215?(h(e,(16711680&o)>>16,(65280&o)>>8,255&o,9===a?parseInt(i.slice(7),16)/255:1),m(t,e),e):void h(e,0,0,0,1):void 0;var c=i.indexOf("("),u=i.indexOf(")");if(-1!==c&&u+1===a){var f=i.substr(0,c),g=i.substr(c+1,u-(c+1)).split(","),y=1;switch(f){case"rgba":if(4!==g.length)return 3===g.length?h(e,+g[0],+g[1],+g[2],1):h(e,0,0,0,1);y=l(g.pop());case"rgb":return 3!==g.length?void h(e,0,0,0,1):(h(e,s(g[0]),s(g[1]),s(g[2]),y),m(t,e),e);case"hsla":return 4!==g.length?void h(e,0,0,0,1):(g[3]=l(g[3]),v(g,e),m(t,e),e);case"hsl":return 3!==g.length?void h(e,0,0,0,1):(v(g,e),m(t,e),e);default:return}}h(e,0,0,0,1)}}function v(t,e){var n=(parseFloat(t[0])%360+360)%360/360,i=l(t[1]),r=l(t[2]),a=r<=.5?r*(i+1):r+i-r*i,s=2*r-a;return h(e=e||[],o(255*c(s,a,n+1/3)),o(255*c(s,a,n)),o(255*c(s,a,n-1/3)),1),4===t.length&&(e[3]=t[3]),e}function y(t,e){var n=g(t);if(n){for(var i=0;i<3;i++)n[i]=e<0?n[i]*(1-e)|0:(255-n[i])*e+n[i]|0,n[i]>255?n[i]=255:n[i]<0&&(n[i]=0);return w(n,4===n.length?"rgba":"rgb")}}function _(t,e,n){if(e&&e.length&&t>=0&&t<=1){n=n||[];var i=t*(e.length-1),r=Math.floor(i),s=Math.ceil(i),l=e[r],c=e[s],h=i-r;return n[0]=o(u(l[0],c[0],h)),n[1]=o(u(l[1],c[1],h)),n[2]=o(u(l[2],c[2],h)),n[3]=a(u(l[3],c[3],h)),n}}function x(t,e,n,i){var r,o=g(t);if(t)return o=function(t){if(t){var e,n,i=t[0]/255,r=t[1]/255,o=t[2]/255,a=Math.min(i,r,o),s=Math.max(i,r,o),l=s-a,c=(s+a)/2;if(0===l)e=0,n=0;else{n=c<.5?l/(s+a):l/(2-s-a);var u=((s-i)/6+l/2)/l,h=((s-r)/6+l/2)/l,p=((s-o)/6+l/2)/l;i===s?e=p-h:r===s?e=1/3+u-p:o===s&&(e=2/3+h-u),e<0&&(e+=1),e>1&&(e-=1)}var d=[360*e,n,c];return null!=t[3]&&d.push(t[3]),d}}(o),null!=e&&(o[0]=(r=e,(r=Math.round(r))<0?0:r>360?360:r)),null!=n&&(o[1]=l(n)),null!=i&&(o[2]=l(i)),w(v(o),"rgba")}function b(t,e){var n=g(t);if(n&&null!=e)return n[3]=a(e),w(n,"rgba")}function w(t,e){if(t&&t.length){var n=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(n+=","+t[3]),e+"("+n+")"}}function S(t,e){var n=g(t);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*e:0}},7494:(t,e,n)=>{"use strict";n.d(e,{U5:()=>L,iR:()=>E,Pc:()=>A,AA:()=>C});var i=n(4311),r=n(6134),o=n(4014),a=n(5280),s=o.Z.CMD,l=[[],[],[]],c=Math.sqrt,u=Math.atan2;function h(t,e){if(e){var n,i,r,o,h,p,d=t.data,f=t.len(),m=s.M,g=s.C,v=s.L,y=s.R,_=s.A,x=s.Q;for(r=0,o=0;r<f;){switch(n=d[r++],o=r,i=0,n){case m:case v:i=1;break;case g:i=3;break;case x:i=2;break;case _:var b=e[4],w=e[5],S=c(e[0]*e[0]+e[1]*e[1]),M=c(e[2]*e[2]+e[3]*e[3]),T=u(-e[1]/M,e[0]/S);d[r]*=S,d[r++]+=b,d[r]*=M,d[r++]+=w,d[r++]*=S,d[r++]*=M,d[r++]+=T,d[r++]+=T,o=r+=2;break;case y:p[0]=d[r++],p[1]=d[r++],(0,a.Ne)(p,p,e),d[o++]=p[0],d[o++]=p[1],p[0]+=d[r++],p[1]+=d[r++],(0,a.Ne)(p,p,e),d[o++]=p[0],d[o++]=p[1]}for(h=0;h<i;h++){var E=l[h];E[0]=d[r++],E[1]=d[r++],(0,a.Ne)(E,E,e),d[o++]=E[0],d[o++]=E[1]}}t.increaseVersion()}}var p=n(3051),d=Math.sqrt,f=Math.sin,m=Math.cos,g=Math.PI;function v(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function y(t,e){return(t[0]*e[0]+t[1]*e[1])/(v(t)*v(e))}function _(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(y(t,e))}function x(t,e,n,i,r,o,a,s,l,c,u){var h=l*(g/180),p=m(h)*(t-n)/2+f(h)*(e-i)/2,v=-1*f(h)*(t-n)/2+m(h)*(e-i)/2,x=p*p/(a*a)+v*v/(s*s);x>1&&(a*=d(x),s*=d(x));var b=(r===o?-1:1)*d((a*a*(s*s)-a*a*(v*v)-s*s*(p*p))/(a*a*(v*v)+s*s*(p*p)))||0,w=b*a*v/s,S=b*-s*p/a,M=(t+n)/2+m(h)*w-f(h)*S,T=(e+i)/2+f(h)*w+m(h)*S,E=_([1,0],[(p-w)/a,(v-S)/s]),A=[(p-w)/a,(v-S)/s],C=[(-1*p-w)/a,(-1*v-S)/s],L=_(A,C);if(y(A,C)<=-1&&(L=g),y(A,C)>=1&&(L=0),L<0){var I=Math.round(L/g*1e6)/1e6;L=2*g+I%2*g}u.addData(c,M,T,a,s,E,L,h,o)}var b=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,w=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g,S=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype.applyTransform=function(t){},e}(r.ZP);function M(t){return null!=t.setData}function T(t,e){var n=function(t){var e=new o.Z;if(!t)return e;var n,i=0,r=0,a=i,s=r,l=o.Z.CMD,c=t.match(b);if(!c)return e;for(var u=0;u<c.length;u++){for(var h=c[u],p=h.charAt(0),d=void 0,f=h.match(w)||[],m=f.length,g=0;g<m;g++)f[g]=parseFloat(f[g]);for(var v=0;v<m;){var y=void 0,_=void 0,S=void 0,M=void 0,T=void 0,E=void 0,A=void 0,C=i,L=r,I=void 0,D=void 0;switch(p){case"l":i+=f[v++],r+=f[v++],d=l.L,e.addData(d,i,r);break;case"L":i=f[v++],r=f[v++],d=l.L,e.addData(d,i,r);break;case"m":i+=f[v++],r+=f[v++],d=l.M,e.addData(d,i,r),a=i,s=r,p="l";break;case"M":i=f[v++],r=f[v++],d=l.M,e.addData(d,i,r),a=i,s=r,p="L";break;case"h":i+=f[v++],d=l.L,e.addData(d,i,r);break;case"H":i=f[v++],d=l.L,e.addData(d,i,r);break;case"v":r+=f[v++],d=l.L,e.addData(d,i,r);break;case"V":r=f[v++],d=l.L,e.addData(d,i,r);break;case"C":d=l.C,e.addData(d,f[v++],f[v++],f[v++],f[v++],f[v++],f[v++]),i=f[v-2],r=f[v-1];break;case"c":d=l.C,e.addData(d,f[v++]+i,f[v++]+r,f[v++]+i,f[v++]+r,f[v++]+i,f[v++]+r),i+=f[v-2],r+=f[v-1];break;case"S":y=i,_=r,I=e.len(),D=e.data,n===l.C&&(y+=i-D[I-4],_+=r-D[I-3]),d=l.C,C=f[v++],L=f[v++],i=f[v++],r=f[v++],e.addData(d,y,_,C,L,i,r);break;case"s":y=i,_=r,I=e.len(),D=e.data,n===l.C&&(y+=i-D[I-4],_+=r-D[I-3]),d=l.C,C=i+f[v++],L=r+f[v++],i+=f[v++],r+=f[v++],e.addData(d,y,_,C,L,i,r);break;case"Q":C=f[v++],L=f[v++],i=f[v++],r=f[v++],d=l.Q,e.addData(d,C,L,i,r);break;case"q":C=f[v++]+i,L=f[v++]+r,i+=f[v++],r+=f[v++],d=l.Q,e.addData(d,C,L,i,r);break;case"T":y=i,_=r,I=e.len(),D=e.data,n===l.Q&&(y+=i-D[I-4],_+=r-D[I-3]),i=f[v++],r=f[v++],d=l.Q,e.addData(d,y,_,i,r);break;case"t":y=i,_=r,I=e.len(),D=e.data,n===l.Q&&(y+=i-D[I-4],_+=r-D[I-3]),i+=f[v++],r+=f[v++],d=l.Q,e.addData(d,y,_,i,r);break;case"A":S=f[v++],M=f[v++],T=f[v++],E=f[v++],A=f[v++],x(C=i,L=r,i=f[v++],r=f[v++],E,A,S,M,T,d=l.A,e);break;case"a":S=f[v++],M=f[v++],T=f[v++],E=f[v++],A=f[v++],x(C=i,L=r,i+=f[v++],r+=f[v++],E,A,S,M,T,d=l.A,e)}}"z"!==p&&"Z"!==p||(d=l.Z,e.addData(d),i=a,r=s),n=d}return e.toStatic(),e}(t),i=(0,p.l7)({},e);return i.buildPath=function(t){if(M(t))t.setData(n.data),(e=t.getContext())&&t.rebuildPath(e,1);else{var e=t;n.rebuildPath(e,1)}},i.applyTransform=function(t){h(n,t),this.dirtyShape()},i}function E(t,e){return new S(T(t,e))}function A(t,e){var n=T(t,e);return function(t){function e(e){var i=t.call(this,e)||this;return i.applyTransform=n.applyTransform,i.buildPath=n.buildPath,i}return(0,i.ZT)(e,t),e}(S)}function C(t,e){for(var n=[],i=t.length,o=0;o<i;o++){var a=t[o];n.push(a.getUpdatedPathProxy(!0))}var s=new r.ZP(e);return s.createPathProxy(),s.buildPath=function(t){if(M(t)){t.appendPath(n);var e=t.getContext();e&&t.rebuildPath(e,1)}},s}function L(t,e){e=e||{};var n=new r.ZP;return t.shape&&n.setShape(t.shape),n.setStyle(t.style),e.bakeTransform?h(n.path,t.getComputedTransform()):e.toLocal?n.setLocalTransform(t.getComputedTransform()):n.copyTransform(t),n.buildPath=t.buildPath,n.applyTransform=n.applyTransform,n.z=t.z,n.z2=t.z2,n.zlevel=t.zlevel,n}},9448:(t,e,n)=>{"use strict";n.d(e,{S1:()=>nt,wm:()=>it});var i=n(6387),r=n(3051),o=n(4311),a=n(5280),s=function(t,e){this.target=t,this.topTarget=e&&e.topTarget};const l=function(){function t(t){this.handler=t,t.on("mousedown",this._dragStart,this),t.on("mousemove",this._drag,this),t.on("mouseup",this._dragEnd,this)}return t.prototype._dragStart=function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent||e.__hostTarget;e&&(this._draggingTarget=e,e.dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.handler.dispatchToElement(new s(e,t),"dragstart",t.event))},t.prototype._drag=function(t){var e=this._draggingTarget;if(e){var n=t.offsetX,i=t.offsetY,r=n-this._x,o=i-this._y;this._x=n,this._y=i,e.drift(r,o,t),this.handler.dispatchToElement(new s(e,t),"drag",t.event);var a=this.handler.findHover(n,i,e).target,l=this._dropTarget;this._dropTarget=a,e!==a&&(l&&a!==l&&this.handler.dispatchToElement(new s(l,t),"dragleave",t.event),a&&a!==l&&this.handler.dispatchToElement(new s(a,t),"dragenter",t.event))}},t.prototype._dragEnd=function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.handler.dispatchToElement(new s(e,t),"dragend",t.event),this._dropTarget&&this.handler.dispatchToElement(new s(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null},t}();var c=n(3510),u=n(1158),h=function(){function t(){this._track=[]}return t.prototype.recognize=function(t,e,n){return this._doTrack(t,e,n),this._recognize(t)},t.prototype.clear=function(){return this._track.length=0,this},t.prototype._doTrack=function(t,e,n){var i=t.touches;if(i){for(var r={points:[],touches:[],target:e,event:t},o=0,a=i.length;o<a;o++){var s=i[o],l=u.eV(n,s,{});r.points.push([l.zrX,l.zrY]),r.touches.push(s)}this._track.push(r)}},t.prototype._recognize=function(t){for(var e in d)if(d.hasOwnProperty(e)){var n=d[e](this._track,t);if(n)return n}},t}();function p(t){var e=t[1][0]-t[0][0],n=t[1][1]-t[0][1];return Math.sqrt(e*e+n*n)}var d={pinch:function(t,e){var n=t.length;if(n){var i,r=(t[n-1]||{}).points,o=(t[n-2]||{}).points||r;if(o&&o.length>1&&r&&r.length>1){var a=p(r)/p(o);!isFinite(a)&&(a=1),e.pinchScale=a;var s=[((i=r)[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2];return e.pinchX=s[0],e.pinchY=s[1],{type:"pinch",target:t[0].target,event:e}}}}},f="silent";function m(){u.sT(this.event)}var g=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.handler=null,e}return(0,o.ZT)(e,t),e.prototype.dispose=function(){},e.prototype.setCursor=function(){},e}(c.Z),v=function(t,e){this.x=t,this.y=e},y=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],_=function(t){function e(e,n,i,r){var o=t.call(this)||this;return o._hovered=new v(0,0),o.storage=e,o.painter=n,o.painterRoot=r,i=i||new g,o.proxy=null,o.setHandlerProxy(i),o._draggingMgr=new l(o),o}return(0,o.ZT)(e,t),e.prototype.setHandlerProxy=function(t){this.proxy&&this.proxy.dispose(),t&&(r.S6(y,(function(e){t.on&&t.on(e,this[e],this)}),this),t.handler=this),this.proxy=t},e.prototype.mousemove=function(t){var e=t.zrX,n=t.zrY,i=b(this,e,n),r=this._hovered,o=r.target;o&&!o.__zr&&(o=(r=this.findHover(r.x,r.y)).target);var a=this._hovered=i?new v(e,n):this.findHover(e,n),s=a.target,l=this.proxy;l.setCursor&&l.setCursor(s?s.cursor:"default"),o&&s!==o&&this.dispatchToElement(r,"mouseout",t),this.dispatchToElement(a,"mousemove",t),s&&s!==o&&this.dispatchToElement(a,"mouseover",t)},e.prototype.mouseout=function(t){var e=t.zrEventControl;"only_globalout"!==e&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==e&&this.trigger("globalout",{type:"globalout",event:t})},e.prototype.resize=function(){this._hovered=new v(0,0)},e.prototype.dispatch=function(t,e){var n=this[t];n&&n.call(this,e)},e.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},e.prototype.setCursorStyle=function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},e.prototype.dispatchToElement=function(t,e,n){var i=(t=t||{}).target;if(!i||!i.silent){for(var r="on"+e,o=function(t,e,n){return{type:t,event:n,target:e.target,topTarget:e.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:m}}(e,t,n);i&&(i[r]&&(o.cancelBubble=!!i[r].call(i,o)),i.trigger(e,o),i=i.__hostTarget?i.__hostTarget:i.parent,!o.cancelBubble););o.cancelBubble||(this.trigger(e,o),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer((function(t){"function"==typeof t[r]&&t[r].call(t,o),t.trigger&&t.trigger(e,o)})))}},e.prototype.findHover=function(t,e,n){for(var i=this.storage.getDisplayList(),r=new v(t,e),o=i.length-1;o>=0;o--){var a=void 0;if(i[o]!==n&&!i[o].ignore&&(a=x(i[o],t,e))&&(!r.topTarget&&(r.topTarget=i[o]),a!==f)){r.target=i[o];break}}return r},e.prototype.processGesture=function(t,e){this._gestureMgr||(this._gestureMgr=new h);var n=this._gestureMgr;"start"===e&&n.clear();var i=n.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);if("end"===e&&n.clear(),i){var r=i.type;t.gestureEvent=r;var o=new v;o.target=i.target,this.dispatchToElement(o,r,i.event)}},e}(c.Z);function x(t,e,n){if(t[t.rectHover?"rectContain":"contain"](e,n)){for(var i=t,r=void 0,o=!1;i;){if(i.ignoreClip&&(o=!0),!o){var a=i.getClipPath();if(a&&!a.contain(e,n))return!1;i.silent&&(r=!0)}i=i.__hostTarget||i.parent}return!r||f}return!1}function b(t,e,n){var i=t.painter;return e<0||e>i.getWidth()||n<0||n>i.getHeight()}r.S6(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],(function(t){_.prototype[t]=function(e){var n,i,r=e.zrX,o=e.zrY,s=b(this,r,o);if("mouseup"===t&&s||(i=(n=this.findHover(r,o)).target),"mousedown"===t)this._downEl=i,this._downPoint=[e.zrX,e.zrY],this._upEl=i;else if("mouseup"===t)this._upEl=i;else if("click"===t){if(this._downEl!==this._upEl||!this._downPoint||a.TK(this._downPoint,[e.zrX,e.zrY])>4)return;this._downPoint=null}this.dispatchToElement(n,t,e)}}));const w=_;var S=n(9455),M=n(4414),T=!1;function E(){T||(T=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function A(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}const C=function(){function t(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=A}return t.prototype.traverse=function(t,e){for(var n=0;n<this._roots.length;n++)this._roots[n].traverse(t,e)},t.prototype.getDisplayList=function(t,e){e=e||!1;var n=this._displayList;return!t&&n.length||this.updateDisplayList(e),n},t.prototype.updateDisplayList=function(t){this._displayListLen=0;for(var e=this._roots,n=this._displayList,i=0,r=e.length;i<r;i++)this._updateAndAddDisplayable(e[i],null,t);n.length=this._displayListLen,(0,S.Z)(n,A)},t.prototype._updateAndAddDisplayable=function(t,e,n){if(!t.ignore||n){t.beforeUpdate(),t.update(),t.afterUpdate();var i=t.getClipPath();if(t.ignoreClip)e=null;else if(i){e=e?e.slice():[];for(var r=i,o=t;r;)r.parent=o,r.updateTransform(),e.push(r),o=r,r=r.getClipPath()}if(t.childrenRef){for(var a=t.childrenRef(),s=0;s<a.length;s++){var l=a[s];t.__dirty&&(l.__dirty|=M.YV),this._updateAndAddDisplayable(l,e,n)}t.__dirty=0}else{var c=t;e&&e.length?c.__clipPaths=e:c.__clipPaths&&c.__clipPaths.length>0&&(c.__clipPaths=[]),isNaN(c.z)&&(E(),c.z=0),isNaN(c.z2)&&(E(),c.z2=0),isNaN(c.zlevel)&&(E(),c.zlevel=0),this._displayList[this._displayListLen++]=c}var u=t.getDecalElement&&t.getDecalElement();u&&this._updateAndAddDisplayable(u,e,n);var h=t.getTextGuideLine();h&&this._updateAndAddDisplayable(h,e,n);var p=t.getTextContent();p&&this._updateAndAddDisplayable(p,e,n)}},t.prototype.addRoot=function(t){t.__zr&&t.__zr.storage===this||this._roots.push(t)},t.prototype.delRoot=function(t){if(t instanceof Array)for(var e=0,n=t.length;e<n;e++)this.delRoot(t[e]);else{var i=r.cq(this._roots,t);i>=0&&this._roots.splice(i,1)}},t.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},t.prototype.getRoots=function(){return this._roots},t.prototype.dispose=function(){this._displayList=null,this._roots=null},t}();var L=n(2795),I=n(8482);function D(){return(new Date).getTime()}const P=function(t){function e(e){var n=t.call(this)||this;return n._running=!1,n._time=0,n._pausedTime=0,n._pauseStart=0,n._paused=!1,e=e||{},n.stage=e.stage||{},n}return(0,o.ZT)(e,t),e.prototype.addClip=function(t){t.animation&&this.removeClip(t),this._head?(this._tail.next=t,t.prev=this._tail,t.next=null,this._tail=t):this._head=this._tail=t,t.animation=this},e.prototype.addAnimator=function(t){t.animation=this;var e=t.getClip();e&&this.addClip(e)},e.prototype.removeClip=function(t){if(t.animation){var e=t.prev,n=t.next;e?e.next=n:this._head=n,n?n.prev=e:this._tail=e,t.next=t.prev=t.animation=null}},e.prototype.removeAnimator=function(t){var e=t.getClip();e&&this.removeClip(e),t.animation=null},e.prototype.update=function(t){for(var e=D()-this._pausedTime,n=e-this._time,i=this._head;i;){var r=i.next;i.step(e,n)?(i.ondestroy(),this.removeClip(i),i=r):i=r}this._time=e,t||(this.trigger("frame",n),this.stage.update&&this.stage.update())},e.prototype._startLoop=function(){var t=this;this._running=!0,(0,L.Z)((function e(){t._running&&((0,L.Z)(e),!t._paused&&t.update())}))},e.prototype.start=function(){this._running||(this._time=D(),this._pausedTime=0,this._startLoop())},e.prototype.stop=function(){this._running=!1},e.prototype.pause=function(){this._paused||(this._pauseStart=D(),this._paused=!0)},e.prototype.resume=function(){this._paused&&(this._pausedTime+=D()-this._pauseStart,this._paused=!1)},e.prototype.clear=function(){for(var t=this._head;t;){var e=t.next;t.prev=t.next=t.animation=null,t=e}this._head=this._tail=null},e.prototype.isFinished=function(){return null==this._head},e.prototype.animate=function(t,e){e=e||{},this.start();var n=new I.Z(t,e.loop);return this.addAnimator(n),n},e}(c.Z);var R,O,k=i.Z.domSupported,N=(O={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:R=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:r.UI(R,(function(t){var e=t.replace("mouse","pointer");return O.hasOwnProperty(e)?e:t}))}),z=["mousemove","mouseup"],B=["pointermove","pointerup"],F=!1;function U(t){var e=t.pointerType;return"pen"===e||"touch"===e}function H(t){t&&(t.zrByTouch=!0)}function V(t,e){for(var n=e,i=!1;n&&9!==n.nodeType&&!(i=n.domBelongToZr||n!==e&&n===t.painterRoot);)n=n.parentNode;return i}var G=function(t,e){this.stopPropagation=r.ZT,this.stopImmediatePropagation=r.ZT,this.preventDefault=r.ZT,this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY},j={mousedown:function(t){t=(0,u.OD)(this.dom,t),this.__mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=(0,u.OD)(this.dom,t);var e=this.__mayPointerCapture;!e||t.zrX===e[0]&&t.zrY===e[1]||this.__togglePointerCapture(!0),this.trigger("mousemove",t)},mouseup:function(t){t=(0,u.OD)(this.dom,t),this.__togglePointerCapture(!1),this.trigger("mouseup",t)},mouseout:function(t){V(this,(t=(0,u.OD)(this.dom,t)).toElement||t.relatedTarget)||(this.__pointerCapturing&&(t.zrEventControl="no_globalout"),this.trigger("mouseout",t))},wheel:function(t){F=!0,t=(0,u.OD)(this.dom,t),this.trigger("mousewheel",t)},mousewheel:function(t){F||(t=(0,u.OD)(this.dom,t),this.trigger("mousewheel",t))},touchstart:function(t){H(t=(0,u.OD)(this.dom,t)),this.__lastTouchMoment=new Date,this.handler.processGesture(t,"start"),j.mousemove.call(this,t),j.mousedown.call(this,t)},touchmove:function(t){H(t=(0,u.OD)(this.dom,t)),this.handler.processGesture(t,"change"),j.mousemove.call(this,t)},touchend:function(t){H(t=(0,u.OD)(this.dom,t)),this.handler.processGesture(t,"end"),j.mouseup.call(this,t),+new Date-+this.__lastTouchMoment<300&&j.click.call(this,t)},pointerdown:function(t){j.mousedown.call(this,t)},pointermove:function(t){U(t)||j.mousemove.call(this,t)},pointerup:function(t){j.mouseup.call(this,t)},pointerout:function(t){U(t)||j.mouseout.call(this,t)}};r.S6(["click","dblclick","contextmenu"],(function(t){j[t]=function(e){e=(0,u.OD)(this.dom,e),this.trigger(t,e)}}));var W={pointermove:function(t){U(t)||W.mousemove.call(this,t)},pointerup:function(t){W.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function Z(t,e,n,i){t.mounted[e]=n,t.listenerOpts[e]=i,(0,u.Oo)(t.domTarget,e,n,i)}function q(t){var e=t.mounted;for(var n in e)e.hasOwnProperty(n)&&(0,u.xg)(t.domTarget,n,e[n],t.listenerOpts[n]);t.mounted={}}var X=function(t,e){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=t,this.domHandlers=e};const Y=function(t){function e(e,n){var o,a,s,l=t.call(this)||this;return l.__pointerCapturing=!1,l.dom=e,l.painterRoot=n,l._localHandlerScope=new X(e,j),k&&(l._globalHandlerScope=new X(document,W)),o=l,a=l._localHandlerScope,s=a.domHandlers,i.Z.pointerEventsSupported?r.S6(N.pointer,(function(t){Z(a,t,(function(e){s[t].call(o,e)}))})):(i.Z.touchEventsSupported&&r.S6(N.touch,(function(t){Z(a,t,(function(e){s[t].call(o,e),function(t){t.touching=!0,null!=t.touchTimer&&(clearTimeout(t.touchTimer),t.touchTimer=null),t.touchTimer=setTimeout((function(){t.touching=!1,t.touchTimer=null}),700)}(a)}))})),r.S6(N.mouse,(function(t){Z(a,t,(function(e){e=(0,u.iP)(e),a.touching||s[t].call(o,e)}))}))),l}return(0,o.ZT)(e,t),e.prototype.dispose=function(){q(this._localHandlerScope),k&&q(this._globalHandlerScope)},e.prototype.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},e.prototype.__togglePointerCapture=function(t){if(this.__mayPointerCapture=null,k&&+this.__pointerCapturing^+t){this.__pointerCapturing=t;var e=this._globalHandlerScope;t?function(t,e){function n(n){Z(e,n,(function(i){i=(0,u.iP)(i),V(t,i.target)||(i=function(t,e){return(0,u.OD)(t.dom,new G(t,e),!0)}(t,i),e.domHandlers[n].call(t,i))}),{capture:!0})}i.Z.pointerEventsSupported?r.S6(B,n):i.Z.touchEventsSupported||r.S6(z,n)}(this,e):q(e)}},e}(c.Z);var J=n(1092),K=n(4990),$=n(8154),Q={},tt={},et=function(){function t(t,e,n){var o=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,n=n||{},this.dom=e,this.id=t;var a=new C,s=n.renderer||"canvas";Q[s]||(s=r.XP(Q)[0]),n.useDirtyRect=null!=n.useDirtyRect&&n.useDirtyRect;var l=new Q[s](e,a,n,t),c=n.ssr||l.ssrOnly;this.storage=a,this.painter=l;var u=i.Z.node||i.Z.worker||c?null:new Y(l.getViewportRoot(),l.root);this.handler=new w(a,l,u,l.root),this.animation=new P({stage:{update:c?null:function(){return o._flush(!0)}}}),c||this.animation.start()}return t.prototype.add=function(t){t&&(this.storage.addRoot(t),t.addSelfToZr(this),this.refresh())},t.prototype.remove=function(t){t&&(this.storage.delRoot(t),t.removeSelfFromZr(this),this.refresh())},t.prototype.configLayer=function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this.refresh()},t.prototype.setBackgroundColor=function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this.refresh(),this._backgroundColor=t,this._darkMode=function(t){if(!t)return!1;if("string"==typeof t)return(0,J.L0)(t,1)<K.Ak;if(t.colorStops){for(var e=t.colorStops,n=0,i=e.length,r=0;r<i;r++)n+=(0,J.L0)(e[r].color,1);return(n/=i)<K.Ak}return!1}(t)},t.prototype.getBackgroundColor=function(){return this._backgroundColor},t.prototype.setDarkMode=function(t){this._darkMode=t},t.prototype.isDarkMode=function(){return this._darkMode},t.prototype.refreshImmediately=function(t){t||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1},t.prototype.refresh=function(){this._needsRefresh=!0,this.animation.start()},t.prototype.flush=function(){this._flush(!1)},t.prototype._flush=function(t){var e,n=D();this._needsRefresh&&(e=!0,this.refreshImmediately(t)),this._needsRefreshHover&&(e=!0,this.refreshHoverImmediately());var i=D();e?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:i-n})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},t.prototype.setSleepAfterStill=function(t){this._sleepAfterStill=t},t.prototype.wakeUp=function(){this.animation.start(),this._stillFrameAccum=0},t.prototype.refreshHover=function(){this._needsRefreshHover=!0},t.prototype.refreshHoverImmediately=function(){this._needsRefreshHover=!1,this.painter.refreshHover&&"canvas"===this.painter.getType()&&this.painter.refreshHover()},t.prototype.resize=function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},t.prototype.clearAnimation=function(){this.animation.clear()},t.prototype.getWidth=function(){return this.painter.getWidth()},t.prototype.getHeight=function(){return this.painter.getHeight()},t.prototype.setCursorStyle=function(t){this.handler.setCursorStyle(t)},t.prototype.findHover=function(t,e){return this.handler.findHover(t,e)},t.prototype.on=function(t,e,n){return this.handler.on(t,e,n),this},t.prototype.off=function(t,e){this.handler.off(t,e)},t.prototype.trigger=function(t,e){this.handler.trigger(t,e)},t.prototype.clear=function(){for(var t=this.storage.getRoots(),e=0;e<t.length;e++)t[e]instanceof $.Z&&t[e].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()},t.prototype.dispose=function(){var t;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,t=this.id,delete tt[t]},t}();function nt(t,e){var n=new et(r.M8(),t,e);return tt[n.id]=n,n}function it(t,e){Q[t]=e}},4311:(t,e,n)=>{"use strict";n.d(e,{ZT:()=>r});var i=function(t,e){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},i(t,e)};function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}Object.create,Object.create},7950:(t,e,n)=>{"use strict";n.d(e,{Z:()=>E});const i=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)},r="object"==typeof global&&global&&global.Object===Object&&global;var o="object"==typeof self&&self&&self.Object===Object&&self;const a=r||o||Function("return this")(),s=function(){return a.Date.now()};var l=/\s/;var c=/^\s+/;const u=function(t){return t?t.slice(0,function(t){for(var e=t.length;e--&&l.test(t.charAt(e)););return e}(t)+1).replace(c,""):t},h=a.Symbol;var p=Object.prototype,d=p.hasOwnProperty,f=p.toString,m=h?h.toStringTag:void 0;var g=Object.prototype.toString;var v=h?h.toStringTag:void 0;const y=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":v&&v in Object(t)?function(t){var e=d.call(t,m),n=t[m];try{t[m]=void 0;var i=!0}catch(t){}var r=f.call(t);return i&&(e?t[m]=n:delete t[m]),r}(t):function(t){return g.call(t)}(t)};var _=/^[-+]0x[0-9a-f]+$/i,x=/^0b[01]+$/i,b=/^0o[0-7]+$/i,w=parseInt;const S=function(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return null!=t&&"object"==typeof t}(t)&&"[object Symbol]"==y(t)}(t))return NaN;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=u(t);var n=x.test(t);return n||b.test(t)?w(t.slice(2),n?2:8):_.test(t)?NaN:+t};var M=Math.max,T=Math.min;const E=function(t,e,n){var r=!0,o=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return i(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),function(t,e,n){var r,o,a,l,c,u,h=0,p=!1,d=!1,f=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function m(e){var n=r,i=o;return r=o=void 0,h=e,l=t.apply(i,n)}function g(t){return h=t,c=setTimeout(y,e),p?m(t):l}function v(t){var n=t-u;return void 0===u||n>=e||n<0||d&&t-h>=a}function y(){var t=s();if(v(t))return _(t);c=setTimeout(y,function(t){var n=e-(t-u);return d?T(n,a-(t-h)):n}(t))}function _(t){return c=void 0,f&&r?m(t):(r=o=void 0,l)}function x(){var t=s(),n=v(t);if(r=arguments,o=this,u=t,n){if(void 0===c)return g(u);if(d)return clearTimeout(c),c=setTimeout(y,e),m(u)}return void 0===c&&(c=setTimeout(y,e)),l}return e=S(e)||0,i(n)&&(p=!!n.leading,a=(d="maxWait"in n)?M(S(n.maxWait)||0,e):a,f="trailing"in n?!!n.trailing:f),x.cancel=function(){void 0!==c&&clearTimeout(c),h=0,r=u=o=c=void 0},x.flush=function(){return void 0===c?l:_(s())},x}(t,e,{leading:r,maxWait:e,trailing:o})}},9391:(t,e,n)=>{"use strict";function i(t){return{all:t=t||new Map,on:function(e,n){var i=t.get(e);i?i.push(n):t.set(e,[n])},off:function(e,n){var i=t.get(e);i&&(n?i.splice(i.indexOf(n)>>>0,1):t.set(e,[]))},emit:function(e,n){var i=t.get(e);i&&i.slice().map((function(t){t(n)})),(i=t.get("*"))&&i.slice().map((function(t){t(e,n)}))}}}n.d(e,{Z:()=>i})}}]);